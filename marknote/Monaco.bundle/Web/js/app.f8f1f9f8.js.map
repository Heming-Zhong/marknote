{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/muya/lib/assets/pngicon/format_math/2.png","webpack:///./src/muya/lib/assets/styles/sequence-diagram.css?06fa","webpack:///jsdom (ignored)","webpack:///./src/muya/lib/assets/pngicon/math/2.png","webpack:///./src/muya/lib/assets/pngicon/format_underline/2.png","webpack:///./src/muya/lib/ui/formatPicker/index.css?7d80","webpack:///./node_modules/moment-mini/locale sync ^\\.\\/.*$","webpack:///./src/muya/lib/assets/pngicon/format_link/2.png","webpack:///./src/muya/lib/assets/pngicon/bullet_list/2.png","webpack:///./src/muya/lib/assets/pngicon/heading_5/2.png","webpack:///./src/muya/lib/assets/pngicon/heading_4/2.png","webpack:///./src/muya/lib/ui/emojiPicker/index.css?8500","webpack:///./src/muya/lib/assets/pngicon/format_clear/2.png","webpack:///./src/muya/lib/ui/quickInsert/index.css?bf40","webpack:///./src/muya/lib/assets/pngicon/heading_6/2.png","webpack:///./src/muya/lib/assets/pngicon/format_strong/2.png","webpack:///./node_modules/prismjs/components lazy ^\\.\\/prism\\-.*$ namespace object","webpack:///./src/App.vue?308c","webpack:///./src/muya/lib/utils/index.js","webpack:///./src/muya/lib/config/index.js","webpack:///./src/muya/lib/selection/dom.js","webpack:///./src/muya/lib/selection/cursor.js","webpack:///./src/muya/lib/selection/index.js","webpack:///./src/muya/lib/parser/render/sequence.js","webpack:///./src/muya/lib/parser/render/snabbdom.js","webpack:///./src/muya/lib/parser/escapeCharacter.js","webpack:///./src/muya/lib/parser/rules.js","webpack:///./src/muya/lib/parser/render/renderInlines/backlashInToken.js","webpack:///./src/muya/lib/parser/render/renderInlines/backlash.js","webpack:///./src/muya/lib/parser/render/renderInlines/highlight.js","webpack:///./src/muya/lib/parser/render/renderInlines/header.js","webpack:///./src/muya/lib/parser/render/renderInlines/link.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlTag.js","webpack:///./src/muya/lib/parser/render/renderInlines/hr.js","webpack:///./src/muya/lib/parser/render/renderInlines/tailHeader.js","webpack:///./src/muya/lib/parser/render/renderInlines/hardLineBreak.js","webpack:///./src/muya/lib/parser/render/renderInlines/softLineBreak.js","webpack:///./src/muya/lib/parser/render/renderInlines/codeFense.js","webpack:///./src/muya/lib/parser/render/renderInlines/inlineMath.js","webpack:///./src/muya/lib/parser/render/renderInlines/autoLink.js","webpack:///./src/muya/lib/utils/domManipulate.js","webpack:///./src/muya/lib/parser/render/renderInlines/loadImageAsync.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlImage.js","webpack:///./src/muya/lib/parser/render/renderInlines/image.js","webpack:///./src/muya/lib/parser/render/renderInlines/delEmStringFactory.js","webpack:///./src/muya/lib/ui/emojis/index.js","webpack:///./src/muya/lib/parser/render/renderInlines/emoji.js","webpack:///./src/muya/lib/parser/render/renderInlines/inlineCode.js","webpack:///./src/muya/lib/parser/render/renderInlines/text.js","webpack:///./src/muya/lib/parser/render/renderInlines/del.js","webpack:///./src/muya/lib/parser/render/renderInlines/em.js","webpack:///./src/muya/lib/parser/render/renderInlines/strong.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlEscape.js","webpack:///./src/muya/lib/parser/render/renderInlines/multipleMath.js","webpack:///./src/muya/lib/parser/render/renderInlines/referenceDefinition.js","webpack:///./src/muya/lib/parser/render/renderInlines/htmlRuby.js","webpack:///./src/muya/lib/parser/render/renderInlines/referenceLink.js","webpack:///./src/muya/lib/parser/render/renderInlines/referenceImage.js","webpack:///./src/muya/lib/parser/render/renderInlines/index.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderBlock.js","webpack:///./src/muya/lib/prism/loadLanguage.js","webpack:///./src/muya/lib/prism/index.js","webpack:///./src/muya/lib/parser/utils.js","webpack:///./src/muya/lib/parser/index.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderLeafBlock.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderToolBar.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderContainerEditIcon.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderContainerBlock.js","webpack:///./src/muya/lib/parser/render/renderBlock/renderIcon.js","webpack:///./src/muya/lib/parser/render/renderBlock/index.js","webpack:///./src/muya/lib/parser/render/index.js","webpack:///./src/muya/lib/contentState/enterCtrl.js","webpack:///./src/muya/lib/contentState/updateCtrl.js","webpack:///./src/muya/lib/utils/getImageInfo.js","webpack:///./src/muya/lib/contentState/backspaceCtrl.js","webpack:///./src/muya/lib/contentState/deleteCtrl.js","webpack:///./src/muya/lib/contentState/codeBlockCtrl.js","webpack:///./src/muya/lib/contentState/tableBlockCtrl.js","webpack:///./src/muya/lib/contentState/selectionCtrl.js","webpack:///./src/muya/lib/contentState/history.js","webpack:///./src/muya/lib/contentState/arrowCtrl.js","webpack:///./src/muya/lib/contentState/pasteCtrl.js","webpack:///./src/muya/lib/parser/marked/options.js","webpack:///./src/muya/lib/parser/marked/utils.js","webpack:///./src/muya/lib/parser/marked/renderer.js","webpack:///./src/muya/lib/parser/marked/blockRules.js","webpack:///./src/muya/lib/parser/marked/lexer.js","webpack:///./src/muya/lib/parser/marked/inlineRules.js","webpack:///./src/muya/lib/parser/marked/inlineLexer.js","webpack:///./src/muya/lib/parser/marked/slugger.js","webpack:///./src/muya/lib/parser/marked/textRenderer.js","webpack:///./src/muya/lib/parser/marked/parser.js","webpack:///./src/muya/lib/parser/marked/index.js","webpack:///./src/muya/lib/utils/exportHtml.js","webpack:///./src/muya/lib/utils/exportMarkdown.js","webpack:///./src/muya/lib/contentState/copyCutCtrl.js","webpack:///./src/muya/lib/contentState/paragraphCtrl.js","webpack:///./src/muya/lib/contentState/tabCtrl.js","webpack:///./src/muya/lib/contentState/formatCtrl.js","webpack:///./src/muya/lib/contentState/searchCtrl.js","webpack:///./src/muya/lib/contentState/containerCtrl.js","webpack:///./src/muya/lib/contentState/htmlBlock.js","webpack:///./src/muya/lib/contentState/clickCtrl.js","webpack:///./src/muya/lib/contentState/inputCtrl.js","webpack:///./src/muya/lib/contentState/tocCtrl.js","webpack:///./src/muya/lib/contentState/emojiCtrl.js","webpack:///./src/muya/lib/contentState/imageCtrl.js","webpack:///./src/muya/lib/contentState/dragDropCtrl.js","webpack:///./src/muya/lib/utils/turndownService.js","webpack:///./src/muya/lib/utils/importMarkdown.js","webpack:///./src/muya/lib/contentState/index.js","webpack:///./src/muya/lib/eventHandler/event.js","webpack:///./src/muya/lib/eventHandler/clipboard.js","webpack:///./src/muya/lib/eventHandler/keyboard.js","webpack:///./src/muya/lib/eventHandler/dragDrop.js","webpack:///./src/muya/lib/eventHandler/clickEvent.js","webpack:///./src/muya/lib/ui/tooltip/index.js","webpack:///./src/muya/lib/index.js","webpack:///./src/muya/lib/ui/baseFloat/index.js","webpack:///./src/muya/lib/ui/tablePicker/index.js","webpack:///./src/muya/lib/ui/baseScrollFloat/index.js","webpack:///./src/muya/lib/ui/quickInsert/config.js","webpack:///./src/muya/lib/ui/quickInsert/index.js","webpack:///./src/muya/lib/ui/fileIcons/index.js","webpack:///./src/muya/lib/ui/codePicker/index.js","webpack:///./src/muya/lib/ui/emojiPicker/index.js","webpack:///./src/muya/lib/assets/icons/folder.svg","webpack:///./src/muya/lib/assets/icons/image.svg","webpack:///./src/muya/lib/assets/icons/upload.svg","webpack:///./src/muya/lib/ui/imagePicker/index.js","webpack:///./src/muya/lib/ui/imageSelector/index.js","webpack:///./src/muya/lib/ui/formatPicker/config.js","webpack:///./src/muya/lib/ui/formatPicker/index.js","webpack:///./src/muya/lib/ui/frontMenu/config.js","webpack:///./src/muya/lib/ui/frontMenu/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/muya/lib/assets/pngicon/turninto/2.png","webpack:///./src/muya/lib/ui/imageSelector/index.css?34e5","webpack:///./src/muya/lib/assets/pngicon/format_emphasis/2.png","webpack:///./src/muya/lib/assets/pngicon/horizontal_line/2.png","webpack:///./src/muya/lib/assets/pngicon/algin_center/algin_center@2x.png","webpack:///./src/muya/lib/assets/pngicon/algin_left/algin_left@2x.png","webpack:///./src/App.vue?4982","webpack:///./src/muya/lib/assets/pngicon/chart/2.png","webpack:///./src/muya/lib/ui/frontMenu/index.css?d36d","webpack:///./src/muya/lib/assets/pngicon/heading_3/2.png","webpack:///./src/muya/lib/assets/pngicon/image_fail/2.png","webpack:///./src/muya/lib/assets/libs/sequence-diagram.js","webpack:///./src/muya/lib/assets/styles/index.css?6bed","webpack:///./src/muya/lib/assets/pngicon/flowchart/2.png","webpack:///./src/muya/lib/assets/pngicon/html/2.png","webpack:///./src/muya/lib/ui/tooltip/index.css?cb40","webpack:///./src/muya/lib/assets/pngicon/sequence/2.png","webpack:///./src/muya/lib/assets/pngicon/format_image/2.png","webpack:///./src/muya/lib/assets/pngicon/front_matter/2.png","webpack:///./src/muya/lib/assets/pngicon/paragraph/2.png","webpack:///./src/muya/lib/assets/pngicon/format_strike/2.png","webpack:///./src/muya/lib/ui/codePicker/index.css?f17a","webpack:///./src/muya/lib/assets/pngicon/order_list/2.png","webpack:///./src/muya/lib/assets/pngicon/imageEdit/2.png","webpack:///./src/muya/lib/assets/pngicon/delete/delete@2x.png","webpack:///./src/muya/lib/assets/pngicon/quote_block/2.png","webpack:///./src/muya/lib/assets/pngicon/heading_1/2.png","webpack:///./src/muya/lib/assets/pngicon/code/2.png","webpack:///./src/muya/lib/assets/libs/webFontLoader.js","webpack:///./src/muya/lib/assets/pngicon/todolist/2.png","webpack:///./src/muya/lib/assets/pngicon/image/2.png","webpack:///./src/muya/lib/ui/imagePicker/index.css?1f3f","webpack:///./src/muya/themes/default.css?4f8b","webpack:///./src/muya/lib/ui/tablePicker/index.css?e954","webpack:///./src/assets/index.css?339a","webpack:///./src/muya/lib/assets/pngicon/heading_2/2.png","webpack:///./src/muya/lib/assets/pngicon/copy/2.png","webpack:///./src/muya/lib/assets/pngicon/new_table/2.png","webpack:///./src/muya/lib/ui/baseFloat/index.css?c78d","webpack:///./src/muya/lib/assets/pngicon/mermaid/2.png","webpack:///./src/muya/lib/assets/libs/raphael.js","webpack:///./src/muya/lib/assets/pngicon/algin_right/algin_right@2x.png","webpack:///./src/muya/lib/assets/pngicon/table/table@2x.png"],"names":["ID_PREFIX","id","getUniqueId","getLongUniqueId","Date","toString","isMetaKey","key","noop","identity","i","isOdd","number","Math","abs","isEven","isLengthEven","str","length","snakeToCamel","name","replace","p0","p1","toUpperCase","camelToSnake","_","p","toLowerCase","conflict","arr1","arr2","union","tStart","start","tEnd","end","lStart","lEnd","active","throttle","func","wait","context","args","result","timeout","previous","later","now","apply","remaining","arguments","clearTimeout","setTimeout","debounce","timer","deepCopyArray","array","len","Array","isArray","push","deepCopy","object","obj","Object","keys","forEach","loadImage","url","detectContentType","checkImageContentType","isImage","Error","Promise","resolve","reject","image","Image","onload","onerror","err","src","req","XMLHttpRequest","settle","promise","handler","readyState","DONE","status","contentType","getResponseHeader","test","handleError","open","onreadystatechange","send","getImageInfo","baseUrl","window","DIRNAME","EXT_REG","DATA_URL_REG","imageExtension","isUrl","URL_REG","isAbsoluteLocal","isInElectron","console","warn","isUnknownType","require","escapeHtml","html","unescapeHtml","text","escapeInBlockHtml","m","p2","p3","p4","wordCount","markdown","paragraph","split","filter","line","word","character","all","removedChinese","tokens","t","chineseWordLength","reduce","acc","genUpper2LowerKeyHash","value","assign","generateKeyHash","mixins","constructor","prototype","sanitize","options","DOMPurify","createDOMPurify","getParagraphReference","ele","getBoundingClientRect","x","y","left","top","bottom","height","width","right","clientWidth","clientHeight","verticalPositionInRect","event","rect","clientY","DEVICE_MEMORY","navigator","deviceMemory","UNDO_DEPTH","HAS_TEXT_BLOCK_REG","VOID_HTML_TAGS","voidHtmlTags","HTML_TAGS","htmlTags","BLOCK_TYPE1","BLOCK_TYPE2_REG","BLOCK_TYPE6","BLOCK_TYPE7","tag","find","IMAGE_EXT_REG","PARAGRAPH_TYPES","blockContainerElementNames","emptyElementNames","EVENT_KEYS","LOWERCASE_TAGS","CLASS_OR_ID","DAED_REMOVE_SELECTOR","Set","CURSOR_ANCHOR_DNA","CURSOR_FOCUS_DNA","DEFAULT_TURNDOWN_CONFIG","headingStyle","hr","bulletListMarker","codeBlockStyle","fence","emDelimiter","strongDelimiter","linkStyle","linkReferenceStyle","blankReplacement","content","node","classList","contains","LINE_BREAK","isBlock","FORMAT_MARKER_MAP","close","FORMAT_TYPES","PREVIEW_DOMPURIFY_CONFIG","FORBID_ATTR","ALLOW_DATA_ATTR","USE_PROFILES","svg","svgFilters","mathMl","EXPORT_DOMPURIFY_CONFIG","MUYA_DEFAULT_OPTION","focusMode","preferLooseListItem","autoPairBracket","autoPairMarkdownSyntax","autoPairQuote","orderListDelimiter","tabSize","listIndentation","sequenceTheme","mermaidTheme","vegaTheme","hideQuickInsertHint","imageAction","imagePathPicker","clipboardFilePath","imagePathAutoComplete","process","type","isOsx","platform","isWin","userAgent","SMALLEST_BASE64","isIOS","CHOP_TEXT_REG","getTextContent","blackList","nodeType","textContent","some","className","raw","getAttribute","imageContainer","querySelector","hasImg","childNodes","child","nodeName","n","getOffsetOfParagraph","offset","preSibling","previousSibling","parentNode","findNearestParagraph","isAganippeParagraph","findOutMostParagraph","isMuyaEditorElement","element","isBlockContainer","indexOf","traverseUp","current","testElementFunction","getFirstSelectableLeafNode","firstChild","el","table","firstCell","getClosestBlockContainer","getCursorPositionWithinMarkedText","markedText","cursorOffset","chunks","match","exec","index","leftSymbol","rightSymbol","lastIndex","chunk","info","compareParagraphsOrder","paragraph1","paragraph2","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","Cursor","anchor","focus","noHistory","anchorParagraph","document","focusParagraph","order","filterOnlyParentElements","NodeFilter","FILTER_ACCEPT","FILTER_SKIP","Selection","doc","contentWindow","selection","getSelection","range","rangeCount","getRangeAt","commonAncestorContainer","selectionState","root","favorLaterSelectionAnchor","createRange","setStart","collapse","nodeStack","charIndex","foundStart","foundEnd","trailingImageCount","stop","nextCharIndex","allowRangeToStartAtEndOfNode","lastTextNode","startsWithImage","emptyBlocksIndex","pop","setEnd","endIndex","importSelectionMoveCursorPastBlocks","importSelectionMoveCursorPastAnchor","selectRange","nodeInsideAnchorTagFunction","startContainer","startOffset","nodeValue","prevNode","currentNode","currentNodeIndex","treeWalker","createTreeWalker","SHOW_ELEMENT","startBlock","targetNode","currIndex","nextNode","sel","container","createElement","appendChild","cloneContents","innerHTML","getCaretOffsets","pre","slice","post","preCaretRange","postCaretRange","cloneRange","selectNodeContents","endContainer","endOffset","startNode","endNode","focusNode","focusOffset","extend","moveCursorToStart","collapseToStart","collapseToEnd","select","removeAllRanges","addRange","anchorNode","cursorRange","getNodeAndOffset","count","textLength","nextElementSibling","anchorOffset","min","setFocus","closest","isAnchorValid","isValidCursorNode","isFocusValid","needFix","noNeedBlur","editor","blur","aOffset","fOffset","previousElementSibling","imageWrapper","preElement","setCursorRange","getCursorCoords","lineHeight","parseFloat","getComputedStyle","topOffset","round","bottomOffset","getClientRects","rects","ELEMENT_NODE","rectX","rectY","Diagram","snabbdom","patch","init","default","h","toHTML","toVNode","htmlToVNode","wrapper","children","charachers","escapeCharacters","escapeCharactersMap","escapeCharacter","beginRules","inlineRules","RegExp","join","backlashInToken","backlashes","outerClass","token","highlights","light","selector","getHighlightClassName","backlash","cursor","block","getClassName","highlight","rStart","rEnd","unions","pos","un","u","substring","header","markerVnode","contentVnode","spaceSelector","link","linkClassName","firstMiddleBracket","firstBracket","middleBracket","first","hrefContent","hrefAndTitle","middleHref","lastBracket","firstBacklashStart","secondBacklashStart","second","props","href","encodeURI","target","title","to","htmlTag","openTag","closeTag","attrs","tagClassName","openContent","closeContent","htmlImage","htmlRuby","includes","data","dataset","class","classNames","attr","tailHeader","softLineBreak","spaces","lineBreak","isAtEnd","spaceClass","hardLineBreak","codeFense","marker","markerContent","displayMath","mathSelector","startMarker","endMarker","math","loadMathMap","displayMode","mathVnode","previewSelector","has","get","katex","renderToString","set","contenteditable","autoLink","operateClassName","ctrl","insertBefore","newNode","originNode","insertAfter","nextSibling","loadImageAsync","imageInfo","alt","imageClass","isSuccess","loadImageMap","then","imageText","img","add","oldImage","remove","urlMap","delete","catch","rawSrc","renderIcon","icon","iconVnode","style","background","selectedImage","muya","contentState","wrapperSelector","imageIcons","ImageIcon","ImageFailIcon","DeleteIcon","toolIcons","ImageEditIcon","renderImageContainer","imageId","startsWith","selectToken","delEmStrongFac","COMMON_MARKER","backlashStart","emojisForSearch","emojis","emoji","newEmoji","search","aliases","tags","category","validEmoji","checkEditEmoji","Emoji","cache","Map","list","clear","validation","finalClass","contentSelector","startMarkerSelector","endMarkerSelector","HIGHLIGHT_CLASSNAME","emojiVdom","inlineCode","del","em","strong","htmlEscape","multipleMath","referenceDefinition","leftBracket","label","titleMarker","rightTitleSpace","leftBracketContent","labelContent","middleContent","titleContent","rightContent","vNode","referenceLink","labelClass","isFullLink","MARKER","labels","anchorSelector","dataSet","middleMarker","lastMarker","inlineMath","referenceImage","renderBlock","activeBlocks","matches","useCache","method","peerDependentsMap","loadedCache","getPeerDependentsMap","languages","language","peerDependencies","peerDependency","getPeerDependents","mainLanguage","transfromAliasToOrigin","arr","lang","l","alias","initLoadLanguage","Prism","withoutDependencies","promises","transformedLangs","loadLanguages","results","dependents","dependent","prism","langs","map","a","loadLanguage","PUNCTUATION_REG","WHITELIST_ATTRIBUTES","UNICODE_WHITESPACE_REG","validWidthAndHeight","parseInt","lowerPriority","rules","ignoreIndex","rule","getAttributes","parser","DOMParser","parseFromString","firstElementChild","getAttributeNames","parseSrcAndTitle","parts","trim","rawTitle","TITLE_REG","canOpenEmphasis","pending","precededChar","charAt","followedChar","canCloseEmphasis","validateEmphasize","mLen","emphasizeText","SHORTER_REG","CLOSE_REG","disallowedHtmlTag","validateRules","tokenizerFac","pendingStartPos","pushPending","beginRuleList","ruleName","parent","def","rightBracket","leftHrefMarker","rightHrefMarker","leftTitlespace","backTo","emRules","inChunk","isValid","undefined","imageTo","imageSrc","srcAndTitle","linkTo","rLinkTo","rImageTo","htmlEscapeTo","htmlTo","autoLTo","softTo","input","hardTo","tailTo","tokenizer","hasBeginRules","postTokenizer","generator","MARKER_HASK","getHighlightHtml","escape","code","hasReferenceToken","travel","renderLeafBlock","getSelector","align","checked","functionType","editable","tokenCache","hasReferenceTokens","codeCache","htmlContent","imgs","documentElement","querySelectorAll","setAttribute","mermaid","parse","mermaidCache","diagramCache","transformedLang","highlightElement","highlightedCode","TABLE_TOOLS","TableIcon","AlignLeftIcon","AlignCenterIcon","AlignRightIcon","renderToolBar","tools","tool","tooltip","renderTableTools","renderEditIcon","htmlIcon","PRE_BLOCK_HASH","renderContainerBlock","listType","listItemType","bulletMarkerOrDelimiter","isLooseListItem","head","role","unshift","codeBlock","FUNCTION_TYPE_HASH","mermaidIcon","flowchartIcon","sequenceIcon","vegaIcon","newTableIcon","mathblockIcon","codeIcon","frontMatterIcon","error","paragraphIcon","todoListIcon","bulletListIcon","orderListIcon","quoteIcon","header1Icon","header2Icon","header3Icon","header4Icon","header5Icon","header6Icon","hrIcon","StateRender","eventCenter","blocks","c","b","tokenStart","tokenEnd","checkConflicted","selectedBlock","isActive","size","initialize","theme","from","RENDER_MAP","flowchart","vegaEmbed","entries","render","actions","renderer","diagram","drawSVG","JSON","newVdom","rootDom","oldVdom","renderMermaid","renderDiagram","startKey","endKey","cursorOutMostBlock","needRenderCursorBlock","newVnode","needToRemoved","firstOldDom","insertAdjacentHTML","dom","cursorDom","oldCursorVnode","newCursorVnode","renderInlines","checkAutoIndent","pairStr","getIndentSpace","enterCtrl","ContentState","chopBlockByCursor","newBlock","createBlock","findIndex","activeLine","getBlock","splice","removeBlock","prependChild","newLine","chopBlock","getParent","partChildren","createRow","row","trBlock","tdBlock","preChild","column","createBlockLi","paragraphInListItem","liBlock","createBlockP","createTaskItemBlock","listItem","checkboxInListItem","enterInEmptyParagraph","isOnlyChild","isFirstChild","isLastChild","blocksInListItem","partialRender","docEnterHandler","preventDefault","stopPropagation","reference","dispatch","cb","enterHandler","getCursorRange","endBlock","updateCodeLanguage","startRemainText","endRemainText","removeBlocks","shiftKey","indent","newLineText","autoIndent","emptyLine","repeat","brTag","getFirstBlockInNextRow","rowContainer","figure","firstInDescendant","metaKey","ctrlKey","nextRow","tBody","chopHtmlByCursor","PREFIX","headerContent","lastLine","getParagraphBlock","codeBlockUpdate","preParagraphBlock","blockNeedFocus","tableNeedFocus","tableBlockUpdate","htmlNeedFocus","updateHtmlBlock","mathNeedFocus","updateMathBlock","cursorBlock","INLINE_UPDATE_FRAGMENTS","INLINE_UPDATE_REG","updateCtrl","listItemCheckBoxClick","checkbox","toggle","checkSameMarkerOrDelimiter","markerOrDelimiter","checkNeedRender","stateRender","cStart","cEnd","NO_NEED_TOKEN_REG","textLen","max","checkInlineUpdate","bullet","tasklist","atxHeader","setextHeader","blockquote","indentCode","updateHr","updateList","updateTaskListItem","updateAtxHeader","updateSetextHeader","updateBlockQuote","updateIndentCode","updateToParagraph","lines","preParagraphLines","thematicLine","postParagraphLines","thematicLineHasPushed","thematicBlock","thematicLineBlock","preBlock","postBlock","cleanMarker","wrapperTag","newListItemBlock","LIST_ITEM_REG","listItemLines","isPushedListItemLine","pBlock","getPreSibling","getNextSibling","listBlock","TASK_LIST_REG","listItemText","delta","grandpa","taskListWrapper","bulletListWrapper","newType","atxLine","atxLineHasPushed","atxBlock","atxLineBlock","setextLines","setextLineHasPushed","setextBlock","setextLineBlock","quoteLines","quoteLinesHasPushed","trimStart","quoteParagraphBlock","quoteBlock","inputBlock","codeLines","paragraphLines","canBeCodeLine","codeLine","backspaceCtrl","checkBackspaceCase","getSelectionStart","outMostParagraph","outBlock","findOutMostBlock","outLeft","inLeft","docBackspaceHandler","deleteImage","backspaceHandler","maybeLastRow","startOutmostBlock","endOutmostBlock","needRender","preToken","substr","figureBlock","findFigure","preEleSibling","findPreBlockInLocation","inlineDegrade","selectImage","singleRender","tableHasContent","tHead","tHeadHasContent","th","tBodyHasContent","td","lineBlock","referenceBlock","hasContent","parPre","deleteCtrl","deleteHandler","nextBlock","findNextBlockInLocation","toBeRemoved","isOnlyRemoveableChild","CODE_UPDATE_REP","codeBlockCtrl","checkEditLanguage","selectLanguage","firstLine","history","TABLE_BLOCK_REG","tableBlockCtrl","createTableInFigure","headerTexts","rows","columns","j","rowBlock","cell","getAnchor","createFigure","createTable","tableChecker","selectionChanges","selectionChange","initTable","rowHeader","char","tableToolBarClick","getTable","newAlign","figureKey","tableLable","oldRow","oldColumn","headerRow","bodyRows","bodyRow","lastChild","lastRow","oneRowInBody","bind","editTable","location","action","currentRow","thead","tbody","columnIndex","isHeader","tr","newRow","firstRow","headRow","preRow","tableRow","targetCell","removeCell","newColum","getTableBlock","startParents","getParents","endParents","affiliation","selectionCtrl","getTableFromTableCell","tableCellHandler","startType","endType","startTable","endTable","firstTableCell","lastTableCell","lastInDescendant","History","stack","state","renderRange","copyState","shift","adjustOffset","ArrowDown","arrowCtrl","findNextRowCell","findPrevRowCell","rowIndex","docArrowHandler","ArrowUp","ArrowLeft","ArrowRight","arrowHandler","getCursorYOffset","activeBlock","cellInNextRow","cellInPrevRow","lastBlock","LIST_REG","LINE_BREAKS_REG","pasteCtrl","checkPasteType","fragment","fragmentType","checkCopyType","standardizeHTML","sanitizedHtml","tempWrapper","tables","tagName","replaceWith","paragraphs","span","pasteImage","imagePath","replaceImage","insertImage","nSrc","getImageSrc","items","clipboardData","file","getAsFile","reader","FileReader","base64","readAsDataURL","docPasteHandler","pasteHandler","rawText","rawHtml","getData","copyType","cutHandler","appendHtml","oldLanguageLength","prePartText","postPartText","blockText","textList","pendingText","htmlBlock","insertHtmlBlock","stateFragments","markdownToState","html2State","cacheText","firstFragment","tailFragments","pasteType","getLastBlock","listItems","firstListItem","liChildren","originListItem","originList","targetListType","originListType","item","tail","firstFragmentTail","breaks","gfm","frontMatter","headerIds","headerPrefix","mathRenderer","emojiRenderer","langPrefix","mangle","pedantic","sanitizer","silent","smartLists","smartypants","xhtml","disableInline","encode","escapeTest","escapeReplace","ch","replacements","escapeTestNoEncode","escapeReplaceNoEncode","unescape","String","fromCharCode","edit","regex","opt","source","val","getRegex","cleanUrl","base","prot","decodeURIComponent","e","originIndependentUrl","resolveUrl","baseUrls","rtrim","splitCells","escaped","curr","cells","invert","suffLen","currChar","findClosingBracket","level","Renderer","defaultOptions","frontmatter","multiplemath","output","infostring","out","quote","heading","slugger","slug","body","ordered","taskList","startatt","listitem","tablerow","tablecell","flags","codespan","br","newline","fences","nptable","lheading","_label","_title","_tag","_comment","normal","Lexer","opts","links","create","lex","checkFrontmatter","loose","cap","bull","space","lastToken","trimRight","depth","isOrdered","next","prevNext","listItemIndices","isTaskList","itemWithBullet","newIsTaskListItem","newBull","newIsOrdered","prevItem","isOrderedListItem","endsWith","precededToken","chops","charCodeAt","inline","autolink","reflink","nolink","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","InlineLexer","highPriorityEmpRules","highPriorityLinkRules","prevCapZero","lastChar","inLink","inRawBlock","lastParenIndex","linkLen","outputLink","escapes","random","Slugger","seen","hasOwnProperty","originalSlug","TextRenderer","Parser","inlineText","reverse","tok","peek","parseText","errMsg","marked","call","message","getSanitizeHtml","DIAGRAM_TYPE","ExportHtml","mathRendererCalled","exportContainer","codes","preEle","mermaidContainer","rawCode","preParent","diagramContainer","log","grammar","validate","pathes","path","outerHTML","printOptimization","extraCss","highlightCssStyle","highlightCss","renderHtml","katexCssStyle","katexCss","githubMarkdownCss","ExportMarkdown","isLooseParentList","listIndentationCount","translateBlocks2Markdown","listIndent","lastListBullet","insertLineBreak","normalizeParagraphText","normalizeHeaderText","normalizeTable","normalizeHTML","normalizeMultipleMath","normalizeContainer","insertNewLine","normalizeListItem","normalizeList","listCount","normalizeFrontMatter","normalizeCodeBlock","normalizeBlockquote","atxHeadingText","newIndent","diagramType","tableData","tHeader","columnWidth","r","rs","cutOff","listInfo","isUnorderedList","itemMarker","delimiter","copyCutCtrl","getClipBoradData","getSelectionHtml","removedElements","images","originSrc","sSrc","tSrc","hrs","headers","inlineRuleElements","aLinks","codefense","cf","selectedCodeLines","tightListItem","li","childElementCount","replaceChild","hb","lineBreaks","mathBlock","mb","htmlData","textData","htmlToMarkdown","copyHandler","setData","generate","getCurrentLevel","Number","paragraphCtrl","cursorCoords","getCommonParent","startParentKeys","endParentKeys","startIndex","handleFrontMatter","firstBlock","handleListMenu","paraType","insertMode","blockType","isListed","itemParagraph","oldListType","listItemParagraph","referBlock","listWrapper","handleLooseListItem","listContainer","handleCodeBlockMenu","hasFencedCodeBlockParent","newParagraphBlock","startStop","endStop","anchorBlock","removeCache","handleQuoteMenu","isBlockQuote","insertContainerBlock","containerBlock","createContainerBlock","showTablePicker","getPositionReference","initHtmlBlock","updateParagraph","hash","partText","newLevel","currentLevel","newText","archor","hrBlock","thematicContent","insertParagraph","outMost","getPreBlock","duplicate","copiedBlock","copyBlock","deleteParagraph","selectAll","firstCodeLine","lastCodeLine","firstTextBlock","getFirstBlock","lastTextBlock","parseSelector","REG_EXP","isVoid","BOTH_SIDES_FORMATS","tabCtrl","findNextCell","tbOrTh","isUnindentableListItem","listParent","isCollapse","isIndentableListItem","unindentListItem","newList","temp","indentListItem","prevListItem","getLastChild","insertTab","tabCharacter","checkCursorAtEndFormat","walkTokens","tkns","linkTitleLen","secondLashLen","labelLen","tabHandler","unindentType","atEnd","lastWordBeforeCursor","preText","postText","nextCell","getOffset","dis","MARKER_LEN","OPEN_MARKER_LEN","CLOSE_MARKER_LEN","clearFormat","deltaStart","delata","delataEnd","addFormat","oldText","anchorTextLen","checkTokenIsInlineFormat","formatCtrl","selectionFormats","formats","neighbors","iterator","tks","clearBlockFormat","neighbor","format","currentFormats","currentNeightbors","requestAnimationFrame","formatType","defaultSearchOption","caseSensitive","selectHighlight","highlightIndex","searchCtrl","replaceOne","replaceValue","isSingle","searchMatches","setCursorToHighlight","FUNCTION_TYPE_LANG","containerCtrl","createPreAndPreview","preview","initContainerBlock","handleContainerBlockClick","HTML_BLOCK_REG","createHtmlBlock","html_tag","isVoidTag","clickCtrl","clickHandler","archorParagraph","needToInsertNewParagraph","paragraphBlock","oldStart","oldEnd","hasSameParent","startOutBlock","endOutBlock","currentBlock","frontIcon","outmostBlock","inlineNode","hasAttribute","oldBlock","needMarkedUpdate","BRACKET_HASH","BACK_HASH","inputCtrl","checkQuickInsert","checkCursorInInlineMath","checkNotSameToken","oldTokens","oldCache","inputHandler","needRenderAll","inputChar","preInputChar","prePreInputChar","postInputChar","inputType","deletedChar","isInInlineMath","checkMarkedUpdate","inlineUpdatedBlock","tocCtrl","getTOC","toc","lvl","emojiCtrl","setEmoji","findEmojiToken","emojiText","imageCtrl","imageFormat","f","imgUrl","imageAlt","GHOST_ID","GHOST_HEIGHT","dragDropCtrl","hideGhost","dropAnchor","ghost","createGhost","nearestParagraph","outmostParagraph","position","dragoverHandler","dataTransfer","types","dropEffect","hasUriItem","hasTextItem","hasHtmlItem","dragleaveHandler","dropHandler","kind","getAsString","imageBlock","files","fileList","turndownPluginGfm","usePluginAddRules","turndownService","use","addRule","replacement","TurndownService","turnSoftBreakToSpan","startLen","endLen","params","createTextNode","softBreak","importRegister","rootState","parentList","languageLoaded","thematicBreakContent","headingContent","infoList","theadRow","restoreTableEscapeCharacters","headText","contentBlock","turndownConfig","turndown","getCodeMirrorCursor","getBlocks","focusBlock","anchorText","focusText","minOffset","maxOffset","firstTextPart","secondTextPart","thirdTextPart","ach","fch","addCursorToMarkdown","importCursor","hasCursor","importMarkdown","prototypes","htmlBlockCtrl","exemption","currentCursor","_selectedImage","prevCursor","historyTimer","fontSize","oldSelectedImage","selectedImages","startOutMostBlock","endOutMostBlock","isRenderCursor","getActiveBlocks","setNextRenderRange","collectLabels","setCursor","postRender","needRenderBlocks","extras","blockData","origin","preB","nextB","isInclude","checkerIn","checkerOut","removeTextOrBlock","before","after","isRemoveAfter","isRecursion","beforeEnd","afterEnd","removeAfter","fromBlocks","siblings","oldNextSibling","oldPreSibling","blockList","clearHistory","EventCenter","events","listeners","listener","capture","checkHasBind","eventId","addEventListener","removeEvent","removeEventListener","detachDOMEvent","once","_subscribe","eventListener","unsubscribe","cTarget","cEvent","cListener","cCapture","Clipboard","_copyType","_pasteType","listen","copyCutHandler","dispatchChange","attachDOMEvent","execCommand","Keyboard","isComposed","shownFloat","recordIsComposed","dispatchEditorState","keydownBinding","keyupBinding","inputBinding","subscribe","seletedParagraph","hide","changeHandler","docHandler","Enter","Space","Backspace","Escape","Tab","needPreventDefault","Delete","emojiNode","oldAnchor","oldFocus","DragDrop","dragOverBinding","dropBinding","dragendBinding","ClickEvent","clickBinding","contextClickBingding","nextTextBlock","sectionChanges","toolItem","getToolItem","grandPa","markedImageText","mathRender","rubyRender","imageTurnInto","imageDelete","mathText","rubyText","selectionText","editIcon","importSelection","offsetWidth","Tooltip","WeakMap","mouseOver","toolTipTarget","tooltipEle","setInterval","mouseLeave","clearInterval","Muya","getMarkdown","getWordCount","getCursor","getHistory","getContainer","ToolTip","plugins","Plugin","pluginName","clipboard","clickEvent","keyboard","dragdrop","setContainer","setMarkdown","setFocusMode","mutationObserver","config","childList","subtree","callback","mutationsList","observer","mutation","removedNodes","hasTable","lineRemovedUnExpected","MutationObserver","observe","setHistory","newMarkdown","bool","activeElement","subscribeOnce","undo","redo","hasFocus","copyAsMarkdown","copyAsHtml","pasteAsPlainText","copy","hasClass","hideAllFloatTools","quickInsert","destroy","codePicker","tablePicker","emojiPicker","detachAllDomEvents","plugin","originContainer","attributes","placement","modifiers","showArrow","BaseFloat","floatBox","popper","lastScrollTop","arrow","erd","resezeDetector","strategy","listenTo","offsetHeight","update","keydownHandler","scrollHandler","scrollTop","Popper","TablePicker","checkerCount","oldVnode","tableContainer","show","cRow","cColumn","sRow","sColumn","tableRows","rowSelector","cellSelector","on","mouseenter","click","selectItem","tableFooter","keyup","keyupHandler","vnode","BaseScrollFloat","scrollElement","activeItem","createScrollElement","scrollIntoView","behavior","step","HTMLElement","direction","renderArray","activeEle","getItemElement","activeEleScrollIntoView","COMMAND_KEY","quicInsertObj","subTitle","shortCut","QuickInsert","_renderObj","renderObj","titleVnode","description","shortCutVnode","canInserFrontMatter","fileIcons","CodePicker","modes","iconClassNames","ext","getClassWithColor","iconSelector","s","EmojiPicker","iconhash","FolderIcon","UploadIcon","ImagePathPicker","iconClass","viewBox","hook","prepatch","oldvnode","elm","textEle","ImageSelector","tab","isFullMode","imageSelectorContainer","handleLinkButtonClick","newValue","setSelectionRange","replaceImageAsync","oldAlt","oldSrc","oldTitle","localPath","tabs","itemSelector","tabClick","bodyContent","handleSelectButtonClick","altInput","placeholder","paste","keydown","handleKeyDown","srcInput","srcInputKeyDown","handleKeyUp","titleInput","inputWrapper","embedButton","bottomDes","toggleMode","renderHeader","renderBody","icons","strongIcon","emphasisIcon","underlineIcon","strikeIcon","mathIcon","linkIcon","imageIcon","clearIcon","FormatPicker","formatContainer","iconWrapperSelector","iconWrapper","wholeSubMenu","menu","copyIcon","turnIcon","newIcon","deleteIcon","getLabel","getSubMenu","menuItem","MAX_SUBMENU_HEIGHT","ITEM_HEIGHT","PADDING","FrontMenu","frontMenuContainer","overflow","subMenu","windowHeight","textWrapper","shortCutWrapper","subMenuSelector","itemChildren","renderSubMenu","Vue","productionTip","App","$mount","actors","signals","getActor","Actor","getActorWithAlias","setTitle","addSignal","signal","Signal","actorA","signaltype","actorB","linetype","arrowtype","isSelf","Note","actor","hasManyActors","LINETYPE","SOLID","DOTTED","ARROWTYPE","FILLED","OPEN","PLACEMENT","LEFTOF","RIGHTOF","OVER","getPrototypeOf","__proto__","yy","o","k","v","$V0","$V1","$V2","$V3","trace","symbols_","EOF","statement","NL","participant","actor_alias","note_statement","note","over","actor_pair","left_of","right_of","ACTOR","LINE","DOTLINE","ARROW","OPENARROW","MESSAGE","$accept","$end","terminals_","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","defaultActions","parseError","recoverable","lexer","self","vstack","lstack","recovering","TERROR","sharedState","setInput","yylloc","yyloc","ranges","symbol","preErrorSymbol","newState","expected","yyval","errStr","showPosition","loc","first_line","last_line","first_column","last_column","concat","_input","_more","_backtrack","done","matched","conditionStack","unput","oldLines","more","backtrack_lexer","less","pastInput","past","upcomingInput","test_match","indexed_rule","backup","tempMatch","_currentRules","flex","begin","condition","popState","conditions","INITIAL","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","inclusive","exports","main","exit","readFileSync","normalize","module","argv","ParseError","DIAGRAM_MARGIN","ACTOR_MARGIN","ACTOR_PADDING","SIGNAL_MARGIN","SIGNAL_PADDING","NOTE_MARGIN","NOTE_PADDING","NOTE_OVERLAP","TITLE_MARGIN","TITLE_PADDING","SELF_SIGNAL_WIDTH","ALIGN_LEFT","ALIGN_CENTER","AssertException","assert","exp","themes","registerTheme","getCenterX","box","getCenterY","clamp","wobble","x1","y1","x2","y2","every","isFinite","factor","sqrt","r1","r2","xfactor","yfactor","toFixed","handRect","w","handLine","BaseTheme","actorsHeight_","signalsHeight_","title_","setupPaper","draw","layout","titleHeight","drawTitle","drawActors","drawSignals","font","font_","bb","textBBox","textBB","each","distances","paddingRight","actorEnsureDistance","d","extraWidth","actorsX","distance","drawTextBox","offsetY","drawActor","aX","drawLine","drawSelfSignal","drawSignal","drawNote","drawText","bX","overlap","margin","padding","drawRect","Snap","xmlns","RECT","LOADED_FONTS","SnapTheme","resume","defaults","paper_","cssClass_","arrowTypes_","lineTypes_","that","waitForFont","fontFamily","WebFont","load","custom","families","classes","inactive","addDescription","desc","createElementNS","addClass","beginGroup","arrowMarkers_","markerWidth","createText","getBBox","pushToStack","_stack","finishGroup","g","group","dy","arrowhead","SnapHandTheme","Raphael","fn","RaphaelTheme","setFinish","setSize","cleanText","obj_","print","paper","RaphaelHandTheme","getFont","registerFont","isEmpty","hand","snapHand","raphaelHand","simple","snapSimple","raphaelSimple","div","isString","getElementById","Theme","drawing","aa","ba","Function","q","ca","da","FontFace","cssText","getElementsByTagName","removeChild","ea","hostname","z","rel","media","A","B","C","D","E","F","G","fa","H","I","J","ga","ha","ia","K","L","ja","ka","M","N","O","P","fonts","race","Q","R","S","T","serif","U","la","V","ma","W","X","na","oa","pa","qa","xa","vendor","ra","fontfamily","fontStyle","fontWeight","projectId","version","api","sa","urls","testStrings","ta","ua","va","wa","encodeURIComponent","ya","za","latin","cyrillic","greek","khmer","Hanuman","Aa","thin","extralight","ultralight","regular","book","medium","semibold","demibold","bold","extrabold","ultrabold","black","heavy","Ba","italic","Ca","Da","isNaN","Ea","Fa","Arimo","Cousine","Tinos","Ga","Typekit","async","Ha","__webfontfontdeckmodule__","weight","Y","fontdeck","monotype","typekit","google","Z","define","WebFontConfig","webpackUniversalModuleDefinition","factory","modules","installedModules","__webpack_require__","moduleId","getter","defineProperty","configurable","enumerable","__esModule","getDefault","getModuleExports","property","eval"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,6CAA6C,6BAA6B,goaAAgoa;QAC1sa;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,0CAA0C,oBAAoB,WAAW;;QAEzE;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;;;;;;;;;;;;;AC5NA;AAAA;AAAA;;;;;;;;ACAA,iCAAiC,gwD;;;;;;;ACAjC,uC;;;;;;;ACAA,e;;;;;;;ACAA,iCAAiC,wwD;;;;;;;ACAjC,iCAAiC,43B;;;;;;;ACAjC,uC;;;;;;;ACAA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;ACvBA,iCAAiC,ohE;;;;;;;ACAjC,iCAAiC,4Y;;;;;;;ACAjC,iCAAiC,whC;;;;;;;ACAjC,iCAAiC,42B;;;;;;;ACAjC,uC;;;;;;;ACAA,iCAAiC,o2C;;;;;;;ACAjC,uC;;;;;;;ACAA,iCAAiC,wkC;;;;;;;ACAjC,iCAAiC,o/B;;;;;;;ACAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5wHA,IAAI,uCAAM,gBAAgB,aAAa,0BAA0B,wBAAwB,iBAAiB,OAAO,YAAY,YAAY,oBAAoB,aAAa;AAC1K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AAEA,IAAMA,SAAS,GAAG,KAAlB;AACA,IAAIC,QAAE,GAAG,CAAT;AACO,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,mBAASF,SAAT,SAAqBC,QAAE,EAAvB;AAAA,CAApB;AAEA,IAAME,eAAe,GAAG,SAAlBA,eAAkB;AAAA,mBAASD,WAAW,EAApB,cAA0B,CAAC,CAAC,IAAIE,IAAJ,EAAF,EAAcC,QAAd,CAAuB,EAAvB,CAA1B;AAAA,CAAxB;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA,MAAGC,GAAH,QAAGA,GAAH;AAAA,SAAaA,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,SAA3B,IAAwCA,GAAG,KAAK,KAAhD,IAAyDA,GAAG,KAAK,MAA9E;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AAE,CADU;AAElBC,MAAI,EAAE;AAFY,CAApB;AAKA5jD,OAAO,CAAC6jD,SAAR,GAAoB;AAClBC,QAAM,EAAE,CADU;AAElBC,SAAO,EAAE,CAFS;AAGlBC,MAAI,EAAE;AAHY,CAApB,C,CAMA;AACA;AACA;AACA;;AACA,IAAI,OAAOl6D,MAAM,CAACm6D,cAAd,KAAiC,UAArC,EAAiD;AAC/C;AACA,MAAI,+JAAO,OAAOC,SAAd,MAA4B,QAAhC,EAA0C;AACxCp6D,UAAM,CAACm6D,cAAP,GAAwB,UAASr6D,MAAT,EAAiB;AACvC,aAAOA,MAAM,CAACs6D,SAAd;AACD,KAFD;AAGD,GAJD,MAIO;AACLp6D,UAAM,CAACm6D,cAAP,GAAwB,UAASr6D,MAAT,EAAiB;AACvC;AACA,aAAOA,MAAM,CAAC+E,WAAP,CAAmBC,SAA1B;AACD,KAHD;AAID;AACD;;AACD;AAED;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIqgB,MAAM,GAAG,YAAW;AACpB,WAAS+oB,MAAT,GAAkB;AACd,SAAKmsB,EAAL,GAAU,EAAV;AACH;;AACD,MAAIC,CAAC,GAAG,WAASC,CAAT,EAAYC,CAAZ,EAAeF,EAAf,EAAkB72C,CAAlB,EAAqB;AACzB,SAAK62C,EAAC,GAAGA,EAAC,IAAI,EAAT,EAAa72C,CAAC,GAAG82C,CAAC,CAACv9D,MAAxB,EAAgCymB,CAAC,EAAjC,EAAqC62C,EAAC,CAACC,CAAC,CAAC92C,CAAD,CAAF,CAAD,GAAU+2C,CAA/C;AAAkD;AAAlD;;AACA,WAAOF,EAAP;AACH,GAHD;AAAA,MAGGG,GAAG,GAAG,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,CAHT;AAAA,MAGkCC,GAAG,GAAG,CAAE,CAAF,EAAK,EAAL,CAHxC;AAAA,MAGmDC,GAAG,GAAG,CAAE,CAAF,EAAK,EAAL,CAHzD;AAAA,MAGoEC,GAAG,GAAG,CAAE,EAAF,EAAM,EAAN,EAAU,EAAV,CAH1E;AAAA,MAG0Fz1C,MAAM,GAAG;AAC/F01C,SAAK,EAAE,iBAAW,CAAE,CAD2E;AAE/FR,MAAE,EAAE,EAF2F;AAG/FS,YAAQ,EAAE;AACNzuC,WAAK,EAAE,CADD;AAENruB,WAAK,EAAE,CAFD;AAGN+Q,cAAQ,EAAE,CAHJ;AAINgsD,SAAG,EAAE,CAJC;AAKNj3D,UAAI,EAAE,CALA;AAMNk3D,eAAS,EAAE,CANL;AAONC,QAAE,EAAE,CAPE;AAQNC,iBAAW,EAAE,CARP;AASNC,iBAAW,EAAE,EATP;AAUNrC,YAAM,EAAE,EAVF;AAWNsC,oBAAc,EAAE,EAXV;AAYNthD,WAAK,EAAE,EAZD;AAaN60B,aAAO,EAAE,EAbH;AAcN0sB,UAAI,EAAE,EAdA;AAeNvM,eAAS,EAAE,EAfL;AAgBNyK,WAAK,EAAE,EAhBD;AAiBN+B,UAAI,EAAE,EAjBA;AAkBNC,gBAAU,EAAE,EAlBN;AAmBN,WAAK,EAnBC;AAoBNC,aAAO,EAAE,EApBH;AAqBNC,cAAQ,EAAE,EArBJ;AAsBNxC,gBAAU,EAAE,EAtBN;AAuBNyC,WAAK,EAAE,EAvBD;AAwBNvC,cAAQ,EAAE,EAxBJ;AAyBNC,eAAS,EAAE,EAzBL;AA0BNuC,UAAI,EAAE,EA1BA;AA2BNC,aAAO,EAAE,EA3BH;AA4BNC,WAAK,EAAE,EA5BD;AA6BNC,eAAS,EAAE,EA7BL;AA8BNC,aAAO,EAAE,EA9BH;AA+BNC,aAAO,EAAE,CA/BH;AAgCNC,UAAI,EAAE;AAhCA,KAHqF;AAqC/FC,cAAU,EAAE;AACR,SAAG,OADK;AAER,SAAG,KAFK;AAGR,SAAG,IAHK;AAIR,SAAG,aAJK;AAKR,UAAI,OALI;AAMR,UAAI,MANI;AAOR,UAAI,MAPI;AAQR,UAAI,GARI;AASR,UAAI,SATI;AAUR,UAAI,UAVI;AAWR,UAAI,OAXI;AAYR,UAAI,MAZI;AAaR,UAAI,SAbI;AAcR,UAAI,OAdI;AAeR,UAAI,WAfI;AAgBR,UAAI;AAhBI,KArCmF;AAuD/FC,gBAAY,EAAE,CAAE,CAAF,EAAK,CAAE,CAAF,EAAK,CAAL,CAAL,EAAe,CAAE,CAAF,EAAK,CAAL,CAAf,EAAyB,CAAE,CAAF,EAAK,CAAL,CAAzB,EAAmC,CAAE,CAAF,EAAK,CAAL,CAAnC,EAA6C,CAAE,CAAF,EAAK,CAAL,CAA7C,EAAuD,CAAE,CAAF,EAAK,CAAL,CAAvD,EAAiE,CAAE,CAAF,EAAK,CAAL,CAAjE,EAA2E,CAAE,CAAF,EAAK,CAAL,CAA3E,EAAqF,CAAE,CAAF,EAAK,CAAL,CAArF,EAA+F,CAAE,EAAF,EAAM,CAAN,CAA/F,EAA0G,CAAE,EAAF,EAAM,CAAN,CAA1G,EAAqH,CAAE,EAAF,EAAM,CAAN,CAArH,EAAgI,CAAE,EAAF,EAAM,CAAN,CAAhI,EAA2I,CAAE,EAAF,EAAM,CAAN,CAA3I,EAAsJ,CAAE,EAAF,EAAM,CAAN,CAAtJ,EAAiK,CAAE,EAAF,EAAM,CAAN,CAAjK,EAA4K,CAAE,EAAF,EAAM,CAAN,CAA5K,EAAuL,CAAE,EAAF,EAAM,CAAN,CAAvL,EAAkM,CAAE,EAAF,EAAM,CAAN,CAAlM,EAA6M,CAAE,EAAF,EAAM,CAAN,CAA7M,EAAwN,CAAE,EAAF,EAAM,CAAN,CAAxN,EAAmO,CAAE,EAAF,EAAM,CAAN,CAAnO,EAA8O,CAAE,EAAF,EAAM,CAAN,CAA9O,EAAyP,CAAE,EAAF,EAAM,CAAN,CAAzP,EAAoQ,CAAE,EAAF,EAAM,CAAN,CAApQ,CAvDiF;AAwD/FC,iBAAa,EAAE,uBAASC,MAAT,EAAiBC,MAAjB,EAAyBC,QAAzB,EAAmClC,EAAnC,EAAuCmC,OAAvC,EAAgDC,EAAhD,EAAoDC,EAApD,EAAwD;AACnE;AACA,UAAIC,EAAE,GAAGF,EAAE,CAACz/D,MAAH,GAAY,CAArB;;AACA,cAAQw/D,OAAR;AACE,aAAK,CAAL;AACE,iBAAOnC,EAAE,CAACl1C,MAAH,CAAUk1C,EAAjB;;AAEF,aAAK,CAAL;AACE;;AAEF,aAAK,CAAL;AACEoC,YAAE,CAACE,EAAD,CAAF;AACA;;AAEF,aAAK,CAAL;AACA,aAAK,CAAL;AACEtC,YAAE,CAACl1C,MAAH,CAAUk1C,EAAV,CAAaxB,SAAb,CAAuB4D,EAAE,CAACE,EAAD,CAAzB;AACA;;AAEF,aAAK,CAAL;AACEtC,YAAE,CAACl1C,MAAH,CAAUk1C,EAAV,CAAazB,QAAb,CAAsB6D,EAAE,CAACE,EAAD,CAAxB;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAAS,IAAI1mD,OAAO,CAACojD,IAAZ,CAAiBmD,EAAE,CAACE,EAAE,GAAG,CAAN,CAAnB,EAA6BF,EAAE,CAACE,EAAE,GAAG,CAAN,CAA/B,EAAyCF,EAAE,CAACE,EAAD,CAA3C,CAAT;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAAS,IAAI1mD,OAAO,CAACojD,IAAZ,CAAiBmD,EAAE,CAACE,EAAE,GAAG,CAAN,CAAnB,EAA6BzmD,OAAO,CAAC6jD,SAAR,CAAkBG,IAA/C,EAAqDuC,EAAE,CAACE,EAAD,CAAvD,CAAT;AACA;;AAEF,aAAK,EAAL;AACA,aAAK,EAAL;AACE,eAAKC,CAAL,GAASH,EAAE,CAACE,EAAD,CAAX;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAAS,CAAEH,EAAE,CAACE,EAAE,GAAG,CAAN,CAAJ,EAAcF,EAAE,CAACE,EAAD,CAAhB,CAAT;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAAS1mD,OAAO,CAAC6jD,SAAR,CAAkBC,MAA3B;AACA;;AAEF,aAAK,EAAL;AACE,eAAK4C,CAAL,GAAS1mD,OAAO,CAAC6jD,SAAR,CAAkBE,OAA3B;AACA;;AAEF,aAAK,EAAL;AACE,eAAK2C,CAAL,GAAS,IAAI1mD,OAAO,CAAC6iD,MAAZ,CAAmB0D,EAAE,CAACE,EAAE,GAAG,CAAN,CAArB,EAA+BF,EAAE,CAACE,EAAE,GAAG,CAAN,CAAjC,EAA2CF,EAAE,CAACE,EAAE,GAAG,CAAN,CAA7C,EAAuDF,EAAE,CAACE,EAAD,CAAzD,CAAT;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAASvC,EAAE,CAACl1C,MAAH,CAAUk1C,EAAV,CAAa5B,QAAb,CAAsBviD,OAAO,CAAC8wB,QAAR,CAAiBy1B,EAAE,CAACE,EAAD,CAAnB,CAAtB,CAAT;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAASvC,EAAE,CAACl1C,MAAH,CAAUk1C,EAAV,CAAa1B,iBAAb,CAA+BziD,OAAO,CAAC8wB,QAAR,CAAiBy1B,EAAE,CAACE,EAAD,CAAnB,CAA/B,CAAT;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAASH,EAAE,CAACE,EAAE,GAAG,CAAN,CAAF,GAAaF,EAAE,CAACE,EAAD,CAAF,IAAU,CAAhC;AACA;;AAEF,aAAK,EAAL;AACE,eAAKC,CAAL,GAAS1mD,OAAO,CAACujD,QAAR,CAAiBC,KAA1B;AACA;;AAEF,aAAK,EAAL;AACE,eAAKkD,CAAL,GAAS1mD,OAAO,CAACujD,QAAR,CAAiBE,MAA1B;AACA;;AAEF,aAAK,EAAL;AACE,eAAKiD,CAAL,GAAS1mD,OAAO,CAAC0jD,SAAR,CAAkBC,MAA3B;AACA;;AAEF,aAAK,EAAL;AACE,eAAK+C,CAAL,GAAS1mD,OAAO,CAAC0jD,SAAR,CAAkBE,IAA3B;AACA;;AAEF,aAAK,EAAL;AACE,eAAK8C,CAAL,GAAS1mD,OAAO,CAAC8wB,QAAR,CAAiBy1B,EAAE,CAACE,EAAD,CAAF,CAAOnkD,SAAP,CAAiB,CAAjB,CAAjB,CAAT;AA9EJ;AAgFH,KA3I8F;AA4I/FnL,SAAK,EAAE,CAAEitD,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,EAAgB;AACtB,SAAG,CADmB;AAEtB,SAAG;AAFmB,KAAhB,CAAH,EAGH;AACA,SAAG,CAAE,CAAF;AADH,KAHG,EAKJ;AACC,SAAG,CAAE,CAAF,EAAK,CAAL,CADJ;AAEC,SAAG,CAFJ;AAGC,SAAG,CAHJ;AAIC,SAAG,CAAE,CAAF,EAAK,CAAL,CAJJ;AAKC,SAAG,CAAE,CAAF,EAAK,CAAL,CALJ;AAMC,UAAI,CANL;AAOC,UAAI,CAPL;AAQC,UAAI,CAAE,CAAF,EAAK,EAAL,CARL;AASC,UAAI,CAAE,CAAF,EAAK,EAAL,CATL;AAUC,UAAI,EAVL;AAWC,UAAIC;AAXL,KALI,EAiBJ;AACC,SAAG,CAAE,CAAF,EAAK,CAAL;AADJ,KAjBI,EAmBJJ,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAnBG,EAmBcH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAnBf,EAmBgCH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAnBjC,EAmBkD;AACrD,UAAI,EADiD;AAErD,UAAI,CAAE,CAAF,EAAK,EAAL;AAFiD,KAnBlD,EAsBJH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAtBG,EAsBcH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAtBf,EAsBgC;AACnC,UAAI,EAD+B;AAEnC,UAAIE;AAF+B,KAtBhC,EAyBJ;AACC,UAAI,EADL;AAEC,UAAI,EAFL;AAGC,UAAI,CAAE,CAAF,EAAK,EAAL,CAHL;AAIC,UAAI,CAAE,CAAF,EAAK,EAAL;AAJL,KAzBI,EA8BJ;AACC,UAAI,EADL;AAEC,UAAI,CAAE,CAAF,EAAK,EAAL,CAFL;AAGC,UAAI,CAAE,CAAF,EAAK,EAAL,CAHL;AAIC,UAAI,CAAE,CAAF,EAAK,EAAL;AAJL,KA9BI,EAmCJL,CAAC,CAAC,CAAE,EAAF,EAAM,EAAN,EAAU,EAAV,EAAc,EAAd,CAAD,EAAqB,CAAE,CAAF,EAAK,EAAL,CAArB,CAnCG,EAmC8BA,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAnC/B,EAmCgDH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CAnCjD,EAmCmEH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,CAAL,CAAN,CAnCpE,EAmCqFH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CAnCtF,EAmCwG;AAC3G,UAAI,EADuG;AAE3G,UAAIC;AAFuG,KAnCxG,EAsCJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL,CADL;AAEC,UAAI,EAFL;AAGC,UAAI,CAAE,CAAF,EAAK,EAAL,CAHL;AAIC,UAAI,CAAE,CAAF,EAAK,EAAL;AAJL,KAtCI,EA2CJJ,CAAC,CAACM,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CA3CG,EA2CeN,CAAC,CAACM,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CA3ChB,EA2CkC;AACrC,UAAI,EADiC;AAErC,UAAIF;AAFiC,KA3ClC,EA8CJ;AACC,UAAI,EADL;AAEC,UAAI,EAFL;AAGC,UAAIA;AAHL,KA9CI,EAkDJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL;AADL,KAlDI,EAoDJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL;AADL,KApDI,EAsDJ;AACC,UAAI,EADL;AAEC,UAAIC;AAFL,KAtDI,EAyDJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL;AADL,KAzDI,EA2DJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL;AADL,KA3DI,EA6DJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL;AADL,KA7DI,EA+DJ;AACC,UAAI,EADL;AAEC,UAAIA;AAFL,KA/DI,EAkEJ;AACC,UAAI,EADL;AAEC,UAAIA;AAFL,KAlEI,EAqEJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL,CADL;AAEC,UAAI,CAAE,CAAF,EAAK,EAAL;AAFL,KArEI,EAwEJL,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CAxEG,EAwEeH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CAxEhB,EAwEkCH,CAAC,CAACG,GAAD,EAAM,CAAE,CAAF,EAAK,EAAL,CAAN,CAxEnC,EAwEqD;AACxD,UAAI,EADoD;AAExD,UAAIC;AAFoD,KAxErD,EA2EJ;AACC,UAAI,CAAE,CAAF,EAAK,EAAL;AADL,KA3EI,CA5IwF;AA0N/FmC,kBAAc,EAAE;AACZ,SAAG,CAAE,CAAF,EAAK,CAAL,CADS;AAEZ,UAAI,CAAE,CAAF,EAAK,EAAL,CAFQ;AAGZ,UAAI,CAAE,CAAF,EAAK,EAAL,CAHQ;AAIZ,UAAI,CAAE,CAAF,EAAK,EAAL,CAJQ;AAKZ,UAAI,CAAE,CAAF,EAAK,EAAL,CALQ;AAMZ,UAAI,CAAE,CAAF,EAAK,EAAL,CANQ;AAOZ,UAAI,CAAE,CAAF,EAAK,EAAL;AAPQ,KA1N+E;AAmO/FC,cAAU,EAAE,oBAAS//D,GAAT,EAAc05C,IAAd,EAAoB;AAC5B,UAAI,CAACA,IAAI,CAACsmB,WAAV,EAAuB,MAAM,IAAIv8D,KAAJ,CAAUzD,GAAV,CAAN;AACvB,WAAK89D,KAAL,CAAW99D,GAAX;AACH,KAtO8F;AAuO/FitB,SAAK,EAAE,eAAS5B,KAAT,EAAgB;AACnB,eAASyiB,GAAT,GAAe;AACX,YAAIrzB,KAAJ;AACA,eAAOA,KAAK,GAAGwlD,KAAK,CAACnyB,GAAN,MAAekwB,GAAvB,EAA4B,YAAY,OAAOvjD,KAAnB,KAA6BA,KAAK,GAAGylD,IAAI,CAACnC,QAAL,CAActjD,KAAd,KAAwBA,KAA7D,CAA5B,EACPA,KADA;AAEH;;AACD,UAAIylD,IAAI,GAAG,IAAX;AAAA,UAAiB58B,KAAK,GAAG,CAAE,CAAF,CAAzB;AAAA,UAAgC68B,MAAM,GAAG,CAAE,IAAF,CAAzC;AAAA,UAAmDC,MAAM,GAAG,EAA5D;AAAA,UAAgE9vD,KAAK,GAAG,KAAKA,KAA7E;AAAA,UAAoFgvD,MAAM,GAAG,EAA7F;AAAA,UAAiGE,QAAQ,GAAG,CAA5G;AAAA,UAA+GD,MAAM,GAAG,CAAxH;AAAA,UAA2Hc,UAAU,GAAG,CAAxI;AAAA,UAA2IC,MAAM,GAAG,CAApJ;AAAA,UAAuJtC,GAAG,GAAG,CAA7J;AAAA,UAAgKr8D,IAAI,GAAGy+D,MAAM,CAACvqD,KAAP,CAAa87B,IAAb,CAAkBxvC,SAAlB,EAA6B,CAA7B,CAAvK;AAAA,UAAwM89D,KAAK,GAAGh9D,MAAM,CAAC4qC,MAAP,CAAc,KAAKoyB,KAAnB,CAAhN;AAAA,UAA2OM,WAAW,GAAG;AACrPjD,UAAE,EAAE;AADiP,OAAzP;;AAGA,WAAK,IAAIE,CAAT,IAAc,KAAKF,EAAnB;AAAuBr6D,cAAM,CAAC8E,SAAP,CAAiBipC,cAAjB,CAAgCW,IAAhC,CAAqC,KAAK2rB,EAA1C,EAA8CE,CAA9C,MAAqD+C,WAAW,CAACjD,EAAZ,CAAeE,CAAf,IAAoB,KAAKF,EAAL,CAAQE,CAAR,CAAzE;AAAvB;;AACAyC,WAAK,CAACO,QAAN,CAAen1C,KAAf,EAAsBk1C,WAAW,CAACjD,EAAlC,GAAuCiD,WAAW,CAACjD,EAAZ,CAAe2C,KAAf,GAAuBA,KAA9D,EAAqEM,WAAW,CAACjD,EAAZ,CAAel1C,MAAf,GAAwB,IAA7F,EACA,eAAe,OAAO63C,KAAK,CAACQ,MAA5B,KAAuCR,KAAK,CAACQ,MAAN,GAAe,EAAtD,CADA;AAEA,UAAIC,KAAK,GAAGT,KAAK,CAACQ,MAAlB;AACAL,YAAM,CAACv9D,IAAP,CAAY69D,KAAZ;AACA,UAAIC,MAAM,GAAGV,KAAK,CAACh4D,OAAN,IAAiBg4D,KAAK,CAACh4D,OAAN,CAAc04D,MAA5C;AACA,oBAAc,OAAOJ,WAAW,CAACjD,EAAZ,CAAeyC,UAApC,GAAiD,KAAKA,UAAL,GAAkBQ,WAAW,CAACjD,EAAZ,CAAeyC,UAAlF,GAA+F,KAAKA,UAAL,GAAkB98D,MAAM,CAACm6D,cAAP,CAAsB,IAAtB,EAA4B2C,UAA7I;;AACA,WAAK,IAAIa,MAAJ,EAAYC,cAAZ,EAA4Bt9B,KAA5B,EAAmChC,MAAnC,EAA2CyT,CAA3C,EAA8Ct0C,CAA9C,EAAiDgC,GAAjD,EAAsDo+D,QAAtD,EAAgEC,QAAhE,EAA0EC,KAAK,GAAG,EAAvF,IAA8F;AAC1F,YAAIz9B,KAAK,GAAGD,KAAK,CAACA,KAAK,CAACrjC,MAAN,GAAe,CAAhB,CAAb,EAAiC,KAAK6/D,cAAL,CAAoBv8B,KAApB,IAA6BhC,MAAM,GAAG,KAAKu+B,cAAL,CAAoBv8B,KAApB,CAAtC,IAAoE,SAASq9B,MAAT,IAAmB,eAAe,OAAOA,MAAzC,KAAoDA,MAAM,GAAG9yB,GAAG,EAAhE,GACzGvM,MAAM,GAAGjxB,KAAK,CAACizB,KAAD,CAAL,IAAgBjzB,KAAK,CAACizB,KAAD,CAAL,CAAaq9B,MAAb,CADY,CAAjC,EAC4C,eAAe,OAAOr/B,MAAtB,IAAgC,CAACA,MAAM,CAACthC,MAAxC,IAAkD,CAACshC,MAAM,CAAC,CAAD,CADzG,EAC8G;AAC1G,cAAI0/B,MAAM,GAAG,EAAb;AACAF,kBAAQ,GAAG,EAAX;;AACA,eAAKrgE,CAAL,IAAU4P,KAAK,CAACizB,KAAD,CAAf;AAAwB,iBAAK47B,UAAL,CAAgBz+D,CAAhB,KAAsBA,CAAC,GAAG4/D,MAA1B,IAAoCS,QAAQ,CAACl+D,IAAT,CAAc,MAAM,KAAKs8D,UAAL,CAAgBz+D,CAAhB,CAAN,GAA2B,GAAzC,CAApC;AAAxB;;AACAugE,gBAAM,GAAGhB,KAAK,CAACiB,YAAN,GAAqB,0BAA0B1B,QAAQ,GAAG,CAArC,IAA0C,KAA1C,GAAkDS,KAAK,CAACiB,YAAN,EAAlD,GAAyE,cAAzE,GAA0FH,QAAQ,CAAC1mD,IAAT,CAAc,IAAd,CAA1F,GAAgH,SAAhH,IAA6H,KAAK8kD,UAAL,CAAgByB,MAAhB,KAA2BA,MAAxJ,IAAkK,GAAvL,GAA6L,0BAA0BpB,QAAQ,GAAG,CAArC,IAA0C,eAA1C,IAA6DoB,MAAM,IAAI5C,GAAV,GAAgB,cAAhB,GAAiC,OAAO,KAAKmB,UAAL,CAAgByB,MAAhB,KAA2BA,MAAlC,IAA4C,GAA1I,CAAtM,EACA,KAAKb,UAAL,CAAgBkB,MAAhB,EAAwB;AACpB76D,gBAAI,EAAE65D,KAAK,CAACpvD,KADQ;AAEpB4J,iBAAK,EAAE,KAAK0kD,UAAL,CAAgByB,MAAhB,KAA2BA,MAFd;AAGpB75D,gBAAI,EAAEk5D,KAAK,CAACT,QAHQ;AAIpB2B,eAAG,EAAET,KAJe;AAKpBK,oBAAQ,EAAEA;AALU,WAAxB,CADA;AAQH;;AACD,YAAIx/B,MAAM,CAAC,CAAD,CAAN,YAAqB5+B,KAArB,IAA8B4+B,MAAM,CAACthC,MAAP,GAAgB,CAAlD,EAAqD,MAAM,IAAIwD,KAAJ,CAAU,sDAAsD8/B,KAAtD,GAA8D,WAA9D,GAA4Eq9B,MAAtF,CAAN;;AACrD,gBAAQr/B,MAAM,CAAC,CAAD,CAAd;AACE,eAAK,CAAL;AACE+B,iBAAK,CAACzgC,IAAN,CAAW+9D,MAAX,GAAoBT,MAAM,CAACt9D,IAAP,CAAYo9D,KAAK,CAACX,MAAlB,CAApB,EAA+Cc,MAAM,CAACv9D,IAAP,CAAYo9D,KAAK,CAACQ,MAAlB,CAA/C,EAA0En9B,KAAK,CAACzgC,IAAN,CAAW0+B,MAAM,CAAC,CAAD,CAAjB,CAA1E,EACAq/B,MAAM,GAAG,IADT,EACeC,cAAc,IAAID,MAAM,GAAGC,cAAT,EAAyBA,cAAc,GAAG,IAA9C,KAAuDtB,MAAM,GAAGU,KAAK,CAACV,MAAf,EACpFD,MAAM,GAAGW,KAAK,CAACX,MADqE,EAC7DE,QAAQ,GAAGS,KAAK,CAACT,QAD4C,EAClCkB,KAAK,GAAGT,KAAK,CAACQ,MADoB,EACZJ,UAAU,GAAG,CAAb,IAAkBA,UAAU,EADvE,CAD7B;AAGA;;AAEF,eAAK,CAAL;AACE,gBAAI39D,GAAG,GAAG,KAAK08D,YAAL,CAAkB79B,MAAM,CAAC,CAAD,CAAxB,EAA6B,CAA7B,CAAN,EAAuCy/B,KAAK,CAACnB,CAAN,GAAUM,MAAM,CAACA,MAAM,CAAClgE,MAAP,GAAgByC,GAAjB,CAAvD,EACJs+D,KAAK,CAACrB,EAAN,GAAW;AACPyB,wBAAU,EAAEhB,MAAM,CAACA,MAAM,CAACngE,MAAP,IAAiByC,GAAG,IAAI,CAAxB,CAAD,CAAN,CAAmC0+D,UADxC;AAEPC,uBAAS,EAAEjB,MAAM,CAACA,MAAM,CAACngE,MAAP,GAAgB,CAAjB,CAAN,CAA0BohE,SAF9B;AAGPC,0BAAY,EAAElB,MAAM,CAACA,MAAM,CAACngE,MAAP,IAAiByC,GAAG,IAAI,CAAxB,CAAD,CAAN,CAAmC4+D,YAH1C;AAIPC,yBAAW,EAAEnB,MAAM,CAACA,MAAM,CAACngE,MAAP,GAAgB,CAAjB,CAAN,CAA0BshE;AAJhC,aADP,EAMDZ,MAAM,KAAKK,KAAK,CAACrB,EAAN,CAAS/sD,KAAT,GAAiB,CAAEwtD,MAAM,CAACA,MAAM,CAACngE,MAAP,IAAiByC,GAAG,IAAI,CAAxB,CAAD,CAAN,CAAmCkQ,KAAnC,CAAyC,CAAzC,CAAF,EAA+CwtD,MAAM,CAACA,MAAM,CAACngE,MAAP,GAAgB,CAAjB,CAAN,CAA0B2S,KAA1B,CAAgC,CAAhC,CAA/C,CAAtB,CANL,EAOJoiC,CAAC,GAAG,KAAKqqB,aAAL,CAAmBp9D,KAAnB,CAAyB++D,KAAzB,EAAgC,CAAE1B,MAAF,EAAUC,MAAV,EAAkBC,QAAlB,EAA4Be,WAAW,CAACjD,EAAxC,EAA4C/7B,MAAM,CAAC,CAAD,CAAlD,EAAuD4+B,MAAvD,EAA+DC,MAA/D,EAAwEoB,MAAxE,CAA+E7/D,IAA/E,CAAhC,CAPA,EAQJ,eAAe,OAAOqzC,CARtB,EAQyB,OAAOA,CAAP;AACzBtyC,eAAG,KAAK4gC,KAAK,GAAGA,KAAK,CAACztB,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAD,GAAKnT,GAAL,GAAW,CAA1B,CAAR,EAAsCy9D,MAAM,GAAGA,MAAM,CAACtqD,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAD,GAAKnT,GAArB,CAA/C,EACR09D,MAAM,GAAGA,MAAM,CAACvqD,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAD,GAAKnT,GAArB,CADN,CAAH,EACqC4gC,KAAK,CAACzgC,IAAN,CAAW,KAAKu8D,YAAL,CAAkB79B,MAAM,CAAC,CAAD,CAAxB,EAA6B,CAA7B,CAAX,CADrC,EAEA4+B,MAAM,CAACt9D,IAAP,CAAYm+D,KAAK,CAACnB,CAAlB,CAFA,EAEsBO,MAAM,CAACv9D,IAAP,CAAYm+D,KAAK,CAACrB,EAAlB,CAFtB,EAE6CmB,QAAQ,GAAGxwD,KAAK,CAACgzB,KAAK,CAACA,KAAK,CAACrjC,MAAN,GAAe,CAAhB,CAAN,CAAL,CAA+BqjC,KAAK,CAACA,KAAK,CAACrjC,MAAN,GAAe,CAAhB,CAApC,CAFxD,EAGAqjC,KAAK,CAACzgC,IAAN,CAAWi+D,QAAX,CAHA;AAIA;;AAEF,eAAK,CAAL;AACE,mBAAO,CAAC,CAAR;AAxBJ;AA0BH;;AACD,aAAO,CAAC,CAAR;AACH;AAnS8F,GAHnG;AAAA,MAuSGb,KAAK,GAAG,YAAW;AAClB,QAAIA,KAAK,GAAG;AACRjC,SAAG,EAAE,CADG;AAER+B,gBAAU,EAAE,oBAAS//D,GAAT,EAAc05C,IAAd,EAAoB;AAC5B,YAAI,CAAC,KAAK4jB,EAAL,CAAQl1C,MAAb,EAAqB,MAAM,IAAI3kB,KAAJ,CAAUzD,GAAV,CAAN;AACrB,aAAKs9D,EAAL,CAAQl1C,MAAR,CAAe23C,UAAf,CAA0B//D,GAA1B,EAA+B05C,IAA/B;AACH,OALO;AAMR;AACA8mB,cAAQ,EAAE,kBAASn1C,KAAT,EAAgBiyC,EAAhB,EAAoB;AAC1B,eAAO,KAAKA,EAAL,GAAUA,EAAE,IAAI,KAAKA,EAAX,IAAiB,EAA3B,EAA+B,KAAKmE,MAAL,GAAcp2C,KAA7C,EAAoD,KAAKq2C,KAAL,GAAa,KAAKC,UAAL,GAAkB,KAAKC,IAAL,GAAY,CAAC,CAAhG,EACP,KAAKpC,QAAL,GAAgB,KAAKD,MAAL,GAAc,CADvB,EAC0B,KAAKD,MAAL,GAAc,KAAKuC,OAAL,GAAe,KAAKhxD,KAAL,GAAa,EADpE,EACwE,KAAKixD,cAAL,GAAsB,CAAE,SAAF,CAD9F,EAEP,KAAKrB,MAAL,GAAc;AACVW,oBAAU,EAAE,CADF;AAEVE,sBAAY,EAAE,CAFJ;AAGVD,mBAAS,EAAE,CAHD;AAIVE,qBAAW,EAAE;AAJH,SAFP,EAOJ,KAAKt5D,OAAL,CAAa04D,MAAb,KAAwB,KAAKF,MAAL,CAAY7tD,KAAZ,GAAoB,CAAE,CAAF,EAAK,CAAL,CAA5C,CAPI,EAOmD,KAAKvD,MAAL,GAAc,CAPjE,EAOoE,IAP3E;AAQH,OAhBO;AAiBR;AACAgc,WAAK,EAAE,iBAAW;AACd,YAAIwe,EAAE,GAAG,KAAK43B,MAAL,CAAY,CAAZ,CAAT;AACA,aAAKnC,MAAL,IAAez1B,EAAf,EAAmB,KAAK01B,MAAL,EAAnB,EAAkC,KAAKlwD,MAAL,EAAlC,EAAiD,KAAKwB,KAAL,IAAcg5B,EAA/D,EAAmE,KAAKg4B,OAAL,IAAgBh4B,EAAnF;AACA,YAAIlQ,KAAK,GAAGkQ,EAAE,CAACh5B,KAAH,CAAS,iBAAT,CAAZ;AACA,eAAO8oB,KAAK,IAAI,KAAK6lC,QAAL,IAAiB,KAAKiB,MAAL,CAAYY,SAAZ,EAArB,IAAgD,KAAKZ,MAAL,CAAYc,WAAZ,EAArD,EACP,KAAKt5D,OAAL,CAAa04D,MAAb,IAAuB,KAAKF,MAAL,CAAY7tD,KAAZ,CAAkB,CAAlB,GADhB,EACwC,KAAK6uD,MAAL,GAAc,KAAKA,MAAL,CAAY5rD,KAAZ,CAAkB,CAAlB,CADtD,EAEPg0B,EAFA;AAGH,OAzBO;AA0BR;AACAk4B,WAAK,EAAE,eAASl4B,EAAT,EAAa;AAChB,YAAInnC,GAAG,GAAGmnC,EAAE,CAAC5pC,MAAb;AAAA,YAAqB05B,KAAK,GAAGkQ,EAAE,CAAChjC,KAAH,CAAS,eAAT,CAA7B;AACA,aAAK46D,MAAL,GAAc53B,EAAE,GAAG,KAAK43B,MAAxB,EAAgC,KAAKnC,MAAL,GAAc,KAAKA,MAAL,CAAY/hC,MAAZ,CAAmB,CAAnB,EAAsB,KAAK+hC,MAAL,CAAYr/D,MAAZ,GAAqByC,GAA3C,CAA9C,EACA;AACA,aAAK2M,MAAL,IAAe3M,GAFf;AAGA,YAAIs/D,QAAQ,GAAG,KAAKnxD,KAAL,CAAWhK,KAAX,CAAiB,eAAjB,CAAf;AACA,aAAKgK,KAAL,GAAa,KAAKA,KAAL,CAAW0sB,MAAX,CAAkB,CAAlB,EAAqB,KAAK1sB,KAAL,CAAW5Q,MAAX,GAAoB,CAAzC,CAAb,EAA0D,KAAK4hE,OAAL,GAAe,KAAKA,OAAL,CAAatkC,MAAb,CAAoB,CAApB,EAAuB,KAAKskC,OAAL,CAAa5hE,MAAb,GAAsB,CAA7C,CAAzE,EACA05B,KAAK,CAAC15B,MAAN,GAAe,CAAf,KAAqB,KAAKu/D,QAAL,IAAiB7lC,KAAK,CAAC15B,MAAN,GAAe,CAArD,CADA;AAEA,YAAI+0C,CAAC,GAAG,KAAKyrB,MAAL,CAAY7tD,KAApB;AACA,eAAO,KAAK6tD,MAAL,GAAc;AACjBW,oBAAU,EAAE,KAAKX,MAAL,CAAYW,UADP;AAEjBC,mBAAS,EAAE,KAAK7B,QAAL,GAAgB,CAFV;AAGjB8B,sBAAY,EAAE,KAAKb,MAAL,CAAYa,YAHT;AAIjBC,qBAAW,EAAE5nC,KAAK,GAAG,CAACA,KAAK,CAAC15B,MAAN,KAAiB+hE,QAAQ,CAAC/hE,MAA1B,GAAmC,KAAKwgE,MAAL,CAAYa,YAA/C,GAA8D,CAA/D,IAAoEU,QAAQ,CAACA,QAAQ,CAAC/hE,MAAT,GAAkB05B,KAAK,CAAC15B,MAAzB,CAAR,CAAyCA,MAA7G,GAAsH05B,KAAK,CAAC,CAAD,CAAL,CAAS15B,MAAlI,GAA2I,KAAKwgE,MAAL,CAAYa,YAAZ,GAA2B5+D;AAJvK,SAAd,EAKJ,KAAKuF,OAAL,CAAa04D,MAAb,KAAwB,KAAKF,MAAL,CAAY7tD,KAAZ,GAAoB,CAAEoiC,CAAC,CAAC,CAAD,CAAH,EAAQA,CAAC,CAAC,CAAD,CAAD,GAAO,KAAKuqB,MAAZ,GAAqB78D,GAA7B,CAA5C,CALI,EAMP,KAAK68D,MAAL,GAAc,KAAKD,MAAL,CAAYr/D,MANnB,EAM2B,IANlC;AAOH,OA3CO;AA4CR;AACAgiE,UAAI,EAAE,gBAAW;AACb,eAAO,KAAKP,KAAL,GAAa,CAAC,CAAd,EAAiB,IAAxB;AACH,OA/CO;AAgDR;AACA99D,YAAM,EAAE,kBAAW;AACf,eAAO,KAAKqE,OAAL,CAAai6D,eAAb,IAAgC,KAAKP,UAAL,GAAkB,CAAC,CAAnB,EAAsB,IAAtD,IAA8D,KAAK5B,UAAL,CAAgB,4BAA4B,KAAKP,QAAL,GAAgB,CAA5C,IAAiD,kIAAjD,GAAsL,KAAK0B,YAAL,EAAtM,EAA2N;AAC5R96D,cAAI,EAAE,EADsR;AAE5RqU,eAAK,EAAE,IAFqR;AAG5R1T,cAAI,EAAE,KAAKy4D;AAHiR,SAA3N,CAArE;AAKH,OAvDO;AAwDR;AACA2C,UAAI,EAAE,cAAShzD,CAAT,EAAY;AACd,aAAK4yD,KAAL,CAAW,KAAKlxD,KAAL,CAAWgF,KAAX,CAAiB1G,CAAjB,CAAX;AACH,OA3DO;AA4DR;AACAizD,eAAS,EAAE,qBAAW;AAClB,YAAIC,IAAI,GAAG,KAAKR,OAAL,CAAatkC,MAAb,CAAoB,CAApB,EAAuB,KAAKskC,OAAL,CAAa5hE,MAAb,GAAsB,KAAK4Q,KAAL,CAAW5Q,MAAxD,CAAX;AACA,eAAO,CAACoiE,IAAI,CAACpiE,MAAL,GAAc,EAAd,GAAmB,KAAnB,GAA2B,EAA5B,IAAkCoiE,IAAI,CAAC9kC,MAAL,CAAY,CAAC,EAAb,EAAiBn9B,OAAjB,CAAyB,KAAzB,EAAgC,EAAhC,CAAzC;AACH,OAhEO;AAiER;AACAkiE,mBAAa,EAAE,yBAAW;AACtB,YAAI9zB,IAAI,GAAG,KAAK39B,KAAhB;AACA,eAAO29B,IAAI,CAACvuC,MAAL,GAAc,EAAd,KAAqBuuC,IAAI,IAAI,KAAKizB,MAAL,CAAYlkC,MAAZ,CAAmB,CAAnB,EAAsB,KAAKiR,IAAI,CAACvuC,MAAhC,CAA7B,GAAuE,CAACuuC,IAAI,CAACjR,MAAL,CAAY,CAAZ,EAAe,EAAf,KAAsBiR,IAAI,CAACvuC,MAAL,GAAc,EAAd,GAAmB,KAAnB,GAA2B,EAAjD,CAAD,EAAuDG,OAAvD,CAA+D,KAA/D,EAAsE,EAAtE,CAA9E;AACH,OArEO;AAsER;AACA8gE,kBAAY,EAAE,wBAAW;AACrB,YAAItrD,GAAG,GAAG,KAAKwsD,SAAL,EAAV;AAAA,YAA4B9xC,CAAC,GAAG,IAAI3tB,KAAJ,CAAUiT,GAAG,CAAC3V,MAAJ,GAAa,CAAvB,EAA0Boa,IAA1B,CAA+B,GAA/B,CAAhC;AACA,eAAOzE,GAAG,GAAG,KAAK0sD,aAAL,EAAN,GAA6B,IAA7B,GAAoChyC,CAApC,GAAwC,GAA/C;AACH,OA1EO;AA2ER;AACAiyC,gBAAU,EAAE,oBAAS1xD,KAAT,EAAgB2xD,YAAhB,EAA8B;AACtC,YAAI/nD,KAAJ,EAAWkf,KAAX,EAAkB8oC,MAAlB;AACA,YAAI,KAAKx6D,OAAL,CAAai6D,eAAb,MAAiC;AACrCO,cAAM,GAAG;AACLjD,kBAAQ,EAAE,KAAKA,QADV;AAELiB,gBAAM,EAAE;AACJW,sBAAU,EAAE,KAAKX,MAAL,CAAYW,UADpB;AAEJC,qBAAS,EAAE,KAAKA,SAFZ;AAGJC,wBAAY,EAAE,KAAKb,MAAL,CAAYa,YAHtB;AAIJC,uBAAW,EAAE,KAAKd,MAAL,CAAYc;AAJrB,WAFH;AAQLjC,gBAAM,EAAE,KAAKA,MARR;AASLzuD,eAAK,EAAE,KAAKA,KATP;AAUL8U,iBAAO,EAAE,KAAKA,OAVT;AAWLk8C,iBAAO,EAAE,KAAKA,OAXT;AAYLtC,gBAAM,EAAE,KAAKA,MAZR;AAaLlwD,gBAAM,EAAE,KAAKA,MAbR;AAcLqyD,eAAK,EAAE,KAAKA,KAdP;AAeLD,gBAAM,EAAE,KAAKA,MAfR;AAgBLnE,YAAE,EAAE,KAAKA,EAhBJ;AAiBLwE,wBAAc,EAAE,KAAKA,cAAL,CAAoBjsD,KAApB,CAA0B,CAA1B,CAjBX;AAkBL+rD,cAAI,EAAE,KAAKA;AAlBN,SAAT,EAmBG,KAAK35D,OAAL,CAAa04D,MAAb,KAAwB8B,MAAM,CAAChC,MAAP,CAAc7tD,KAAd,GAAsB,KAAK6tD,MAAL,CAAY7tD,KAAZ,CAAkBiD,KAAlB,CAAwB,CAAxB,CAA9C,CApBC,GAoB2E8jB,KAAK,GAAG9oB,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,iBAAf,CApBnF,EAqBJ8oB,KAAK,KAAK,KAAK6lC,QAAL,IAAiB7lC,KAAK,CAAC15B,MAA5B,CArBD,EAqBsC,KAAKwgE,MAAL,GAAc;AACpDW,oBAAU,EAAE,KAAKX,MAAL,CAAYY,SAD4B;AAEpDA,mBAAS,EAAE,KAAK7B,QAAL,GAAgB,CAFyB;AAGpD8B,sBAAY,EAAE,KAAKb,MAAL,CAAYc,WAH0B;AAIpDA,qBAAW,EAAE5nC,KAAK,GAAGA,KAAK,CAACA,KAAK,CAAC15B,MAAN,GAAe,CAAhB,CAAL,CAAwBA,MAAxB,GAAiC05B,KAAK,CAACA,KAAK,CAAC15B,MAAN,GAAe,CAAhB,CAAL,CAAwB4Q,KAAxB,CAA8B,QAA9B,EAAwC,CAAxC,EAA2C5Q,MAA/E,GAAwF,KAAKwgE,MAAL,CAAYc,WAAZ,GAA0B1wD,KAAK,CAAC,CAAD,CAAL,CAAS5Q;AAJzF,SArBpD,EA0BD,KAAKq/D,MAAL,IAAezuD,KAAK,CAAC,CAAD,CA1BnB,EA0BwB,KAAKA,KAAL,IAAcA,KAAK,CAAC,CAAD,CA1B3C,EA0BgD,KAAK8U,OAAL,GAAe9U,KA1B/D,EA0BsE,KAAK0uD,MAAL,GAAc,KAAKD,MAAL,CAAYr/D,MA1BhG,EA2BJ,KAAKgI,OAAL,CAAa04D,MAAb,KAAwB,KAAKF,MAAL,CAAY7tD,KAAZ,GAAoB,CAAE,KAAKvD,MAAP,EAAe,KAAKA,MAAL,IAAe,KAAKkwD,MAAnC,CAA5C,CA3BI,EA4BJ,KAAKmC,KAAL,GAAa,CAAC,CA5BV,EA4Ba,KAAKC,UAAL,GAAkB,CAAC,CA5BhC,EA4BmC,KAAKF,MAAL,GAAc,KAAKA,MAAL,CAAY5rD,KAAZ,CAAkBhF,KAAK,CAAC,CAAD,CAAL,CAAS5Q,MAA3B,CA5BjD,EA6BJ,KAAK4hE,OAAL,IAAgBhxD,KAAK,CAAC,CAAD,CA7BjB,EA6BsB4J,KAAK,GAAG,KAAK4kD,aAAL,CAAmB1tB,IAAnB,CAAwB,IAAxB,EAA8B,KAAK2rB,EAAnC,EAAuC,IAAvC,EAA6CkF,YAA7C,EAA2D,KAAKV,cAAL,CAAoB,KAAKA,cAAL,CAAoB7hE,MAApB,GAA6B,CAAjD,CAA3D,CA7B9B,EA8BJ,KAAK2hE,IAAL,IAAa,KAAKH,MAAlB,KAA6B,KAAKG,IAAL,GAAY,CAAC,CAA1C,CA9BI,EA8B0CnnD,KA9B9C,EA8BqD,OAAOA,KAAP;;AACrD,YAAI,KAAKknD,UAAT,EAAqB;AACjB;AACA,eAAK,IAAInE,CAAT,IAAciF,MAAd;AAAsB,iBAAKjF,CAAL,IAAUiF,MAAM,CAACjF,CAAD,CAAhB;AAAtB;;AACA,iBAAO,CAAC,CAAR;AACH;;AACD,eAAO,CAAC,CAAR;AACH,OAnHO;AAoHR;AACAhvB,UAAI,EAAE,gBAAW;AACb,YAAI,KAAKozB,IAAT,EAAe,OAAO,KAAK5D,GAAZ;AACf,aAAKyD,MAAL,KAAgB,KAAKG,IAAL,GAAY,CAAC,CAA7B;AACA,YAAInnD,KAAJ,EAAW5J,KAAX,EAAkB6xD,SAAlB,EAA6B3xD,KAA7B;AACA,aAAK2wD,KAAL,KAAe,KAAKpC,MAAL,GAAc,EAAd,EAAkB,KAAKzuD,KAAL,GAAa,EAA9C;;AACA,aAAK,IAAImX,KAAK,GAAG,KAAK26C,aAAL,EAAZ,EAAkCljE,CAAC,GAAG,CAA3C,EAA8CA,CAAC,GAAGuoB,KAAK,CAAC/nB,MAAxD,EAAgER,CAAC,EAAjE;AAAqE,cAAIijE,SAAS,GAAG,KAAKjB,MAAL,CAAY5wD,KAAZ,CAAkB,KAAKmX,KAAL,CAAWA,KAAK,CAACvoB,CAAD,CAAhB,CAAlB,CAAZ,EACzEijE,SAAS,KAAK,CAAC7xD,KAAD,IAAU6xD,SAAS,CAAC,CAAD,CAAT,CAAaziE,MAAb,GAAsB4Q,KAAK,CAAC,CAAD,CAAL,CAAS5Q,MAA9C,CAD4D,EACL;AAC5D,gBAAI4Q,KAAK,GAAG6xD,SAAR,EAAmB3xD,KAAK,GAAGtR,CAA3B,EAA8B,KAAKwI,OAAL,CAAai6D,eAA/C,EAAgE;AAC5D,kBAAIznD,KAAK,GAAG,KAAK8nD,UAAL,CAAgBG,SAAhB,EAA2B16C,KAAK,CAACvoB,CAAD,CAAhC,CAAR,EAA8Cgb,KAAK,KAAK,CAAC,CAA7D,EAAgE,OAAOA,KAAP;;AAChE,kBAAI,KAAKknD,UAAT,EAAqB;AACjB9wD,qBAAK,GAAG,CAAC,CAAT;AACA;AACH,eAL2D,CAM5D;;;AACA,qBAAO,CAAC,CAAR;AACH;;AACD,gBAAI,CAAC,KAAK5I,OAAL,CAAa26D,IAAlB,EAAwB;AAC3B;AAZD;;AAaA,eAAO/xD,KAAK,IAAI4J,KAAK,GAAG,KAAK8nD,UAAL,CAAgB1xD,KAAhB,EAAuBmX,KAAK,CAACjX,KAAD,CAA5B,CAAR,EAA8C0J,KAAK,KAAK,CAAC,CAAX,IAAgBA,KAAlE,IAA2E,OAAO,KAAKgnD,MAAZ,GAAqB,KAAKzD,GAA1B,GAAgC,KAAK+B,UAAL,CAAgB,4BAA4B,KAAKP,QAAL,GAAgB,CAA5C,IAAiD,wBAAjD,GAA4E,KAAK0B,YAAL,EAA5F,EAAiH;AACpO96D,cAAI,EAAE,EAD8N;AAEpOqU,eAAK,EAAE,IAF6N;AAGpO1T,cAAI,EAAE,KAAKy4D;AAHyN,SAAjH,CAAvH;AAKH,OA5IO;AA6IR;AACA1xB,SAAG,EAAE,eAAW;AACZ,YAAIkH,CAAC,GAAG,KAAKxG,IAAL,EAAR;AACA,eAAOwG,CAAC,GAAGA,CAAH,GAAO,KAAKlH,GAAL,EAAf;AACH,OAjJO;AAkJR;AACA+0B,WAAK,EAAE,eAASC,SAAT,EAAoB;AACvB,aAAKhB,cAAL,CAAoBj/D,IAApB,CAAyBigE,SAAzB;AACH,OArJO;AAsJR;AACAC,cAAQ,EAAE,oBAAW;AACjB,YAAI5zD,CAAC,GAAG,KAAK2yD,cAAL,CAAoB7hE,MAApB,GAA6B,CAArC;AACA,eAAOkP,CAAC,GAAG,CAAJ,GAAQ,KAAK2yD,cAAL,CAAoB7tD,GAApB,EAAR,GAAoC,KAAK6tD,cAAL,CAAoB,CAApB,CAA3C;AACH,OA1JO;AA2JR;AACAa,mBAAa,EAAE,yBAAW;AACtB,eAAO,KAAKb,cAAL,CAAoB7hE,MAApB,IAA8B,KAAK6hE,cAAL,CAAoB,KAAKA,cAAL,CAAoB7hE,MAApB,GAA6B,CAAjD,CAA9B,GAAoF,KAAK+iE,UAAL,CAAgB,KAAKlB,cAAL,CAAoB,KAAKA,cAAL,CAAoB7hE,MAApB,GAA6B,CAAjD,CAAhB,EAAqE+nB,KAAzJ,GAAiK,KAAKg7C,UAAL,CAAgBC,OAAhB,CAAwBj7C,KAAhM;AACH,OA9JO;AA+JR;AACAk7C,cAAQ,EAAE,kBAAS/zD,CAAT,EAAY;AAClB,eAAOA,CAAC,GAAG,KAAK2yD,cAAL,CAAoB7hE,MAApB,GAA6B,CAA7B,GAAiCL,IAAI,CAACC,GAAL,CAASsP,CAAC,IAAI,CAAd,CAArC,EAAuDA,CAAC,IAAI,CAAL,GAAS,KAAK2yD,cAAL,CAAoB3yD,CAApB,CAAT,GAAkC,SAAhG;AACH,OAlKO;AAmKR;AACAg0D,eAAS,EAAE,mBAASL,SAAT,EAAoB;AAC3B,aAAKD,KAAL,CAAWC,SAAX;AACH,OAtKO;AAuKR;AACAM,oBAAc,EAAE,0BAAW;AACvB,eAAO,KAAKtB,cAAL,CAAoB7hE,MAA3B;AACH,OA1KO;AA2KRgI,aAAO,EAAE;AACL,4BAAoB,CAAC;AADhB,OA3KD;AA8KRo3D,mBAAa,EAAE,uBAAS/B,EAAT,EAAa+F,GAAb,EAAkBC,yBAAlB,EAA6CC,QAA7C,EAAuD;AAClE,gBAAQD,yBAAR;AACE,eAAK,CAAL;AACE,mBAAO,CAAP;;AAEF,eAAK,CAAL;AACE;AACA;;AAEF,eAAK,CAAL;AACE;AACA;;AAEF,eAAK,CAAL;AACE,mBAAO,CAAP;;AAEF,eAAK,CAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,CAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,CAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,CAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,CAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,CAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,EAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,CAAP;;AAEF,eAAK,EAAL;AACE,mBAAO,SAAP;AA1DJ;AA4DH,OA3OO;AA4ORt7C,WAAK,EAAE,CAAE,eAAF,EAAmB,WAAnB,EAAgC,iBAAhC,EAAmD,qBAAnD,EAA0E,iBAA1E,EAA6F,kBAA7F,EAAiH,cAAjH,EAAiI,cAAjI,EAAiJ,eAAjJ,EAAkK,SAAlK,EAA6K,sBAA7K,EAAqM,eAArM,EAAsN,UAAtN,EAAkO,SAAlO,EAA6O,UAA7O,EAAyP,SAAzP,EAAoQ,gBAApQ,EAAsR,SAAtR,EAAiS,SAAjS,CA5OC;AA6ORg7C,gBAAU,EAAE;AACRC,eAAO,EAAE;AACLj7C,eAAK,EAAE,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,EAApD,EAAwD,EAAxD,EAA4D,EAA5D,EAAgE,EAAhE,CADF;AAELw7C,mBAAS,EAAE,CAAC;AAFP;AADD;AA7OJ,KAAZ;AAoPA,WAAOvD,KAAP;AACH,GAtPU,EAvSX;;AA8hBA,SAAO73C,MAAM,CAAC63C,KAAP,GAAeA,KAAf,EAAsB9uB,MAAM,CAACppC,SAAP,GAAmBqgB,MAAzC,EAAiDA,MAAM,CAAC+oB,MAAP,GAAgBA,MAAjE,EACP,IAAIA,MAAJ,EADA;AAEH,CApiBY,EAAb;;AAsiBA,SAAiC,eAAe,OAAOsyB,OAAvD,KAAmEA,OAAO,CAACr7C,MAAR,GAAiBA,MAAjB,EACnEq7C,OAAO,CAACtyB,MAAR,GAAiB/oB,MAAM,CAAC+oB,MAD2C,EACnCsyB,OAAO,CAACx2C,KAAR,GAAgB,YAAW;AACvD,SAAO7E,MAAM,CAAC6E,KAAP,CAAahrB,KAAb,CAAmBmmB,MAAnB,EAA2BjmB,SAA3B,CAAP;AACH,CAHkE,EAGhEshE,OAAO,CAACC,IAAR,GAAe,UAAS/hE,IAAT,EAAe;AAC7BA,MAAI,CAAC,CAAD,CAAJ,KAAYkE,OAAO,CAAC2sC,GAAR,CAAY,YAAY7wC,IAAI,CAAC,CAAD,CAAhB,GAAsB,OAAlC,GAA4CiM,OAAO,CAAC+1D,IAAR,CAAa,CAAb,CAAxD;;AACA,MAAIp5B,MAAM,GAAGvkC,mBAAO,CAAC,MAAD,CAAP,CAAc49D,YAAd,CAA2B59D,mBAAO,CAAC,MAAD,CAAP,CAAgB69D,SAAhB,CAA0BliE,IAAI,CAAC,CAAD,CAA9B,CAA3B,EAA+D,MAA/D,CAAb;;AACA,SAAO8hE,OAAO,CAACr7C,MAAR,CAAe6E,KAAf,CAAqBsd,MAArB,CAAP;AACH,CAPkE,EAOhE,SAAgCvkC,4CAAA,KAAiB89D,MAAjD,IAA2DL,OAAO,CAACC,IAAR,CAAa91D,OAAO,CAACm2D,IAAR,CAAaluD,KAAb,CAAmB,CAAnB,CAAb,CAP9D;AAQA;AACA;AACA;AACA;;AACA,SAASmuD,UAAT,CAAoBpyB,OAApB,EAA6B8H,IAA7B,EAAmC;AACjCj5C,4DAAC,CAACgW,MAAF,CAAS,IAAT,EAAeijC,IAAf;;AAEA,OAAKv5C,IAAL,GAAY,YAAZ;AACA,OAAKyxC,OAAL,GAAgBA,OAAO,IAAI,EAA3B;AACD;;AACDoyB,UAAU,CAACj8D,SAAX,GAAuB,IAAItE,KAAJ,EAAvB;AACA0V,OAAO,CAAC6qD,UAAR,GAAqBA,UAArB;;AAEA7qD,OAAO,CAAC8T,KAAR,GAAgB,UAAS5B,KAAT,EAAgB;AAC9B;AAEA;AACAjD,QAAM,CAACk1C,EAAP,GAAY,IAAInkD,OAAJ,EAAZ;;AACAiP,QAAM,CAACk1C,EAAP,CAAUyC,UAAV,GAAuB,UAASnuB,OAAT,EAAkB8H,IAAlB,EAAwB;AAC7C,UAAM,IAAIsqB,UAAJ,CAAepyB,OAAf,EAAwB8H,IAAxB,CAAN;AACD,GAFD,CAL8B,CAS9B;;;AACA,MAAIloB,OAAO,GAAGpJ,MAAM,CAAC6E,KAAP,CAAa5B,KAAb,CAAd,CAV8B,CAY9B;;AACA,SAAOmG,OAAO,CAACuuC,UAAf;AACA,SAAOvuC,OAAP;AACD,CAfD;AAkBA;AACA;AACA;AACA;AACA;;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA,IAAIyyC,cAAc,GAAG,EAArB;AAEA,IAAIC,YAAY,GAAK,EAArB,C,CAAyB;;AACzB,IAAIC,aAAa,GAAI,EAArB,C,CAAyB;;AAEzB,IAAIC,aAAa,GAAI,CAArB,C,CAAwB;;AACxB,IAAIC,cAAc,GAAG,CAArB,C,CAAwB;;AAExB,IAAIC,WAAW,GAAK,EAApB,C,CAAwB;;AACxB,IAAIC,YAAY,GAAI,CAApB,C,CAAuB;;AACvB,IAAIC,YAAY,GAAI,EAApB,C,CAAwB;;AAExB,IAAIC,YAAY,GAAK,CAArB;AACA,IAAIC,aAAa,GAAI,CAArB;AAEA,IAAIC,iBAAiB,GAAG,EAAxB,C,CAA4B;;AAE5B,IAAI3H,SAAS,GAAG7jD,OAAO,CAAC6jD,SAAxB;AACA,IAAIN,QAAQ,GAAIvjD,OAAO,CAACujD,QAAxB;AACA,IAAIG,SAAS,GAAG1jD,OAAO,CAAC0jD,SAAxB;AAEA,IAAI+H,UAAU,GAAK,CAAnB;AACA,IAAIC,YAAY,GAAG,CAAnB;;AAEA,SAASC,eAAT,CAAyBlzB,OAAzB,EAAkC;AAAE,OAAKA,OAAL,GAAeA,OAAf;AAAyB;;AAC7DkzB,eAAe,CAAC/8D,SAAhB,CAA0B3I,QAA1B,GAAqC,YAAW;AAC9C,SAAO,sBAAsB,KAAKwyC,OAAlC;AACD,CAFD;;AAIA,SAASmzB,MAAT,CAAgBC,GAAhB,EAAqBpzB,OAArB,EAA8B;AAC5B,MAAI,CAACozB,GAAL,EAAU;AACR,UAAM,IAAIF,eAAJ,CAAoBlzB,OAApB,CAAN;AACD;AACF;;AAED,IAAI,CAAC1H,MAAM,CAACniC,SAAP,CAAiB4gB,IAAtB,EAA4B;AAC1BuhB,QAAM,CAACniC,SAAP,CAAiB4gB,IAAjB,GAAwB,YAAW;AACjC,WAAO,KAAKvoB,OAAL,CAAa,YAAb,EAA2B,EAA3B,CAAP;AACD,GAFD;AAGD;;AAED+Y,OAAO,CAAC8rD,MAAR,GAAiB,EAAjB;;AACA,SAASC,aAAT,CAAuB/kE,IAAvB,EAA6B4wB,KAA7B,EAAoC;AAClC5X,SAAO,CAAC8rD,MAAR,CAAe9kE,IAAf,IAAuB4wB,KAAvB;AACD;AAED;AACA;AACA;;;AAEA,SAASo0C,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAOA,GAAG,CAAC78D,CAAJ,GAAQ68D,GAAG,CAACv8D,KAAJ,GAAY,CAA3B;AACD;;AAED,SAASw8D,UAAT,CAAoBD,GAApB,EAAyB;AACvB,SAAOA,GAAG,CAAC58D,CAAJ,GAAQ48D,GAAG,CAACx8D,MAAJ,GAAa,CAA5B;AACD;AAED;AACA;AACA;;;AAEA,SAAS08D,KAAT,CAAe/8D,CAAf,EAAkBgP,GAAlB,EAAuBohB,GAAvB,EAA4B;AAC1B,MAAIpwB,CAAC,GAAGgP,GAAR,EAAa;AACX,WAAOA,GAAP;AACD;;AACD,MAAIhP,CAAC,GAAGowB,GAAR,EAAa;AACX,WAAOA,GAAP;AACD;;AACD,SAAOpwB,CAAP;AACD;;AAED,SAASg9D,MAAT,CAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgC;AAC9BZ,QAAM,CAACtkE,0DAAC,CAACmlE,KAAF,CAAQ,CAACJ,EAAD,EAAIE,EAAJ,EAAOD,EAAP,EAAUE,EAAV,CAAR,EAAuBllE,0DAAC,CAAColE,QAAzB,CAAD,EAAqC,6BAArC,CAAN,CAD8B,CAG9B;;AACA,MAAIC,MAAM,GAAGlmE,IAAI,CAACmmE,IAAL,CAAU,CAACL,EAAE,GAAGF,EAAN,KAAaE,EAAE,GAAGF,EAAlB,IAAwB,CAACG,EAAE,GAAGF,EAAN,KAAaE,EAAE,GAAGF,EAAlB,CAAlC,IAA2D,EAAxE,CAJ8B,CAM9B;AACA;;AACA,MAAIO,EAAE,GAAGV,KAAK,CAAC1lE,IAAI,CAACixC,MAAL,EAAD,EAAgB,GAAhB,EAAqB,GAArB,CAAd;AACA,MAAIo1B,EAAE,GAAGX,KAAK,CAAC1lE,IAAI,CAACixC,MAAL,EAAD,EAAgB,GAAhB,EAAqB,GAArB,CAAd;AAEA,MAAIq1B,OAAO,GAAGtmE,IAAI,CAACixC,MAAL,KAAgB,GAAhB,GAAsBi1B,MAAtB,GAA+B,CAACA,MAA9C;AACA,MAAIK,OAAO,GAAGvmE,IAAI,CAACixC,MAAL,KAAgB,GAAhB,GAAsBi1B,MAAtB,GAA+B,CAACA,MAA9C;AAEA,MAAIxlE,EAAE,GAAG;AACPiI,KAAC,EAAE,CAACm9D,EAAE,GAAGF,EAAN,IAAYQ,EAAZ,GAAiBR,EAAjB,GAAsBU,OADlB;AAEP19D,KAAC,EAAE,CAACm9D,EAAE,GAAGF,EAAN,IAAYO,EAAZ,GAAiBP,EAAjB,GAAsBU;AAFlB,GAAT;AAKA,MAAI5/D,EAAE,GAAG;AACPgC,KAAC,EAAE,CAACm9D,EAAE,GAAGF,EAAN,IAAYS,EAAZ,GAAiBT,EAAjB,GAAsBU,OADlB;AAEP19D,KAAC,EAAE,CAACm9D,EAAE,GAAGF,EAAN,IAAYQ,EAAZ,GAAiBR,EAAjB,GAAsBU;AAFlB,GAAT;AAKA,SAAO,MAAM7lE,EAAE,CAACiI,CAAH,CAAK69D,OAAL,CAAa,CAAb,CAAN,GAAwB,GAAxB,GAA8B9lE,EAAE,CAACkI,CAAH,CAAK49D,OAAL,CAAa,CAAb,CAA9B,GAAgD;AAChD,KADA,GACM7/D,EAAE,CAACgC,CAAH,CAAK69D,OAAL,CAAa,CAAb,CADN,GACwB,GADxB,GAC8B7/D,EAAE,CAACiC,CAAH,CAAK49D,OAAL,CAAa,CAAb,CAD9B,GACgD;AAChD,KAFA,GAEMV,EAAE,CAACU,OAAH,CAAW,CAAX,CAFN,GAEsB,GAFtB,GAE4BT,EAAE,CAACS,OAAH,CAAW,CAAX,CAFnC,CAxB8B,CA0ByB;AACxD;AAED;AACA;AACA;;;AACA,SAASC,QAAT,CAAkB99D,CAAlB,EAAqBC,CAArB,EAAwB89D,CAAxB,EAA2B9sD,CAA3B,EAA8B;AAC5BurD,QAAM,CAACtkE,0DAAC,CAACmlE,KAAF,CAAQ,CAACr9D,CAAD,EAAIC,CAAJ,EAAO89D,CAAP,EAAU9sD,CAAV,CAAR,EAAsB/Y,0DAAC,CAAColE,QAAxB,CAAD,EAAoC,4BAApC,CAAN;AACA,SAAO,MAAMt9D,CAAN,GAAU,GAAV,GAAgBC,CAAhB,GACN+8D,MAAM,CAACh9D,CAAD,EAAIC,CAAJ,EAAOD,CAAC,GAAG+9D,CAAX,EAAc99D,CAAd,CADA,GAEN+8D,MAAM,CAACh9D,CAAC,GAAG+9D,CAAL,EAAQ99D,CAAR,EAAWD,CAAC,GAAG+9D,CAAf,EAAkB99D,CAAC,GAAGgR,CAAtB,CAFA,GAGN+rD,MAAM,CAACh9D,CAAC,GAAG+9D,CAAL,EAAQ99D,CAAC,GAAGgR,CAAZ,EAAejR,CAAf,EAAkBC,CAAC,GAAGgR,CAAtB,CAHA,GAIN+rD,MAAM,CAACh9D,CAAD,EAAIC,CAAC,GAAGgR,CAAR,EAAWjR,CAAX,EAAcC,CAAd,CAJP;AAKD;AAED;AACA;AACA;;;AACA,SAAS+9D,QAAT,CAAkBf,EAAlB,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA8BC,EAA9B,EAAkC;AAChCZ,QAAM,CAACtkE,0DAAC,CAACmlE,KAAF,CAAQ,CAACJ,EAAD,EAAIE,EAAJ,EAAOD,EAAP,EAAUE,EAAV,CAAR,EAAuBllE,0DAAC,CAAColE,QAAzB,CAAD,EAAqC,6BAArC,CAAN;AACA,SAAO,MAAML,EAAE,CAACY,OAAH,CAAW,CAAX,CAAN,GAAsB,GAAtB,GAA4BX,EAAE,CAACW,OAAH,CAAW,CAAX,CAA5B,GAA4Cb,MAAM,CAACC,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAzD;AACD;AAED;AACA;AACA;;;AAEA,IAAIa,SAAS,GAAG,SAAZA,SAAY,CAASh1C,OAAT,EAAkBvpB,OAAlB,EAA2B;AACzC,OAAKqR,IAAL,CAAUkY,OAAV,EAAmBvpB,OAAnB;AACD,CAFD;;AAIAxH,0DAAC,CAACgW,MAAF,CAAS+vD,SAAS,CAACz+D,SAAnB,EAA8B;AAE5B;AACAuR,MAAI,EAAE,cAASkY,OAAT,EAAkBvpB,OAAlB,EAA2B;AAC/B,SAAKupB,OAAL,GAAeA,OAAf;AAEA,SAAKi1C,aAAL,GAAsB,CAAtB;AACA,SAAKC,cAAL,GAAsB,CAAtB;AACA,SAAKC,MAAL,GAAcj8C,SAAd,CAL+B,CAKN;AAC1B,GAT2B;AAW5Bk8C,YAAU,EAAE,oBAAStxD,SAAT,EAAoB,CAAE,CAXN;AAa5BuxD,MAAI,EAAE,cAASvxD,SAAT,EAAoB;AACxB,SAAKsxD,UAAL,CAAgBtxD,SAAhB;AAEA,SAAKwxD,MAAL;AAEA,QAAIC,WAAW,GAAG,KAAKJ,MAAL,GAAc,KAAKA,MAAL,CAAY/9D,MAA1B,GAAmC,CAArD;AACA,QAAIJ,CAAC,GAAGy7D,cAAc,GAAG8C,WAAzB;AAEA,SAAKC,SAAL;AACA,SAAKC,UAAL,CAAgBz+D,CAAhB;AACA,SAAK0+D,WAAL,CAAiB1+D,CAAC,GAAG,KAAKi+D,aAA1B;AACD,GAxB2B;AA0B5BK,QAAM,EAAE,kBAAW;AACjB;AACA,QAAIt1C,OAAO,GAAG,KAAKA,OAAnB;AACA,QAAI21C,IAAI,GAAM,KAAKC,KAAnB;AACA,QAAI5L,MAAM,GAAIhqC,OAAO,CAACgqC,MAAtB;AACA,QAAIC,OAAO,GAAGjqC,OAAO,CAACiqC,OAAtB;AAEAjqC,WAAO,CAAC3oB,KAAR,GAAiB,CAAjB,CAPiB,CAOG;;AACpB2oB,WAAO,CAAC5oB,MAAR,GAAiB,CAAjB,CARiB,CAQG;AAEpB;;AACA,QAAI4oB,OAAO,CAACzU,KAAZ,EAAmB;AACjB,UAAIA,KAAK,GAAG,KAAK4pD,MAAL,GAAc,EAA1B;AACA,UAAIU,EAAE,GAAG,KAAKC,QAAL,CAAc91C,OAAO,CAACzU,KAAtB,EAA6BoqD,IAA7B,CAAT;AACApqD,WAAK,CAACwqD,MAAN,GAAeF,EAAf;AACAtqD,WAAK,CAAC60B,OAAN,GAAgBpgB,OAAO,CAACzU,KAAxB;AAEAA,WAAK,CAAClU,KAAN,GAAew+D,EAAE,CAACx+D,KAAH,GAAY,CAAC67D,aAAa,GAAGD,YAAjB,IAAiC,CAA5D;AACA1nD,WAAK,CAACnU,MAAN,GAAey+D,EAAE,CAACz+D,MAAH,GAAY,CAAC87D,aAAa,GAAGD,YAAjB,IAAiC,CAA5D;AACA1nD,WAAK,CAACxU,CAAN,GAAU07D,cAAV;AACAlnD,WAAK,CAACvU,CAAN,GAAUy7D,cAAV;AAEAzyC,aAAO,CAAC3oB,KAAR,IAAkBkU,KAAK,CAAClU,KAAxB;AACA2oB,aAAO,CAAC5oB,MAAR,IAAkBmU,KAAK,CAACnU,MAAxB;AACD;;AAEDnI,8DAAC,CAAC+mE,IAAF,CAAOhM,MAAP,EAAe/6D,0DAAC,CAAC2gC,IAAF,CAAO,UAAS5Z,CAAT,EAAY;AAChC,UAAI6/C,EAAE,GAAG,KAAKC,QAAL,CAAc9/C,CAAC,CAACrnB,IAAhB,EAAsBgnE,IAAtB,CAAT;AACA3/C,OAAC,CAAC+/C,MAAF,GAAWF,EAAX;AAEA7/C,OAAC,CAACjf,CAAF,GAAM,CAAN;AAASif,OAAC,CAAChf,CAAF,GAAM,CAAN;AACTgf,OAAC,CAAC3e,KAAF,GAAWw+D,EAAE,CAACx+D,KAAH,GAAY,CAACs7D,aAAa,GAAGD,YAAjB,IAAiC,CAAxD;AACA18C,OAAC,CAAC5e,MAAF,GAAWy+D,EAAE,CAACz+D,MAAH,GAAY,CAACu7D,aAAa,GAAGD,YAAjB,IAAiC,CAAxD;AAEA18C,OAAC,CAACigD,SAAF,GAAc,EAAd;AACAjgD,OAAC,CAACkgD,YAAF,GAAiB,CAAjB;AACA,WAAKjB,aAAL,GAAqB7mE,IAAI,CAAC+4B,GAAL,CAASnR,CAAC,CAAC5e,MAAX,EAAmB,KAAK69D,aAAxB,CAArB;AACD,KAXc,EAWZ,IAXY,CAAf;;AAaA,aAASkB,mBAAT,CAA6BngD,CAA7B,EAAgC+I,CAAhC,EAAmCq3C,CAAnC,EAAsC;AACpC7C,YAAM,CAACv9C,CAAC,GAAG+I,CAAL,EAAQ,mCAAR,CAAN;;AAEA,UAAI/I,CAAC,GAAG,CAAR,EAAW;AACT;AACA+I,SAAC,GAAGirC,MAAM,CAACjrC,CAAD,CAAV;AACAA,SAAC,CAAChoB,CAAF,GAAM3I,IAAI,CAAC+4B,GAAL,CAASivC,CAAC,GAAGr3C,CAAC,CAAC1nB,KAAF,GAAU,CAAvB,EAA0B0nB,CAAC,CAAChoB,CAA5B,CAAN;AACD,OAJD,MAIO,IAAIgoB,CAAC,IAAIirC,MAAM,CAACv7D,MAAhB,EAAwB;AAC7B;AACAunB,SAAC,GAAGg0C,MAAM,CAACh0C,CAAD,CAAV;AACAA,SAAC,CAACkgD,YAAF,GAAiB9nE,IAAI,CAAC+4B,GAAL,CAASivC,CAAT,EAAYpgD,CAAC,CAACkgD,YAAd,CAAjB;AACD,OAJM,MAIA;AACLlgD,SAAC,GAAGg0C,MAAM,CAACh0C,CAAD,CAAV;AACAA,SAAC,CAACigD,SAAF,CAAYl3C,CAAZ,IAAiB3wB,IAAI,CAAC+4B,GAAL,CAASivC,CAAT,EAAYpgD,CAAC,CAACigD,SAAF,CAAYl3C,CAAZ,IAAiB/I,CAAC,CAACigD,SAAF,CAAYl3C,CAAZ,CAAjB,GAAkC,CAA9C,CAAjB;AACD;AACF;;AAED9vB,8DAAC,CAAC+mE,IAAF,CAAO/L,OAAP,EAAgBh7D,0DAAC,CAAC2gC,IAAF,CAAO,UAASg1B,CAAT,EAAY;AACjC;AACA,UAAI5uC,CAAJ;AACA,UAAI+I,CAAJ;AAEA,UAAI82C,EAAE,GAAG,KAAKC,QAAL,CAAclR,CAAC,CAACxkB,OAAhB,EAAyBu1B,IAAzB,CAAT;AAEA/Q,OAAC,CAACmR,MAAF,GAAWF,EAAX;AACAjR,OAAC,CAACvtD,KAAF,GAAYw+D,EAAE,CAACx+D,KAAf;AACAutD,OAAC,CAACxtD,MAAF,GAAYy+D,EAAE,CAACz+D,MAAf;AAEA,UAAIi/D,UAAU,GAAG,CAAjB;;AAEA,UAAIzR,CAAC,CAACvoD,IAAF,IAAU,QAAd,EAAwB;AAEtBuoD,SAAC,CAACvtD,KAAF,IAAY,CAACu7D,aAAa,GAAGC,cAAjB,IAAmC,CAA/C;AACAjO,SAAC,CAACxtD,MAAF,IAAY,CAACw7D,aAAa,GAAGC,cAAjB,IAAmC,CAA/C;;AAEA,YAAIjO,CAAC,CAACkG,MAAF,EAAJ,EAAgB;AACd;AACA90C,WAAC,GAAG4uC,CAAC,CAAC6F,MAAF,CAASlrD,KAAb;AACAwf,WAAC,GAAG/I,CAAC,GAAG,CAAR;AACA4uC,WAAC,CAACvtD,KAAF,IAAW87D,iBAAX;AACD,SALD,MAKO;AACLn9C,WAAC,GAAG5nB,IAAI,CAAC2X,GAAL,CAAS6+C,CAAC,CAAC6F,MAAF,CAASlrD,KAAlB,EAAyBqlD,CAAC,CAAC+F,MAAF,CAASprD,KAAlC,CAAJ;AACAwf,WAAC,GAAG3wB,IAAI,CAAC+4B,GAAL,CAASy9B,CAAC,CAAC6F,MAAF,CAASlrD,KAAlB,EAAyBqlD,CAAC,CAAC+F,MAAF,CAASprD,KAAlC,CAAJ;AACD;AAEF,OAfD,MAeO,IAAIqlD,CAAC,CAACvoD,IAAF,IAAU,MAAd,EAAsB;AAC3BuoD,SAAC,CAACvtD,KAAF,IAAY,CAACy7D,WAAW,GAAGC,YAAf,IAA+B,CAA3C;AACAnO,SAAC,CAACxtD,MAAF,IAAY,CAAC07D,WAAW,GAAGC,YAAf,IAA+B,CAA3C,CAF2B,CAI3B;;AACAsD,kBAAU,GAAG,IAAI3D,YAAjB;;AAEA,YAAI9N,CAAC,CAACrE,SAAF,IAAeiL,SAAS,CAACC,MAA7B,EAAqC;AACnC1sC,WAAC,GAAG6lC,CAAC,CAACoG,KAAF,CAAQzrD,KAAZ;AACAyW,WAAC,GAAG+I,CAAC,GAAG,CAAR;AACD,SAHD,MAGO,IAAI6lC,CAAC,CAACrE,SAAF,IAAeiL,SAAS,CAACE,OAA7B,EAAsC;AAC3C11C,WAAC,GAAG4uC,CAAC,CAACoG,KAAF,CAAQzrD,KAAZ;AACAwf,WAAC,GAAG/I,CAAC,GAAG,CAAR;AACD,SAHM,MAGA,IAAI4uC,CAAC,CAACrE,SAAF,IAAeiL,SAAS,CAACG,IAAzB,IAAiC/G,CAAC,CAACqG,aAAF,EAArC,EAAwD;AAC7D;AACAj1C,WAAC,GAAG5nB,IAAI,CAAC2X,GAAL,CAAS6+C,CAAC,CAACoG,KAAF,CAAQ,CAAR,EAAWzrD,KAApB,EAA2BqlD,CAAC,CAACoG,KAAF,CAAQ,CAAR,EAAWzrD,KAAtC,CAAJ;AACAwf,WAAC,GAAG3wB,IAAI,CAAC+4B,GAAL,CAASy9B,CAAC,CAACoG,KAAF,CAAQ,CAAR,EAAWzrD,KAApB,EAA2BqlD,CAAC,CAACoG,KAAF,CAAQ,CAAR,EAAWzrD,KAAtC,CAAJ,CAH6D,CAK7D;;AACA82D,oBAAU,GAAG,EAAEtD,YAAY,GAAG,CAAf,GAAmBC,YAAY,GAAG,CAApC,CAAb;AAED,SARM,MAQA,IAAIpO,CAAC,CAACrE,SAAF,IAAeiL,SAAS,CAACG,IAA7B,EAAmC;AACxC;AACA31C,WAAC,GAAG4uC,CAAC,CAACoG,KAAF,CAAQzrD,KAAZ;AACA42D,6BAAmB,CAACngD,CAAC,GAAG,CAAL,EAAQA,CAAR,EAAW4uC,CAAC,CAACvtD,KAAF,GAAU,CAArB,CAAnB;AACA8+D,6BAAmB,CAACngD,CAAD,EAAIA,CAAC,GAAG,CAAR,EAAW4uC,CAAC,CAACvtD,KAAF,GAAU,CAArB,CAAnB;AACA,eAAK69D,cAAL,IAAuBtQ,CAAC,CAACxtD,MAAzB;AAEA,iBAPwC,CAOhC;AACT;AACF,OA9BM,MA8BA;AACL,cAAM,IAAInF,KAAJ,CAAU,2BAA2B2yD,CAAC,CAACvoD,IAAvC,CAAN;AACD;;AAED85D,yBAAmB,CAACngD,CAAD,EAAI+I,CAAJ,EAAO6lC,CAAC,CAACvtD,KAAF,GAAUg/D,UAAjB,CAAnB;AACA,WAAKnB,cAAL,IAAuBtQ,CAAC,CAACxtD,MAAzB;AACD,KAhEe,EAgEb,IAhEa,CAAhB,EAxDiB,CA0HjB;;;AACA,QAAIk/D,OAAO,GAAG,CAAd;;AACArnE,8DAAC,CAAC+mE,IAAF,CAAOhM,MAAP,EAAe,UAASh0C,CAAT,EAAY;AACzBA,OAAC,CAACjf,CAAF,GAAM3I,IAAI,CAAC+4B,GAAL,CAASmvC,OAAT,EAAkBtgD,CAAC,CAACjf,CAApB,CAAN,CADyB,CAGzB;;AACA9H,gEAAC,CAAC+mE,IAAF,CAAOhgD,CAAC,CAACigD,SAAT,EAAoB,UAASM,QAAT,EAAmBx3C,CAAnB,EAAsB;AACxC;AACA;AACA,YAAI,OAAOw3C,QAAP,IAAmB,WAAvB,EAAoC;AAClC;AACD;;AAEDx3C,SAAC,GAAGirC,MAAM,CAACjrC,CAAD,CAAV;AACAw3C,gBAAQ,GAAGnoE,IAAI,CAAC+4B,GAAL,CAASovC,QAAT,EAAmBvgD,CAAC,CAAC3e,KAAF,GAAU,CAA7B,EAAgC0nB,CAAC,CAAC1nB,KAAF,GAAU,CAA1C,CAAX;AACA0nB,SAAC,CAAChoB,CAAF,GAAM3I,IAAI,CAAC+4B,GAAL,CAASpI,CAAC,CAAChoB,CAAX,EAAcif,CAAC,CAACjf,CAAF,GAAMif,CAAC,CAAC3e,KAAF,GAAU,CAAhB,GAAoBk/D,QAApB,GAA+Bx3C,CAAC,CAAC1nB,KAAF,GAAU,CAAvD,CAAN;AACD,OAVD;;AAYAi/D,aAAO,GAAGtgD,CAAC,CAACjf,CAAF,GAAMif,CAAC,CAAC3e,KAAR,GAAgB2e,CAAC,CAACkgD,YAA5B;AACD,KAjBD;;AAmBAl2C,WAAO,CAAC3oB,KAAR,GAAgBjJ,IAAI,CAAC+4B,GAAL,CAASmvC,OAAT,EAAkBt2C,OAAO,CAAC3oB,KAA1B,CAAhB,CA/IiB,CAiJjB;;AACA2oB,WAAO,CAAC3oB,KAAR,IAAkB,IAAIo7D,cAAtB;AACAzyC,WAAO,CAAC5oB,MAAR,IAAkB,IAAIq7D,cAAJ,GAAqB,IAAI,KAAKwC,aAA9B,GAA8C,KAAKC,cAArE;AAEA,WAAO,IAAP;AACD,GAhL2B;AAkL5B;AACA;AACAY,UAAQ,EAAE,kBAASlhE,IAAT,EAAe+gE,IAAf,EAAqB,CAAE,CApLL;AAsL5BH,WAAS,EAAE,qBAAW;AACpB,QAAIjqD,KAAK,GAAG,KAAK4pD,MAAjB;;AACA,QAAI5pD,KAAJ,EAAW;AACT,WAAKirD,WAAL,CAAiBjrD,KAAjB,EAAwBA,KAAK,CAAC60B,OAA9B,EAAuC6yB,YAAvC,EAAqDC,aAArD,EAAoE,KAAK0C,KAAzE,EAAgFxC,UAAhF;AACD;AACF,GA3L2B;AA6L5BqC,YAAU,EAAE,oBAASgB,OAAT,EAAkB;AAC5B,QAAIz/D,CAAC,GAAGy/D,OAAR;;AACAxnE,8DAAC,CAAC+mE,IAAF,CAAO,KAAKh2C,OAAL,CAAagqC,MAApB,EAA4B/6D,0DAAC,CAAC2gC,IAAF,CAAO,UAAS5Z,CAAT,EAAY;AAC7C;AACA,WAAK0gD,SAAL,CAAe1gD,CAAf,EAAkBhf,CAAlB,EAAqB,KAAKi+D,aAA1B,EAF6C,CAI7C;;AACA,WAAKyB,SAAL,CAAe1gD,CAAf,EAAkBhf,CAAC,GAAG,KAAKi+D,aAAT,GAAyB,KAAKC,cAAhD,EAAgE,KAAKD,aAArE,EAL6C,CAO7C;;AACA,UAAI0B,EAAE,GAAGhD,UAAU,CAAC39C,CAAD,CAAnB;AACA,WAAK4gD,QAAL,CACCD,EADD,EACK3/D,CAAC,GAAG,KAAKi+D,aAAT,GAAyBvC,YAD9B,EAECiE,EAFD,EAEK3/D,CAAC,GAAG,KAAKi+D,aAAT,GAAyBvC,YAAzB,GAAwC,KAAKwC,cAFlD;AAGD,KAZ2B,EAYzB,IAZyB,CAA5B;AAaD,GA5M2B;AA8M5BwB,WAAS,EAAE,mBAAS1L,KAAT,EAAgByL,OAAhB,EAAyBr/D,MAAzB,EAAiC;AAC1C4zD,SAAK,CAACh0D,CAAN,GAAey/D,OAAf;AACAzL,SAAK,CAAC5zD,MAAN,GAAeA,MAAf;AACA,SAAKo/D,WAAL,CAAiBxL,KAAjB,EAAwBA,KAAK,CAACr8D,IAA9B,EAAoC+jE,YAApC,EAAkDC,aAAlD,EAAiE,KAAKiD,KAAtE,EAA6EvC,YAA7E;AACD,GAlN2B;AAoN5BqC,aAAW,EAAE,qBAASe,OAAT,EAAkB;AAC7B,QAAIz/D,CAAC,GAAGy/D,OAAR;;AACAxnE,8DAAC,CAAC+mE,IAAF,CAAO,KAAKh2C,OAAL,CAAaiqC,OAApB,EAA6Bh7D,0DAAC,CAAC2gC,IAAF,CAAO,UAASg1B,CAAT,EAAY;AAC9C;AACA,UAAIA,CAAC,CAACvoD,IAAF,IAAU,QAAd,EAAwB;AACtB,YAAIuoD,CAAC,CAACkG,MAAF,EAAJ,EAAgB;AACd,eAAK+L,cAAL,CAAoBjS,CAApB,EAAuB5tD,CAAvB;AACD,SAFD,MAEO;AACL,eAAK8/D,UAAL,CAAgBlS,CAAhB,EAAmB5tD,CAAnB;AACD;AAEF,OAPD,MAOO,IAAI4tD,CAAC,CAACvoD,IAAF,IAAU,MAAd,EAAsB;AAC3B,aAAK06D,QAAL,CAAcnS,CAAd,EAAiB5tD,CAAjB;AACD;;AAEDA,OAAC,IAAI4tD,CAAC,CAACxtD,MAAP;AACD,KAd4B,EAc1B,IAd0B,CAA7B;AAeD,GArO2B;AAuO5By/D,gBAAc,EAAE,wBAAStM,MAAT,EAAiBkM,OAAjB,EAA0B;AACtClD,UAAM,CAAChJ,MAAM,CAACO,MAAP,EAAD,EAAkB,8BAAlB,CAAN;AAEA,QAAIiL,MAAM,GAAGxL,MAAM,CAACwL,MAApB;AACA,QAAIY,EAAE,GAAGhD,UAAU,CAACpJ,MAAM,CAACE,MAAR,CAAnB;AAEA,QAAI1zD,CAAC,GAAG4/D,EAAE,GAAGxD,iBAAL,GAAyBN,cAAjC;AACA,QAAI77D,CAAC,GAAGy/D,OAAO,GAAG5D,cAAV,GAA2BtI,MAAM,CAACnzD,MAAP,GAAgB,CAA3C,GAA+C2+D,MAAM,CAAC/+D,CAA9D;AAEA,SAAKggE,QAAL,CAAcjgE,CAAd,EAAiBC,CAAjB,EAAoBuzD,MAAM,CAACnqB,OAA3B,EAAoC,KAAKw1B,KAAzC,EAAgDxC,UAAhD;AAEA,QAAIa,EAAE,GAAGwC,OAAO,GAAG7D,aAAV,GAA0BC,cAAnC;AACA,QAAIsB,EAAE,GAAGF,EAAE,GAAG1J,MAAM,CAACnzD,MAAZ,GAAqB,IAAIw7D,aAAzB,GAAyCC,cAAlD,CAZsC,CActC;;AACA,SAAK+D,QAAL,CAAcD,EAAd,EAAkB1C,EAAlB,EAAsB0C,EAAE,GAAGxD,iBAA3B,EAA8Cc,EAA9C,EAAkD1J,MAAM,CAACK,QAAzD;AACA,SAAKgM,QAAL,CAAcD,EAAE,GAAGxD,iBAAnB,EAAsCc,EAAtC,EAA0C0C,EAAE,GAAGxD,iBAA/C,EAAkEgB,EAAlE,EAAsE5J,MAAM,CAACK,QAA7E;AACA,SAAKgM,QAAL,CAAcD,EAAE,GAAGxD,iBAAnB,EAAsCgB,EAAtC,EAA0CwC,EAA1C,EAA8CxC,EAA9C,EAAkD5J,MAAM,CAACK,QAAzD,EAAmEL,MAAM,CAACM,SAA1E;AACD,GAzPyB;AA2P5BiM,YAAU,EAAE,oBAASvM,MAAT,EAAiBkM,OAAjB,EAA0B;AACpC,QAAIE,EAAE,GAAGhD,UAAU,CAACpJ,MAAM,CAACE,MAAR,CAAnB;AACA,QAAIwM,EAAE,GAAGtD,UAAU,CAACpJ,MAAM,CAACI,MAAR,CAAnB,CAFoC,CAIpC;;AACA,QAAI5zD,CAAC,GAAG,CAACkgE,EAAE,GAAGN,EAAN,IAAY,CAAZ,GAAgBA,EAAxB;AACA,QAAI3/D,CAAC,GAAGy/D,OAAO,GAAG7D,aAAV,GAA0B,IAAIC,cAAtC,CANoC,CAQpC;;AACA,SAAKmE,QAAL,CAAcjgE,CAAd,EAAiBC,CAAjB,EAAoBuzD,MAAM,CAACnqB,OAA3B,EAAoC,KAAKw1B,KAAzC,EAAgDvC,YAAhD,EAToC,CAWpC;;AACAr8D,KAAC,GAAGy/D,OAAO,GAAGlM,MAAM,CAACnzD,MAAjB,GAA0Bw7D,aAA1B,GAA0CC,cAA9C;AACA,SAAK+D,QAAL,CAAcD,EAAd,EAAkB3/D,CAAlB,EAAqBigE,EAArB,EAAyBjgE,CAAzB,EAA4BuzD,MAAM,CAACK,QAAnC,EAA6CL,MAAM,CAACM,SAApD;AACD,GAzQ2B;AA2Q5BkM,UAAQ,EAAE,kBAASjK,IAAT,EAAe2J,OAAf,EAAwB;AAChC3J,QAAI,CAAC91D,CAAL,GAASy/D,OAAT;AACA,QAAIhM,MAAM,GAAGqC,IAAI,CAAC7B,aAAL,KAAuB6B,IAAI,CAAC9B,KAAL,CAAW,CAAX,CAAvB,GAAuC8B,IAAI,CAAC9B,KAAzD;AACA,QAAI2L,EAAE,GAAGhD,UAAU,CAAClJ,MAAD,CAAnB;;AACA,YAAQqC,IAAI,CAACvM,SAAb;AACA,WAAKiL,SAAS,CAACE,OAAf;AACEoB,YAAI,CAAC/1D,CAAL,GAAS4/D,EAAE,GAAGjE,YAAd;AACF;;AACA,WAAKlH,SAAS,CAACC,MAAf;AACEqB,YAAI,CAAC/1D,CAAL,GAAS4/D,EAAE,GAAGjE,YAAL,GAAoB5F,IAAI,CAACz1D,KAAlC;AACF;;AACA,WAAKm0D,SAAS,CAACG,IAAf;AACE,YAAImB,IAAI,CAAC7B,aAAL,EAAJ,EAA0B;AACxB,cAAIgM,EAAE,GAAGtD,UAAU,CAAC7G,IAAI,CAAC9B,KAAL,CAAW,CAAX,CAAD,CAAnB;AACA,cAAIkM,OAAO,GAAGlE,YAAY,GAAGD,YAA7B;AACAjG,cAAI,CAAC/1D,CAAL,GAAS3I,IAAI,CAAC2X,GAAL,CAAS4wD,EAAT,EAAaM,EAAb,IAAmBC,OAA5B;AACApK,cAAI,CAACz1D,KAAL,GAAcjJ,IAAI,CAAC+4B,GAAL,CAASwvC,EAAT,EAAaM,EAAb,IAAmBC,OAApB,GAA+BpK,IAAI,CAAC/1D,CAAjD;AACD,SALD,MAKO;AACL+1D,cAAI,CAAC/1D,CAAL,GAAS4/D,EAAE,GAAG7J,IAAI,CAACz1D,KAAL,GAAa,CAA3B;AACD;;AACH;;AACA;AACE,cAAM,IAAIpF,KAAJ,CAAU,+BAA+B66D,IAAI,CAACvM,SAA9C,CAAN;AAlBF;;AAoBA,WAAO,KAAKiW,WAAL,CAAiB1J,IAAjB,EAAuBA,IAAI,CAAC1sB,OAA5B,EAAqC0yB,WAArC,EAAkDC,YAAlD,EAAgE,KAAK6C,KAArE,EAA4ExC,UAA5E,CAAP;AACD,GApS2B;;AAsS5B;AACF;AACA;AACEoD,aAAW,EAAE,qBAAS5C,GAAT,EAAch/D,IAAd,EAAoBuiE,MAApB,EAA4BC,OAA5B,EAAqCzB,IAArC,EAA2C/6C,KAA3C,EAAkD;AAC7D,QAAI7jB,CAAC,GAAG68D,GAAG,CAAC78D,CAAJ,GAAQogE,MAAhB;AACA,QAAIngE,CAAC,GAAG48D,GAAG,CAAC58D,CAAJ,GAAQmgE,MAAhB;AACA,QAAIrC,CAAC,GAAGlB,GAAG,CAACv8D,KAAJ,GAAa,IAAI8/D,MAAzB;AACA,QAAInvD,CAAC,GAAG4rD,GAAG,CAACx8D,MAAJ,GAAa,IAAI+/D,MAAzB,CAJ6D,CAM7D;;AACA,SAAKE,QAAL,CAActgE,CAAd,EAAiBC,CAAjB,EAAoB89D,CAApB,EAAuB9sD,CAAvB,EAP6D,CAS7D;;AACA,QAAI4S,KAAK,IAAIy4C,YAAb,EAA2B;AACzBt8D,OAAC,GAAG48D,UAAU,CAACC,GAAD,CAAd;AACA58D,OAAC,GAAG68D,UAAU,CAACD,GAAD,CAAd;AACD,KAHD,MAGO;AACL78D,OAAC,IAAIqgE,OAAL;AACApgE,OAAC,IAAIogE,OAAL;AACD;;AAED,WAAO,KAAKJ,QAAL,CAAcjgE,CAAd,EAAiBC,CAAjB,EAAoBpC,IAApB,EAA0B+gE,IAA1B,EAAgC/6C,KAAhC,CAAP;AACD;AA5T2B,CAA9B;AA+TA;AACA;AACA;AACA;AACA;;AACA;AACA;;;AACA,IAAI,OAAO08C,IAAP,IAAe,WAAnB,EAAgC;AAE9B,MAAIC,KAAK,GAAG,4BAAZ;AAEA,MAAInK,IAAI,GAAG;AACT,cAAU,SADD;AAET,oBAAgB,CAFP;AAEU;AACnB,YAAQ;AAHC,GAAX;AAMA,MAAIoK,IAAI,GAAG;AACL,cAAU,SADL;AAEL,oBAAgB,CAFX;AAGL,YAAQ;AAHH,GAAX;AAMA,MAAIC,YAAY,GAAG,EAAnB;AAEA;AACF;AACA;;AAEE,MAAIC,SAAS,GAAG,SAAZA,SAAY,CAAS13C,OAAT,EAAkBvpB,OAAlB,EAA2BkhE,MAA3B,EAAmC;AAC7C1oE,8DAAC,CAAC2oE,QAAF,CAAWnhE,OAAX,EAAoB;AAChB,mBAAa,QADG;AAEhB,mBAAa,EAFG;AAGhB,qBAAe;AAHC,KAApB;;AAMA,SAAKqR,IAAL,CAAUkY,OAAV,EAAmBvpB,OAAnB,EAA4BkhE,MAA5B;AACD,GARL;;AAUA1oE,4DAAC,CAACgW,MAAF,CAASyyD,SAAS,CAACnhE,SAAnB,EAA8By+D,SAAS,CAACz+D,SAAxC,EAAmD;AAEjDuR,QAAI,EAAE,cAASkY,OAAT,EAAkBvpB,OAAlB,EAA2BkhE,MAA3B,EAAmC;AACjC3C,eAAS,CAACz+D,SAAV,CAAoBuR,IAApB,CAAyBq4B,IAAzB,CAA8B,IAA9B,EAAoCngB,OAApC;AAEA,WAAK63C,MAAL,GAAe3+C,SAAf;AACA,WAAK4+C,SAAL,GAAiBrhE,OAAO,CAAC,WAAD,CAAP,IAAwByiB,SAAzC;AACA,WAAK08C,KAAL,GAAa;AACT,qBAAan/D,OAAO,CAAC,WAAD,CADX;AAET,uBAAeA,OAAO,CAAC,aAAD;AAFb,OAAb;AAKA,UAAIuf,CAAC,GAAG,KAAK+hD,WAAL,GAAmB,EAA3B;AACA/hD,OAAC,CAACq1C,SAAS,CAACC,MAAX,CAAD,GAAsB,OAAtB;AACAt1C,OAAC,CAACq1C,SAAS,CAACE,IAAX,CAAD,GAAsB,MAAtB;AAEA,UAAIr2C,CAAC,GAAG,KAAK8iD,UAAL,GAAkB,EAA1B;AACA9iD,OAAC,CAACg2C,QAAQ,CAACC,KAAV,CAAD,GAAqB,EAArB;AACAj2C,OAAC,CAACg2C,QAAQ,CAACE,MAAV,CAAD,GAAqB,KAArB;AAEA,UAAI6M,IAAI,GAAG,IAAX;AACA,WAAKC,WAAL,CAAiB,YAAW;AAC1BP,cAAM,CAACM,IAAD,CAAN;AACD,OAFD;AAGD,KAxB0C;AA0BjD;AACAC,eAAW,EAAE,qBAAS3Z,QAAT,EAAmB;AAC9B,UAAI4Z,UAAU,GAAG,KAAKvC,KAAL,CAAW,aAAX,CAAjB;;AAEA,UAAI,OAAOwC,OAAP,IAAkB,WAAtB,EAAmC;AACjC,cAAM,IAAInmE,KAAJ,CAAU,iEAAV,CAAN;AACD;;AAED,UAAIwlE,YAAY,CAACU,UAAD,CAAhB,EAA8B;AAC5B;AACA5Z,gBAAQ;AACR;AACD;;AAED6Z,aAAO,CAACC,IAAR,CAAa;AACTC,cAAM,EAAE;AACJC,kBAAQ,EAAE,CAACJ,UAAD,CADN,CACmB;;AADnB,SADC;AAITK,eAAO,EAAE,KAJA;AAIO;AAChB1oE,cAAM,EAAE,kBAAW;AACf2nE,sBAAY,CAACU,UAAD,CAAZ,GAA2B,IAA3B;AACA5Z,kBAAQ;AACT,SARM;AASTka,gBAAQ,EAAE,oBAAW;AACjB;AACAhB,sBAAY,CAACU,UAAD,CAAZ,GAA2B,IAA3B;AACA5Z,kBAAQ;AACT;AAbM,OAAb;AAeD,KAvDgD;AAyDjDma,kBAAc,EAAE,wBAAS39D,GAAT,EAAcmpD,WAAd,EAA2B;AACrC,UAAIyU,IAAI,GAAGn4D,QAAQ,CAACo4D,eAAT,CAAyBrB,KAAzB,EAAgC,MAAhC,CAAX;AACAoB,UAAI,CAAC30D,WAAL,CAAiBxD,QAAQ,CAACizC,cAAT,CAAwByQ,WAAxB,CAAjB;AACAnpD,SAAG,CAACiJ,WAAJ,CAAgB20D,IAAhB;AACD,KA7D4C;AA+DjDvD,cAAU,EAAE,oBAAStxD,SAAT,EAAoB;AAC9B;AACA,UAAI/I,GAAG,GAAGyF,QAAQ,CAACo4D,eAAT,CAAyBrB,KAAzB,EAAgC,KAAhC,CAAV;AACAzzD,eAAS,CAACE,WAAV,CAAsBjJ,GAAtB;AAEA,WAAK29D,cAAL,CAAoB39D,GAApB,EAAyB,KAAKilB,OAAL,CAAazU,KAAb,IAAsB,EAA/C;AAEA,WAAKssD,MAAL,GAAcP,IAAI,CAACv8D,GAAD,CAAlB;AACA,WAAK88D,MAAL,CAAYgB,QAAZ,CAAqB,UAArB;;AAEA,UAAI,KAAKf,SAAT,EAAoB;AAClB,aAAKD,MAAL,CAAYgB,QAAZ,CAAqB,KAAKf,SAA1B;AACD;;AAED,WAAKgB,UAAL,GAd8B,CAgB9B;;AACA,UAAI9iD,CAAC,GAAG,KAAK+iD,aAAL,GAAqB,EAA7B;AACA,UAAIjY,KAAK,GAAG,KAAK+W,MAAL,CAAYz2B,IAAZ,CAAiB,uBAAjB,CAAZ;AACAprB,OAAC,CAACq1C,SAAS,CAACC,MAAX,CAAD,GAAsBxK,KAAK,CAAC9zC,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,GAA5B,EACpBT,IADoB,CACf;AAAC/e,UAAE,EAAE;AAAL,OADe,CAAtB;AAGAszD,WAAK,GAAG,KAAK+W,MAAL,CAAYz2B,IAAZ,CAAiB,sDAAjB,CAAR;AACAprB,OAAC,CAACq1C,SAAS,CAACE,IAAX,CAAD,GAAoBzK,KAAK,CAAC9zC,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmB,GAAnB,EAAwB,EAAxB,EAA4B,GAA5B,EAAiC,CAAjC,EAClBT,IADkB,CACb;AAACysD,mBAAW,EAAE,GAAd;AAAmBxrE,UAAE,EAAE;AAAvB,OADa,CAApB;AAED,KAxFgD;AA0FjD8nE,UAAM,EAAE,kBAAW;AACjBN,eAAS,CAACz+D,SAAV,CAAoB++D,MAApB,CAA2Bn1B,IAA3B,CAAgC,IAAhC;AACA,WAAK03B,MAAL,CAAYtrD,IAAZ,CAAiB;AACflV,aAAK,EAAG,KAAK2oB,OAAL,CAAa3oB,KAAb,GAAqB,IADd;AAEfD,cAAM,EAAE,KAAK4oB,OAAL,CAAa5oB,MAAb,GAAsB;AAFf,OAAjB;AAID,KAhGgD;AAkGjD0+D,YAAQ,EAAE,kBAASlhE,IAAT,EAAe+gE,IAAf,EAAqB;AAC7B;AACA,UAAI9/D,CAAC,GAAG,KAAKojE,UAAL,CAAgBrkE,IAAhB,EAAsB+gE,IAAtB,CAAR;AACA,UAAIE,EAAE,GAAGhgE,CAAC,CAACqjE,OAAF,EAAT;AACArjE,OAAC,CAACuZ,MAAF;AACA,aAAOymD,EAAP;AACD,KAxGgD;AA0GjD;AACAsD,eAAW,EAAE,qBAAS96D,OAAT,EAAkB;AAC7B,WAAK+6D,MAAL,CAAY/nE,IAAZ,CAAiBgN,OAAjB;;AACA,aAAOA,OAAP;AACD,KA9GgD;AAgHjD;AACAy6D,cAAU,EAAE,sBAAW;AACrB,WAAKM,MAAL,GAAc,EAAd;AACD,KAnHgD;AAqHjD;AACAC,eAAW,EAAE,uBAAW;AACtB,UAAIC,CAAC,GAAG,KAAKzB,MAAL,CAAY0B,KAAZ,CAAkB9oE,KAAlB,CAAwB,KAAKonE,MAA7B,EAAqC,KAAKuB,MAA1C,CAAR;AACA,WAAKN,UAAL,GAFsB,CAEH;;AACnB,aAAOQ,CAAP;AACD,KA1HgD;AA4HjDL,cAAU,EAAE,oBAASrkE,IAAT,EAAe+gE,IAAf,EAAqB;AAC/B/gE,UAAI,GAAGA,IAAI,CAACS,KAAL,CAAW,IAAX,EAAiB0gB,GAAjB,CAAqB,UAAShf,CAAT,EAAY;AACpC,eAAOA,CAAC,CAACogB,IAAF,EAAP;AACH,OAFM,CAAP;AAGA,UAAIthB,CAAC,GAAG,KAAKgiE,MAAL,CAAYjjE,IAAZ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBA,IAAvB,CAAR;AACAiB,OAAC,CAAC0W,IAAF,CAAOopD,IAAI,IAAI,EAAf;;AACA,UAAI/gE,IAAI,CAACnG,MAAL,GAAc,CAAlB,EAAqB;AACnB;AACAoH,SAAC,CAACozC,SAAF,CAAY,sBAAZ,EAAoC18B,IAApC,CAAyC;AACvCitD,YAAE,EAAE,OADmC;AAEvCziE,WAAC,EAAE;AAFoC,SAAzC;AAID;;AAED,aAAOlB,CAAP;AACD,KA3IgD;AA6IjD+gE,YAAQ,EAAE,kBAAS5C,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,EAAyBvJ,QAAzB,EAAmC6O,SAAnC,EAA8C;AACtD,UAAIlkE,IAAI,GAAG,KAAKsiE,MAAL,CAAYtiE,IAAZ,CAAiBy+D,EAAjB,EAAqBC,EAArB,EAAyBC,EAAzB,EAA6BC,EAA7B,EAAiC5nD,IAAjC,CAAsC6gD,IAAtC,CAAX;;AACA,UAAIxC,QAAQ,KAAK1xC,SAAjB,EAA4B;AAC1B3jB,YAAI,CAACgX,IAAL,CAAU,iBAAV,EAA6B,KAAKyrD,UAAL,CAAgBpN,QAAhB,CAA7B;AACD;;AACD,UAAI6O,SAAS,KAAKvgD,SAAlB,EAA6B;AAC3B3jB,YAAI,CAACgX,IAAL,CAAU,WAAV,EAAuB,KAAKwsD,aAAL,CAAmBU,SAAnB,CAAvB;AACD;;AACD,aAAO,KAAKN,WAAL,CAAiB5jE,IAAjB,CAAP;AACD,KAtJgD;AAwJjD8hE,YAAQ,EAAE,kBAAStgE,CAAT,EAAYC,CAAZ,EAAe89D,CAAf,EAAkB9sD,CAAlB,EAAqB;AAC7B,UAAIrQ,IAAI,GAAG,KAAKkgE,MAAL,CAAYlgE,IAAZ,CAAiBZ,CAAjB,EAAoBC,CAApB,EAAuB89D,CAAvB,EAA0B9sD,CAA1B,EAA6BuE,IAA7B,CAAkCirD,IAAlC,CAAX;AACA,aAAO,KAAK2B,WAAL,CAAiBxhE,IAAjB,CAAP;AACD,KA3JgD;;AA6JjD;AACJ;AACA;AACA;AACA;AACA;AACA;AACIq/D,YAAQ,EAAE,kBAASjgE,CAAT,EAAYC,CAAZ,EAAepC,IAAf,EAAqB+gE,IAArB,EAA2B/6C,KAA3B,EAAkC;AAC1C,UAAI/kB,CAAC,GAAG,KAAKojE,UAAL,CAAgBrkE,IAAhB,EAAsB+gE,IAAtB,CAAR;AACA,UAAIE,EAAE,GAAGhgE,CAAC,CAACqjE,OAAF,EAAT;;AAEA,UAAIt+C,KAAK,IAAIy4C,YAAb,EAA2B;AACzBt8D,SAAC,GAAGA,CAAC,GAAG8+D,EAAE,CAACx+D,KAAH,GAAW,CAAnB;AACAL,SAAC,GAAGA,CAAC,GAAG6+D,EAAE,CAACz+D,MAAH,GAAY,CAApB;AACD,OAPyC,CAS1C;AACA;;;AACAvB,OAAC,CAAC0W,IAAF,CAAO;AAACxV,SAAC,EAAEA,CAAC,GAAG8+D,EAAE,CAAC9+D,CAAX;AAAcC,SAAC,EAAEA,CAAC,GAAG6+D,EAAE,CAAC7+D;AAAxB,OAAP;AACAnB,OAAC,CAACozC,SAAF,CAAY,OAAZ,EAAqB18B,IAArB,CAA0B;AAACxV,SAAC,EAAEA;AAAJ,OAA1B;AAEA,WAAKoiE,WAAL,CAAiBtjE,CAAjB;AACA,aAAOA,CAAP;AACD,KApLgD;AAsLjD2/D,aAAS,EAAE,qBAAW;AACpB,WAAKsD,UAAL;AACA9D,eAAS,CAACz+D,SAAV,CAAoBi/D,SAApB,CAA8Br1B,IAA9B,CAAmC,IAAnC;AACA,aAAO,KAAKk5B,WAAL,GAAmBR,QAAnB,CAA4B,OAA5B,CAAP;AACD,KA1LgD;AA4LjDnC,aAAS,EAAE,mBAAS1L,KAAT,EAAgByL,OAAhB,EAAyBr/D,MAAzB,EAAiC;AAC1C,WAAK0hE,UAAL;AACA9D,eAAS,CAACz+D,SAAV,CAAoBmgE,SAApB,CAA8Bv2B,IAA9B,CAAmC,IAAnC,EAAyC6qB,KAAzC,EAAgDyL,OAAhD,EAAyDr/D,MAAzD;AACA,aAAO,KAAKiiE,WAAL,GAAmBR,QAAnB,CAA4B,OAA5B,CAAP;AACD,KAhMgD;AAkMjD/B,cAAU,EAAE,oBAASvM,MAAT,EAAiBkM,OAAjB,EAA0B;AACpC,WAAKqC,UAAL;AACA9D,eAAS,CAACz+D,SAAV,CAAoBugE,UAApB,CAA+B32B,IAA/B,CAAoC,IAApC,EAA0CoqB,MAA1C,EAAkDkM,OAAlD;AACA,aAAO,KAAK4C,WAAL,GAAmBR,QAAnB,CAA4B,QAA5B,CAAP;AACD,KAtMgD;AAwMjDhC,kBAAc,EAAE,wBAAStM,MAAT,EAAiBkM,OAAjB,EAA0B;AACxC,WAAKqC,UAAL;AACA9D,eAAS,CAACz+D,SAAV,CAAoBsgE,cAApB,CAAmC12B,IAAnC,CAAwC,IAAxC,EAA8CoqB,MAA9C,EAAsDkM,OAAtD;AACA,aAAO,KAAK4C,WAAL,GAAmBR,QAAnB,CAA4B,QAA5B,CAAP;AACD,KA5MgD;AA8MjD9B,YAAQ,EAAE,kBAASjK,IAAT,EAAe2J,OAAf,EAAwB;AAChC,WAAKqC,UAAL;AACA9D,eAAS,CAACz+D,SAAV,CAAoBwgE,QAApB,CAA6B52B,IAA7B,CAAkC,IAAlC,EAAwC2sB,IAAxC,EAA8C2J,OAA9C;AACA,aAAO,KAAK4C,WAAL,GAAmBR,QAAnB,CAA4B,MAA5B,CAAP;AACD;AAlNgD,GAAnD;AAqNA;AACF;AACA;;;AAEE,MAAIa,aAAa,GAAG,SAAhBA,aAAgB,CAAS15C,OAAT,EAAkBvpB,OAAlB,EAA2BkhE,MAA3B,EAAmC;AACjD1oE,8DAAC,CAAC2oE,QAAF,CAAWnhE,OAAX,EAAoB;AAChB,mBAAa,MADG;AAEhB,mBAAa,EAFG;AAGhB,qBAAe;AAHC,KAApB;;AAMA,SAAKqR,IAAL,CAAUkY,OAAV,EAAmBvpB,OAAnB,EAA4BkhE,MAA5B;AACD,GARL,CAzP8B,CAmQ9B;;;AACA1oE,4DAAC,CAACgW,MAAF,CAASy0D,aAAa,CAACnjE,SAAvB,EAAkCmhE,SAAS,CAACnhE,SAA5C,EAAuD;AACrDqgE,YAAQ,EAAE,kBAAS5C,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,EAAyBvJ,QAAzB,EAAmC6O,SAAnC,EAA8C;AACtD,UAAIlkE,IAAI,GAAG,KAAKsiE,MAAL,CAAYz2B,IAAZ,CAAiB2zB,QAAQ,CAACf,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAzB,EAA2C5nD,IAA3C,CAAgD6gD,IAAhD,CAAX;;AACA,UAAIxC,QAAQ,KAAK1xC,SAAjB,EAA4B;AAC1B3jB,YAAI,CAACgX,IAAL,CAAU,iBAAV,EAA6B,KAAKyrD,UAAL,CAAgBpN,QAAhB,CAA7B;AACD;;AACD,UAAI6O,SAAS,KAAKvgD,SAAlB,EAA6B;AAC3B3jB,YAAI,CAACgX,IAAL,CAAU,WAAV,EAAuB,KAAKwsD,aAAL,CAAmBU,SAAnB,CAAvB;AACD;;AACD,aAAO,KAAKN,WAAL,CAAiB5jE,IAAjB,CAAP;AACD,KAVoD;AAYrD8hE,YAAQ,EAAE,kBAAStgE,CAAT,EAAYC,CAAZ,EAAe89D,CAAf,EAAkB9sD,CAAlB,EAAqB;AAC7B,UAAIrQ,IAAI,GAAG,KAAKkgE,MAAL,CAAYz2B,IAAZ,CAAiByzB,QAAQ,CAAC99D,CAAD,EAAIC,CAAJ,EAAO89D,CAAP,EAAU9sD,CAAV,CAAzB,EAAuCuE,IAAvC,CAA4CirD,IAA5C,CAAX;AACA,aAAO,KAAK2B,WAAL,CAAiBxhE,IAAjB,CAAP;AACD;AAfoD,GAAvD;;AAkBA+7D,eAAa,CAAC,YAAD,EAAegE,SAAf,CAAb;AACAhE,eAAa,CAAC,UAAD,EAAegG,aAAf,CAAb;AACD;AAED;AACA;AACA;AACA;AACA;;AACA;;;AAEA,IAAI,OAAOC,OAAP,IAAkB,WAAtB,EAAmC;AAEjC,MAAIvM,IAAI,GAAG;AACT,cAAU,SADD;AAET,oBAAgB,CAFP;AAGT,YAAQ;AAHC,GAAX;AAMA,MAAIoK,IAAI,GAAG;AACL,cAAU,SADL;AAEL,oBAAgB,CAFX;AAGL,YAAQ;AAHH,GAAX;AAMA;AACF;AACA;;AACEmC,SAAO,CAACC,EAAR,CAAWrkE,IAAX,GAAkB,UAASy+D,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,EAAyB;AACzCZ,UAAM,CAACtkE,0DAAC,CAACmlE,KAAF,CAAQ,CAACJ,EAAD,EAAIE,EAAJ,EAAOD,EAAP,EAAUE,EAAV,CAAR,EAAuBllE,0DAAC,CAAColE,QAAzB,CAAD,EAAqC,6BAArC,CAAN;AACA,WAAO,KAAKjzB,IAAL,CAAU,mBAAV,EAA+B4yB,EAA/B,EAAmCC,EAAnC,EAAuCC,EAAvC,EAA2CC,EAA3C,CAAP;AACD,GAHD;AAKA;AACF;AACA;;;AAEE,MAAI0F,YAAY,GAAG,SAAfA,YAAe,CAAS75C,OAAT,EAAkBvpB,OAAlB,EAA2BkhE,MAA3B,EAAmC;AAChD,SAAK7vD,IAAL,CAAUkY,OAAV,EAAmB/wB,0DAAC,CAAC2oE,QAAF,CAAWnhE,OAAX,EAAoB;AACnC,mBAAa,EADsB;AAEnC,qBAAe;AAFoB,KAApB,CAAnB,EAGMkhE,MAHN;AAID,GALL;;AAOA1oE,4DAAC,CAACgW,MAAF,CAAS40D,YAAY,CAACtjE,SAAtB,EAAiCy+D,SAAS,CAACz+D,SAA3C,EAAsD;AAEpDuR,QAAI,EAAE,cAASkY,OAAT,EAAkBvpB,OAAlB,EAA2BkhE,MAA3B,EAAmC;AACvC3C,eAAS,CAACz+D,SAAV,CAAoBuR,IAApB,CAAyBq4B,IAAzB,CAA8B,IAA9B,EAAoCngB,OAApC;AAEA,WAAK63C,MAAL,GAAe3+C,SAAf;AACA,WAAK08C,KAAL,GAAe;AACH,qBAAan/D,OAAO,CAAC,WAAD,CADjB;AAEH,uBAAeA,OAAO,CAAC,aAAD;AAFnB,OAAf;AAKA,UAAIuf,CAAC,GAAG,KAAK+hD,WAAL,GAAmB,EAA3B;AACA/hD,OAAC,CAACq1C,SAAS,CAACC,MAAX,CAAD,GAAsB,OAAtB;AACAt1C,OAAC,CAACq1C,SAAS,CAACE,IAAX,CAAD,GAAsB,MAAtB;AAEA,UAAIr2C,CAAC,GAAG,KAAK8iD,UAAL,GAAkB,EAA1B;AACA9iD,OAAC,CAACg2C,QAAQ,CAACC,KAAV,CAAD,GAAqB,EAArB;AACAj2C,OAAC,CAACg2C,QAAQ,CAACE,MAAV,CAAD,GAAqB,GAArB;AAEAuM,YAAM,CAAC,IAAD,CAAN;AACD,KApBmD;AAsBpDvC,cAAU,EAAE,oBAAStxD,SAAT,EAAoB;AAC9B,WAAK+zD,MAAL,GAAc,IAAI8B,OAAJ,CAAY71D,SAAZ,EAAuB,GAAvB,EAA4B,GAA5B,CAAd;AACA,WAAK+zD,MAAL,CAAYj2D,QAAZ;AACD,KAzBmD;AA2BpDyzD,QAAI,EAAE,cAASvxD,SAAT,EAAoB;AACxBkxD,eAAS,CAACz+D,SAAV,CAAoB8+D,IAApB,CAAyBl1B,IAAzB,CAA8B,IAA9B,EAAoCr8B,SAApC;AACA,WAAK+zD,MAAL,CAAYiC,SAAZ;AACD,KA9BmD;AAgCpDxE,UAAM,EAAE,kBAAW;AACjBN,eAAS,CAACz+D,SAAV,CAAoB++D,MAApB,CAA2Bn1B,IAA3B,CAAgC,IAAhC;AACA,WAAK03B,MAAL,CAAYkC,OAAZ,CACC,KAAK/5C,OAAL,CAAa3oB,KADd,EAEC,KAAK2oB,OAAL,CAAa5oB,MAFd;AAID,KAtCmD;;AAwCpD;AACJ;AACA;AACI4iE,aAAS,EAAE,mBAASplE,IAAT,EAAe;AACxB,aAAOA,IAAI,CAACS,KAAL,CAAW,IAAX,EAAiB0gB,GAAjB,CAAqB,UAAShf,CAAT,EAAY;AACtC,eAAOA,CAAC,CAACogB,IAAF,EAAP;AACD,OAFM,EAEJtO,IAFI,CAEC,IAFD,CAAP;AAGD,KA/CmD;;AAiDpD;AACJ;AACA;AACIitD,YAAQ,EAAE,kBAASlhE,IAAT,EAAe+gE,IAAf,EAAqB;AAC7B/gE,UAAI,GAAG,KAAKolE,SAAL,CAAeplE,IAAf,CAAP;AACA+gE,UAAI,GAAGA,IAAI,IAAI,EAAf;AACA,UAAIzmE,CAAJ;;AACA,UAAIymE,IAAI,CAACsE,IAAT,EAAe;AACb/qE,SAAC,GAAG,KAAK2oE,MAAL,CAAYqC,KAAZ,CAAkB,CAAlB,EAAqB,CAArB,EAAwBtlE,IAAxB,EAA8B+gE,IAAI,CAACsE,IAAnC,EAAyCtE,IAAI,CAAC,WAAD,CAA7C,CAAJ;AACD,OAFD,MAEO;AACLzmE,SAAC,GAAG,KAAK2oE,MAAL,CAAYjjE,IAAZ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBA,IAAvB,CAAJ;AACA1F,SAAC,CAACqd,IAAF,CAAOopD,IAAP;AACD;;AAED,UAAIE,EAAE,GAAG3mE,CAAC,CAACgqE,OAAF,EAAT;AACAhqE,OAAC,CAACkgB,MAAF;AAEA,aAAOymD,EAAP;AACD,KAnEmD;AAqEpDe,YAAQ,EAAE,kBAAS5C,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,EAAyBvJ,QAAzB,EAAmC6O,SAAnC,EAA8C;AACtD,UAAIlkE,IAAI,GAAG,KAAKsiE,MAAL,CAAYtiE,IAAZ,CAAiBy+D,EAAjB,EAAqBC,EAArB,EAAyBC,EAAzB,EAA6BC,EAA7B,EAAiC5nD,IAAjC,CAAsC6gD,IAAtC,CAAX;;AACA,UAAIqM,SAAS,KAAKvgD,SAAlB,EAA6B;AAC3B3jB,YAAI,CAACgX,IAAL,CAAU,WAAV,EAAuB,KAAKwrD,WAAL,CAAiB0B,SAAjB,IAA8B,YAArD;AACD;;AACD,UAAIA,SAAS,KAAKvgD,SAAlB,EAA6B;AAC3B3jB,YAAI,CAACgX,IAAL,CAAU,kBAAV,EAA8B,KAAKyrD,UAAL,CAAgBpN,QAAhB,CAA9B;AACD;;AACD,aAAOr1D,IAAP;AACD,KA9EmD;AAgFpD8hE,YAAQ,EAAE,kBAAStgE,CAAT,EAAYC,CAAZ,EAAe89D,CAAf,EAAkB9sD,CAAlB,EAAqB;AAC7B,aAAO,KAAK6vD,MAAL,CAAYlgE,IAAZ,CAAiBZ,CAAjB,EAAoBC,CAApB,EAAuB89D,CAAvB,EAA0B9sD,CAA1B,EAA6BuE,IAA7B,CAAkCirD,IAAlC,CAAP;AACD,KAlFmD;;AAoFpD;AACJ;AACA;AACA;AACA;AACA;AACA;AACIR,YAAQ,EAAE,kBAASjgE,CAAT,EAAYC,CAAZ,EAAepC,IAAf,EAAqB+gE,IAArB,EAA2B/6C,KAA3B,EAAkC;AAC1ChmB,UAAI,GAAG,KAAKolE,SAAL,CAAeplE,IAAf,CAAP;AACA+gE,UAAI,GAAGA,IAAI,IAAI,EAAf;AACA/6C,WAAK,GAAGA,KAAK,IAAIw4C,UAAjB;AAEA,UAAI+G,KAAK,GAAG,KAAKtC,MAAjB;AACA,UAAIhC,EAAE,GAAG,KAAKC,QAAL,CAAclhE,IAAd,EAAoB+gE,IAApB,CAAT;;AAEA,UAAI/6C,KAAK,IAAIy4C,YAAb,EAA2B;AACzBt8D,SAAC,GAAGA,CAAC,GAAG8+D,EAAE,CAACx+D,KAAH,GAAW,CAAnB;AACAL,SAAC,GAAGA,CAAC,GAAG6+D,EAAE,CAACz+D,MAAH,GAAY,CAApB;AACD;;AAED,UAAIvB,CAAJ;;AACA,UAAI8/D,IAAI,CAACsE,IAAT,EAAe;AACb;AACApkE,SAAC,GAAGskE,KAAK,CAACD,KAAN,CAAYnjE,CAAC,GAAG8+D,EAAE,CAAC9+D,CAAnB,EAAsBC,CAAC,GAAG6+D,EAAE,CAAC7+D,CAA7B,EAAgCpC,IAAhC,EAAsC+gE,IAAI,CAACsE,IAA3C,EAAiDtE,IAAI,CAAC,WAAD,CAArD,CAAJ;AACD,OAHD,MAGO;AACL9/D,SAAC,GAAGskE,KAAK,CAACvlE,IAAN,CAAWmC,CAAC,GAAG8+D,EAAE,CAAC9+D,CAAP,GAAW8+D,EAAE,CAACx+D,KAAH,GAAW,CAAjC,EAAoCL,CAAC,GAAG6+D,EAAE,CAAC7+D,CAA3C,EAA8CpC,IAA9C,CAAJ;AACAiB,SAAC,CAAC0W,IAAF,CAAOopD,IAAP;AACA9/D,SAAC,CAAC0W,IAAF,CAAO;AAAC,yBAAe;AAAhB,SAAP;AACD;;AAED,aAAO1W,CAAP;AACD;AAnHmD,GAAtD;AAsHA;AACF;AACA;;;AAEE,MAAIukE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASp6C,OAAT,EAAkBvpB,OAAlB,EAA2BkhE,MAA3B,EAAmC;AACxD,SAAK7vD,IAAL,CAAUkY,OAAV,EAAmB/wB,0DAAC,CAAC2oE,QAAF,CAAWnhE,OAAX,EAAoB;AAC7B,mBAAa,EADgB;AAE7B,qBAAe;AAFc,KAApB,CAAnB,EAGYkhE,MAHZ;AAID,GALD,CA3JiC,CAkKjC;;;AACA1oE,4DAAC,CAACgW,MAAF,CAASm1D,gBAAgB,CAAC7jE,SAA1B,EAAqCsjE,YAAY,CAACtjE,SAAlD,EAA6D;AACvD6+D,cAAU,EAAE,oBAAStxD,SAAT,EAAoB;AAC5B+1D,kBAAY,CAACtjE,SAAb,CAAuB6+D,UAAvB,CAAkCj1B,IAAlC,CAAuC,IAAvC,EAA6Cr8B,SAA7C;AACA,WAAK8xD,KAAL,CAAWqE,IAAX,GAAkB,KAAKpC,MAAL,CAAYwC,OAAZ,CAAoB,QAApB,CAAlB;AACD,KAJoD;AAMvDzD,YAAQ,EAAE,kBAAS5C,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,EAAyBvJ,QAAzB,EAAmC6O,SAAnC,EAA8C;AACtD,UAAIlkE,IAAI,GAAG,KAAKsiE,MAAL,CAAYz2B,IAAZ,CAAiB2zB,QAAQ,CAACf,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,CAAzB,EAA2C5nD,IAA3C,CAAgD6gD,IAAhD,CAAX;;AACA,UAAIqM,SAAS,KAAKvgD,SAAlB,EAA6B;AAC3B3jB,YAAI,CAACgX,IAAL,CAAU,WAAV,EAAuB,KAAKwrD,WAAL,CAAiB0B,SAAjB,IAA8B,YAArD;AACD;;AACD,UAAIA,SAAS,KAAKvgD,SAAlB,EAA6B;AAC3B3jB,YAAI,CAACgX,IAAL,CAAU,kBAAV,EAA8B,KAAKyrD,UAAL,CAAgBpN,QAAhB,CAA9B;AACD;;AACD,aAAOr1D,IAAP;AACD,KAfsD;AAiBvD8hE,YAAQ,EAAE,kBAAStgE,CAAT,EAAYC,CAAZ,EAAe89D,CAAf,EAAkB9sD,CAAlB,EAAqB;AAC7B,aAAO,KAAK6vD,MAAL,CAAYz2B,IAAZ,CAAiByzB,QAAQ,CAAC99D,CAAD,EAAIC,CAAJ,EAAO89D,CAAP,EAAU9sD,CAAV,CAAzB,EAAuCuE,IAAvC,CAA4CirD,IAA5C,CAAP;AACD;AAnBsD,GAA7D;;AAsBA9D,eAAa,CAAC,eAAD,EAAkBmG,YAAlB,CAAb;AACAnG,eAAa,CAAC,aAAD,EAAkB0G,gBAAlB,CAAb;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAI,OAAOT,OAAP,IAAkB,WAAtB,EAAmC;AACnCA,SAAO,CAACW,YAAR,CAAqB;AACjB,SAAK,GADY;AAEjB,YAAQ;AACJ,qBAAe,QADX;AAEJ,qBAAe,GAFX;AAGJ,sBAAgB,QAHZ;AAIJ,sBAAgB,KAJZ;AAKJ,kBAAY,sBALR;AAMJ,gBAAU,KANN;AAOJ,iBAAW,KAPP;AAQJ,kBAAY,GARR;AASJ,cAAQ,+BATJ;AAUJ,6BAAuB,SAVnB;AAWJ,4BAAsB,UAXlB;AAYJ,uBAAiB;AAZb,KAFS;AAgBjB,cAAU;AACN,WAAK;AACD,aAAK;AADJ,OADC;AAIN,YAAM;AACF,aAAK;AADH,OAJA;AAON,YAAM;AACF,aAAK;AADH,OAPA;AAUN,WAAK;AACD,aAAK,6KADJ;AAED,aAAK;AAFJ,OAVC;AAcN,YAAM;AACF,aAAK,qJADH;AAEF,aAAK;AAFH,OAdA;AAkBN,WAAK;AACD,aAAK,yeADJ;AAED,aAAK;AAFJ,OAlBC;AAsBN,WAAK;AACD,aAAK,idADJ;AAED,aAAK;AAFJ,OAtBC;AA0BN,WAAK;AACD,aAAK,4eADJ;AAED,aAAK;AAFJ,OA1BC;AA8BN,WAAK;AACD,aAAK,8dADJ;AAED,aAAK;AAFJ,OA9BC;AAkCN,WAAK;AACD,aAAK,oFADJ;AAED,aAAK;AAFJ,OAlCC;AAsCN,WAAK;AACD,aAAK,uIADJ;AAED,aAAK;AAFJ,OAtCC;AA0CN,WAAK;AACD,aAAK,2JADJ;AAED,aAAK;AAFJ,OA1CC;AA8CN,WAAK;AACD,aAAK,0PADJ;AAED,aAAK;AAFJ,OA9CC;AAkDN,WAAK;AACD,aAAK,8KADJ;AAED,aAAK;AAFJ,OAlDC;AAsDN,WAAK;AACD,aAAK,sFADJ;AAED,aAAK;AAFJ,OAtDC;AA0DN,WAAK;AACD,aAAK,wFADJ;AAED,aAAK;AAFJ,OA1DC;AA8DN,WAAK;AACD,aAAK,qDADJ;AAED,aAAK;AAFJ,OA9DC;AAkEN,YAAM;AACF,aAAK,uHADH;AAEF,aAAK;AAFH,OAlEA;AAsEN,WAAK;AACD,aAAK,yQADJ;AAED,aAAK;AAFJ,OAtEC;AA0EN,WAAK;AACD,aAAK,gGADJ;AAED,aAAK;AAFJ,OA1EC;AA8EN,WAAK;AACD,aAAK,0UADJ;AAED,aAAK;AAFJ,OA9EC;AAkFN,WAAK;AACD,aAAK,qVADJ;AAED,aAAK;AAFJ,OAlFC;AAsFN,WAAK;AACD,aAAK,yTADJ;AAED,aAAK;AAFJ,OAtFC;AA0FN,WAAK;AACD,aAAK,8SADJ;AAED,aAAK;AAFJ,OA1FC;AA8FN,WAAK;AACD,aAAK,wVADJ;AAED,aAAK;AAFJ,OA9FC;AAkGN,WAAK;AACD,aAAK,8OADJ;AAED,aAAK;AAFJ,OAlGC;AAsGN,WAAK;AACD,aAAK,gXADJ;AAED,aAAK;AAFJ,OAtGC;AA0GN,WAAK;AACD,aAAK,iPADJ;AAED,aAAK;AAFJ,OA1GC;AA8GN,WAAK;AACD,aAAK,kIADJ;AAED,aAAK;AAFJ,OA9GC;AAkHN,WAAK;AACD,aAAK,uKADJ;AAED,aAAK;AAFJ,OAlHC;AAsHN,WAAK;AACD,aAAK,oIADJ;AAED,aAAK;AAFJ,OAtHC;AA0HN,WAAK;AACD,aAAK,qMADJ;AAED,aAAK;AAFJ,OA1HC;AA8HN,WAAK;AACD,aAAK,+KADJ;AAED,aAAK;AAFJ,OA9HC;AAkIN,WAAK;AACD,aAAK,gQADJ;AAED,aAAK;AAFJ,OAlIC;AAsIN,WAAK;AACD,aAAK,qXADJ;AAED,aAAK;AAFJ,OAtIC;AA0IN,WAAK;AACD,aAAK,8WADJ;AAED,aAAK;AAFJ,OA1IC;AA8IN,WAAK;AACD,aAAK,goBADJ;AAED,aAAK;AAFJ,OA9IC;AAkJN,WAAK;AACD,aAAK,wQADJ;AAED,aAAK;AAFJ,OAlJC;AAsJN,WAAK;AACD,aAAK,ksBADJ;AAED,aAAK;AAFJ,OAtJC;AA0JN,WAAK;AACD,aAAK,uXADJ;AAED,aAAK;AAFJ,OA1JC;AA8JN,WAAK;AACD,aAAK,8TADJ;AAED,aAAK;AAFJ,OA9JC;AAkKN,WAAK;AACD,aAAK,oVADJ;AAED,aAAK;AAFJ,OAlKC;AAsKN,WAAK;AACD,aAAK,8RADJ;AAED,aAAK;AAFJ,OAtKC;AA0KN,WAAK;AACD,aAAK,sHADJ;AAED,aAAK;AAFJ,OA1KC;AA8KN,WAAK;AACD,aAAK,gLADJ;AAED,aAAK;AAFJ,OA9KC;AAkLN,WAAK;AACD,aAAK,gVADJ;AAED,aAAK;AAFJ,OAlLC;AAsLN,WAAK;AACD,aAAK,gNADJ;AAED,aAAK;AAFJ,OAtLC;AA0LN,WAAK;AACD,aAAK,gWADJ;AAED,aAAK;AAFJ,OA1LC;AA8LN,WAAK;AACD,aAAK,0PADJ;AAED,aAAK;AAFJ,OA9LC;AAkMN,WAAK;AACD,aAAK,6SADJ;AAED,aAAK;AAFJ,OAlMC;AAsMN,WAAK;AACD,aAAK,qUADJ;AAED,aAAK;AAFJ,OAtMC;AA0MN,WAAK;AACD,aAAK,icADJ;AAED,aAAK;AAFJ,OA1MC;AA8MN,WAAK;AACD,aAAK,2bADJ;AAED,aAAK;AAFJ,OA9MC;AAkNN,WAAK;AACD,aAAK,2TADJ;AAED,aAAK;AAFJ,OAlNC;AAsNN,WAAK;AACD,aAAK,mPADJ;AAED,aAAK;AAFJ,OAtNC;AA0NN,WAAK;AACD,aAAK,yRADJ;AAED,aAAK;AAFJ,OA1NC;AA8NN,WAAK;AACD,aAAK,2QADJ;AAED,aAAK;AAFJ,OA9NC;AAkON,WAAK;AACD,aAAK,yWADJ;AAED,aAAK;AAFJ,OAlOC;AAsON,WAAK;AACD,aAAK,2RADJ;AAED,aAAK;AAFJ,OAtOC;AA0ON,WAAK;AACD,aAAK,mNADJ;AAED,aAAK;AAFJ,OA1OC;AA8ON,WAAK;AACD,aAAK,sRADJ;AAED,aAAK;AAFJ,OA9OC;AAkPN,WAAK;AACD,aAAK,6LADJ;AAED,aAAK;AAFJ,OAlPC;AAsPN,YAAM;AACF,aAAK,wHADH;AAEF,aAAK;AAFH,OAtPA;AA0PN,WAAK;AACD,aAAK,oOADJ;AAED,aAAK;AAFJ,OA1PC;AA8PN,WAAK;AACD,aAAK,2HADJ;AAED,aAAK;AAFJ,OA9PC;AAkQN,WAAK;AACD,aAAK,qGADJ;AAED,aAAK;AAFJ,OAlQC;AAsQN,WAAK;AACD,aAAK,sFADJ;AAED,aAAK;AAFJ,OAtQC;AA0QN,WAAK;AACD,aAAK,4KADJ;AAED,aAAK;AAFJ,OA1QC;AA8QN,WAAK;AACD,aAAK,2VADJ;AAED,aAAK;AAFJ,OA9QC;AAkRN,WAAK;AACD,aAAK,oJADJ;AAED,aAAK;AAFJ,OAlRC;AAsRN,WAAK;AACD,aAAK,wOADJ;AAED,aAAK;AAFJ,OAtRC;AA0RN,WAAK;AACD,aAAK,8OADJ;AAED,aAAK;AAFJ,OA1RC;AA8RN,WAAK;AACD,aAAK,oQADJ;AAED,aAAK;AAFJ,OA9RC;AAkSN,WAAK;AACD,aAAK,uXADJ;AAED,aAAK;AAFJ,OAlSC;AAsSN,WAAK;AACD,aAAK,sQADJ;AAED,aAAK;AAFJ,OAtSC;AA0SN,WAAK;AACD,aAAK,iJADJ;AAED,aAAK;AAFJ,OA1SC;AA8SN,WAAK;AACD,aAAK,2MADJ;AAED,aAAK;AAFJ,OA9SC;AAkTN,WAAK;AACD,aAAK,4PADJ;AAED,aAAK;AAFJ,OAlTC;AAsTN,WAAK;AACD,aAAK,qHADJ;AAED,aAAK;AAFJ,OAtTC;AA0TN,WAAK;AACD,aAAK,uRADJ;AAED,aAAK;AAFJ,OA1TC;AA8TN,WAAK;AACD,aAAK,wJADJ;AAED,aAAK;AAFJ,OA9TC;AAkUN,WAAK;AACD,aAAK,sJADJ;AAED,aAAK;AAFJ,OAlUC;AAsUN,WAAK;AACD,aAAK,sTADJ;AAED,aAAK;AAFJ,OAtUC;AA0UN,WAAK;AACD,aAAK,uRADJ;AAED,aAAK;AAFJ,OA1UC;AA8UN,WAAK;AACD,aAAK,iJADJ;AAED,aAAK;AAFJ,OA9UC;AAkVN,WAAK;AACD,aAAK,uPADJ;AAED,aAAK;AAFJ,OAlVC;AAsVN,WAAK;AACD,aAAK,8OADJ;AAED,aAAK;AAFJ,OAtVC;AA0VN,WAAK;AACD,aAAK,wKADJ;AAED,aAAK;AAFJ,OA1VC;AA8VN,WAAK;AACD,aAAK,oJADJ;AAED,aAAK;AAFJ,OA9VC;AAkWN,WAAK;AACD,aAAK,kOADJ;AAED,aAAK;AAFJ,OAlWC;AAsWN,WAAK;AACD,aAAK,8PADJ;AAED,aAAK;AAFJ,OAtWC;AA0WN,WAAK;AACD,aAAK,4PADJ;AAED,aAAK;AAFJ,OA1WC;AA8WN,WAAK;AACD,aAAK,6NADJ;AAED,aAAK;AAFJ,OA9WC;AAkXN,WAAK;AACD,aAAK,qTADJ;AAED,aAAK;AAFJ,OAlXC;AAsXN,WAAK;AACD,aAAK,kIADJ;AAED,aAAK;AAFJ,OAtXC;AA0XN,WAAK;AACD,aAAK,kQADJ;AAED,aAAK;AAFJ,OA1XC;AA8XN,WAAK;AACD,aAAK,iKADJ;AAED,aAAK;AAFJ,OA9XC;AAkYN,cAAU;AACN,aAAK;AADC,OAlYJ;AAqYN,cAAU;AACN,aAAK,8MADC;AAEN,aAAK;AAFC,OArYJ;AAyYN,cAAU;AACN,aAAK,8QADC;AAEN,aAAK;AAFC,OAzYJ;AA6YN,cAAU;AACN,aAAK,sZADC;AAEN,aAAK;AAFC,OA7YJ;AAiZN,cAAU;AACN,aAAK,2YADC;AAEN,aAAK;AAFC,OAjZJ;AAqZN,gBAAU;AACN,aAAK,2YADC;AAEN,aAAK;AAFC,OArZJ;AAyZN,cAAU;AACN,aAAK,oaADC;AAEN,aAAK;AAFC,OAzZJ;AA6ZN,cAAU;AACN,aAAK,mVADC;AAEN,aAAK;AAFC,OA7ZJ;AAiaN,cAAU;AACN,aAAK,kIADC;AAEN,aAAK;AAFC,OAjaJ;AAqaN,cAAU;AACN,aAAK,4TADC;AAEN,aAAK;AAFC,OAraJ;AAyaN,cAAU;AACN,aAAK,sIADC;AAEN,aAAK;AAFC,OAzaJ;AA6aN,cAAU;AACN,aAAK,8SADC;AAEN,aAAK;AAFC,OA7aJ;AAibN,cAAU;AACN,aAAK,6LADC;AAEN,aAAK;AAFC,OAjbJ;AAqbN,cAAU;AACN,aAAK,4VADC;AAEN,aAAK;AAFC,OArbJ;AAybN,cAAU;AACN,aAAK,uGADC;AAEN,aAAK;AAFC,OAzbJ;AA6bN,cAAU;AACN,aAAK,oIADC;AAEN,aAAK;AAFC,OA7bJ;AAicN,cAAU;AACN,aAAK,mOADC;AAEN,aAAK;AAFC,OAjcJ;AAqcN,cAAU;AACN,aAAK,2FADC;AAEN,aAAK;AAFC,OArcJ;AAycN,cAAU;AACN,aAAK,2UADC;AAEN,aAAK;AAFC,OAzcJ;AA6cN,cAAU;AACN,aAAK,gKADC;AAEN,aAAK;AAFC,OA7cJ;AAidN,cAAU;AACN,aAAK,iHADC;AAEN,aAAK;AAFC,OAjdJ;AAqdN,cAAU;AACN,aAAK,yRADC;AAEN,aAAK;AAFC,OArdJ;AAydN,cAAU;AACN,aAAK,gTADC;AAEN,aAAK;AAFC,OAzdJ;AA6dN,cAAU;AACN,aAAK;AADC,OA7dJ;AAgeN,cAAU;AACN,aAAK;AADC,OAheJ;AAmeN,cAAU;AACN,aAAK;AADC,OAneJ;AAseN,cAAU;AACN,aAAK;AADC,OAteJ;AAyeN,cAAU;AACN,aAAK;AADC,OAzeJ;AA4eN,cAAU;AACN,aAAK;AADC,OA5eJ;AA+eN,cAAU;AACN,aAAK,6YADC;AAEN,aAAK;AAFC,OA/eJ;AAmfN,cAAU;AACN,aAAK,saADC;AAEN,aAAK;AAFC,OAnfJ;AAufN,cAAU;AACN,aAAK,kZADC;AAEN,aAAK;AAFC,OAvfJ;AA2fN,cAAU;AACN,aAAK,yZADC;AAEN,aAAK;AAFC,OA3fJ;AA+fN,cAAU;AACN,aAAK,0cADC;AAEN,aAAK;AAFC,OA/fJ;AAmgBN,cAAU;AACN,aAAK,6bADC;AAEN,aAAK;AAFC,OAngBJ;AAugBN,cAAU;AACN,aAAK,mMADC;AAEN,aAAK;AAFC,OAvgBJ;AA2gBN,cAAU;AACN,aAAK,gMADC;AAEN,aAAK;AAFC,OA3gBJ;AA+gBN,cAAU;AACN,aAAK,uPADC;AAEN,aAAK;AAFC,OA/gBJ;AAmhBN,cAAU;AACN,aAAK,4OADC;AAEN,aAAK;AAFC,OAnhBJ;AAuhBN,cAAU;AACN,aAAK,6aADC;AAEN,aAAK;AAFC,OAvhBJ;AA2hBN,cAAU;AACN,aAAK,8TADC;AAEN,aAAK;AAFC,OA3hBJ;AA+hBN,cAAU;AACN,aAAK,kUADC;AAEN,aAAK;AAFC,OA/hBJ;AAmiBN,cAAU;AACN,aAAK,sUADC;AAEN,aAAK;AAFC,OAniBJ;AAuiBN,cAAU;AACN,aAAK,gaADC;AAEN,aAAK;AAFC,OAviBJ;AA2iBN,cAAU;AACN,aAAK,wWADC;AAEN,aAAK;AAFC,OA3iBJ;AA+iBN,cAAU;AACN,aAAK,kXADC;AAEN,aAAK;AAFC,OA/iBJ;AAmjBN,cAAU;AACN,aAAK,8SADC;AAEN,aAAK;AAFC,OAnjBJ;AAujBN,cAAU;AACN,aAAK,wRADC;AAEN,aAAK;AAFC,OAvjBJ;AA2jBN,cAAU;AACN,aAAK,mVADC;AAEN,aAAK;AAFC,OA3jBJ;AA+jBN,cAAU;AACN,aAAK,0VADC;AAEN,aAAK;AAFC,OA/jBJ;AAmkBN,cAAU;AACN,aAAK;AADC,OAnkBJ;AAskBN,cAAU;AACN,aAAK,kRADC;AAEN,aAAK;AAFC,OAtkBJ;AA0kBN,cAAU;AACN,aAAK,oQADC;AAEN,aAAK;AAFC,OA1kBJ;AA8kBN,cAAU;AACN,aAAK,0UADC;AAEN,aAAK;AAFC,OA9kBJ;AAklBN,cAAU;AACN,aAAK,mVADC;AAEN,aAAK;AAFC,OAllBJ;AAslBN,cAAU;AACN,aAAK,2SADC;AAEN,aAAK;AAFC,OAtlBJ;AA0lBN,cAAU;AACN,aAAK,iUADC;AAEN,aAAK;AAFC,OA1lBJ;AA8lBN,cAAU;AACN,aAAK,0RADC;AAEN,aAAK;AAFC,OA9lBJ;AAkmBN,cAAU;AACN,aAAK,mTADC;AAEN,aAAK;AAFC,OAlmBJ;AAsmBN,cAAU;AACN,aAAK,iSADC;AAEN,aAAK;AAFC,OAtmBJ;AA0mBN,cAAU;AACN,aAAK,sSADC;AAEN,aAAK;AAFC,OA1mBJ;AA8mBN,cAAU;AACN,aAAK,wVADC;AAEN,aAAK;AAFC,OA9mBJ;AAknBN,cAAU;AACN,aAAK,mUADC;AAEN,aAAK;AAFC,OAlnBJ;AAsnBN,cAAU;AACN,aAAK,0KADC;AAEN,aAAK;AAFC,OAtnBJ;AA0nBN,cAAU;AACN,aAAK,8KADC;AAEN,aAAK;AAFC,OA1nBJ;AA8nBN,cAAU;AACN,aAAK,+NADC;AAEN,aAAK;AAFC,OA9nBJ;AAkoBN,cAAU;AACN,aAAK,oMADC;AAEN,aAAK;AAFC,OAloBJ;AAsoBN,cAAU;AACN,aAAK,+TADC;AAEN,aAAK;AAFC,OAtoBJ;AA0oBN,cAAU;AACN,aAAK,gQADC;AAEN,aAAK;AAFC,OA1oBJ;AA8oBN,cAAU;AACN,aAAK,8OADC;AAEN,aAAK;AAFC,OA9oBJ;AAkpBN,cAAU;AACN,aAAK,iSADC;AAEN,aAAK;AAFC,OAlpBJ;AAspBN,cAAU;AACN,aAAK,gWADC;AAEN,aAAK;AAFC,OAtpBJ;AA0pBN,cAAU;AACN,aAAK,ySADC;AAEN,aAAK;AAFC,OA1pBJ;AA8pBN,cAAU;AACN,aAAK,wQADC;AAEN,aAAK;AAFC,OA9pBJ;AAkqBN,cAAU;AACN,aAAK,4UADC;AAEN,aAAK;AAFC,OAlqBJ;AAsqBN,cAAU;AACN,aAAK,0QADC;AAEN,aAAK;AAFC,OAtqBJ;AA0qBN,cAAU;AACN,aAAK,+QADC;AAEN,aAAK;AAFC,OA1qBJ;AA8qBN,cAAU;AACN,aAAK,gUADC;AAEN,aAAK;AAFC,OA9qBJ;AAkrBN,cAAU;AACN,aAAK,qTADC;AAEN,aAAK;AAFC,OAlrBJ;AAsrBN,cAAU;AACN,aAAK,4ZADC;AAEN,aAAK;AAFC,OAtrBJ;AA0rBN,gBAAU;AACN,aAAK,sFADC;AAEN,aAAK;AAFC,OA1rBJ;AA8rBN,gBAAU;AACN,aAAK,ycADC;AAEN,aAAK;AAFC,OA9rBJ;AAksBN,gBAAU;AACN,aAAK,uWADC;AAEN,aAAK;AAFC,OAlsBJ;AAssBN,gBAAU;AACN,aAAK,8TADC;AAEN,aAAK;AAFC,OAtsBJ;AA0sBN,gBAAU;AACN,aAAK,2SADC;AAEN,aAAK;AAFC,OA1sBJ;AA8sBN,gBAAU;AACN,aAAK,+JADC;AAEN,aAAK;AAFC,OA9sBJ;AAktBN,gBAAU;AACN,aAAK,qGADC;AAEN,aAAK;AAFC,OAltBJ;AAstBN,gBAAU;AACN,aAAK,2GADC;AAEN,aAAK;AAFC,OAttBJ;AA0tBN,gBAAU;AACN,aAAK,4DADC;AAEN,aAAK;AAFC,OA1tBJ;AA8tBN,gBAAU;AACN,aAAK,uIADC;AAEN,aAAK;AAFC,OA9tBJ;AAkuBN,gBAAU;AACN,aAAK,6KADC;AAEN,aAAK;AAFC,OAluBJ;AAsuBN,gBAAU;AACN,aAAK,yLADC;AAEN,aAAK;AAFC,OAtuBJ;AA0uBN,gBAAU;AACN,aAAK,oOADC;AAEN,aAAK;AAFC,OA1uBJ;AA8uBN,gBAAU;AACN,aAAK,uGADC;AAEN,aAAK;AAFC,OA9uBJ;AAkvBN,gBAAU;AACN,aAAK,mIADC;AAEN,aAAK;AAFC,OAlvBJ;AAsvBN,gBAAU;AACN,aAAK,yFADC;AAEN,aAAK;AAFC,OAtvBJ;AA0vBN,gBAAU;AACN,aAAK,uGADC;AAEN,aAAK;AAFC,OA1vBJ;AA8vBN,gBAAU;AACN,aAAK,sFADC;AAEN,aAAK;AAFC,OA9vBJ;AAkwBN,gBAAU;AACN,aAAK,yMADC;AAEN,aAAK;AAFC,OAlwBJ;AAswBN,gBAAU;AACN,aAAK,mMADC;AAEN,aAAK;AAFC,OAtwBJ;AA0wBN,gBAAU;AACN,aAAK,2KADC;AAEN,aAAK;AAFC,OA1wBJ;AA8wBN,gBAAU;AACN,aAAK,2JADC;AAEN,aAAK;AAFC,OA9wBJ;AAkxBN,gBAAU;AACN,aAAK,8NADC;AAEN,aAAK;AAFC,OAlxBJ;AAsxBN,gBAAU;AACN,aAAK,yEADC;AAEN,aAAK;AAFC,OAtxBJ;AA0xBN,gBAAU;AACN,aAAK,gLADC;AAEN,aAAK;AAFC,OA1xBJ;AA8xBN,gBAAU;AACN,aAAK,wuBADC;AAEN,aAAK;AAFC,OA9xBJ;AAkyBN,gBAAU;AACN,aAAK,kIADC;AAEN,aAAK;AAFC,OAlyBJ;AAsyBN,gBAAU;AACN,aAAK,wGADC;AAEN,aAAK;AAFC,OAtyBJ;AA0yBN,gBAAU;AACN,aAAK,0HADC;AAEN,aAAK;AAFC,OA1yBJ;AA8yBN,gBAAU;AACN,aAAK,4SADC;AAEN,aAAK;AAFC,OA9yBJ;AAkzBN,gBAAU;AACN,aAAK,sMADC;AAEN,aAAK;AAFC,OAlzBJ;AAszBN,gBAAU;AACN,aAAK,gEADC;AAEN,aAAK;AAFC,OAtzBJ;AA0zBN,gBAAU;AACN,aAAK,2LADC;AAEN,aAAK;AAFC,OA1zBJ;AA8zBN,gBAAU;AACN,aAAK,2UADC;AAEN,aAAK;AAFC,OA9zBJ;AAk0BN,gBAAU;AACN,aAAK,oOADC;AAEN,aAAK;AAFC,OAl0BJ;AAs0BN,gBAAU;AACN,aAAK,uQADC;AAEN,aAAK;AAFC,OAt0BJ;AA00BN,gBAAU;AACN,aAAK,iQADC;AAEN,aAAK;AAFC,OA10BJ;AA80BN,gBAAU;AACN,aAAK,oOADC;AAEN,aAAK;AAFC,OA90BJ;AAk1BN,gBAAU;AACN,aAAK,iOADC;AAEN,aAAK;AAFC,OAl1BJ;AAs1BN,gBAAU;AACN,aAAK,kOADC;AAEN,aAAK;AAFC;AAt1BJ;AAhBO,GAArB;AA42BC;AACD;AACA;AACA;AACA;AACA;;AACA;;;AAEA,IAAI,OAAOX,OAAP,IAAkB,WAAlB,IAAiC,OAAOrC,IAAP,IAAe,WAApD,EAAiE;AAC/D,QAAM,IAAIrlE,KAAJ,CAAU,iDAAV,CAAN;AACD;;AAED,IAAIhD,0DAAC,CAACsrE,OAAF,CAAU5yD,OAAO,CAAC8rD,MAAlB,CAAJ,EAA+B;AAC7B;AACA;AACA,QAAM,IAAIxhE,KAAJ,CAAU,4DAAV,CAAN;AACD,C,CAED;;;AACA0V,OAAO,CAAC8rD,MAAR,CAAe+G,IAAf,GAAsB7yD,OAAO,CAAC8rD,MAAR,CAAegH,QAAf,IAA2B9yD,OAAO,CAAC8rD,MAAR,CAAeiH,WAAhE;AACA/yD,OAAO,CAAC8rD,MAAR,CAAekH,MAAf,GAAwBhzD,OAAO,CAAC8rD,MAAR,CAAemH,UAAf,IAA6BjzD,OAAO,CAAC8rD,MAAR,CAAeoH,aAApE;AAEA;AACA;AACA;AACA;;AACAlzD,OAAO,CAACpR,SAAR,CAAkB0pB,OAAlB,GAA4B,UAASnc,SAAT,EAAoBrN,OAApB,EAA6B;AACvD,MAAI4jC,cAAc,GAAG;AACnB9a,SAAK,EAAE;AADY,GAArB;AAIA9oB,SAAO,GAAGxH,0DAAC,CAAC2oE,QAAF,CAAWnhE,OAAO,IAAI,EAAtB,EAA0B4jC,cAA1B,CAAV;;AAEA,MAAI,EAAE5jC,OAAO,CAAC8oB,KAAR,IAAiB5X,OAAO,CAAC8rD,MAA3B,CAAJ,EAAwC;AACtC,UAAM,IAAIxhE,KAAJ,CAAU,wBAAwBwE,OAAO,CAAC8oB,KAA1C,CAAN;AACD,GATsD,CAWvD;;;AACA,MAAIu7C,GAAG,GAAG7rE,0DAAC,CAAC8rE,QAAF,CAAWj3D,SAAX,IAAwBtD,QAAQ,CAACw6D,cAAT,CAAwBl3D,SAAxB,CAAxB,GAA6DA,SAAvE;;AACA,MAAIg3D,GAAG,KAAK,IAAR,IAAgB,CAACA,GAAG,CAAChnC,OAAzB,EAAkC;AAChC,UAAM,IAAI7hC,KAAJ,CAAU,wBAAwB6R,SAAlC,CAAN;AACD;;AAED,MAAIm3D,KAAK,GAAGtzD,OAAO,CAAC8rD,MAAR,CAAeh9D,OAAO,CAAC8oB,KAAvB,CAAZ;AACA,MAAI07C,KAAJ,CAAU,IAAV,EAAgBxkE,OAAhB,EAAyB,UAASykE,OAAT,EAAkB;AACvCA,WAAO,CAAC7F,IAAR,CAAayF,GAAb;AACD,GAFH;AAGD,CArBD,C,CAqBG;;;AAEYnzD,gEAAf,E;;;;;;;;ACzoFA,uC;;;;;;;ACAA,iCAAiC,4rC;;;;;;;ACAjC,iCAAiC,4oE;;;;;;;ACAjC,uC;;;;;;;ACAA,iCAAiC,wiC;;;;;;;ACAjC,iCAAiC,woD;;;;;;;ACAjC,iCAAiC,4hC;;;;;;;ACAjC,iCAAiC,wzB;;;;;;;ACAjC,iCAAiC,wmD;;;;;;;ACAjC,uC;;;;;;;ACAA,iCAAiC,45B;;;;;;;ACAjC,iCAAiC,wtC;;;;;;;ACAjC,iCAAiC,w+D;;;;;;;ACAjC,iCAAiC,of;;;;;;;ACAjC,iCAAiC,wgB;;;;;;;ACAjC,iCAAiC,orC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAjC;AAA+E,aAAU;AAAC,WAASwzD,EAAT,CAAYnlD,CAAZ,EAAc+I,CAAd,EAAgBD,CAAhB,EAAkB;AAAC,WAAO9I,CAAC,CAACmqB,IAAF,CAAO1vC,KAAP,CAAaulB,CAAC,CAAC4Z,IAAf,EAAoBj/B,SAApB,CAAP;AAAsC;;AAAA,WAASyqE,EAAT,CAAYplD,CAAZ,EAAc+I,CAAd,EAAgBD,CAAhB,EAAkB;AAAC,QAAG,CAAC9I,CAAJ,EAAM,MAAM/jB,KAAK,EAAX;;AAAc,QAAG,IAAEtB,SAAS,CAAClC,MAAf,EAAsB;AAAC,UAAI2nE,CAAC,GAACjlE,KAAK,CAACoF,SAAN,CAAgB8N,KAAhB,CAAsB87B,IAAtB,CAA2BxvC,SAA3B,EAAqC,CAArC,CAAN;AAA8C,aAAO,YAAU;AAAC,YAAImuB,CAAC,GAAC3tB,KAAK,CAACoF,SAAN,CAAgB8N,KAAhB,CAAsB87B,IAAtB,CAA2BxvC,SAA3B,CAAN;AAA4CQ,aAAK,CAACoF,SAAN,CAAgB4mB,OAAhB,CAAwB1sB,KAAxB,CAA8BquB,CAA9B,EAAgCs3C,CAAhC;AAAmC,eAAOpgD,CAAC,CAACvlB,KAAF,CAAQsuB,CAAR,EAAUD,CAAV,CAAP;AAAoB,OAArH;AAAsH;;AAAA,WAAO,YAAU;AAAC,aAAO9I,CAAC,CAACvlB,KAAF,CAAQsuB,CAAR,EAAUpuB,SAAV,CAAP;AAA4B,KAA9C;AAA+C;;AAAA,WAASzB,CAAT,CAAW8mB,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiB;AAAC5vB,KAAC,GAACmsE,QAAQ,CAAC9kE,SAAT,CAAmBq5B,IAAnB,IAAyB,CAAC,CAAD,IAAIyrC,QAAQ,CAAC9kE,SAAT,CAAmBq5B,IAAnB,CAAwBhiC,QAAxB,GAAmC2Q,OAAnC,CAA2C,aAA3C,CAA7B,GAAuF48D,EAAvF,GAA0FC,EAA5F;AAA+F,WAAOlsE,CAAC,CAACuB,KAAF,CAAQ,IAAR,EAAaE,SAAb,CAAP;AAA+B;;AAAA,MAAI2qE,CAAC,GAAC3tE,IAAI,CAAC6C,GAAL,IAAU,YAAU;AAAC,WAAM,CAAC,IAAI7C,IAAJ,EAAP;AAAgB,GAA3C;;AAA4C,WAAS4tE,EAAT,CAAYvlD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAK/I,CAAL,GAAOA,CAAP;AAAS,SAAK+1C,CAAL,GAAOhtC,CAAC,IAAE/I,CAAV;AAAY,SAAK8I,CAAL,GAAO,KAAKitC,CAAL,CAAOvrD,QAAd;AAAuB;;AAAA,MAAIg7D,EAAE,GAAC,CAAC,CAAC5nE,MAAM,CAAC6nE,QAAhB;;AAAyB,WAAS5lE,CAAT,CAAWmgB,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiBs3C,CAAjB,EAAmB;AAACr3C,KAAC,GAAC/I,CAAC,CAAC8I,CAAF,CAAI/a,aAAJ,CAAkBgb,CAAlB,CAAF;AAAuB,QAAGD,CAAH,EAAK,KAAI,IAAIwa,CAAR,IAAaxa,CAAb;AAAeA,OAAC,CAAC0gB,cAAF,CAAiBlG,CAAjB,MAAsB,WAASA,CAAT,GAAWva,CAAC,CAACnP,KAAF,CAAQ8rD,OAAR,GAAgB58C,CAAC,CAACwa,CAAD,CAA5B,GAAgCva,CAAC,CAACxD,YAAF,CAAe+d,CAAf,EAAiBxa,CAAC,CAACwa,CAAD,CAAlB,CAAtD;AAAf;AAA6F88B,KAAC,IAAEr3C,CAAC,CAAC/a,WAAF,CAAcgS,CAAC,CAAC8I,CAAF,CAAI20B,cAAJ,CAAmB2iB,CAAnB,CAAd,CAAH;AAAwC,WAAOr3C,CAAP;AAAS;;AAAA,WAAS/U,CAAT,CAAWgM,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiB;AAAC9I,KAAC,GAACA,CAAC,CAAC8I,CAAF,CAAI68C,oBAAJ,CAAyB58C,CAAzB,EAA4B,CAA5B,CAAF;AAAiC/I,KAAC,KAAGA,CAAC,GAACxV,QAAQ,CAAC6a,eAAd,CAAD;AAAgCrF,KAAC,CAAC5H,YAAF,CAAe0Q,CAAf,EAAiB9I,CAAC,CAACyZ,SAAnB;AAA8B;;AAAA,WAASw8B,CAAT,CAAWj2C,CAAX,EAAa;AAACA,KAAC,CAAChY,UAAF,IAAcgY,CAAC,CAAChY,UAAF,CAAa49D,WAAb,CAAyB5lD,CAAzB,CAAd;AAA0C;;AAC7hC,WAAS8+C,CAAT,CAAW9+C,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiB;AAACC,KAAC,GAACA,CAAC,IAAE,EAAL;AAAQD,KAAC,GAACA,CAAC,IAAE,EAAL;;AAAQ,SAAI,IAAIs3C,CAAC,GAACpgD,CAAC,CAAC9Y,SAAF,CAAY7H,KAAZ,CAAkB,KAAlB,CAAN,EAA+BikC,CAAC,GAAC,CAArC,EAAuCA,CAAC,GAACva,CAAC,CAACtwB,MAA3C,EAAkD6qC,CAAC,IAAE,CAArD,EAAuD;AAAC,WAAI,IAAI6X,CAAC,GAAC,CAAC,CAAP,EAASmoB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAAClD,CAAC,CAAC3nE,MAArB,EAA4B6qE,CAAC,IAAE,CAA/B;AAAiC,YAAGv6C,CAAC,CAACua,CAAD,CAAD,KAAO88B,CAAC,CAACkD,CAAD,CAAX,EAAe;AAACnoB,WAAC,GAAC,CAAC,CAAH;AAAK;AAAM;AAA5D;;AAA4DA,OAAC,IAAEilB,CAAC,CAAC/kE,IAAF,CAAO0tB,CAAC,CAACua,CAAD,CAAR,CAAH;AAAgB;;AAAAva,KAAC,GAAC,EAAF;;AAAK,SAAIua,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC88B,CAAC,CAAC3nE,MAAZ,EAAmB6qC,CAAC,IAAE,CAAtB,EAAwB;AAAC6X,OAAC,GAAC,CAAC,CAAH;;AAAK,WAAImoB,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACx6C,CAAC,CAACrwB,MAAZ,EAAmB6qE,CAAC,IAAE,CAAtB;AAAwB,YAAGlD,CAAC,CAAC98B,CAAD,CAAD,KAAOxa,CAAC,CAACw6C,CAAD,CAAX,EAAe;AAACnoB,WAAC,GAAC,CAAC,CAAH;AAAK;AAAM;AAAnD;;AAAmDA,OAAC,IAAEpyB,CAAC,CAAC1tB,IAAF,CAAO+kE,CAAC,CAAC98B,CAAD,CAAR,CAAH;AAAgB;;AAAAtjB,KAAC,CAAC9Y,SAAF,GAAY6hB,CAAC,CAAClW,IAAF,CAAO,GAAP,EAAYja,OAAZ,CAAoB,MAApB,EAA2B,GAA3B,EAAgCA,OAAhC,CAAwC,WAAxC,EAAoD,EAApD,CAAZ;AAAoE;;AAAA,WAASoI,CAAT,CAAWgf,CAAX,EAAa+I,CAAb,EAAe;AAAC,SAAI,IAAID,CAAC,GAAC9I,CAAC,CAAC9Y,SAAF,CAAY7H,KAAZ,CAAkB,KAAlB,CAAN,EAA+B+gE,CAAC,GAAC,CAAjC,EAAmC98B,CAAC,GAACxa,CAAC,CAACrwB,MAA3C,EAAkD2nE,CAAC,GAAC98B,CAApD,EAAsD88B,CAAC,EAAvD;AAA0D,UAAGt3C,CAAC,CAACs3C,CAAD,CAAD,IAAMr3C,CAAT,EAAW,OAAM,CAAC,CAAP;AAArE;;AAA8E,WAAM,CAAC,CAAP;AAAS;;AACvb,WAAS88C,EAAT,CAAY7lD,CAAZ,EAAc;AAAC,WAAOA,CAAC,CAAC+1C,CAAF,CAAIj8B,QAAJ,CAAagsC,QAAb,IAAuB9lD,CAAC,CAACA,CAAF,CAAI8Z,QAAJ,CAAagsC,QAA3C;AAAoD;;AAAA,WAASC,CAAT,CAAW/lD,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiB;AAAC,aAASs3C,CAAT,GAAY;AAACthE,OAAC,IAAEwkC,CAAH,IAAM6X,CAAN,KAAUr8C,CAAC,CAACwkE,CAAD,CAAD,EAAKxkE,CAAC,GAAC,IAAjB;AAAuB;;AAAAiqB,KAAC,GAAClpB,CAAC,CAACmgB,CAAD,EAAG,MAAH,EAAU;AAACgmD,SAAG,EAAC,YAAL;AAAkB5wD,UAAI,EAAC2T,CAAvB;AAAyBk9C,WAAK,EAAC;AAA/B,KAAV,CAAH;AAAoD,QAAI3iC,CAAC,GAAC,CAAC,CAAP;AAAA,QAAS6X,CAAC,GAAC,CAAC,CAAZ;AAAA,QAAcmoB,CAAC,GAAC,IAAhB;AAAA,QAAqBxkE,CAAC,GAACgqB,CAAC,IAAE,IAA1B;AAA+B08C,MAAE,IAAEz8C,CAAC,CAACxsB,MAAF,GAAS,YAAU;AAAC+mC,OAAC,GAAC,CAAC,CAAH;AAAK88B,OAAC;AAAG,KAA7B,EAA8Br3C,CAAC,CAACvsB,OAAF,GAAU,YAAU;AAAC8mC,OAAC,GAAC,CAAC,CAAH;AAAKggC,OAAC,GAACrnE,KAAK,CAAC,2BAAD,CAAP;AAAqCmkE,OAAC;AAAG,KAAnG,IAAqGvlE,UAAU,CAAC,YAAU;AAACyoC,OAAC,GAAC,CAAC,CAAH;AAAK88B,OAAC;AAAG,KAArB,EAAsB,CAAtB,CAAjH;AAA0IpsD,KAAC,CAACgM,CAAD,EAAG,MAAH,EAAU+I,CAAV,CAAD;AAAc;;AACpW,WAASm9C,CAAT,CAAWlmD,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiBs3C,CAAjB,EAAmB;AAAC,QAAI98B,CAAC,GAACtjB,CAAC,CAAC8I,CAAF,CAAI68C,oBAAJ,CAAyB,MAAzB,EAAiC,CAAjC,CAAN;;AAA0C,QAAGriC,CAAH,EAAK;AAAC,UAAI6X,CAAC,GAACt7C,CAAC,CAACmgB,CAAD,EAAG,QAAH,EAAY;AAACtjB,WAAG,EAACqsB;AAAL,OAAZ,CAAP;AAAA,UAA4Bu6C,CAAC,GAAC,CAAC,CAA/B;;AAAiCnoB,OAAC,CAAC5+C,MAAF,GAAS4+C,CAAC,CAAC39C,kBAAF,GAAqB,YAAU;AAAC8lE,SAAC,IAAE,KAAKtmE,UAAL,IAAiB,YAAU,KAAKA,UAAhC,IAA4C,cAAY,KAAKA,UAAhE,KAA6EsmE,CAAC,GAAC,CAAC,CAAH,EAAKx6C,CAAC,IAAEA,CAAC,CAAC,IAAD,CAAT,EAAgBqyB,CAAC,CAAC5+C,MAAF,GAAS4+C,CAAC,CAAC39C,kBAAF,GAAqB,IAA9C,EAAmD,UAAQ29C,CAAC,CAACnzC,UAAF,CAAa81B,OAArB,IAA8BwF,CAAC,CAACsiC,WAAF,CAAczqB,CAAd,CAA9J;AAAgL,OAAzN;;AAA0N7X,OAAC,CAACt1B,WAAF,CAAcmtC,CAAd;AAAiBtgD,gBAAU,CAAC,YAAU;AAACyoE,SAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKx6C,CAAC,IAAEA,CAAC,CAAC7sB,KAAK,CAAC,qBAAD,CAAN,CAAZ,CAAD;AAA6C,OAAzD,EAA0DmkE,CAAC,IAAE,GAA7D,CAAV;AAA4E,aAAOjlB,CAAP;AAAS;;AAAA,WAAO,IAAP;AAAY;;AAAA;;AAAC,WAASgrB,CAAT,GAAY;AAAC,SAAKnmD,CAAL,GAAO,CAAP;AAAS,SAAK8I,CAAL,GAAO,IAAP;AAAY;;AAAA,WAASs9C,CAAT,CAAWpmD,CAAX,EAAa;AAACA,KAAC,CAACA,CAAF;AAAM,WAAO,YAAU;AAACA,OAAC,CAACA,CAAF;AAAMqmD,OAAC,CAACrmD,CAAD,CAAD;AAAK,KAA7B;AAA8B;;AAAA,WAASsmD,CAAT,CAAWtmD,CAAX,EAAa+I,CAAb,EAAe;AAAC/I,KAAC,CAAC8I,CAAF,GAAIC,CAAJ;AAAMs9C,KAAC,CAACrmD,CAAD,CAAD;AAAK;;AAAA,WAASqmD,CAAT,CAAWrmD,CAAX,EAAa;AAAC,SAAGA,CAAC,CAACA,CAAL,IAAQA,CAAC,CAAC8I,CAAV,KAAc9I,CAAC,CAAC8I,CAAF,IAAM9I,CAAC,CAAC8I,CAAF,GAAI,IAAxB;AAA8B;;AAAA;;AAAC,WAASy9C,CAAT,CAAWvmD,CAAX,EAAa;AAAC,SAAKA,CAAL,GAAOA,CAAC,IAAE,GAAV;AAAc;;AAAAumD,GAAC,CAAChmE,SAAF,CAAYuoB,CAAZ,GAAc,UAAS9I,CAAT,EAAW;AAAC,SAAI,IAAI+I,CAAC,GAAC,EAAN,EAASD,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACnuB,SAAS,CAAClC,MAA7B,EAAoCqwB,CAAC,EAArC;AAAwCC,OAAC,CAAC1tB,IAAF,CAAOV,SAAS,CAACmuB,CAAD,CAAT,CAAalwB,OAAb,CAAqB,SAArB,EAA+B,EAA/B,EAAmCO,WAAnC,EAAP;AAAxC;;AAAiG,WAAO4vB,CAAC,CAAClW,IAAF,CAAO,KAAKmN,CAAZ,CAAP;AAAsB,GAAjJ;;AAAkJ,WAASwmD,CAAT,CAAWxmD,CAAX,EAAa+I,CAAb,EAAe;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKm7B,CAAL,GAAO,CAAP;AAAS,SAAKn7B,CAAL,GAAO,GAAP;AAAW,QAAI8I,CAAC,GAAC,CAACC,CAAC,IAAE,IAAJ,EAAU1f,KAAV,CAAgB,mBAAhB,CAAN;AAA2Cyf,KAAC,KAAG,KAAK9I,CAAL,GAAO8I,CAAC,CAAC,CAAD,CAAR,EAAY,KAAKqyB,CAAL,GAAO76B,QAAQ,CAACwI,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAA9B,CAAD;AAA0C;;AAAA,WAAS29C,EAAT,CAAYzmD,CAAZ,EAAc;AAAC,WAAO0mD,CAAC,CAAC1mD,CAAD,CAAD,GAAK,GAAL,IAAUA,CAAC,CAACm7B,CAAF,GAAI,IAAd,IAAoB,SAApB,GAA8BwrB,CAAC,CAAC3mD,CAAC,CAAC8I,CAAH,CAAtC;AAA4C;;AAAA,WAAS69C,CAAT,CAAW3mD,CAAX,EAAa;AAAC,QAAI+I,CAAC,GAAC,EAAN;AAAS/I,KAAC,GAACA,CAAC,CAAC3gB,KAAF,CAAQ,MAAR,CAAF;;AAAkB,SAAI,IAAIypB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC9I,CAAC,CAACvnB,MAAhB,EAAuBqwB,CAAC,EAAxB,EAA2B;AAAC,UAAIs3C,CAAC,GAACpgD,CAAC,CAAC8I,CAAD,CAAD,CAAKlwB,OAAL,CAAa,OAAb,EAAqB,EAArB,CAAN;AAA+B,OAAC,CAAD,IAAIwnE,CAAC,CAAC73D,OAAF,CAAU,GAAV,CAAJ,IAAoB,MAAMlL,IAAN,CAAW+iE,CAAX,CAApB,GAAkCr3C,CAAC,CAAC1tB,IAAF,CAAO,MAAI+kE,CAAJ,GAAM,GAAb,CAAlC,GAAoDr3C,CAAC,CAAC1tB,IAAF,CAAO+kE,CAAP,CAApD;AAA8D;;AAAA,WAAOr3C,CAAC,CAAClW,IAAF,CAAO,GAAP,CAAP;AAAmB;;AAAA,WAAS+zD,CAAT,CAAW5mD,CAAX,EAAa;AAAC,WAAOA,CAAC,CAACA,CAAF,GAAIA,CAAC,CAACm7B,CAAb;AAAe;;AAAA,WAASurB,CAAT,CAAW1mD,CAAX,EAAa;AAAC,QAAI+I,CAAC,GAAC,QAAN;AAAe,YAAM/I,CAAC,CAACA,CAAR,GAAU+I,CAAC,GAAC,SAAZ,GAAsB,QAAM/I,CAAC,CAACA,CAAR,KAAY+I,CAAC,GAAC,QAAd,CAAtB;AAA8C,WAAOA,CAAP;AAAS;;AAC/tC,WAAS89C,EAAT,CAAY7mD,CAAZ,EAAc;AAAC,QAAI+I,CAAC,GAAC,CAAN;AAAA,QAAQD,CAAC,GAAC,GAAV;AAAA,QAAcs3C,CAAC,GAAC,IAAhB;AAAqBpgD,KAAC,KAAG,CAACogD,CAAC,GAACpgD,CAAC,CAAC3W,KAAF,CAAQ,0BAAR,CAAH,KAAyC+2D,CAAC,CAAC,CAAD,CAA1C,KAAgDt3C,CAAC,GAACs3C,CAAC,CAAC,CAAD,CAAD,CAAKrqC,MAAL,CAAY,CAAZ,EAAc,CAAd,EAAiB58B,WAAjB,EAAlD,GAAkF,CAACinE,CAAC,GAACpgD,CAAC,CAAC3W,KAAF,CAAQ,wBAAR,CAAH,KAAuC+2D,CAAC,CAAC,CAAD,CAAxC,KAA8C,QAAQ/iE,IAAR,CAAa+iE,CAAC,CAAC,CAAD,CAAd,IAAmBr3C,CAAC,GAAC,CAArB,GAAuB,UAAU1rB,IAAV,CAAe+iE,CAAC,CAAC,CAAD,CAAhB,MAAuBr3C,CAAC,GAACzI,QAAQ,CAAC8/C,CAAC,CAAC,CAAD,CAAD,CAAKrqC,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAD,EAAkB,EAAlB,CAAjC,CAArE,CAArF,CAAD;AAAqN,WAAOjN,CAAC,GAACC,CAAT;AAAW;;AAAA;;AAAC,WAAS+9C,EAAT,CAAY9mD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKm7B,CAAL,GAAOn7B,CAAC,CAAC+1C,CAAF,CAAIvrD,QAAJ,CAAa6a,eAApB;AAAoC,SAAKrT,CAAL,GAAO+W,CAAP;AAAS,SAAK/I,CAAL,GAAO,IAAIumD,CAAJ,CAAM,GAAN,CAAP;AAAkB,SAAKpuC,CAAL,GAAO,CAAC,CAAD,KAAKpP,CAAC,CAACm5B,MAAd;AAAqB,SAAKohB,CAAL,GAAO,CAAC,CAAD,KAAKv6C,CAAC,CAACy5C,OAAd;AAAsB;;AAAA,WAASuE,EAAT,CAAY/mD,CAAZ,EAAc;AAACA,KAAC,CAACsjD,CAAF,IAAKxE,CAAC,CAAC9+C,CAAC,CAACm7B,CAAH,EAAK,CAACn7B,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,SAAX,CAAD,CAAL,CAAN;AAAoCk+C,KAAC,CAAChnD,CAAD,EAAG,SAAH,CAAD;AAAe;;AAAA,WAASinD,CAAT,CAAWjnD,CAAX,EAAa;AAAC,QAAGA,CAAC,CAACsjD,CAAL,EAAO;AAAC,UAAIv6C,CAAC,GAAC/nB,CAAC,CAACgf,CAAC,CAACm7B,CAAH,EAAKn7B,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,QAAX,CAAL,CAAP;AAAA,UAAkCA,CAAC,GAAC,EAApC;AAAA,UAAuCs3C,CAAC,GAAC,CAACpgD,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,SAAX,CAAD,CAAzC;AAAiEC,OAAC,IAAED,CAAC,CAACztB,IAAF,CAAO2kB,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,UAAX,CAAP,CAAH;AAAkCg2C,OAAC,CAAC9+C,CAAC,CAACm7B,CAAH,EAAKryB,CAAL,EAAOs3C,CAAP,CAAD;AAAW;;AAAA4G,KAAC,CAAChnD,CAAD,EAAG,UAAH,CAAD;AAAgB;;AAAA,WAASgnD,CAAT,CAAWhnD,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiB;AAAC,QAAG9I,CAAC,CAACmY,CAAF,IAAKnY,CAAC,CAAChO,CAAF,CAAI+W,CAAJ,CAAR,EAAe,IAAGD,CAAH,EAAK9I,CAAC,CAAChO,CAAF,CAAI+W,CAAJ,EAAOD,CAAC,CAACA,CAAT,EAAW89C,CAAC,CAAC99C,CAAD,CAAZ,EAAL,KAA2B9I,CAAC,CAAChO,CAAF,CAAI+W,CAAJ;AAAS;;AAAA;;AAAC,WAASm+C,EAAT,GAAa;AAAC,SAAKp+C,CAAL,GAAO,EAAP;AAAU;;AAAA,WAASq+C,EAAT,CAAYnnD,CAAZ,EAAc+I,CAAd,EAAgBD,CAAhB,EAAkB;AAAC,QAAIs3C,CAAC,GAAC,EAAN;AAAA,QAAS98B,CAAT;;AAAW,SAAIA,CAAJ,IAASva,CAAT;AAAW,UAAGA,CAAC,CAACygB,cAAF,CAAiBlG,CAAjB,CAAH,EAAuB;AAAC,YAAI6X,CAAC,GAACn7B,CAAC,CAAC8I,CAAF,CAAIwa,CAAJ,CAAN;AAAa6X,SAAC,IAAEilB,CAAC,CAAC/kE,IAAF,CAAO8/C,CAAC,CAACpyB,CAAC,CAACua,CAAD,CAAF,EAAMxa,CAAN,CAAR,CAAH;AAAqB;AAArE;;AAAqE,WAAOs3C,CAAP;AAAS;;AAAA;;AAAC,WAASgH,CAAT,CAAWpnD,CAAX,EAAa+I,CAAb,EAAe;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKm7B,CAAL,GAAOpyB,CAAP;AAAS,SAAK/I,CAAL,GAAOngB,CAAC,CAAC,KAAKipB,CAAN,EAAQ,MAAR,EAAe;AAAC,qBAAc;AAAf,KAAf,EAAsC,KAAKqyB,CAA3C,CAAR;AAAsD;;AAAA,WAASksB,CAAT,CAAWrnD,CAAX,EAAa;AAAChM,KAAC,CAACgM,CAAC,CAAC8I,CAAH,EAAK,MAAL,EAAY9I,CAAC,CAACA,CAAd,CAAD;AAAkB;;AAAA,WAASsnD,CAAT,CAAWtnD,CAAX,EAAa;AAAC,WAAM,8LAA4L2mD,CAAC,CAAC3mD,CAAC,CAAC8I,CAAH,CAA7L,GAAmM,GAAnM,IAAwM,gBAAc49C,CAAC,CAAC1mD,CAAD,CAAf,GAAmB,eAAnB,IAAoCA,CAAC,CAACm7B,CAAF,GAAI,IAAxC,IAA8C,GAAtP,CAAN;AAAiQ;;AAAA;;AAAC,WAASosB,CAAT,CAAWvnD,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiBs3C,CAAjB,EAAmB98B,CAAnB,EAAqB6X,CAArB,EAAuB;AAAC,SAAKmoB,CAAL,GAAOtjD,CAAP;AAAS,SAAKmY,CAAL,GAAOpP,CAAP;AAAS,SAAK/I,CAAL,GAAOogD,CAAP;AAAS,SAAKt3C,CAAL,GAAOA,CAAP;AAAS,SAAKqyB,CAAL,GAAO7X,CAAC,IAAE,GAAV;AAAc,SAAKtxB,CAAL,GAAOmpC,CAAC,IAAE,KAAK,CAAf;AAAiB;;AAAAosB,GAAC,CAAChnE,SAAF,CAAY9G,KAAZ,GAAkB,YAAU;AAAC,QAAIumB,CAAC,GAAC,KAAK8I,CAAL,CAAOitC,CAAP,CAASvrD,QAAf;AAAA,QAAwBue,CAAC,GAAC,IAA1B;AAAA,QAA+BD,CAAC,GAACw8C,CAAC,EAAlC;AAAA,QAAqClF,CAAC,GAAC,IAAIlkE,OAAJ,CAAY,UAASkkE,CAAT,EAAW98B,CAAX,EAAa;AAAC,eAAS6X,CAAT,GAAY;AAACmqB,SAAC,KAAGx8C,CAAJ,IAAOC,CAAC,CAACoyB,CAAT,GAAW7X,CAAC,EAAZ,GAAetjB,CAAC,CAACwnD,KAAF,CAAQnF,IAAR,CAAaoE,EAAE,CAAC19C,CAAC,CAAC/I,CAAH,CAAf,EAAqB+I,CAAC,CAAC/W,CAAvB,EAA0B+G,IAA1B,CAA+B,UAASiH,CAAT,EAAW;AAAC,eAAGA,CAAC,CAACvnB,MAAL,GAAY2nE,CAAC,EAAb,GAAgBvlE,UAAU,CAACsgD,CAAD,EAAG,EAAH,CAA1B;AAAiC,SAA5E,EAA6E,YAAU;AAAC7X,WAAC;AAAG,SAA5F,CAAf;AAA6G;;AAAA6X,OAAC;AAAG,KAAxJ,CAAvC;AAAA,QAAiM7X,CAAC,GAAC,IAAnM;AAAA,QAAwM6X,CAAC,GAAC,IAAIj/C,OAAJ,CAAY,UAAS8jB,CAAT,EAAWogD,CAAX,EAAa;AAAC98B,OAAC,GAACzoC,UAAU,CAACulE,CAAD,EAAGr3C,CAAC,CAACoyB,CAAL,CAAZ;AAAoB,KAA9C,CAA1M;AAA0Pj/C,WAAO,CAACurE,IAAR,CAAa,CAACtsB,CAAD,EAAGilB,CAAH,CAAb,EAAoBrnD,IAApB,CAAyB,YAAU;AAACuqB,OAAC,KAAG1oC,YAAY,CAAC0oC,CAAD,CAAZ,EAAgBA,CAAC,GAAC,IAArB,CAAD;AAA4Bva,OAAC,CAACu6C,CAAF,CAAIv6C,CAAC,CAAC/I,CAAN;AAAS,KAAzE,EAA0E,YAAU;AAAC+I,OAAC,CAACoP,CAAF,CAAIpP,CAAC,CAAC/I,CAAN;AAAS,KAA9F;AAAgG,GAAvX;;AAAwX,WAAS0nD,CAAT,CAAW1nD,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiBs3C,CAAjB,EAAmB98B,CAAnB,EAAqB6X,CAArB,EAAuBmoB,CAAvB,EAAyB;AAAC,SAAKrN,CAAL,GAAOj2C,CAAP;AAAS,SAAKmmD,CAAL,GAAOp9C,CAAP;AAAS,SAAKD,CAAL,GAAOA,CAAP;AAAS,SAAK9I,CAAL,GAAOogD,CAAP;AAAS,SAAKxR,CAAL,GAAO0U,CAAC,IAAE,SAAV;AAAoB,SAAKnoB,CAAL,GAAO,EAAP;AAAU,SAAK2jB,CAAL,GAAOx7B,CAAC,IAAE,GAAV;AAAc,SAAKtvB,CAAL,GAAOmnC,CAAC,IAAE,IAAV;AAAe,SAAKr8C,CAAL,GAAO,KAAKq5B,CAAL,GAAO,KAAKnmB,CAAL,GAAO,KAAKsxD,CAAL,GAAO,IAA5B;AAAiC,SAAKA,CAAL,GAAO,IAAI8D,CAAJ,CAAM,KAAKt+C,CAAX,EAAa,KAAK8lC,CAAlB,CAAP;AAA4B,SAAK58C,CAAL,GAAO,IAAIo1D,CAAJ,CAAM,KAAKt+C,CAAX,EAAa,KAAK8lC,CAAlB,CAAP;AAA4B,SAAKz2B,CAAL,GAAO,IAAIivC,CAAJ,CAAM,KAAKt+C,CAAX,EAAa,KAAK8lC,CAAlB,CAAP;AAA4B,SAAK9vD,CAAL,GAAO,IAAIsoE,CAAJ,CAAM,KAAKt+C,CAAX,EAAa,KAAK8lC,CAAlB,CAAP;AAA4B5uC,KAAC,GAAC,IAAIwmD,CAAJ,CAAM,KAAKxmD,CAAL,CAAO8I,CAAP,GAAS,QAAf,EAAwB89C,CAAC,CAAC,KAAK5mD,CAAN,CAAzB,CAAF;AAAqCA,KAAC,GAACsnD,CAAC,CAACtnD,CAAD,CAAH;AAAO,SAAKsjD,CAAL,CAAOtjD,CAAP,CAASpG,KAAT,CAAe8rD,OAAf,GAAuB1lD,CAAvB;AAAyBA,KAAC,GAAC,IAAIwmD,CAAJ,CAAM,KAAKxmD,CAAL,CAAO8I,CAAP,GAAS,aAAf,EAA6B89C,CAAC,CAAC,KAAK5mD,CAAN,CAA9B,CAAF;AAA0CA,KAAC,GAACsnD,CAAC,CAACtnD,CAAD,CAAH;AAAO,SAAKhO,CAAL,CAAOgO,CAAP,CAASpG,KAAT,CAAe8rD,OAAf,GAAuB1lD,CAAvB;AAAyBA,KAAC,GAAC,IAAIwmD,CAAJ,CAAM,OAAN,EAAcI,CAAC,CAAC,KAAK5mD,CAAN,CAAf,CAAF;AAA2BA,KAAC,GAACsnD,CAAC,CAACtnD,CAAD,CAAH;AAAO,SAAKmY,CAAL,CAAOnY,CAAP,CAASpG,KAAT,CAAe8rD,OAAf,GAAuB1lD,CAAvB;AAAyBA,KAAC,GAAC,IAAIwmD,CAAJ,CAAM,YAAN,EAAmBI,CAAC,CAAC,KAAK5mD,CAAN,CAApB,CAAF;AAAgCA,KAAC,GAC1nEsnD,CAAC,CAACtnD,CAAD,CADwnE;AACpnE,SAAKlhB,CAAL,CAAOkhB,CAAP,CAASpG,KAAT,CAAe8rD,OAAf,GAAuB1lD,CAAvB;AAAyBqnD,KAAC,CAAC,KAAK/D,CAAN,CAAD;AAAU+D,KAAC,CAAC,KAAKr1D,CAAN,CAAD;AAAUq1D,KAAC,CAAC,KAAKlvC,CAAN,CAAD;AAAUkvC,KAAC,CAAC,KAAKvoE,CAAN,CAAD;AAAU;;AAAA,MAAI6oE,CAAC,GAAC;AAACtB,KAAC,EAAC,OAAH;AAAWD,KAAC,EAAC;AAAb,GAAN;AAAA,MAAiCwB,CAAC,GAAC,IAAnC;;AAAwC,WAASC,CAAT,GAAY;AAAC,QAAG,SAAOD,CAAV,EAAY;AAAC,UAAI5nD,CAAC,GAAC,sCAAsC1W,IAAtC,CAA2C1L,MAAM,CAACkE,SAAP,CAAiB2E,SAA5D,CAAN;AAA6EmhE,OAAC,GAAC,CAAC,CAAC5nD,CAAF,KAAM,MAAIM,QAAQ,CAACN,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAZ,IAAuB,QAAMM,QAAQ,CAACN,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAd,IAAyB,MAAIM,QAAQ,CAACN,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAlE,CAAF;AAA+E;;AAAA,WAAO4nD,CAAP;AAAS;;AAAAF,GAAC,CAACnnE,SAAF,CAAY9G,KAAZ,GAAkB,YAAU;AAAC,SAAK0hD,CAAL,CAAO2sB,KAAP,GAAa,KAAK3vC,CAAL,CAAOnY,CAAP,CAASymC,WAAtB;AAAkC,SAAKtL,CAAL,CAAO,YAAP,IAAqB,KAAKr8C,CAAL,CAAOkhB,CAAP,CAASymC,WAA9B;AAA0C,SAAKyf,CAAL,GAAOZ,CAAC,EAAR;AAAWyC,KAAC,CAAC,IAAD,CAAD;AAAQ,GAA5H;;AAC7S,WAASC,EAAT,CAAYhoD,CAAZ,EAAc+I,CAAd,EAAgBD,CAAhB,EAAkB;AAAC,SAAI,IAAIs3C,CAAR,IAAauH,CAAb;AAAe,UAAGA,CAAC,CAACn+B,cAAF,CAAiB42B,CAAjB,KAAqBr3C,CAAC,KAAG/I,CAAC,CAACm7B,CAAF,CAAIwsB,CAAC,CAACvH,CAAD,CAAL,CAAzB,IAAoCt3C,CAAC,KAAG9I,CAAC,CAACm7B,CAAF,CAAIwsB,CAAC,CAACvH,CAAD,CAAL,CAA3C,EAAqD,OAAM,CAAC,CAAP;AAApE;;AAA6E,WAAM,CAAC,CAAP;AAAS;;AAAA,WAAS2H,CAAT,CAAW/nD,CAAX,EAAa;AAAC,QAAI+I,CAAC,GAAC/I,CAAC,CAACsjD,CAAF,CAAItjD,CAAJ,CAAMymC,WAAZ;AAAA,QAAwB39B,CAAC,GAAC9I,CAAC,CAAChO,CAAF,CAAIgO,CAAJ,CAAMymC,WAAhC;AAAA,QAA4C2Z,CAA5C;AAA8C,KAACA,CAAC,GAACr3C,CAAC,KAAG/I,CAAC,CAACm7B,CAAF,CAAI2sB,KAAR,IAAeh/C,CAAC,KAAG9I,CAAC,CAACm7B,CAAF,CAAI,YAAJ,CAAtB,MAA2CilB,CAAC,GAACyH,CAAC,MAAIG,EAAE,CAAChoD,CAAD,EAAG+I,CAAH,EAAKD,CAAL,CAApD;AAA6Ds3C,KAAC,GAACkF,CAAC,KAAGtlD,CAAC,CAACkmD,CAAN,IAASlmD,CAAC,CAAC8+C,CAAX,GAAa+I,CAAC,MAAIG,EAAE,CAAChoD,CAAD,EAAG+I,CAAH,EAAKD,CAAL,CAAP,KAAiB,SAAO9I,CAAC,CAAChM,CAAT,IAAYgM,CAAC,CAAChM,CAAF,CAAIw1B,cAAJ,CAAmBxpB,CAAC,CAACA,CAAF,CAAI8I,CAAvB,CAA7B,IAAwDm/C,CAAC,CAACjoD,CAAD,EAAGA,CAAC,CAACi2C,CAAL,CAAzD,GAAiEgS,CAAC,CAACjoD,CAAD,EAAGA,CAAC,CAACmmD,CAAL,CAA/E,GAAuF+B,EAAE,CAACloD,CAAD,CAA1F,GAA8FioD,CAAC,CAACjoD,CAAD,EAAGA,CAAC,CAACi2C,CAAL,CAAhG;AAAwG;;AAAA,WAASiS,EAAT,CAAYloD,CAAZ,EAAc;AAACnlB,cAAU,CAAC3B,CAAC,CAAC,YAAU;AAAC6uE,OAAC,CAAC,IAAD,CAAD;AAAQ,KAApB,EAAqB/nD,CAArB,CAAF,EAA0B,EAA1B,CAAV;AAAwC;;AAAA,WAASioD,CAAT,CAAWjoD,CAAX,EAAa+I,CAAb,EAAe;AAACluB,cAAU,CAAC3B,CAAC,CAAC,YAAU;AAAC+8D,OAAC,CAAC,KAAKqN,CAAL,CAAOtjD,CAAR,CAAD;AAAYi2C,OAAC,CAAC,KAAKjkD,CAAL,CAAOgO,CAAR,CAAD;AAAYi2C,OAAC,CAAC,KAAK99B,CAAL,CAAOnY,CAAR,CAAD;AAAYi2C,OAAC,CAAC,KAAKn3D,CAAL,CAAOkhB,CAAR,CAAD;AAAY+I,OAAC,CAAC,KAAK/I,CAAN,CAAD;AAAU,KAAtE,EAAuEA,CAAvE,CAAF,EAA4E,CAA5E,CAAV;AAAyF;;AAAA;;AAAC,WAASmoD,CAAT,CAAWnoD,CAAX,EAAa+I,CAAb,EAAeD,CAAf,EAAiB;AAAC,SAAKA,CAAL,GAAO9I,CAAP;AAAS,SAAKA,CAAL,GAAO+I,CAAP;AAAS,SAAKoyB,CAAL,GAAO,CAAP;AAAS,SAAKr8C,CAAL,GAAO,KAAKq5B,CAAL,GAAO,CAAC,CAAf;AAAiB,SAAKy2B,CAAL,GAAO9lC,CAAP;AAAS;;AAAA,MAAIs/C,CAAC,GAAC,IAAN;;AAAWD,GAAC,CAAC5nE,SAAF,CAAY+iE,CAAZ,GAAc,UAAStjD,CAAT,EAAW;AAAC,QAAI+I,CAAC,GAAC,KAAK/I,CAAX;AAAa+I,KAAC,CAACu6C,CAAF,IAAKxE,CAAC,CAAC/1C,CAAC,CAACoyB,CAAH,EAAK,CAACpyB,CAAC,CAAC/I,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW9I,CAAC,CAAC8I,CAAb,EAAe89C,CAAC,CAAC5mD,CAAD,CAAD,CAAKpoB,QAAL,EAAf,EAA+B,QAA/B,CAAD,CAAL,EAAgD,CAACmxB,CAAC,CAAC/I,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW9I,CAAC,CAAC8I,CAAb,EAAe89C,CAAC,CAAC5mD,CAAD,CAAD,CAAKpoB,QAAL,EAAf,EAA+B,SAA/B,CAAD,EAA2CmxB,CAAC,CAAC/I,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW9I,CAAC,CAAC8I,CAAb,EAAe89C,CAAC,CAAC5mD,CAAD,CAAD,CAAKpoB,QAAL,EAAf,EAA+B,UAA/B,CAA3C,CAAhD,CAAN;AAA8IovE,KAAC,CAACj+C,CAAD,EAAG,YAAH,EAAgB/I,CAAhB,CAAD;AAAoB,SAAKlhB,CAAL,GAAO,CAAC,CAAR;AAAUupE,MAAE,CAAC,IAAD,CAAF;AAAS,GAA5N;;AAC7jBF,GAAC,CAAC5nE,SAAF,CAAYyR,CAAZ,GAAc,UAASgO,CAAT,EAAW;AAAC,QAAI+I,CAAC,GAAC,KAAK/I,CAAX;;AAAa,QAAG+I,CAAC,CAACu6C,CAAL,EAAO;AAAC,UAAIx6C,CAAC,GAAC9nB,CAAC,CAAC+nB,CAAC,CAACoyB,CAAH,EAAKpyB,CAAC,CAAC/I,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW9I,CAAC,CAAC8I,CAAb,EAAe89C,CAAC,CAAC5mD,CAAD,CAAD,CAAKpoB,QAAL,EAAf,EAA+B,QAA/B,CAAL,CAAP;AAAA,UAAsDwoE,CAAC,GAAC,EAAxD;AAAA,UAA2D98B,CAAC,GAAC,CAACva,CAAC,CAAC/I,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW9I,CAAC,CAAC8I,CAAb,EAAe89C,CAAC,CAAC5mD,CAAD,CAAD,CAAKpoB,QAAL,EAAf,EAA+B,SAA/B,CAAD,CAA7D;AAAyGkxB,OAAC,IAAEs3C,CAAC,CAAC/kE,IAAF,CAAO0tB,CAAC,CAAC/I,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW9I,CAAC,CAAC8I,CAAb,EAAe89C,CAAC,CAAC5mD,CAAD,CAAD,CAAKpoB,QAAL,EAAf,EAA+B,UAA/B,CAAP,CAAH;AAAsDknE,OAAC,CAAC/1C,CAAC,CAACoyB,CAAH,EAAKilB,CAAL,EAAO98B,CAAP,CAAD;AAAW;;AAAA0jC,KAAC,CAACj+C,CAAD,EAAG,cAAH,EAAkB/I,CAAlB,CAAD;AAAsBqoD,MAAE,CAAC,IAAD,CAAF;AAAS,GAAxP;;AAAyP,WAASA,EAAT,CAAYroD,CAAZ,EAAc;AAAC,SAAG,EAAEA,CAAC,CAACm7B,CAAP,IAAUn7B,CAAC,CAACmY,CAAZ,KAAgBnY,CAAC,CAAClhB,CAAF,IAAKkhB,CAAC,GAACA,CAAC,CAACA,CAAJ,EAAMA,CAAC,CAACsjD,CAAF,IAAKxE,CAAC,CAAC9+C,CAAC,CAACm7B,CAAH,EAAK,CAACn7B,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,QAAX,CAAD,CAAL,EAA4B,CAAC9I,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,SAAX,CAAD,EAAuB9I,CAAC,CAACA,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW,UAAX,CAAvB,CAA5B,CAAZ,EAAwFk+C,CAAC,CAAChnD,CAAD,EAAG,QAAH,CAA9F,IAA4GinD,CAAC,CAACjnD,CAAC,CAACA,CAAH,CAA7H;AAAoI;;AAAA;;AAAC,WAASsoD,EAAT,CAAYtoD,CAAZ,EAAc;AAAC,SAAKmY,CAAL,GAAOnY,CAAP;AAAS,SAAKA,CAAL,GAAO,IAAIknD,EAAJ,EAAP;AAAc,SAAKl1D,CAAL,GAAO,CAAP;AAAS,SAAKmpC,CAAL,GAAO,KAAKmoB,CAAL,GAAO,CAAC,CAAf;AAAiB;;AAAAgF,IAAE,CAAC/nE,SAAH,CAAa8hE,IAAb,GAAkB,UAASriD,CAAT,EAAW;AAAC,SAAK8I,CAAL,GAAO,IAAIy8C,EAAJ,CAAO,KAAKptC,CAAZ,EAAcnY,CAAC,CAAC9lB,OAAF,IAAW,KAAKi+B,CAA9B,CAAP;AAAwC,SAAKmrC,CAAL,GAAO,CAAC,CAAD,KAAKtjD,CAAC,CAACkiC,MAAd;AAAqB,SAAK/G,CAAL,GAAO,CAAC,CAAD,KAAKn7B,CAAC,CAACwiD,OAAd;AAAsB+F,MAAE,CAAC,IAAD,EAAM,IAAIzB,EAAJ,CAAO,KAAKh+C,CAAZ,EAAc9I,CAAd,CAAN,EAAuBA,CAAvB,CAAF;AAA4B,GAA7I;;AAC7c,WAASwoD,EAAT,CAAYxoD,CAAZ,EAAc+I,CAAd,EAAgBD,CAAhB,EAAkBs3C,CAAlB,EAAoB98B,CAApB,EAAsB;AAAC,QAAI6X,CAAC,GAAC,KAAG,EAAEn7B,CAAC,CAAChO,CAAb;AAAe,KAACgO,CAAC,CAACm7B,CAAF,IAAKn7B,CAAC,CAACsjD,CAAR,KAAYzoE,UAAU,CAAC,YAAU;AAAC,UAAImlB,CAAC,GAACsjB,CAAC,IAAE,IAAT;AAAA,UAAcxkC,CAAC,GAACshE,CAAC,IAAE,IAAH,IAAS,EAAzB;AAA4B,UAAG,MAAIt3C,CAAC,CAACrwB,MAAN,IAAc0iD,CAAjB,EAAmB8rB,CAAC,CAACl+C,CAAC,CAAC/I,CAAH,CAAD,CAAnB,KAA8B;AAAC+I,SAAC,CAACoyB,CAAF,IAAKryB,CAAC,CAACrwB,MAAP;AAAc0iD,SAAC,KAAGpyB,CAAC,CAACoP,CAAF,GAAIgjB,CAAP,CAAD;AAAW,YAAInpC,CAAJ;AAAA,YAAMkN,CAAC,GAAC,EAAR;;AAAW,aAAIlN,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC8W,CAAC,CAACrwB,MAAZ,EAAmBuZ,CAAC,EAApB,EAAuB;AAAC,cAAIgkD,CAAC,GAACltC,CAAC,CAAC9W,CAAD,CAAP;AAAA,cAAWrK,CAAC,GAAC7I,CAAC,CAACk3D,CAAC,CAACltC,CAAH,CAAd;AAAA,cAAoB0kB,CAAC,GAACzkB,CAAC,CAAC/I,CAAxB;AAAA,cAA0Bjf,CAAC,GAACi1D,CAA5B;AAA8BxoB,WAAC,CAAC81B,CAAF,IAAKxE,CAAC,CAACtxB,CAAC,CAAC2N,CAAH,EAAK,CAAC3N,CAAC,CAACxtB,CAAF,CAAI8I,CAAJ,CAAM,IAAN,EAAW/nB,CAAC,CAAC+nB,CAAb,EAAe89C,CAAC,CAAC7lE,CAAD,CAAD,CAAKnJ,QAAL,EAAf,EAA+B,SAA/B,CAAD,CAAL,CAAN;AAAwDovE,WAAC,CAACx5B,CAAD,EAAG,aAAH,EAAiBzsC,CAAjB,CAAD;AAAqBysC,WAAC,GAAC,IAAF;AAAO,cAAG,SAAO46B,CAAV,EAAY,IAAGxqE,MAAM,CAAC6nE,QAAV,EAAmB;AAAC,gBAAI1kE,CAAC,GAAC,wBAAwBuI,IAAxB,CAA6B1L,MAAM,CAACkE,SAAP,CAAiB2E,SAA9C,CAAN;AAAA,gBAA+DgiE,EAAE,GAAC,8BAA8Bn/D,IAA9B,CAAmC1L,MAAM,CAACkE,SAAP,CAAiB2E,SAApD,KAAgE,QAAQ6C,IAAR,CAAa1L,MAAM,CAACkE,SAAP,CAAiB4mE,MAA9B,CAAlI;AACjVN,aAAC,GAACrnE,CAAC,GAAC,KAAGuf,QAAQ,CAACvf,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAZ,GAAsB0nE,EAAE,GAAC,CAAC,CAAF,GAAI,CAAC,CAAhC;AAAkC,WAD2R,MACtRL,CAAC,GAAC,CAAC,CAAH;AAAKA,WAAC,GAAC56B,CAAC,GAAC,IAAI+5B,CAAJ,CAAMruE,CAAC,CAAC6vB,CAAC,CAACu6C,CAAH,EAAKv6C,CAAL,CAAP,EAAe7vB,CAAC,CAAC6vB,CAAC,CAAC/W,CAAH,EAAK+W,CAAL,CAAhB,EAAwBA,CAAC,CAACD,CAA1B,EAA4BktC,CAA5B,EAA8BjtC,CAAC,CAAC6lC,CAAhC,EAAkCjnD,CAAlC,CAAH,GAAwC6lC,CAAC,GAAC,IAAIk6B,CAAJ,CAAMxuE,CAAC,CAAC6vB,CAAC,CAACu6C,CAAH,EAAKv6C,CAAL,CAAP,EAAe7vB,CAAC,CAAC6vB,CAAC,CAAC/W,CAAH,EAAK+W,CAAL,CAAhB,EAAwBA,CAAC,CAACD,CAA1B,EAA4BktC,CAA5B,EAA8BjtC,CAAC,CAAC6lC,CAAhC,EAAkC5uC,CAAlC,EAAoCrY,CAApC,CAA3C;AAAkFuX,WAAC,CAAC7jB,IAAF,CAAOmyC,CAAP;AAAU;;AAAA,aAAIx7B,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACkN,CAAC,CAACzmB,MAAZ,EAAmBuZ,CAAC,EAApB;AAAuBkN,WAAC,CAAClN,CAAD,CAAD,CAAKvY,KAAL;AAAvB;AAAoC;AAAC,KADjH,EACkH,CADlH,CAAtB;AAC2I;;AAAA,WAAS8uE,EAAT,CAAYvoD,CAAZ,EAAc+I,CAAd,EAAgBD,CAAhB,EAAkB;AAAC,QAAIs3C,CAAC,GAAC,EAAN;AAAA,QAAS98B,CAAC,GAACxa,CAAC,CAACzuB,OAAb;AAAqB0sE,MAAE,CAACh+C,CAAD,CAAF;AAAM,QAAIq3C,CAAC,GAAC+G,EAAE,CAACnnD,CAAC,CAACA,CAAH,EAAK8I,CAAL,EAAO9I,CAAC,CAAC8I,CAAT,CAAR;AAAA,QAAoBqyB,CAAC,GAAC,IAAIgtB,CAAJ,CAAMnoD,CAAC,CAAC8I,CAAR,EAAUC,CAAV,EAAYua,CAAZ,CAAtB;AAAqCtjB,KAAC,CAAChO,CAAF,GAAIouD,CAAC,CAAC3nE,MAAN;AAAaswB,KAAC,GAAC,CAAF;;AAAI,SAAID,CAAC,GAACs3C,CAAC,CAAC3nE,MAAR,EAAeswB,CAAC,GAACD,CAAjB,EAAmBC,CAAC,EAApB;AAAuBq3C,OAAC,CAACr3C,CAAD,CAAD,CAAKs5C,IAAL,CAAU,UAASt5C,CAAT,EAAWq3C,CAAX,EAAat3C,CAAb,EAAe;AAAC0/C,UAAE,CAACxoD,CAAD,EAAGm7B,CAAH,EAAKpyB,CAAL,EAAOq3C,CAAP,EAASt3C,CAAT,CAAF;AAAc,OAAxC;AAAvB;AAAiE;;AAAA;;AAAC,WAAS6/C,EAAT,CAAY3oD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKA,CAAL,GAAO+I,CAAP;AAAS;;AAC1X4/C,IAAE,CAACpoE,SAAH,CAAa8hE,IAAb,GAAkB,UAASriD,CAAT,EAAW;AAAC,aAAS+I,CAAT,GAAY;AAAC,UAAGoyB,CAAC,CAAC,iBAAeilB,CAAhB,CAAJ,EAAuB;AAAC,YAAIt3C,CAAC,GAACqyB,CAAC,CAAC,iBAAeilB,CAAhB,CAAD,EAAN;AAAA,YAA4B98B,CAAC,GAAC,EAA9B;AAAA,YAAiCtxB,CAAjC;AAAmC,YAAG8W,CAAH,EAAK,KAAI,IAAI5J,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC4J,CAAC,CAACrwB,MAAhB,EAAuBymB,CAAC,EAAxB,EAA2B;AAAC,cAAI82C,CAAC,GAACltC,CAAC,CAAC5J,CAAD,CAAD,CAAK0pD,UAAX;AAAsB,eAAK,CAAL,IAAQ9/C,CAAC,CAAC5J,CAAD,CAAD,CAAK2pD,SAAb,IAAwB,KAAK,CAAL,IAAQ//C,CAAC,CAAC5J,CAAD,CAAD,CAAK4pD,UAArC,IAAiD92D,CAAC,GAAC8W,CAAC,CAAC5J,CAAD,CAAD,CAAK2pD,SAAL,GAAe//C,CAAC,CAAC5J,CAAD,CAAD,CAAK4pD,UAAtB,EAAiCxlC,CAAC,CAACjoC,IAAF,CAAO,IAAImrE,CAAJ,CAAMxQ,CAAN,EAAQhkD,CAAR,CAAP,CAAlF,IAAsGsxB,CAAC,CAACjoC,IAAF,CAAO,IAAImrE,CAAJ,CAAMxQ,CAAN,CAAP,CAAtG;AAAuH;AAAAh2C,SAAC,CAACsjB,CAAD,CAAD;AAAK,OAA9O,MAAmPzoC,UAAU,CAAC,YAAU;AAACkuB,SAAC;AAAG,OAAhB,EAAiB,EAAjB,CAAV;AAA+B;;AAAA,QAAID,CAAC,GAAC,IAAN;AAAA,QAAWs3C,CAAC,GAACt3C,CAAC,CAAC9I,CAAF,CAAI+oD,SAAjB;AAAA,QAA2BzlC,CAAC,GAACxa,CAAC,CAAC9I,CAAF,CAAIgpD,OAAjC;;AAAyC,QAAG5I,CAAH,EAAK;AAAC,UAAIjlB,CAAC,GAACryB,CAAC,CAACA,CAAF,CAAIitC,CAAV;AAAYmQ,OAAC,CAAC,KAAKp9C,CAAN,EAAQ,CAACA,CAAC,CAAC9I,CAAF,CAAIipD,GAAJ,IAAS,8BAAV,IAA0C,GAA1C,GAA8C7I,CAA9C,GAAgD,KAAhD,IAAuD98B,CAAC,GAAC,QAAMA,CAAP,GAAS,EAAjE,CAAR,EAA6E,UAASA,CAAT,EAAW;AAACA,SAAC,GAACtjB,CAAC,CAAC,EAAD,CAAF,IAAQm7B,CAAC,CAAC,8BAC7dilB,CAD4d,CAAD,GACxd,YAAU;AAAC,iBAAOt3C,CAAC,CAAC9I,CAAT;AAAW,SADkc,EACjc+I,CAAC,EADwb,CAAD;AACnb,OAD0V,CAAD,CACvVvxB,EADuV,GACpV,0BAAwB4oE,CAD4T;AAC1T,KADwS,MACnSpgD,CAAC,CAAC,EAAD,CAAD;AAAM,GADzE;;AAC0E,WAASkpD,EAAT,CAAYlpD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKA,CAAL,GAAO+I,CAAP;AAAS;;AAAAmgD,IAAE,CAAC3oE,SAAH,CAAa8hE,IAAb,GAAkB,UAASriD,CAAT,EAAW;AAAC,QAAI+I,CAAJ;AAAA,QAAMD,CAAN;AAAA,QAAQs3C,CAAC,GAAC,KAAKpgD,CAAL,CAAOmpD,IAAP,IAAa,EAAvB;AAAA,QAA0B7lC,CAAC,GAAC,KAAKtjB,CAAL,CAAOuiD,QAAP,IAAiB,EAA7C;AAAA,QAAgDpnB,CAAC,GAAC,KAAKn7B,CAAL,CAAOopD,WAAP,IAAoB,EAAtE;AAAA,QAAyE9F,CAAC,GAAC,IAAI6C,CAAJ,EAA3E;AAAiFp9C,KAAC,GAAC,CAAF;;AAAI,SAAID,CAAC,GAACs3C,CAAC,CAAC3nE,MAAR,EAAeswB,CAAC,GAACD,CAAjB,EAAmBC,CAAC,EAApB;AAAuBg9C,OAAC,CAAC,KAAKj9C,CAAN,EAAQs3C,CAAC,CAACr3C,CAAD,CAAT,EAAaq9C,CAAC,CAAC9C,CAAD,CAAd,CAAD;AAAvB;;AAA2C,QAAIxkE,CAAC,GAAC,EAAN;AAASiqB,KAAC,GAAC,CAAF;;AAAI,SAAID,CAAC,GAACwa,CAAC,CAAC7qC,MAAR,EAAeswB,CAAC,GAACD,CAAjB,EAAmBC,CAAC,EAApB;AAAuB,UAAGq3C,CAAC,GAAC98B,CAAC,CAACva,CAAD,CAAD,CAAK1pB,KAAL,CAAW,GAAX,CAAF,EAAkB+gE,CAAC,CAAC,CAAD,CAAtB,EAA0B,KAAI,IAAIpuD,CAAC,GAACouD,CAAC,CAAC,CAAD,CAAD,CAAK/gE,KAAL,CAAW,GAAX,CAAN,EAAsB6f,CAAC,GAAC,CAA5B,EAA8BA,CAAC,GAAClN,CAAC,CAACvZ,MAAlC,EAAyCymB,CAAC,IAAE,CAA5C;AAA8CpgB,SAAC,CAACzD,IAAF,CAAO,IAAImrE,CAAJ,CAAMpG,CAAC,CAAC,CAAD,CAAP,EAAWpuD,CAAC,CAACkN,CAAD,CAAZ,CAAP;AAA9C,OAA1B,MAAsGpgB,CAAC,CAACzD,IAAF,CAAO,IAAImrE,CAAJ,CAAMpG,CAAC,CAAC,CAAD,CAAP,CAAP;AAA7H;;AAAiJkG,KAAC,CAAChD,CAAD,EAAG,YAAU;AAACtjD,OAAC,CAAClhB,CAAD,EAAGq8C,CAAH,CAAD;AAAO,KAArB,CAAD;AAAwB,GAApV;;AAAqV,WAASkuB,EAAT,CAAYrpD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC/I,KAAC,GAAC,KAAK8I,CAAL,GAAO9I,CAAR,GAAU,KAAK8I,CAAL,GAAOwgD,EAAlB;AAAqB,SAAKtpD,CAAL,GAAO,EAAP;AAAU,SAAKm7B,CAAL,GAAO,EAAP;AAAU,SAAKmoB,CAAL,GAAOv6C,CAAC,IAAE,EAAV;AAAa;;AAAA,MAAIugD,EAAE,GAAC,kCAAP;;AAA0C,WAASC,EAAT,CAAYvpD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAI,IAAID,CAAC,GAACC,CAAC,CAACtwB,MAAR,EAAe2nE,CAAC,GAAC,CAArB,EAAuBA,CAAC,GAACt3C,CAAzB,EAA2Bs3C,CAAC,EAA5B,EAA+B;AAAC,UAAI98B,CAAC,GAACva,CAAC,CAACq3C,CAAD,CAAD,CAAK/gE,KAAL,CAAW,GAAX,CAAN;AAAsB,WAAGikC,CAAC,CAAC7qC,MAAL,IAAaunB,CAAC,CAACm7B,CAAF,CAAI9/C,IAAJ,CAASioC,CAAC,CAAC72B,GAAF,EAAT,CAAb;AAA+B,UAAI0uC,CAAC,GAAC,EAAN;AAAS,WAAG7X,CAAC,CAAC7qC,MAAL,IAAa,MAAI6qC,CAAC,CAAC,CAAD,CAAlB,KAAwB6X,CAAC,GAAC,GAA1B;AAA+Bn7B,OAAC,CAACA,CAAF,CAAI3kB,IAAJ,CAASioC,CAAC,CAACzwB,IAAF,CAAOsoC,CAAP,CAAT;AAAoB;AAAC;;AACttB,WAASquB,EAAT,CAAYxpD,CAAZ,EAAc;AAAC,QAAG,KAAGA,CAAC,CAACA,CAAF,CAAIvnB,MAAV,EAAiB,MAAMwD,KAAK,CAAC,mBAAD,CAAX;AAAiC,QAAG,CAAC,CAAD,IAAI+jB,CAAC,CAAC8I,CAAF,CAAIvgB,OAAJ,CAAY,MAAZ,CAAP,EAA2B,OAAOyX,CAAC,CAAC8I,CAAT;;AAAW,SAAI,IAAIC,CAAC,GAAC/I,CAAC,CAACA,CAAF,CAAIvnB,MAAV,EAAiBqwB,CAAC,GAAC,EAAnB,EAAsBs3C,CAAC,GAAC,CAA5B,EAA8BA,CAAC,GAACr3C,CAAhC,EAAkCq3C,CAAC,EAAnC;AAAsCt3C,OAAC,CAACztB,IAAF,CAAO2kB,CAAC,CAACA,CAAF,CAAIogD,CAAJ,EAAOxnE,OAAP,CAAe,IAAf,EAAoB,GAApB,CAAP;AAAtC;;AAAuEmwB,KAAC,GAAC/I,CAAC,CAAC8I,CAAF,GAAI,UAAJ,GAAeA,CAAC,CAACjW,IAAF,CAAO,KAAP,CAAjB;AAA+B,QAAEmN,CAAC,CAACm7B,CAAF,CAAI1iD,MAAN,KAAeswB,CAAC,IAAE,aAAW/I,CAAC,CAACm7B,CAAF,CAAItoC,IAAJ,CAAS,GAAT,CAA7B;AAA4C,QAAEmN,CAAC,CAACsjD,CAAF,CAAI7qE,MAAN,KAAeswB,CAAC,IAAE,WAAS0gD,kBAAkB,CAACzpD,CAAC,CAACsjD,CAAH,CAA7C;AAAoD,WAAOv6C,CAAP;AAAS;;AAAA;;AAAC,WAAS2gD,EAAT,CAAY1pD,CAAZ,EAAc;AAAC,SAAKm7B,CAAL,GAAOn7B,CAAP;AAAS,SAAKA,CAAL,GAAO,EAAP;AAAU,SAAK8I,CAAL,GAAO,EAAP;AAAU;;AACnW,MAAI6gD,EAAE,GAAC;AAACC,SAAK,EAAC,SAAP;AAAiB,iBAAY,0BAA7B;AAA8DC,YAAQ,EAAC,oBAAvE;AAA4FC,SAAK,EAAC,oBAAlG;AAAuHC,SAAK,EAAC,oBAA7H;AAAkJC,WAAO,EAAC;AAA1J,GAAP;AAAA,MAAuLC,EAAE,GAAC;AAACC,QAAI,EAAC,GAAN;AAAUC,cAAU,EAAC,GAArB;AAAyB,mBAAc,GAAvC;AAA2CC,cAAU,EAAC,GAAtD;AAA0D,mBAAc,GAAxE;AAA4Ej3D,SAAK,EAAC,GAAlF;AAAsFk3D,WAAO,EAAC,GAA9F;AAAkGC,QAAI,EAAC,GAAvG;AAA2GC,UAAM,EAAC,GAAlH;AAAsH,iBAAY,GAAlI;AAAsIC,YAAQ,EAAC,GAA/I;AAAmJ,iBAAY,GAA/J;AAAmKC,YAAQ,EAAC,GAA5K;AAAgLC,QAAI,EAAC,GAArL;AAAyL,kBAAa,GAAtM;AAA0MC,aAAS,EAAC,GAApN;AAAwN,kBAAa,GAArO;AAAyOC,aAAS,EAAC,GAAnP;AAAuPC,SAAK,EAAC,GAA7P;AAAiQC,SAAK,EAAC,GAAvQ;AAA2Q5rD,KAAC,EAAC,GAA7Q;AAAiRsuB,KAAC,EAAC,GAAnR;AAAuRzkB,KAAC,EAAC;AAAzR,GAA1L;AAAA,MAAwdgiD,EAAE,GAAC;AAAC9yE,KAAC,EAAC,GAAH;AAAO+yE,UAAM,EAAC,GAAd;AAAkBrjE,KAAC,EAAC,GAApB;AAAwBs+B,UAAM,EAAC;AAA/B,GAA3d;AAAA,MACAglC,EAAE,GAAC,8IADH;;AAEA,WAASC,EAAT,CAAYlrD,CAAZ,EAAc;AAAC,SAAI,IAAI+I,CAAC,GAAC/I,CAAC,CAACm7B,CAAF,CAAI1iD,MAAV,EAAiBqwB,CAAC,GAAC,CAAvB,EAAyBA,CAAC,GAACC,CAA3B,EAA6BD,CAAC,EAA9B,EAAiC;AAAC,UAAIs3C,CAAC,GAACpgD,CAAC,CAACm7B,CAAF,CAAIryB,CAAJ,EAAOzpB,KAAP,CAAa,GAAb,CAAN;AAAA,UAAwBikC,CAAC,GAAC88B,CAAC,CAAC,CAAD,CAAD,CAAKxnE,OAAL,CAAa,KAAb,EAAmB,GAAnB,CAA1B;AAAA,UAAkDuiD,CAAC,GAAC,CAAC,IAAD,CAApD;;AAA2D,UAAG,KAAGilB,CAAC,CAAC3nE,MAAR,EAAe;AAAC,YAAI6qE,CAAJ;AAAM,YAAIxkE,CAAC,GAACshE,CAAC,CAAC,CAAD,CAAP;AAAWkD,SAAC,GAAC,EAAF;AAAK,YAAGxkE,CAAH,EAAK,KAAI,IAAIA,CAAC,GAACA,CAAC,CAACO,KAAF,CAAQ,GAAR,CAAN,EAAmB2S,CAAC,GAAClT,CAAC,CAACrG,MAAvB,EAA8BymB,CAAC,GAAC,CAApC,EAAsCA,CAAC,GAAClN,CAAxC,EAA0CkN,CAAC,EAA3C,EAA8C;AAAC,cAAI82C,CAAJ;AAAMA,WAAC,GAACl3D,CAAC,CAACogB,CAAD,CAAH;;AAAO,cAAG82C,CAAC,CAAC3sD,KAAF,CAAQ,UAAR,CAAH,EAAuB;AAAC,gBAAI1B,CAAC,GAACsjE,EAAE,CAAC3hE,IAAH,CAAQ0sD,CAAC,CAAC78D,WAAF,EAAR,CAAN;AAA+B,gBAAG,QAAMwO,CAAT,EAAWquD,CAAC,GAAC,EAAF,CAAX,KAAoB;AAACA,eAAC,GAACruD,CAAC,CAAC,CAAD,CAAH;AAAOquD,eAAC,GAAC,QAAMA,CAAN,IAAS,MAAIA,CAAb,GAAe,GAAf,GAAmB+U,EAAE,CAAC/U,CAAD,CAAvB;AAA2BruD,eAAC,GAACA,CAAC,CAAC,CAAD,CAAH;AAAO,kBAAG,QAAMA,CAAN,IAAS,MAAIA,CAAhB,EAAkBA,CAAC,GAAC,GAAF,CAAlB,KAA6B,IAAI6lC,CAAC,GAACy8B,EAAE,CAACtiE,CAAD,CAAR;AAAA,kBAAYA,CAAC,GAAC6lC,CAAC,GAACA,CAAD,GAAG29B,KAAK,CAACxjE,CAAD,CAAL,GAAS,GAAT,GAAaA,CAAC,CAACouB,MAAF,CAAS,CAAT,EAAW,CAAX,CAA/B;AAA6CigC,eAAC,GAAC,CAACA,CAAD,EAAGruD,CAAH,EAAMkL,IAAN,CAAW,EAAX,CAAF;AAAiB;AAAC,WAAjN,MAAsNmjD,CAAC,GAAC,EAAF;;AAAKA,WAAC,IAAEsN,CAAC,CAACjoE,IAAF,CAAO26D,CAAP,CAAH;AAAa;AAAA,YAAEsN,CAAC,CAAC7qE,MAAJ,KAAa0iD,CAAC,GAACmoB,CAAf;AAAkB,aAAGlD,CAAC,CAAC3nE,MAAL,KAAc2nE,CAAC,GAACA,CAAC,CAAC,CAAD,CAAH,EAAOkD,CAAC,GAAC,EAAT,EAAYlD,CAAC,GAACA,CAAC,GAACA,CAAC,CAAC/gE,KAAF,CAAQ,GAAR,CAAD,GAC1eikE,CAD2d,EACzd,IAAElD,CAAC,CAAC3nE,MAAJ,KAAa2nE,CAAC,GAACuJ,EAAE,CAACvJ,CAAC,CAAC,CAAD,CAAF,CAAjB,MAA2BpgD,CAAC,CAAC8I,CAAF,CAAIwa,CAAJ,IAAO88B,CAAlC,CAD2c;AACra;;AAAApgD,OAAC,CAAC8I,CAAF,CAAIwa,CAAJ,KAAQ,CAAC88B,CAAC,GAACuJ,EAAE,CAACrmC,CAAD,CAAL,MAAYtjB,CAAC,CAAC8I,CAAF,CAAIwa,CAAJ,IAAO88B,CAAnB,CAAR;;AAA8B,WAAIA,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACjlB,CAAC,CAAC1iD,MAAZ,EAAmB2nE,CAAC,IAAE,CAAtB;AAAwBpgD,SAAC,CAACA,CAAF,CAAI3kB,IAAJ,CAAS,IAAImrE,CAAJ,CAAMljC,CAAN,EAAQ6X,CAAC,CAACilB,CAAD,CAAT,CAAT;AAAxB;AAAgD;AAAC;;AAAA;;AAAC,WAASgL,EAAT,CAAYprD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKA,CAAL,GAAO+I,CAAP;AAAS;;AAAA,MAAIsiD,EAAE,GAAC;AAACC,SAAK,EAAC,CAAC,CAAR;AAAUC,WAAO,EAAC,CAAC,CAAnB;AAAqBC,SAAK,EAAC,CAAC;AAA5B,GAAP;;AAAsCJ,IAAE,CAAC7qE,SAAH,CAAa8hE,IAAb,GAAkB,UAASriD,CAAT,EAAW;AAAC,QAAI+I,CAAC,GAAC,IAAIo9C,CAAJ,EAAN;AAAA,QAAYr9C,CAAC,GAAC,KAAKA,CAAnB;AAAA,QAAqBs3C,CAAC,GAAC,IAAIiJ,EAAJ,CAAO,KAAKrpD,CAAL,CAAOipD,GAAd,EAAkB,KAAKjpD,CAAL,CAAOphB,IAAzB,CAAvB;AAAA,QAAsD0kC,CAAC,GAAC,KAAKtjB,CAAL,CAAOuiD,QAA/D;AAAwEgH,MAAE,CAACnJ,CAAD,EAAG98B,CAAH,CAAF;AAAQ,QAAI6X,CAAC,GAAC,IAAIuuB,EAAJ,CAAOpmC,CAAP,CAAN;AAAgB4nC,MAAE,CAAC/vB,CAAD,CAAF;AAAM4qB,KAAC,CAACj9C,CAAD,EAAG0gD,EAAE,CAACpJ,CAAD,CAAL,EAASgG,CAAC,CAACr9C,CAAD,CAAV,CAAD;AAAgBu9C,KAAC,CAACv9C,CAAD,EAAG,YAAU;AAAC/I,OAAC,CAACm7B,CAAC,CAACn7B,CAAH,EAAKm7B,CAAC,CAACryB,CAAP,EAASuiD,EAAT,CAAD;AAAc,KAA5B,CAAD;AAA+B,GAAnL;;AAAoL,WAASI,EAAT,CAAYzrD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKA,CAAL,GAAO+I,CAAP;AAAS;;AAAA0iD,IAAE,CAAClrE,SAAH,CAAa8hE,IAAb,GAAkB,UAASriD,CAAT,EAAW;AAAC,QAAI+I,CAAC,GAAC,KAAK/I,CAAL,CAAOxoB,EAAb;AAAA,QAAgBsxB,CAAC,GAAC,KAAKA,CAAL,CAAOitC,CAAzB;AAA2BhtC,KAAC,GAACm9C,CAAC,CAAC,KAAKp9C,CAAN,EAAQ,CAAC,KAAK9I,CAAL,CAAOipD,GAAP,IAAY,yBAAb,IAAwC,GAAxC,GAA4ClgD,CAA5C,GAA8C,KAAtD,EAA4D,UAASA,CAAT,EAAW;AAAC,UAAGA,CAAH,EAAK/I,CAAC,CAAC,EAAD,CAAD,CAAL,KAAgB,IAAG8I,CAAC,CAAC4iD,OAAF,IAAW5iD,CAAC,CAAC4iD,OAAF,CAAUtjB,MAArB,IAA6Bt/B,CAAC,CAAC4iD,OAAF,CAAUtjB,MAAV,CAAiBwb,EAAjD,EAAoD;AAAC76C,SAAC,GAACD,CAAC,CAAC4iD,OAAF,CAAUtjB,MAAV,CAAiBwb,EAAnB;;AAAsB,aAAI,IAAItgC,CAAC,GAAC,EAAN,EAAS6X,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACpyB,CAAC,CAACtwB,MAArB,EAA4B0iD,CAAC,IAAE,CAA/B;AAAiC,eAAI,IAAImoB,CAAC,GAACv6C,CAAC,CAACoyB,CAAD,CAAP,EAAWr8C,CAAC,GAACiqB,CAAC,CAACoyB,CAAC,GAAC,CAAH,CAAd,EAAoBnpC,CAAC,GAAC,CAA1B,EAA4BA,CAAC,GAAClT,CAAC,CAACrG,MAAhC,EAAuCuZ,CAAC,EAAxC;AAA2CsxB,aAAC,CAACjoC,IAAF,CAAO,IAAImrE,CAAJ,CAAMlD,CAAN,EAAQxkE,CAAC,CAACkT,CAAD,CAAT,CAAP;AAA3C;AAAjC;;AAAkG,YAAG;AAAC8W,WAAC,CAAC4iD,OAAF,CAAUrJ,IAAV,CAAe;AAACngB,kBAAM,EAAC,CAAC,CAAT;AAAWsgB,mBAAO,EAAC,CAAC,CAApB;AAAsBmJ,iBAAK,EAAC,CAAC;AAA7B,WAAf;AAAgD,SAApD,CAAoD,OAAMzsD,CAAN,EAAQ,CAAE;;AAAAc,SAAC,CAACsjB,CAAD,CAAD;AAAK;AAAC,KAAzU,EAA0U,GAA1U,CAAF,GAAiVtjB,CAAC,CAAC,EAAD,CAAnV;AAAwV,GAAjZ;;AAAkZ,WAAS4rD,EAAT,CAAY5rD,CAAZ,EAAc+I,CAAd,EAAgB;AAAC,SAAKD,CAAL,GAAO9I,CAAP;AAAS,SAAKm7B,CAAL,GAAOpyB,CAAP;AAAS,SAAK/I,CAAL,GAAO,EAAP;AAAU;;AAAA4rD,IAAE,CAACrrE,SAAH,CAAa8hE,IAAb,GAAkB,UAASriD,CAAT,EAAW;AAAC,QAAI+I,CAAC,GAAC,KAAKoyB,CAAL,CAAO3jD,EAAb;AAAA,QAAgBsxB,CAAC,GAAC,KAAKA,CAAL,CAAOitC,CAAzB;AAAA,QAA2BqK,CAAC,GAAC,IAA7B;AAAkCr3C,KAAC,IAAED,CAAC,CAAC+iD,yBAAF,KAA8B/iD,CAAC,CAAC+iD,yBAAF,GAA4B,EAA1D,GAA8D/iD,CAAC,CAAC+iD,yBAAF,CAA4B9iD,CAA5B,IAA+B,UAASA,CAAT,EAAWD,CAAX,EAAa;AAAC,WAAI,IAAIw6C,CAAC,GAAC,CAAN,EAAQxkE,CAAC,GAACgqB,CAAC,CAAC0+C,KAAF,CAAQ/uE,MAAtB,EAA6B6qE,CAAC,GAACxkE,CAA/B,EAAiC,EAAEwkE,CAAnC,EAAqC;AAAC,YAAItxD,CAAC,GAAC8W,CAAC,CAAC0+C,KAAF,CAAQlE,CAAR,CAAN;AAAiBlD,SAAC,CAACpgD,CAAF,CAAI3kB,IAAJ,CAAS,IAAImrE,CAAJ,CAAMx0D,CAAC,CAACrZ,IAAR,EAAakuE,EAAE,CAAC,iBAAe70D,CAAC,CAAC85D,MAAjB,GAAwB,cAAxB,GAAuC95D,CAAC,CAAC4H,KAA1C,CAAf,CAAT;AAA2E;;AAAAoG,OAAC,CAACogD,CAAC,CAACpgD,CAAH,CAAD;AAAO,KAApP,EAAqPkmD,CAAC,CAAC,KAAKp9C,CAAN,EAAQ,CAAC,KAAKqyB,CAAL,CAAO8tB,GAAP,IAAY,kCAAb,IAAiDpD,EAAE,CAAC,KAAK/8C,CAAN,CAAnD,GAA4D,GAA5D,GAAgEC,CAAhE,GAAkE,KAA1E,EAAgF,UAASA,CAAT,EAAW;AAACA,OAAC,IAAE/I,CAAC,CAAC,EAAD,CAAJ;AAAS,KAArG,CAAxP,IAAgWA,CAAC,CAAC,EAAD,CAAlW;AAAuW,GAAva;;AAAwa,MAAI+rD,CAAC,GAAC,IAAIzD,EAAJ,CAAO1qE,MAAP,CAAN;;AAAqBmuE,GAAC,CAAC/rD,CAAF,CAAI8I,CAAJ,CAAMw5C,MAAN,GAAa,UAAStiD,CAAT,EAAW+I,CAAX,EAAa;AAAC,WAAO,IAAImgD,EAAJ,CAAOngD,CAAP,EAAS/I,CAAT,CAAP;AAAmB,GAA9C;;AAA+C+rD,GAAC,CAAC/rD,CAAF,CAAI8I,CAAJ,CAAMkjD,QAAN,GAAe,UAAShsD,CAAT,EAAW+I,CAAX,EAAa;AAAC,WAAO,IAAI6iD,EAAJ,CAAO7iD,CAAP,EAAS/I,CAAT,CAAP;AAAmB,GAAhD;;AAAiD+rD,GAAC,CAAC/rD,CAAF,CAAI8I,CAAJ,CAAMmjD,QAAN,GAAe,UAASjsD,CAAT,EAAW+I,CAAX,EAAa;AAAC,WAAO,IAAI4/C,EAAJ,CAAO5/C,CAAP,EAAS/I,CAAT,CAAP;AAAmB,GAAhD;;AAAiD+rD,GAAC,CAAC/rD,CAAF,CAAI8I,CAAJ,CAAMojD,OAAN,GAAc,UAASlsD,CAAT,EAAW+I,CAAX,EAAa;AAAC,WAAO,IAAI0iD,EAAJ,CAAO1iD,CAAP,EAAS/I,CAAT,CAAP;AAAmB,GAA/C;;AAAgD+rD,GAAC,CAAC/rD,CAAF,CAAI8I,CAAJ,CAAMqjD,MAAN,GAAa,UAASnsD,CAAT,EAAW+I,CAAX,EAAa;AAAC,WAAO,IAAIqiD,EAAJ,CAAOriD,CAAP,EAAS/I,CAAT,CAAP;AAAmB,GAA9C;;AAA+C,MAAIosD,CAAC,GAAC;AAAC/J,QAAI,EAACnpE,CAAC,CAAC6yE,CAAC,CAAC1J,IAAH,EAAQ0J,CAAR;AAAP,GAAN;AAAyB,iBAAa,OAAOM,MAApB,IAA4BA,2BAA5B,GAAuCA,MAAM,CAAC,YAAU;AAAC,WAAOD,CAAP;AAAS,GAArB,CAA7C,GAAoE,SAA6B9P,MAAM,CAACL,OAApC,GAA4CK,MAAM,CAACL,OAAP,GAAemQ,CAA3D,IAA8DxuE,MAAM,CAACwkE,OAAP,GAAegK,CAAf,EAAiBxuE,MAAM,CAAC0uE,aAAP,IAAsBP,CAAC,CAAC1J,IAAF,CAAOzkE,MAAM,CAAC0uE,aAAd,CAArG,CAApE;AAAwM,CAhBtpD,GAAD,C;;;;;;;;ACA9E,iCAAiC,ohD;;;;;;;ACAjC,iCAAiC,46B;;;;;;;ACAjC,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,iCAAiC,wkC;;;;;;;ACAjC,iCAAiC,g3C;;;;;;;ACAjC,iCAAiC,42B;;;;;;;ACAjC,uC;;;;;;;ACAA,iCAAiC,gjB;;;;;;;ACAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAAC,QAASC,iCAAT,CAA0C9gE,IAA1C,CAAgD+gE,OAAhD,CAAyD,CACtD/gE,IAAI,CAAC,SAAD,CAAJ,CAAkB+gE,OAAO,EAAzB,CACH,CAFD,EAEG5uE,MAFH,CAEW,UAAW,CACtB,MAAO,SAAU,SAAS6uE,OAAT,CAAkB,CAAE;AACrC,QADmC,CACzB;AACV,QAAU,GAAIC,iBAAgB,CAAG,EAAvB,CACV,QAHmC,CAInC,QAJmC,CAIzB;AACV,QAAU,QAASC,oBAAT,CAA6BC,QAA7B,CAAuC,CACjD,QADiD,CAEjD,QAFiD,CAEtC;AACX,QAAW,GAAGF,gBAAgB,CAACE,QAAD,CAAnB,CAA+B,CAC1C,QAAY,MAAOF,iBAAgB,CAACE,QAAD,CAAhB,CAA2B3Q,OAAlC,CACZ,QAAY,CACZ,QANiD,CAMtC;AACX,QAAW,GAAIK,OAAM,CAAGoQ,gBAAgB,CAACE,QAAD,CAAhB,CAA6B,CACrD,QAAY30E,CAAC,CAAE20E,QADsC,CAErD,QAAY1tD,CAAC,CAAE,KAFsC,CAGrD,QAAY+8C,OAAO,CAAE,EACrB,QAJqD,CAA1C,CAKX,QAZiD,CAajD,QAbiD,CAatC;AACX,QAAWwQ,OAAO,CAACG,QAAD,CAAP,CAAkBziC,IAAlB,CAAuBmyB,MAAM,CAACL,OAA9B,CAAuCK,MAAvC,CAA+CA,MAAM,CAACL,OAAtD,CAA+D0Q,mBAA/D,EACX,QAfiD,CAgBjD,QAhBiD,CAgBtC;AACX,QAAWrQ,MAAM,CAACp9C,CAAP,CAAW,IAAX,CACX,QAlBiD,CAmBjD,QAnBiD,CAmBtC;AACX,QAAW,MAAOo9C,OAAM,CAACL,OAAd,CACX,QAAW,CACX,QA3BmC,CA4BnC,QA5BmC,CA6BnC,QA7BmC,CA6BzB;AACV,QAAU0Q,mBAAmB,CAAC7tE,CAApB,CAAwB2tE,OAAxB,CACV,QA/BmC,CAgCnC,QAhCmC,CAgCzB;AACV,QAAUE,mBAAmB,CAAC7jD,CAApB,CAAwB4jD,gBAAxB,CACV,QAlCmC,CAmCnC,QAnCmC,CAmCzB;AACV,QAAUC,mBAAmB,CAACvM,CAApB,CAAwB,SAASnE,OAAT,CAAkBtjE,IAAlB,CAAwBk0E,MAAxB,CAAgC,CAClE,QAAW,GAAG,CAACF,mBAAmB,CAAC5W,CAApB,CAAsBkG,OAAtB,CAA+BtjE,IAA/B,CAAJ,CAA0C,CACrD,QAAY8C,MAAM,CAACqxE,cAAP,CAAsB7Q,OAAtB,CAA+BtjE,IAA/B,CAAqC,CACjD,QAAao0E,YAAY,CAAE,KADsB,CAEjD,QAAaC,UAAU,CAAE,IAFwB,CAGjD,QAAap1D,GAAG,CAAEi1D,MAClB,QAJiD,CAArC,EAKZ,QAAY,CACZ,QAAW,CARD,CASV,QA7CmC,CA8CnC,QA9CmC,CA8CzB;AACV,QAAUF,mBAAmB,CAACn/B,CAApB,CAAwB,SAASyuB,OAAT,CAAkB,CACpD,QAAWxgE,MAAM,CAACqxE,cAAP,CAAsB7Q,OAAtB,CAA+B,YAA/B,CAA6C,CAAE/7D,KAAK,CAAE,IAAT,CAA7C,EACX,QAAW,CAFD,CAGV,QAlDmC,CAmDnC,QAnDmC,CAmDzB;AACV,QAAUysE,mBAAmB,CAAChlE,CAApB,CAAwB,SAAS20D,MAAT,CAAiB,CACnD,QAAW,GAAIuQ,OAAM,CAAGvQ,MAAM,EAAIA,MAAM,CAAC2Q,UAAjB,CACxB,QAAY,QAASC,WAAT,EAAsB,CAAE,MAAO5Q,OAAM,CAAC,SAAD,CAAb,CAA2B,CADvC,CAExB,QAAY,QAAS6Q,iBAAT,EAA4B,CAAE,MAAO7Q,OAAP,CAAgB,CAF/C,CAGX,QAAWqQ,mBAAmB,CAACvM,CAApB,CAAsByM,MAAtB,CAA8B,GAA9B,CAAmCA,MAAnC,EACX,QAAW,MAAOA,OAAP,CACX,QAAW,CAND,CAOV,QA3DmC,CA4DnC,QA5DmC,CA4DzB;AACV,QAAUF,mBAAmB,CAAC5W,CAApB,CAAwB,SAASx6D,MAAT,CAAiB6xE,QAAjB,CAA2B,CAAE,MAAO3xE,OAAM,CAAC8E,SAAP,CAAiBipC,cAAjB,CAAgCW,IAAhC,CAAqC5uC,MAArC,CAA6C6xE,QAA7C,CAAP,CAAgE,CAArH,CACV,QA9DmC,CA+DnC,QA/DmC,CA+DzB;AACV,QAAUT,mBAAmB,CAACzzE,CAApB,CAAwB,EAAxB,CACV,QAjEmC,CAkEnC,QAlEmC,CAmEnC,QAnEmC,CAmEzB;AACV,QAAU,MAAOyzE,oBAAmB,CAACA,mBAAmB,CAAC/d,CAApB,CAAwB,sBAAzB,CAA1B,CACV,QAAU,CArEM,CAsEhB,0EAtEgB,CAuEhB,QAAU,CAEV,KAAM,uBACN;AACA;AACA,gCAHM,CAIN,8BAJM,CAKN,KAAO,yBAAS0N,MAAT,CAAiBL,OAAjB,CAA0B0Q,mBAA1B,CAA+C,CAEtDU,IAAI,CAAC,uiCAAD,CAAJ,CAEA,KAAO,CAXG,CAaV,KAAM,wBACN;AACA;AACA,iCAHM,CAIN,8BAJM,CAKN,KAAO,0BAAS/Q,MAAT,CAAiBL,OAAjB,CAA0B0Q,mBAA1B,CAA+C,CAEtDU,IAAI,CAAC,kz5eAAD,CAAJ,CAEA,KAAO,CAtBG,CAwBV,KAAM,uBACN;AACA;AACA,gCAHM,CAIN,8BAJM,CAKN,KAAO,yBAAS/Q,MAAT,CAAiBL,OAAjB,CAA0B0Q,mBAA1B,CAA+C,CAEtDU,IAAI,CAAC,ip8IAAD,CAAJ,CAEA,KAAO,CAjCG,CAmCV,KAAM,uBACN;AACA;AACA,gCAHM,CAIN,8BAJM,CAKN,KAAO,yBAAS/Q,MAAT,CAAiBL,OAAjB,CAA0B0Q,mBAA1B,CAA+C,CAEtDU,IAAI,CAAC,ox/FAAD,CAAJ,CAEA,KAAO,CA5CG,CA8CV,KAAM,oCACN;AACA;AACA,6CAHM,CAIN,8BAJM,CAKN,KAAO,qCAAS/Q,MAAT,CAAiBL,OAAjB,CAA0B0Q,mBAA1B,CAA+C,CAEtDU,IAAI,CAAC,w9sCAAD,CAAJ,CAEA,KAAO,CAEP,QAzDU,CAvEM,CAAhB,EAiIC,CApID,E;;;;;;;ACTA,iCAAiC,4rB;;;;;;;ACAjC,iCAAiC,4iB","file":"js/app.f8f1f9f8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0a3594\":\"bf90b30e\",\"chunk-2d0a3b08\":\"42fbaa5b\",\"chunk-2d0a3c02\":\"9d60af89\",\"chunk-2d0a3cbd\":\"74b0b711\",\"chunk-2d0a3cda\":\"5a5833ca\",\"chunk-2d0a45d1\":\"8a818811\",\"chunk-2d0a4b8e\":\"583bc5f8\",\"chunk-2d0a4d2f\":\"25f41cac\",\"chunk-2d0a4df8\":\"3b10b5ac\",\"chunk-2d0a4f23\":\"450967a5\",\"chunk-2d0a4fb8\":\"c1b340c5\",\"chunk-2d0a500c\":\"54ea1c71\",\"chunk-2d0a54b7\":\"1572b643\",\"chunk-2d0aa25f\":\"9eed929c\",\"chunk-2d0aa76a\":\"984c9fbb\",\"chunk-2d0aa9ee\":\"f96d9298\",\"chunk-2d0aab29\":\"39ff5f73\",\"chunk-2d0aab89\":\"5a20a50f\",\"chunk-2d0ab05a\":\"8b9c8c43\",\"chunk-2d0ab098\":\"bed7271a\",\"chunk-2d0ab2ec\":\"3226222e\",\"chunk-2d0ab669\":\"40673407\",\"chunk-2d0abbd0\":\"069c37cf\",\"chunk-2d0abc1a\":\"8e8ee0a1\",\"chunk-2d0abdf2\":\"ca4af038\",\"chunk-2d0abff0\":\"8b7c39c3\",\"chunk-2d0ac02d\":\"d67510b1\",\"chunk-2d0ac1fa\":\"544dd5be\",\"chunk-2d0ac41f\":\"3fe67bed\",\"chunk-2d0ac5ea\":\"9d3c9c2d\",\"chunk-2d0ae545\":\"6c770d46\",\"chunk-2d0aec8c\":\"2af1ced1\",\"chunk-2d0aecbd\":\"c94a8846\",\"chunk-2d0af0f9\":\"6d637fb2\",\"chunk-2d0af43d\":\"613055d4\",\"chunk-2d0af7b1\":\"6ba6b4c7\",\"chunk-2d0af83a\":\"f9ba551a\",\"chunk-2d0b19d6\":\"56e346fb\",\"chunk-2d0b21d0\":\"47aff71c\",\"chunk-2d0b21f4\":\"cea575a8\",\"chunk-2d0b2325\":\"f6990643\",\"chunk-2d0b290c\":\"a7a1ff1d\",\"chunk-2d0b307d\":\"c5191363\",\"chunk-2d0b308b\":\"3ae97c99\",\"chunk-2d0b30f4\":\"8a4bfe26\",\"chunk-2d0b3508\":\"904c15f7\",\"chunk-2d0b366f\":\"8b78e896\",\"chunk-2d0b3782\":\"29fa6539\",\"chunk-2d0b37df\":\"875cfa1b\",\"chunk-2d0b3da1\":\"c28dab82\",\"chunk-2d0b59b8\":\"121fb8ac\",\"chunk-2d0b60d0\":\"b7bd914d\",\"chunk-2d0b614c\":\"1448fab3\",\"chunk-2d0b6185\":\"8ab1aaf0\",\"chunk-2d0b61f3\":\"0dbe7597\",\"chunk-2d0b64b0\":\"b8ff9e13\",\"chunk-2d0b6917\":\"1dabd1ce\",\"chunk-2d0b6aa0\":\"554f6139\",\"chunk-2d0b6ad5\":\"0560b95b\",\"chunk-2d0b6c2b\":\"26c47343\",\"chunk-2d0b729c\":\"e6ae93c8\",\"chunk-2d0b8ed4\":\"6ea75175\",\"chunk-2d0b91cb\":\"bcd56f03\",\"chunk-2d0b92df\":\"ab48b0fb\",\"chunk-2d0b9443\":\"ac71fba7\",\"chunk-2d0b95d6\":\"996de23b\",\"chunk-2d0b9610\":\"2200fcc7\",\"chunk-2d0b9635\":\"21d175a2\",\"chunk-2d0b97b6\":\"646070dd\",\"chunk-2d0b97c4\":\"7ae7496e\",\"chunk-2d0b9a23\":\"4d5fa3a7\",\"chunk-2d0ba0c1\":\"81a836f8\",\"chunk-2d0ba184\":\"76d67f4e\",\"chunk-2d0ba327\":\"ff75b88b\",\"chunk-2d0ba349\":\"6e9a0b42\",\"chunk-2d0ba359\":\"5b011d32\",\"chunk-2d0ba4ba\":\"8235e83a\",\"chunk-2d0ba4f8\":\"1c4faeec\",\"chunk-2d0ba534\":\"b1f0ab8d\",\"chunk-2d0ba70c\":\"fd69dbcb\",\"chunk-2d0ba8d9\":\"f113804d\",\"chunk-2d0bac0d\":\"6827fa32\",\"chunk-2d0bae98\":\"edda5ac5\",\"chunk-2d0bcea0\":\"cba90d6a\",\"chunk-2d0bd16e\":\"86219dcd\",\"chunk-2d0bd1b6\":\"c0fa6fd2\",\"chunk-2d0bd1ea\":\"e1d442a5\",\"chunk-2d0bd3c7\":\"88864d9d\",\"chunk-2d0bd3e6\":\"8382b4e9\",\"chunk-2d0bd7a9\":\"a5f1de3b\",\"chunk-2d0bd99a\":\"0faeee3e\",\"chunk-2d0bdd68\":\"3911f3db\",\"chunk-2d0be195\":\"00721684\",\"chunk-2d0be2f7\":\"6e703689\",\"chunk-2d0c031f\":\"9885eb71\",\"chunk-2d0c0892\":\"1519962c\",\"chunk-2d0c0a66\":\"2d7bec7a\",\"chunk-2d0c0c90\":\"5bf78c93\",\"chunk-2d0c0ff9\":\"5b9652c0\",\"chunk-2d0c1054\":\"73c7d527\",\"chunk-2d0c1244\":\"4018a2d3\",\"chunk-2d0c1283\":\"9ab6dd01\",\"chunk-2d0c15a5\":\"db91f3db\",\"chunk-2d0c17a7\":\"61e7e2fd\",\"chunk-2d0c17aa\":\"9f77b7f3\",\"chunk-2d0c191b\":\"b3328ad8\",\"chunk-2d0c19b6\":\"adc04a1d\",\"chunk-2d0c1aeb\":\"374248a8\",\"chunk-2d0c20cd\":\"56cd454c\",\"chunk-2d0c22bd\":\"3d2e5a7e\",\"chunk-2d0c22fb\":\"8a7bb639\",\"chunk-2d0c269b\":\"99998345\",\"chunk-2d0c42d5\":\"d3c7e93e\",\"chunk-2d0c4872\":\"1d870e05\",\"chunk-2d0c48a4\":\"fac040c4\",\"chunk-2d0c49da\":\"4b4cbbda\",\"chunk-2d0c4a04\":\"82b57967\",\"chunk-2d0c4a28\":\"53e3f28f\",\"chunk-2d0c4c13\":\"6744d0d8\",\"chunk-2d0c4d69\":\"5d2e45b7\",\"chunk-2d0c4d86\":\"8a437115\",\"chunk-2d0c4db6\":\"c703dd07\",\"chunk-2d0c4dc5\":\"93f092cd\",\"chunk-2d0c5718\":\"33337a1d\",\"chunk-2d0c76d6\":\"f9540d33\",\"chunk-2d0c7cd5\":\"8e995760\",\"chunk-2d0c81f7\":\"784487f6\",\"chunk-2d0c847f\":\"96272887\",\"chunk-2d0c8676\":\"7bb02cf8\",\"chunk-2d0c86b6\":\"6e14c9e0\",\"chunk-2d0c8808\":\"44b82c28\",\"chunk-2d0c8847\":\"ba9a33c5\",\"chunk-2d0c89ea\":\"01dcfa51\",\"chunk-2d0c8c34\":\"76ef3e4c\",\"chunk-2d0c936c\":\"ac100b28\",\"chunk-2d0c94d8\":\"d694ea24\",\"chunk-2d0c973a\":\"1dd94ba7\",\"chunk-2d0cbaa8\":\"3b7a1063\",\"chunk-2d0cbc95\":\"cdaedaf3\",\"chunk-2d0cbdeb\":\"c010bf0c\",\"chunk-2d0cc0e2\":\"a46f016a\",\"chunk-2d0cc22b\":\"21439c63\",\"chunk-2d0cc429\":\"94bff8bc\",\"chunk-2d0cc589\":\"7714aceb\",\"chunk-2d0cc9eb\":\"18489677\",\"chunk-2d0cca74\":\"2215e234\",\"chunk-2d0ccbd6\":\"2d87801d\",\"chunk-2d0ccf5d\":\"cca864f7\",\"chunk-2d0ce780\":\"46f15d12\",\"chunk-2d0ce7c2\":\"1f61e0db\",\"chunk-2d0ceb84\":\"795492c3\",\"chunk-2d0ced74\":\"5cad919c\",\"chunk-2d0ceed8\":\"b30fd3c6\",\"chunk-2d0cef9f\":\"dc11c6b1\",\"chunk-2d0cf150\":\"9eb0ee0a\",\"chunk-2d0cfaa3\":\"037d5e34\",\"chunk-2d0cfb42\":\"cf699869\",\"chunk-2d0cfc95\":\"5d5810a2\",\"chunk-2d0cfdbb\":\"e69662cb\",\"chunk-2d0cfdbe\":\"32bf5bcd\",\"chunk-2d0d0178\":\"52d918a5\",\"chunk-2d0d0206\":\"631954cf\",\"chunk-2d0d053d\":\"f3413abf\",\"chunk-2d0d05e9\":\"3feb3232\",\"chunk-2d0d07bb\":\"8126b0b8\",\"chunk-2d0d095d\":\"0328f786\",\"chunk-2d0d0f67\":\"1e7935c3\",\"chunk-2d0d2b92\":\"ddbf61a8\",\"chunk-2d0d2bae\":\"36d778d4\",\"chunk-2d0d30d5\":\"f00eac54\",\"chunk-2d0d30f6\":\"9e22e1c5\",\"chunk-2d0d3150\":\"5f3bd696\",\"chunk-2d0d333d\":\"c3f8f167\",\"chunk-2d0d335b\":\"9e1325ff\",\"chunk-2d0d3adf\":\"ee99fbbe\",\"chunk-2d0d4407\":\"d3d850eb\",\"chunk-2d0d5c4c\":\"ec84c937\",\"chunk-2d0d602e\":\"1d82caa6\",\"chunk-2d0d6067\":\"c64fa194\",\"chunk-2d0d61ee\":\"adcd331c\",\"chunk-2d0d639f\":\"1b2494cb\",\"chunk-2d0d63ec\":\"f4d9e2ee\",\"chunk-2d0d65bb\":\"c5d08186\",\"chunk-2d0d67a1\":\"3ffc8963\",\"chunk-2d0d6ab3\":\"0644e11f\",\"chunk-2d0d6b05\":\"4c9b62e1\",\"chunk-2d0d6d54\":\"a0736d23\",\"chunk-2d0d6e86\":\"fe45ec45\",\"chunk-2d0d6ef8\":\"7747c2e2\",\"chunk-2d0d6f7f\":\"18617480\",\"chunk-2d0d7217\":\"36467237\",\"chunk-2d0d721c\":\"d17636b9\",\"chunk-2d0d76d1\":\"f1186943\",\"chunk-2d0d782b\":\"c9025998\",\"chunk-2d0d78a7\":\"7ee1498b\",\"chunk-2d0d79d9\":\"29e914bd\",\"chunk-2d0d7a94\":\"ba59a08e\",\"chunk-2d0d7e17\":\"e92c322d\",\"chunk-2d0d7e81\":\"d3067758\",\"chunk-2d0d83f8\":\"e40ada0a\",\"chunk-2d0d9fde\":\"27317d7d\",\"chunk-2d0da593\":\"85c616dc\",\"chunk-2d0da703\":\"2e3992e2\",\"chunk-2d0da725\":\"7a9f8d5b\",\"chunk-2d0da744\":\"7e615484\",\"chunk-2d0da956\":\"66f656d5\",\"chunk-2d0dad30\":\"1859d05b\",\"chunk-2d0daec7\":\"831ed78d\",\"chunk-2d0db26a\":\"64a76e5e\",\"chunk-2d0db7de\":\"946af713\",\"chunk-2d0db825\":\"de0a7337\",\"chunk-2d0dcff7\":\"df3ef89f\",\"chunk-2d0dd022\":\"9a331103\",\"chunk-2d0dd080\":\"9c3044ac\",\"chunk-2d0dd118\":\"177440fd\",\"chunk-2d0dd3d5\":\"fdacec5d\",\"chunk-2d0dd47e\":\"8f6ff2d6\",\"chunk-2d0dd7ae\":\"aedea963\",\"chunk-2d0dd85d\":\"bb7feb0d\",\"chunk-2d0dda1d\":\"15f67ea5\",\"chunk-2d0ddbb5\":\"e26d9bd6\",\"chunk-2d0ddbdf\":\"de9568d9\",\"chunk-2d0ddc51\":\"7fb072b1\",\"chunk-2d0ddd85\":\"f3b330c3\",\"chunk-2d0ddef8\":\"6b41e0d5\",\"chunk-2d0de4e7\":\"67668159\",\"chunk-2d0de5b2\":\"85f32fa9\",\"chunk-2d0de721\":\"a958a481\",\"chunk-2d0de74f\":\"8dd165bc\",\"chunk-2d0de77e\":\"1a840f41\",\"chunk-2d0de8a4\":\"95192840\",\"chunk-2d0de8ab\":\"641e6da0\",\"chunk-2d0dece0\":\"8c44a351\",\"chunk-2d0decff\":\"b8173882\",\"chunk-2d0dee4a\":\"39b92b1e\",\"chunk-2d0df045\":\"fedf3cd6\",\"chunk-2d0df7c9\":\"ff23aac2\",\"chunk-2d0e13dd\":\"3c92e608\",\"chunk-2d0e1d57\":\"48554777\",\"chunk-2d0e1ee9\":\"bf87f81b\",\"chunk-2d0e1f23\":\"a9f4eb8a\",\"chunk-2d0e1fe1\":\"5eb8933e\",\"chunk-2d0e21a1\":\"56ca5f8d\",\"chunk-2d0e22e6\":\"d198e769\",\"chunk-2d0e28d1\":\"a66cd7e2\",\"chunk-2d0e2c5c\":\"eeb39219\",\"chunk-2d0e447f\":\"6acd114e\",\"chunk-2d0e490d\":\"5bcacbf6\",\"chunk-2d0e4c41\":\"1a2f59ec\",\"chunk-2d0e4c5e\":\"06b7bd39\",\"chunk-2d0e4ea0\":\"8524cc25\",\"chunk-2d0e508c\":\"08dc75f9\",\"chunk-2d0e50da\":\"0a4a4891\",\"chunk-2d0e53e4\":\"e33614d1\",\"chunk-2d0e5581\":\"1d09a42b\",\"chunk-2d0e5758\":\"ddb58691\",\"chunk-2d0e5f16\":\"3a36ed61\",\"chunk-2d0e6618\":\"e1f0b456\",\"chunk-2d0e6669\":\"c5a73a6c\",\"chunk-2d0e6724\":\"f23725f8\",\"chunk-2d0e68c7\":\"8243b678\",\"chunk-2d0e6cd1\":\"9a7a33af\",\"chunk-2d0e8c5a\":\"9e9f7345\",\"chunk-2d0e8c7d\":\"2f28a2cd\",\"chunk-2d0e906b\":\"69699ec0\",\"chunk-2d0e9376\":\"5af7a16c\",\"chunk-2d0e95ce\":\"9e210f84\",\"chunk-2d0e95d0\":\"3f0bc80a\",\"chunk-2d0e9745\":\"8cd9de68\",\"chunk-2d0e9801\":\"1434a936\",\"chunk-2d0e982c\":\"d96274aa\",\"chunk-2d0e9972\":\"f4b83b4a\",\"chunk-2d0e9ac9\":\"9e275c7a\",\"chunk-2d0ea0f1\":\"ab9da6c1\",\"chunk-2d0efcd0\":\"bb5db470\",\"chunk-2d0f048f\":\"f81e13ac\",\"chunk-2d0f07c1\":\"97c367bc\",\"chunk-2d0f0814\":\"df64dae4\",\"chunk-2d0f0bc3\":\"958e10c4\",\"chunk-2d0f0c59\":\"b7b03426\",\"chunk-2d0f0da2\":\"6d676bb5\",\"chunk-2d0f0da6\":\"f6dd05a8\",\"chunk-2d0f1152\":\"e236bf30\",\"chunk-2d207365\":\"c9281f2b\",\"chunk-2d2076ef\":\"ef709957\",\"chunk-2d20797a\":\"993e0235\",\"chunk-2d2079e4\":\"652c6e91\",\"chunk-2d207f84\":\"72570479\",\"chunk-2d207f91\":\"7d095b39\",\"chunk-2d20809e\":\"e14e65b4\",\"chunk-2d2080f8\":\"026c00f7\",\"chunk-2d20829c\":\"c8df62d2\",\"chunk-2d20849e\":\"b944cf92\",\"chunk-2d2086ea\":\"39417a41\",\"chunk-2d208704\":\"877772b9\",\"chunk-2d20883d\":\"e963a8c2\",\"chunk-2d20888c\":\"aa206aa7\",\"chunk-2d208a59\":\"a39d749a\",\"chunk-2d208c0a\":\"3199d223\",\"chunk-2d208c2b\":\"92089017\",\"chunk-2d208d73\":\"a770e28b\",\"chunk-2d208e58\":\"21f5872b\",\"chunk-2d208f9f\":\"10bc60eb\",\"chunk-2d208ffb\":\"4d27c2a3\",\"chunk-2d209248\":\"13e8607a\",\"chunk-2d209380\":\"3c04a4fb\",\"chunk-2d2093f8\":\"0506ad62\",\"chunk-2d20958d\":\"9ebf590f\",\"chunk-2d209725\":\"ef68ba5a\",\"chunk-2d20e7ba\":\"54c9fb83\",\"chunk-2d20eba2\":\"4eab3767\",\"chunk-2d20ebe2\":\"2acd8c0b\",\"chunk-2d20f386\":\"b0c0c6e2\",\"chunk-2d20f3c6\":\"2a763c7a\",\"chunk-2d20f5c3\":\"d24d92be\",\"chunk-2d20f6e6\":\"7faaacde\",\"chunk-2d20f717\":\"b8eea1f0\",\"chunk-2d20f739\":\"56046782\",\"chunk-2d20fd47\":\"e08cd512\",\"chunk-2d20feb9\":\"18ac38ac\",\"chunk-2d21022d\":\"055e9a18\",\"chunk-2d210287\":\"4f47bd06\",\"chunk-2d2102c8\":\"92cd7542\",\"chunk-2d210819\":\"04f34ffd\",\"chunk-2d210956\":\"ff4de91f\",\"chunk-2d210a4b\":\"62b555bc\",\"chunk-2d210bbf\":\"61ecc033\",\"chunk-2d210bef\":\"010ffed8\",\"chunk-2d210c0e\":\"70707c6f\",\"chunk-2d212b59\":\"f8e6ffc7\",\"chunk-2d212b97\":\"05b0de96\",\"chunk-2d212eda\":\"970370a3\",\"chunk-2d212f67\":\"86d4bc1f\",\"chunk-2d213333\":\"654f35d3\",\"chunk-2d21334a\":\"a47aa534\",\"chunk-2d213569\":\"ee4bfb93\",\"chunk-2d213adc\":\"96b4ede8\",\"chunk-2d213cac\":\"e230bbdc\",\"chunk-2d213ed9\":\"e7db4d9f\",\"chunk-2d213f04\":\"de464937\",\"chunk-2d2163e4\":\"86ddc5e7\",\"chunk-2d2163f3\":\"8226eaeb\",\"chunk-2d21647d\":\"7437c493\",\"chunk-2d216611\":\"417103d3\",\"chunk-2d216956\":\"0e0996c6\",\"chunk-2d216d47\":\"3faaf2e4\",\"chunk-2d2174b6\":\"5eab6c05\",\"chunk-2d217525\":\"db3bf87a\",\"chunk-2d217526\":\"b0ceb9bb\",\"chunk-2d217630\":\"52a2ac2e\",\"chunk-2d217abb\":\"eee85de0\",\"chunk-2d217b03\":\"a17207b2\",\"chunk-2d217ca8\":\"bae67fba\",\"chunk-2d217e47\":\"3f938dfb\",\"chunk-2d217ed5\":\"2bac3305\",\"chunk-2d2183a4\":\"6ff03773\",\"chunk-2d21a003\":\"171e6834\",\"chunk-2d21a403\":\"6f4463ff\",\"chunk-2d21a443\":\"12092e4b\",\"chunk-2d21a5b6\":\"96471050\",\"chunk-2d21a817\":\"3886da04\",\"chunk-2d21b27f\":\"60d777e3\",\"chunk-2d21b29f\":\"306968eb\",\"chunk-2d21b2ad\":\"cb542fac\",\"chunk-2d21d18c\":\"946dc4a6\",\"chunk-2d21d4c0\":\"fa784c30\",\"chunk-2d21dabf\":\"55a12647\",\"chunk-2d21dc09\":\"29d21da0\",\"chunk-2d21de23\":\"abbd5f3b\",\"chunk-2d21e202\":\"074b6825\",\"chunk-2d21e597\":\"452c534d\",\"chunk-2d21e5a5\":\"f49ed1fd\",\"chunk-2d21e5c4\":\"edd5e5b9\",\"chunk-2d21e815\":\"5417fcdd\",\"chunk-2d21eb0d\":\"351fcc92\",\"chunk-2d21f2bc\":\"ddc43649\",\"chunk-2d21f49f\":\"5accfe65\",\"chunk-2d21f8a8\":\"db57266e\",\"chunk-2d221835\":\"5d1022bb\",\"chunk-2d2218a2\":\"eca2a15e\",\"chunk-2d2219e2\":\"eee5443c\",\"chunk-2d2219f6\":\"c5d155cf\",\"chunk-2d221a37\":\"54852517\",\"chunk-2d221c45\":\"5d3c164e\",\"chunk-2d221c83\":\"9474508d\",\"chunk-2d221f87\":\"ae662244\",\"chunk-2d222006\":\"0e495805\",\"chunk-2d2226c1\":\"a5f8eda8\",\"chunk-2d222d2c\":\"2f034623\",\"chunk-2d224914\":\"f03c4676\",\"chunk-2d224930\":\"f42c4124\",\"chunk-2d224ad2\":\"25f05767\",\"chunk-2d224cf4\":\"a087bd92\",\"chunk-2d225038\":\"f45c59aa\",\"chunk-2d2252b1\":\"2c14de71\",\"chunk-2d2252df\":\"825d80ef\",\"chunk-2d2255dc\":\"e4f09488\",\"chunk-2d2259f3\":\"540d4fb8\",\"chunk-2d225a08\":\"6c38414f\",\"chunk-2d225dbb\":\"af64dce8\",\"chunk-2d226032\":\"a5685d8a\",\"chunk-2d22618a\":\"f3512df1\",\"chunk-2d2261e4\":\"2d73a04d\",\"chunk-2d226364\":\"41feb224\",\"chunk-2d2264dc\":\"551a9fef\",\"chunk-2d22650b\":\"aa1cb62a\",\"chunk-2d2266c9\":\"394e27c7\",\"chunk-2d226744\":\"93905ae5\",\"chunk-2d226778\":\"db19a529\",\"chunk-2d2268ca\":\"422345e7\",\"chunk-2d226ca0\":\"067ae279\",\"chunk-2d226cc9\":\"a47cf984\",\"chunk-2d226ccb\":\"2fa2d782\",\"chunk-2d226d09\":\"97c4f909\",\"chunk-2d228914\":\"0a502150\",\"chunk-2d228cd6\":\"f127759e\",\"chunk-2d228ef3\":\"5ce24760\",\"chunk-2d229204\":\"76dd86f6\",\"chunk-2d229436\":\"8ff8efc6\",\"chunk-2d229442\":\"71afae68\",\"chunk-2d2295d7\":\"ac0a38a0\",\"chunk-2d229865\":\"f2838339\",\"chunk-2d229b4a\":\"5a95a4d2\",\"chunk-2d229bc4\":\"67260991\",\"chunk-2d229bf2\":\"4eb88325\",\"chunk-2d229da8\":\"93cd4bcd\",\"chunk-2d22b9c0\":\"d6b8e609\",\"chunk-2d22bce4\":\"29d89b7a\",\"chunk-2d22bd72\":\"e6165a57\",\"chunk-2d22bd9b\":\"66d2bc99\",\"chunk-2d22c120\":\"3b3eb0be\",\"chunk-2d22c130\":\"e5310f5d\",\"chunk-2d22c17d\":\"9e678548\",\"chunk-2d22c55d\":\"daf47d76\",\"chunk-2d22c6af\":\"0b0f9d1b\",\"chunk-2d22c6b4\":\"edbb144c\",\"chunk-2d22c900\":\"a3ca3184\",\"chunk-2d22cbcb\":\"3007fcce\",\"chunk-2d22cdf6\":\"600fcb7e\",\"chunk-2d22ce26\":\"5e692e88\",\"chunk-2d22d09f\":\"d46928fb\",\"chunk-2d22d243\":\"88750d27\",\"chunk-2d22d34b\":\"452fe620\",\"chunk-2d22d366\":\"6e3a8772\",\"chunk-2d22d389\":\"3ab05b4b\",\"chunk-2d22d452\":\"8d3aabf5\",\"chunk-2d22d5ba\":\"d102465d\",\"chunk-2d22d785\":\"fbb2353f\",\"chunk-2d22d7a3\":\"f0678553\",\"chunk-2d22d833\":\"6b7e5026\",\"chunk-2d22dacf\":\"62477973\",\"chunk-2d22db2b\":\"9cc5b09b\",\"chunk-2d22dbd7\":\"868310a9\",\"chunk-2d22dc13\":\"923b4bb8\",\"chunk-2d22dd6a\":\"65e7e663\",\"chunk-2d22dd85\":\"26f065b4\",\"chunk-2d22e186\":\"8e331711\",\"chunk-2d230091\":\"71cc4286\",\"chunk-2d2300c2\":\"8991c348\",\"chunk-2d230533\":\"f9a72c7a\",\"chunk-2d230683\":\"2ad375c2\",\"chunk-2d230e57\":\"d3927baf\",\"chunk-2d230fc6\":\"56e7a86f\",\"chunk-2d23154d\":\"4bfd5bba\",\"chunk-2d237165\":\"fa4db177\",\"chunk-2d2374d9\":\"7d2d5de6\",\"chunk-2d2375df\":\"60004b30\",\"chunk-2d237713\":\"77301ba2\",\"chunk-2d237879\":\"6975a7b4\",\"chunk-2d2378d7\":\"e03c6253\",\"chunk-2d237b4f\":\"53387289\",\"chunk-2d2380d4\":\"985cc9cd\",\"chunk-2d238247\":\"bff66631\",\"chunk-2d2384a5\":\"2b98e5c8\",\"chunk-2d238656\":\"d3cc7a67\",\"chunk-2d238661\":\"3e2fafbf\",\"chunk-7468efb7\":\"47eba6a9\",\"chunk-747c1801\":\"ab287bd4\",\"chunk-74921a61\":\"9b23ed8e\",\"chunk-77053d12\":\"ef6239d9\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABPNJREFUWAntV2toXEUUPjN3N1bTUGNfWDTVH32INRpEi1GDzz8iNkWMUDFQhYJ00yRkk9U89Nrd2Da7KZJsxPrsHwuGqqhoIW1EG2k1LUWroFREG9TSJhUlbWiy9874zZpb7mtvNwn9twPJnDmv/ebMmTPnEhVGIQKFCBQicFkjwGbifUtz+woh2IOSyVLO2CkiOdSbTPw6Ex+6rodGz1M5SXMl7JcTY2c5035ceBUNQybcvvIC2NKyo2RCjL8updxgd8AYE5JoL4VDHX3b9BN2mZuORpPFF+jfKEn5HGyWuuUAchpg29KpxNt22SUB9vf3aweHjw8A3AN2QwfN2BmAvDcXyPqmtiqTsffg4zqHnXchuRau7O3Sv7FE3CJyzUNHjm8KBKcMpVxCU8aB+tZOT2QiTR2bDKIv8gCnPDEyjbsVYY1LApSSGi3l4FleLyYnEnadSFN7oySxCzzNzg+kOTtqlwcCjMQ6bsHOV9gNkHdT2GcP8uWkna9oZPjGLVF9jaLrmjtqJcluRfsMEz4+ZYyn4G+AEfsn+8cp1puMf2XXD8zBSLR9IwC+YzeA44/7Up3VDc/rN2SMzHckaYFbznn4FSmMIdgWOWRYANBh5Osz6W36z3YZdCFiuD/OERhBRKDUqY6VpGOK9+p2/XdOvN0jJ3pUmMZHOcDtWTQ/dJ8bnPLhB07xAwFqFB6AjqkUp0dGY+EPrQWVLX4T9J8X14qQKt/kMgdPLRjrB7inUeumPLIARmDyfnvoyzNrK+8/whhdix3+pnFW15PaesjyN7xvn7n2nqoigHrI4vnNyKNhvnzpY12xGC70zEZgDubjKtKiL5NmZgS6OTbLxrgWqkBt+yMff26dwCN2K/ut0136Xzg/x82z9BB1wTk9NVtwys+cASKn5jGSN1qg7DMAJvBWqzye9ZgzwLFzxi7UBl+AhqBPZo1s2nBOADdHOxpQTmpzgdCYXJ9Lli9/1gA3t7z4MEmRCvwhKR8PlOchnBXA+pb2VcwU/fCf4+b+/8s4+tX1Ub08Dxw5VWYMsEnXF5mCPsMrc7WPV2fRhoJJRrOPXt6sGdVBdWNHx41BvBSVPr8wyDn7QAj5mktmshCvSO+I/2Dn18f0MsM0kvC1kiT/fHGJ9hL8ewp53hFUjevYucweP3DY5YmS8PwnFhaH3kVpcRdkTZry/QZdvxjxaFRfYhqZ/egja/AK3YY+qHV03HzZvgGLzhnByAv6ajLEzTgkToKX4jtkHRw+YhlaM55BfFOwu3qSiV8UDx3Qs7jZb1lyawbwEdBvQKbhXd4AX6ssmZrh51g61Xm7nafokJuh1nXNba1iKpMAOb0BdHqeRigrnERPt74nGc+CU7ZVd5bvPjj8PcoPZftCxVMDwMowKZ9qkZ3s/9Bt/WRfW7TniGOx7QuEoK1QyBndaWPJGa9FgzlkOVNzTU0NPj9YNSIyaucH0WhW/55Hss1PxwNwQl4ogWJg+VCOGPFITyquSo1nqE9RSXwdQJ73CN0MRuPQe7K7u/OkW6TWHoDqYUfo9vspKx5kpzWmVae74+7b6jDpS8UPF11BNyG59joEjgX7OsTZHb2pxAEH27bwPcbGnTuvzJw6W0eS3YrcQx8uJ2Gj+sGj1xSHBvzKgc2nh8x+p8hMhSC+hrgMI99GmEaD7tLjMSwwChEoRKAQgcsfgf8Ahra2B/WXUvsAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin","/* (ignored) */","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABPlJREFUWAntV2toHFUUPvfOTB9mY6qk1oLY0mpRWipIW7EVhUKJRVQoJEVpfVQQNdkYze62kAdjHmK6G9pks2h8UpDmR62tjwrB4g+1KgpCWwnYHy3RgtXaEmu2bToz9/rdNbPdzuyTbH6IubC55557zrnffOecOxOimTHDwAwD/20GmBd+MNz2ihTyUa++5DWj+ECs652S/TwOumdNQohbobvLqy91zYgtLdUnmz3PpiyPTlaWI46PQeJsP5P0hJQyDR51MCEZXcx3IBiryvQhYtMDMBHt+rQh3LKdJEUzAI1xbqyK7zRPZ+iuEU3TnHM+aa93hExgYzF+ZQGYZinztIFodwzrd12dJFoghXVAgXB13hl7l/ujXZ8xxtYrxkmWJ8VZAarD51cazxNjX7pApKRVZ8ftN911rhmdewoPNIT96WNQHQ5GrpBx3SaIJ9U6NaTcWh9qedld5po1zvbJMtWg7x70HtoUab3TEvJb1GTV5J5DmrYxsbPjc6+tu45EeiqTcnxzItr5ttKFQtGKCfnXcwBdrTFtqC9mHnNtQYR+NkkrdWYnd/d0nkCJIAFXR0GAyrRhe3uNtJ1DEDW1RseeNwx99a7XzKvsqo0co6G5da8k+ZjaxoGXJDfuS0TNH19sbrnfJnoP6iUpV0afJGLdj6TkyT85azDTaKCnY5gz3uTqcNiNlm19hKcPuLpcs2ITqGoZoyR+SD3NJWHH6yPtGxzGVBaWoNZHsTeCBz/jjVMUQOUUj3UOINDrbgA0zYo/x+09uPvyZkEILmA7BrODc2je0wByjkiuJcfZB99ZnFjigTUrlw7EupejwZ5147tz0QCVw/yA3ogaOew644BNDaHWNnedbY7Fwkm+6KZbEr1dW5QMNlVK1agCYx/3xzqDdXV1zr8q/9+SACKlth7Qa8Hkz24oxmmhK+ea442NE+k9STekZElOwKh4ytsUabtJoSSAyme3aY7hEj6iZOR2uLrCCCq5mBEMtT+EdG+DLRqatKSYuL2Qn/9dXMAjGGoNo6i2oZZ+YgGjTrFawCW1/dIO8zbLst/HAqSxIyiPdVLYqmO/rw+13ctI1lQH9FcR70pmvLwFnmmoZLyjN0tBQ3D6YzbRPb293aNeG+96cHDQGDn520LHtobRwXcA3IeaJnfZNn2FGrzAmb5OSGs/9pZxMpbHe82RzBhFp1jdWSRoD8Bd1og/XAy4JtOcd/zEr2ds2xpV4JDWY2Dpyb6e7q8B7iCuq+sF2UcVOJURLzgFtCiA6m1iM0JAmoXAW/p6O3/IfMpcsjVBawHqOFg7jcR+wLixESkcV/bVlfpWgDqAVHMFjgyjNlucgikOh82bL0r7OzTGIkSKxGNdmZ9h2WKmdMGIuQZfQF/gfst7mQf7+2df0+WeiHkZxNMGLknrkAIHFt4qFpw6QzpWB6ZTnvN8y3zglHFOgACn4/MKtz3dDXCHUTsv+KLnUKCZdqAcavArCDBHiLQ65zWD19gbYO5B1MDvuLTaz/1Ny4LNZtpRCZpmS8fRGWdOpcPEYkl8BXxq8F/h6knD6QGoXl8o3mfUIWBhAUnxjUALe4dIvaAsEjBShuSz4VMG6EtxQ6jtcYBT9TPloRErP0ApxYYpI5sMIDRZ1PdivvN8DOYzLnWveq42ZQZ9TcI5/wVFfrRUMD57RhfcS9m3N6OYYWCGgf8RA/8AfbLThxllE9cAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAlBJREFUWAntWD1IHEEUnrd7prGwEETBFDaSOoUgIpYhhbWphFjYnIJwl8LEk0U0FtHubAQJpE7gwEIsVVSwSZ8mzRUBq5T+3D7f22Pk7e7czi4HGwJzzbx5733f+/bNzC2zSrmf64DrwP/dAbDJX6ltvlUQHkZ56C0397dObJiseFG+ShZZFCNxiDjONnSFvrRishIK8nlZXBzT4pK2DdcrXpTPKrBXobL8TmC/nXYddB3stwP94t0eLKODKIvQm8D6/pb50jZgY9wyV9v2JQa41ck8rn36PCLnRewUNsFt4rIKBIVtCezc3b2W8yJ2EpvkNnFZBRLoKgaEcDE2LzJJY+PcBi6rQADvu8TRPlqo1hvT0pfHZgxjZW6SW8a0bRU4POhfgIKfGkAjAIY/VuobE8KXaXIuYxirE5mTufW812gVGARB6CtckwR09MYQ1c1qfXNe+k0253AuY2ScOZlb+kz28xOZgtJXrTV2lAo/Sh/bAHCpEL75Pp4NhEPRgXrw/o53OjCnABdpWWcMmJ3m3vZG0m+a5xbI/2GrHxpHNL43EeX10QN9JXFLefOtS6yJiBiZ2FNQJ/tR+/OOjGFsEXHM7ectoPNurs+vp2bnWhBGe+qV9meNdCBaqgLvml+2W1l5pljuJTaBq+vBpHf/OI8K39AhmKAdOdrNwz9E/JuEnYYvKscHu8EvE975yuhAaon1zZ9Oa3RZL0ME16BD1FaGLxfpUyxu/mWJ4zpRQ7pfLmJl0wJj4X8/SQukNkftLlmbXuKSy7pyrgPWDjwBZlPFnRrgVMgAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin","var map = {\n\t\"./locale\": \"c020\",\n\t\"./locale.js\": \"c020\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"2f0d\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAANtJREFUWAntlTEOwjAMReOegwtxESY2dgZ2NiYuwoU4R0Nb1VLkj8WQKCbS75R+J/HPi5SfEj8SIIGxCYi1f75cj0nm56bn6fS4317lHK3nnA+lXjsWkXf60m+CjRdza/PNgBotJ+31Umox9vqhwRbdGu6BBhfMK25FDr32OuiVgtuvcl8uJwESIIHRCYRlsT7MNustUEySTlnsZe9vg3ZG8D8S7JTFesXB52d7EiABEvh7AmFZ7JHRB1wzGpOkUxZ7Bm1Go0FvZZCOBjtlsXdevWKvTp0ESGA0Ah+DRYoW4AJEJAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAsRJREFUWAntmM9rE0EUx9/sxhTEnwie9FARlIJo/QEeRC9e/AdyFbTUgmlRYlolJiy2AW1crW2ktOChBy/5B7wJzUVsNdoKvSlIe9GLSKvQ7u6Mb5K8zbCSXyZuFDaXee/NzHsfvvNrCUDwCxTorAKMykdjqUvA+GzRF1p/1rz3gvqaaduVh2qGyJBwQogD0mcl0INuXzNGu/KUa2pUm+Ckr9rU32irzlXtRud7x7mA3o5/xQ8AW12JQMFAwVYVaHV+sAdbVbDy1HkyXY8lhCfUEbcq4N+iGZyc7BKrXwZBsB61Bj6LUpD8UzM9p8Z9BxSrXwcEhwy++CoH2VduxI2liYzxngL+HxIB56m4t8Vvv02dW9/UeFUFUWr3W1GdUM+uv3fFUcrBGEuhvSZ9tAVwfcE0jc/UL9uqgOqgdtm5XE7PLywfpuXdru2cGB8fWa+V31fAV4WVbjwL4RIQ2/jprPdFY8kfQtPfXDjTsxSJRBwvrK97cMux3eVFFXcIEI9wXWeAW2/zr5cXoyPJYx0F1Dgc8QKQj7C9YPPfIH1VEDS2i4CAwXc8GM/wJM5KW8bx4ukCW8zJvUrjfAXkIf05A/YOwV5qjJ3KPhzry5rpa+HQtpMVSNE7v7hyvCOAIW7tZxrLTmVGL05lxj4SxOP7xicEz5HPuHOabN9O8eCwcdZx7HkhuDYUT+5DAHxN6v98W2LNscJ4xRTrcRB3orfudhPezdvGITwkEfLltUO2C4j7Yo2Cqk2xRlt1rmo/MdN5XMYPxTwC9uKJKETjieloLDGzZVsF9HfLPrlH5Z1I9VxAwL87ZMJiUrRpQNNtjTw6sKuIsCFzomJ78KNhAE9ufwUONiHELqsX9h+9t01DKxPkXuTcmkaoE0q4qJyEyz4YLalc7vQdUNbFvciGhlPnUEH5cti1nroyZ9AECgQK/LcK/AJvDAImXQtbwAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAkVJREFUWAljYBgFoyEwsCHACLM+p7jOk4Hx3yww/z9T2pTepu0wOVJoapkDs5MFxgA57v///zIgPiPEobJwOVIY1DIHaicTzG6Y40B8ZDZMnlgaWS8ym1j96OrgDkSXGCz8UQdSGhOjITgagpSGAKX6R9MgpSGIqOrQTMourv6PJkQzbnZlgxorO8OrCQ0NH9AtGfAoBgZEHcOv3zd/f/lzvaysk3dQOTCnpMYJ6KAGsKP+/5f4wfDVZNA4sKKiXRDYmFgEdBC8yff/3z9mdAfiTINTe1vhGtE14eMTm3Y///kKantK4zMLJDcgaRAYtYnANl0IIccNiAMLKxpU/v9nmESM4+juwIaGBpZff/4sATaJecAOZGS8DkyCx/A5lq5R/Prr33pg1JqDHMTIyPiLiYUxmpGR4dugcGB+ebUNw79/lXDHMP6vntzRfB7Ox8GgSwiWl3fw//nLCIxaBnAxAgy9f8B0aJddUr0BGN36MLf9+8/QmFNcsyyvuNYYJoazmIEpoAb97e/XWGDUysPMApZ/oIDxBfFR69P/VkC+1T/G/+pAKbAj6RKC/5kZb2O4BeQ6nIDxFkyKLg6c0tm0k42FSZeZkTkAHTMyMF6EOQZI1zMwM7vpqsrGwcTgUQxMF09g/VgQG6aAVBqXOf2dzVeBZoEwCsgprs6GCTAzMx+d1NW0F8YH0YgQBA53gAwHOw7IRlZEEptEc4Bp7gjYfEaGj2z/mC6TZBe9FGeX1FoWVLVK0su+UXtGQ2A0BEZDACkEAOpuuw0oUK1IAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA71JREFUWAntmM9rE0EUx2d2628FL60gov4BggeR2iq0KAhFW/zRgqAnEU9Jipi2KE0pSVEs6aFJTqI3EfEHihUKQiv20GJFRPDkzR+otRcPalvT7Phe27e83e4km+z2Ip3LvHk78+aT78yb2Y0Qq+U/V0CuxO+LdPZuV1a+Swq5TygxLaR8lEun7lQyV+iAsc6eI1bBeqiE2sqBAPaJ3FVzJhuLzXF/KTtUwEW4wpASYoPXxFKKYblz28lyIEMDLAVHwOVCGjQwSK2Dk1L2ANB7Hlsp0aQ+TT2OZjLruF9nBwbUwRnSaM+l+1JyzabDQSADLXExuGw6lSFVoleuVav871FQbw/5sPaz3BUD+oUjoEohK1ricuEQMnv96rR2uT/+uEc/xF2XDVgJHE2qhRTqRCSeOEf9eF0WYBA4mlQHKZQ6TX147RtwAc5afghjtvKE4MF1NkJCitx3PJei2tFeavgCXFLuGWSh44aoBA7njcYTMaVUkgPB1fiGt8muIkNX23BCrOd9gsBZyhrkseCe/imMqhvcR3ZRBdmec8DBYCWk+EVB/Nao3HI4MWOYRmuuv/erVxzTy4k+BudY1qX+Epao5cChxs+T42NvdTG4Xw9nNmf6kyO8L7c9AXVwcLfOw2BS3TdkpXAISpPZ0Do43HNSGKcA8q/dGVLRsqxb0Y7EeeZzmEHgMJBDwWhXYq8qWCPu9zlKiMnxlx9q6xvfwf7DM4vGapUMCoeADgXVvLqtg8POWLLp5BAo2VpKyTDgcD77ZSEe762ZUfkpdFIh5ajN62i8p1kJeLVXai3zK8MwLkCOb/bO1uIJweLYpq3gnJzfYnvRkPKPocSEw8caqCTo3+alZFhwCxg0JyghIx2J73An1pAPD1BTyKODA6nX5HPXkc7uFmGJBy4l7W6wRHDOla8cBbAVBCUUAF2iB1jjl1lBqOftlxP7uZ/buf6+p0tK4hHkKBBzNggcBrMBsQHfrnchaAptKn4gpSV3g4KOaxOUy8N+PF7sEKY5itV0VNh94GZ4UXuwAf0NthPuYcjutrr6htFXE2OOK0mTrXlQrikoHM6/DBCdfiG94CC5Zk3TPBYGHLLYxww23CUS707C0iW4nxLHkqIuzGzlc3C7KCB29ILEIwiyfaMrUKBs5bG4XRIQO3tC8igh2JCcX4QyLuYGksM8nCOL+QNuwwc4/EPgzG7+PAwbttIOePW46Y7lCxAHLUIaZ8EsuIOsZNs3IEIsnJPCbIZ98S1sKFrisOOuxltVIKgC/wCZrR8COXDCfwAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAulJREFUWAntWEFoE0EU/TOJta1KoRQEURAFlYhoRAsetF69CUJ6EPEWRbeCrNRCqCxqQYWgYHqweBFBMIgnwbN60rYWKwp68KInpYdikdTdzPj/mL/ZbIkmJG487MB2/p/58//jzfw/kwLELWagswwIDm/Zl46AUFNG1zJbyF9+ynPN9O3ywzGTLBA4rfVG0sVvoJv8uWaEdvmpxJQcm8GRHpR5vtE+uDYoN7o+bOcDDE/8L3oMsNWdiBmMGWyVgVbXx2ewVQarV13I01k7p0NDbVPPjzlbXM87ARr24L31FYR8MbA28cBxHBUOEvkWj4zmjrueO4/XoKNBH0UWslqr+9+W3Flr1NnQUYAjtpNSStzVGtaEgRg2lfcIWawhrUZZsajNA0p45/Al0k1uBYg5CeIYSHkVn08lGkNWDyyUyrtJ5lb3DE7mJ/y3Ihs30v/p7AoNg3ywRSJ5+vYN5xX6fGxdyPXj+Bnjv6x2YD/HseoCZIN29lrAdtxK03pF9wf2LYW4hdmRxrmFHrHuCY9THxlA23EGSt/dXhNcwOKSKm217PF9pJchMTM0mDqYyWTKZj7wJ7IzuPwDNvtxNXSBcmc1qDv0kfz85fy0dXF8l29TESIDKJRaHwjeE5CNiCUnDZ5aATI6gBL6a0DhNmMWTtGHKb1Ic3g8V4On7xWLxQTbRgZQK9jJQRHUcldy1d5CfuIUfSRXQer0s+n3fqmJDKACvY0BYqF+d/Oa84l1krEEPWRdqLJJHtIjAyhBf2QAUsJnlv/WRwZQiWSRwWDNO0wPBtZJxho5zLqWiRmW/ToohPjCv2NJZoNm+3p+hvan3mApmTPZqqHvp+e+tuyc2VaUhzFD+igWXYGH0HayErjKIP67g5wbcCg3C8y3r+PHFOGkOEkJYmwREGZtlr4qOJxDm2DBRvtomynGWEoMk4HQxByBK1y/8jYwjIx2oFGdo1LC2Upnjo5AkLkOwIpDxgzEDPwTBn4BaCYeXVBQ+j8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAqpJREFUWAntl79rFEEUx9+b3YsgSeGPFKLY2WojWKmHgpDK0n9Aq2hQ46UwP1hyXsCcMZKggqYXS7EQBMFfpa2VnT+w8FeRI5Dc7YzvHe7dzLnO7HLuiHDb7PvOm533uTczb+YABs8gA/82A+gKf35ybgxQ3lNK7XP1Nf3YQFTvKcDTMBBry9erb01/NuUGvDLzIT+cGRwRJSq4u2skvBxF0ZbptSthdwP0C8fj0xhCghr/2mg9IcAhV0zd7wTUO/drE+iJb+utm3nGcU7x+OS00ge8vVRzfsP9L16t7YmbG2WlcFGfBZ7uUoAHs67JwjJ4a2H682q99qA0HB4iqI/Jj+TpbsXybKJd78IAk8DLUfSddvNUovlNU3JK1za7cEAOHpS2P9chaNr369pmewG0Abh8XgB5s+ggXMB1bbMLB7wURTt5J+sQfLro2maHNmc/vqTMNBut38pMGOBa1rFzA/bWxT8Fam5u/HIZZRT4yMtaA3mAwqfY+AEIPwDiO0abQ/gFVLBDonh9oTJ71MHVcfsF5LAMqeSjicrMgQ6Fxci9BrOexRyzvVG2Ng8rkBU64rpZY0iA+9SlzP1sT6EZbJ/HN+Yf7x4Oy7TcF3QQAj4+MTV3Um9LswsFTALSHVCOjgSzdGl4lbTxW0p5RtdpthdADsyQCKKuQ1ABOqbrNNsbIAcPhra9MSAU7DV0ivAKmBLf2eQVMKYdbRAhfDJ0ivAGSGtQcLnRGejS8FLXaXbuOpg2iKuN4b6sx1Wq0t1aSB8JIR66vi0UMCnU9HeTMmfCUcl5sbI4/+yvA2a9zXDg7o2mB4MuDQLhXE9rqvS2BjvR23Di9Er92rtOm8XwCsjTGiAeWa1XjRPFwgeFrkEAbACVEt6tvCGyrDkb7MA3yMAgA/9jBn4CoCrXeOGpEMIAAAAASUVORK5CYII=\"","var map = {\n\t\"./prism-abap\": [\n\t\t\"5e92\",\n\t\t\"chunk-2d0d3adf\"\n\t],\n\t\"./prism-abap.js\": [\n\t\t\"5e92\",\n\t\t\"chunk-2d0d3adf\"\n\t],\n\t\"./prism-abap.min\": [\n\t\t\"2f8c\",\n\t\t\"chunk-2d0be195\"\n\t],\n\t\"./prism-abap.min.js\": [\n\t\t\"2f8c\",\n\t\t\"chunk-2d0be195\"\n\t],\n\t\"./prism-abnf\": [\n\t\t\"11b5\",\n\t\t\"chunk-2d0aab29\"\n\t],\n\t\"./prism-abnf.js\": [\n\t\t\"11b5\",\n\t\t\"chunk-2d0aab29\"\n\t],\n\t\"./prism-abnf.min\": [\n\t\t\"a0fe\",\n\t\t\"chunk-2d2079e4\"\n\t],\n\t\"./prism-abnf.min.js\": [\n\t\t\"a0fe\",\n\t\t\"chunk-2d2079e4\"\n\t],\n\t\"./prism-actionscript\": [\n\t\t\"a593\",\n\t\t\"chunk-2d208704\"\n\t],\n\t\"./prism-actionscript.js\": [\n\t\t\"a593\",\n\t\t\"chunk-2d208704\"\n\t],\n\t\"./prism-actionscript.min\": [\n\t\t\"c3ab\",\n\t\t\"chunk-2d216d47\"\n\t],\n\t\"./prism-actionscript.min.js\": [\n\t\t\"c3ab\",\n\t\t\"chunk-2d216d47\"\n\t],\n\t\"./prism-ada\": [\n\t\t\"2e65\",\n\t\t\"chunk-2d0bdd68\"\n\t],\n\t\"./prism-ada.js\": [\n\t\t\"2e65\",\n\t\t\"chunk-2d0bdd68\"\n\t],\n\t\"./prism-ada.min\": [\n\t\t\"35e6\",\n\t\t\"chunk-2d0ba349\"\n\t],\n\t\"./prism-ada.min.js\": [\n\t\t\"35e6\",\n\t\t\"chunk-2d0ba349\"\n\t],\n\t\"./prism-agda\": [\n\t\t\"6fa9\",\n\t\t\"chunk-2d0db7de\"\n\t],\n\t\"./prism-agda.js\": [\n\t\t\"6fa9\",\n\t\t\"chunk-2d0db7de\"\n\t],\n\t\"./prism-agda.min\": [\n\t\t\"d94e\",\n\t\t\"chunk-2d21f2bc\"\n\t],\n\t\"./prism-agda.min.js\": [\n\t\t\"d94e\",\n\t\t\"chunk-2d21f2bc\"\n\t],\n\t\"./prism-al\": [\n\t\t\"7783\",\n\t\t\"chunk-2d0d76d1\"\n\t],\n\t\"./prism-al.js\": [\n\t\t\"7783\",\n\t\t\"chunk-2d0d76d1\"\n\t],\n\t\"./prism-al.min\": [\n\t\t\"c23a\",\n\t\t\"chunk-2d2163f3\"\n\t],\n\t\"./prism-al.min.js\": [\n\t\t\"c23a\",\n\t\t\"chunk-2d2163f3\"\n\t],\n\t\"./prism-antlr4\": [\n\t\t\"7607\",\n\t\t\"chunk-2d0d721c\"\n\t],\n\t\"./prism-antlr4.js\": [\n\t\t\"7607\",\n\t\t\"chunk-2d0d721c\"\n\t],\n\t\"./prism-antlr4.min\": [\n\t\t\"b7d2\",\n\t\t\"chunk-2d210819\"\n\t],\n\t\"./prism-antlr4.min.js\": [\n\t\t\"b7d2\",\n\t\t\"chunk-2d210819\"\n\t],\n\t\"./prism-apacheconf\": [\n\t\t\"881e\",\n\t\t\"chunk-2d0dee4a\"\n\t],\n\t\"./prism-apacheconf.js\": [\n\t\t\"881e\",\n\t\t\"chunk-2d0dee4a\"\n\t],\n\t\"./prism-apacheconf.min\": [\n\t\t\"fb8e\",\n\t\t\"chunk-2d2375df\"\n\t],\n\t\"./prism-apacheconf.min.js\": [\n\t\t\"fb8e\",\n\t\t\"chunk-2d2375df\"\n\t],\n\t\"./prism-apex\": [\n\t\t\"b00f\",\n\t\t\"chunk-2d20e7ba\"\n\t],\n\t\"./prism-apex.js\": [\n\t\t\"b00f\",\n\t\t\"chunk-2d20e7ba\"\n\t],\n\t\"./prism-apex.min\": [\n\t\t\"2bbe\",\n\t\t\"chunk-2d0bd7a9\"\n\t],\n\t\"./prism-apex.min.js\": [\n\t\t\"2bbe\",\n\t\t\"chunk-2d0bd7a9\"\n\t],\n\t\"./prism-apl\": [\n\t\t\"f850\",\n\t\t\"chunk-2d22d7a3\"\n\t],\n\t\"./prism-apl.js\": [\n\t\t\"f850\",\n\t\t\"chunk-2d22d7a3\"\n\t],\n\t\"./prism-apl.min\": [\n\t\t\"e15c\",\n\t\t\"chunk-2d224930\"\n\t],\n\t\"./prism-apl.min.js\": [\n\t\t\"e15c\",\n\t\t\"chunk-2d224930\"\n\t],\n\t\"./prism-applescript\": [\n\t\t\"b762\",\n\t\t\"chunk-2d210287\"\n\t],\n\t\"./prism-applescript.js\": [\n\t\t\"b762\",\n\t\t\"chunk-2d210287\"\n\t],\n\t\"./prism-applescript.min\": [\n\t\t\"11e8\",\n\t\t\"chunk-2d0aab89\"\n\t],\n\t\"./prism-applescript.min.js\": [\n\t\t\"11e8\",\n\t\t\"chunk-2d0aab89\"\n\t],\n\t\"./prism-aql\": [\n\t\t\"bb7d\",\n\t\t\"chunk-2d21a443\"\n\t],\n\t\"./prism-aql.js\": [\n\t\t\"bb7d\",\n\t\t\"chunk-2d21a443\"\n\t],\n\t\"./prism-aql.min\": [\n\t\t\"e2fb\",\n\t\t\"chunk-2d2252df\"\n\t],\n\t\"./prism-aql.min.js\": [\n\t\t\"e2fb\",\n\t\t\"chunk-2d2252df\"\n\t],\n\t\"./prism-arduino\": [\n\t\t\"54e7\",\n\t\t\"chunk-2d0c8847\"\n\t],\n\t\"./prism-arduino.js\": [\n\t\t\"54e7\",\n\t\t\"chunk-2d0c8847\"\n\t],\n\t\"./prism-arduino.min\": [\n\t\t\"5a5e\",\n\t\t\"chunk-2d0d2b92\"\n\t],\n\t\"./prism-arduino.min.js\": [\n\t\t\"5a5e\",\n\t\t\"chunk-2d0d2b92\"\n\t],\n\t\"./prism-arff\": [\n\t\t\"f24b\",\n\t\t\"chunk-2d22c130\"\n\t],\n\t\"./prism-arff.js\": [\n\t\t\"f24b\",\n\t\t\"chunk-2d22c130\"\n\t],\n\t\"./prism-arff.min\": [\n\t\t\"69e3\",\n\t\t\"chunk-2d0d0f67\"\n\t],\n\t\"./prism-arff.min.js\": [\n\t\t\"69e3\",\n\t\t\"chunk-2d0d0f67\"\n\t],\n\t\"./prism-asciidoc\": [\n\t\t\"8ce2\",\n\t\t\"chunk-2d0e95ce\"\n\t],\n\t\"./prism-asciidoc.js\": [\n\t\t\"8ce2\",\n\t\t\"chunk-2d0e95ce\"\n\t],\n\t\"./prism-asciidoc.min\": [\n\t\t\"98e7\",\n\t\t\"chunk-2d0e68c7\"\n\t],\n\t\"./prism-asciidoc.min.js\": [\n\t\t\"98e7\",\n\t\t\"chunk-2d0e68c7\"\n\t],\n\t\"./prism-asm6502\": [\n\t\t\"89b4\",\n\t\t\"chunk-2d0df7c9\"\n\t],\n\t\"./prism-asm6502.js\": [\n\t\t\"89b4\",\n\t\t\"chunk-2d0df7c9\"\n\t],\n\t\"./prism-asm6502.min\": [\n\t\t\"e2f4\",\n\t\t\"chunk-2d2252b1\"\n\t],\n\t\"./prism-asm6502.min.js\": [\n\t\t\"e2f4\",\n\t\t\"chunk-2d2252b1\"\n\t],\n\t\"./prism-aspnet\": [\n\t\t\"76b8\",\n\t\t\"chunk-2d0d782b\"\n\t],\n\t\"./prism-aspnet.js\": [\n\t\t\"76b8\",\n\t\t\"chunk-2d0d782b\"\n\t],\n\t\"./prism-aspnet.min\": [\n\t\t\"7175\",\n\t\t\"chunk-2d0d602e\"\n\t],\n\t\"./prism-aspnet.min.js\": [\n\t\t\"7175\",\n\t\t\"chunk-2d0d602e\"\n\t],\n\t\"./prism-autohotkey\": [\n\t\t\"32ab\",\n\t\t\"chunk-2d0b97b6\"\n\t],\n\t\"./prism-autohotkey.js\": [\n\t\t\"32ab\",\n\t\t\"chunk-2d0b97b6\"\n\t],\n\t\"./prism-autohotkey.min\": [\n\t\t\"0e1c\",\n\t\t\"chunk-2d0af43d\"\n\t],\n\t\"./prism-autohotkey.min.js\": [\n\t\t\"0e1c\",\n\t\t\"chunk-2d0af43d\"\n\t],\n\t\"./prism-autoit\": [\n\t\t\"43bf\",\n\t\t\"chunk-2d0c0ff9\"\n\t],\n\t\"./prism-autoit.js\": [\n\t\t\"43bf\",\n\t\t\"chunk-2d0c0ff9\"\n\t],\n\t\"./prism-autoit.min\": [\n\t\t\"b431\",\n\t\t\"chunk-2d20f6e6\"\n\t],\n\t\"./prism-autoit.min.js\": [\n\t\t\"b431\",\n\t\t\"chunk-2d20f6e6\"\n\t],\n\t\"./prism-bash\": [\n\t\t\"8009\",\n\t\t\"chunk-2d0dcff7\"\n\t],\n\t\"./prism-bash.js\": [\n\t\t\"8009\",\n\t\t\"chunk-2d0dcff7\"\n\t],\n\t\"./prism-bash.min\": [\n\t\t\"55ec\",\n\t\t\"chunk-2d0c8c34\"\n\t],\n\t\"./prism-bash.min.js\": [\n\t\t\"55ec\",\n\t\t\"chunk-2d0c8c34\"\n\t],\n\t\"./prism-basic\": [\n\t\t\"a954\",\n\t\t\"chunk-2d20958d\"\n\t],\n\t\"./prism-basic.js\": [\n\t\t\"a954\",\n\t\t\"chunk-2d20958d\"\n\t],\n\t\"./prism-basic.min\": [\n\t\t\"b785\",\n\t\t\"chunk-2d2102c8\"\n\t],\n\t\"./prism-basic.min.js\": [\n\t\t\"b785\",\n\t\t\"chunk-2d2102c8\"\n\t],\n\t\"./prism-batch\": [\n\t\t\"c243\",\n\t\t\"chunk-2d2163e4\"\n\t],\n\t\"./prism-batch.js\": [\n\t\t\"c243\",\n\t\t\"chunk-2d2163e4\"\n\t],\n\t\"./prism-batch.min\": [\n\t\t\"c891\",\n\t\t\"chunk-2d217b03\"\n\t],\n\t\"./prism-batch.min.js\": [\n\t\t\"c891\",\n\t\t\"chunk-2d217b03\"\n\t],\n\t\"./prism-bbcode\": [\n\t\t\"1dd0\",\n\t\t\"chunk-2d0b6ad5\"\n\t],\n\t\"./prism-bbcode.js\": [\n\t\t\"1dd0\",\n\t\t\"chunk-2d0b6ad5\"\n\t],\n\t\"./prism-bbcode.min\": [\n\t\t\"b735\",\n\t\t\"chunk-2d21022d\"\n\t],\n\t\"./prism-bbcode.min.js\": [\n\t\t\"b735\",\n\t\t\"chunk-2d21022d\"\n\t],\n\t\"./prism-birb\": [\n\t\t\"b8df\",\n\t\t\"chunk-2d210c0e\"\n\t],\n\t\"./prism-birb.js\": [\n\t\t\"b8df\",\n\t\t\"chunk-2d210c0e\"\n\t],\n\t\"./prism-birb.min\": [\n\t\t\"a38a\",\n\t\t\"chunk-2d207f91\"\n\t],\n\t\"./prism-birb.min.js\": [\n\t\t\"a38a\",\n\t\t\"chunk-2d207f91\"\n\t],\n\t\"./prism-bison\": [\n\t\t\"48be\",\n\t\t\"chunk-2d0c22bd\"\n\t],\n\t\"./prism-bison.js\": [\n\t\t\"48be\",\n\t\t\"chunk-2d0c22bd\"\n\t],\n\t\"./prism-bison.min\": [\n\t\t\"9daf\",\n\t\t\"chunk-2d0f0da6\"\n\t],\n\t\"./prism-bison.min.js\": [\n\t\t\"9daf\",\n\t\t\"chunk-2d0f0da6\"\n\t],\n\t\"./prism-bnf\": [\n\t\t\"a64b\",\n\t\t\"chunk-2d208a59\"\n\t],\n\t\"./prism-bnf.js\": [\n\t\t\"a64b\",\n\t\t\"chunk-2d208a59\"\n\t],\n\t\"./prism-bnf.min\": [\n\t\t\"5af4\",\n\t\t\"chunk-2d0d3150\"\n\t],\n\t\"./prism-bnf.min.js\": [\n\t\t\"5af4\",\n\t\t\"chunk-2d0d3150\"\n\t],\n\t\"./prism-brainfuck\": [\n\t\t\"b365\",\n\t\t\"chunk-2d20f386\"\n\t],\n\t\"./prism-brainfuck.js\": [\n\t\t\"b365\",\n\t\t\"chunk-2d20f386\"\n\t],\n\t\"./prism-brainfuck.min\": [\n\t\t\"8399\",\n\t\t\"chunk-2d0ddc51\"\n\t],\n\t\"./prism-brainfuck.min.js\": [\n\t\t\"8399\",\n\t\t\"chunk-2d0ddc51\"\n\t],\n\t\"./prism-brightscript\": [\n\t\t\"c5b0\",\n\t\t\"chunk-2d2174b6\"\n\t],\n\t\"./prism-brightscript.js\": [\n\t\t\"c5b0\",\n\t\t\"chunk-2d2174b6\"\n\t],\n\t\"./prism-brightscript.min\": [\n\t\t\"c950\",\n\t\t\"chunk-2d217e47\"\n\t],\n\t\"./prism-brightscript.min.js\": [\n\t\t\"c950\",\n\t\t\"chunk-2d217e47\"\n\t],\n\t\"./prism-bro\": [\n\t\t\"e7a5\",\n\t\t\"chunk-2d2264dc\"\n\t],\n\t\"./prism-bro.js\": [\n\t\t\"e7a5\",\n\t\t\"chunk-2d2264dc\"\n\t],\n\t\"./prism-bro.min\": [\n\t\t\"51be\",\n\t\t\"chunk-2d0c7cd5\"\n\t],\n\t\"./prism-bro.min.js\": [\n\t\t\"51be\",\n\t\t\"chunk-2d0c7cd5\"\n\t],\n\t\"./prism-bsl\": [\n\t\t\"943f\",\n\t\t\"chunk-2d0e53e4\"\n\t],\n\t\"./prism-bsl.js\": [\n\t\t\"943f\",\n\t\t\"chunk-2d0e53e4\"\n\t],\n\t\"./prism-bsl.min\": [\n\t\t\"2905\",\n\t\t\"chunk-2d0b3782\"\n\t],\n\t\"./prism-bsl.min.js\": [\n\t\t\"2905\",\n\t\t\"chunk-2d0b3782\"\n\t],\n\t\"./prism-c\": [\n\t\t\"86e1\",\n\t\t\"chunk-2d0dece0\"\n\t],\n\t\"./prism-c.js\": [\n\t\t\"86e1\",\n\t\t\"chunk-2d0dece0\"\n\t],\n\t\"./prism-c.min\": [\n\t\t\"997e\",\n\t\t\"chunk-2d0e6724\"\n\t],\n\t\"./prism-c.min.js\": [\n\t\t\"997e\",\n\t\t\"chunk-2d0e6724\"\n\t],\n\t\"./prism-cil\": [\n\t\t\"2781\",\n\t\t\"chunk-2d0b30f4\"\n\t],\n\t\"./prism-cil.js\": [\n\t\t\"2781\",\n\t\t\"chunk-2d0b30f4\"\n\t],\n\t\"./prism-cil.min\": [\n\t\t\"e9c9\",\n\t\t\"chunk-2d226ca0\"\n\t],\n\t\"./prism-cil.min.js\": [\n\t\t\"e9c9\",\n\t\t\"chunk-2d226ca0\"\n\t],\n\t\"./prism-clike\": [\n\t\t\"cb55\",\n\t\t\"chunk-2d221835\"\n\t],\n\t\"./prism-clike.js\": [\n\t\t\"cb55\",\n\t\t\"chunk-2d221835\"\n\t],\n\t\"./prism-clike.min\": [\n\t\t\"083c\",\n\t\t\"chunk-2d0a4b8e\"\n\t],\n\t\"./prism-clike.min.js\": [\n\t\t\"083c\",\n\t\t\"chunk-2d0a4b8e\"\n\t],\n\t\"./prism-clojure\": [\n\t\t\"390a\",\n\t\t\"chunk-2d0bac0d\"\n\t],\n\t\"./prism-clojure.js\": [\n\t\t\"390a\",\n\t\t\"chunk-2d0bac0d\"\n\t],\n\t\"./prism-clojure.min\": [\n\t\t\"41cb\",\n\t\t\"chunk-2d0c0892\"\n\t],\n\t\"./prism-clojure.min.js\": [\n\t\t\"41cb\",\n\t\t\"chunk-2d0c0892\"\n\t],\n\t\"./prism-cmake\": [\n\t\t\"8348\",\n\t\t\"chunk-2d0ddbb5\"\n\t],\n\t\"./prism-cmake.js\": [\n\t\t\"8348\",\n\t\t\"chunk-2d0ddbb5\"\n\t],\n\t\"./prism-cmake.min\": [\n\t\t\"e932\",\n\t\t\"chunk-2d2266c9\"\n\t],\n\t\"./prism-cmake.min.js\": [\n\t\t\"e932\",\n\t\t\"chunk-2d2266c9\"\n\t],\n\t\"./prism-coffeescript\": [\n\t\t\"35de\",\n\t\t\"chunk-2d0ba359\"\n\t],\n\t\"./prism-coffeescript.js\": [\n\t\t\"35de\",\n\t\t\"chunk-2d0ba359\"\n\t],\n\t\"./prism-coffeescript.min\": [\n\t\t\"a3c9\",\n\t\t\"chunk-2d20849e\"\n\t],\n\t\"./prism-coffeescript.min.js\": [\n\t\t\"a3c9\",\n\t\t\"chunk-2d20849e\"\n\t],\n\t\"./prism-concurnas\": [\n\t\t\"b909\",\n\t\t\"chunk-2d210956\"\n\t],\n\t\"./prism-concurnas.js\": [\n\t\t\"b909\",\n\t\t\"chunk-2d210956\"\n\t],\n\t\"./prism-concurnas.min\": [\n\t\t\"7e35\",\n\t\t\"chunk-2d0e22e6\"\n\t],\n\t\"./prism-concurnas.min.js\": [\n\t\t\"7e35\",\n\t\t\"chunk-2d0e22e6\"\n\t],\n\t\"./prism-core\": [\n\t\t\"8c7a\",\n\t\t\"chunk-2d0e906b\"\n\t],\n\t\"./prism-core.js\": [\n\t\t\"8c7a\",\n\t\t\"chunk-2d0e906b\"\n\t],\n\t\"./prism-core.min\": [\n\t\t\"f77b\",\n\t\t\"chunk-2d22d452\"\n\t],\n\t\"./prism-core.min.js\": [\n\t\t\"f77b\",\n\t\t\"chunk-2d22d452\"\n\t],\n\t\"./prism-cpp\": [\n\t\t\"91f8\",\n\t\t\"chunk-2d0e4ea0\"\n\t],\n\t\"./prism-cpp.js\": [\n\t\t\"91f8\",\n\t\t\"chunk-2d0e4ea0\"\n\t],\n\t\"./prism-cpp.min\": [\n\t\t\"9d22\",\n\t\t\"chunk-2d0f07c1\"\n\t],\n\t\"./prism-cpp.min.js\": [\n\t\t\"9d22\",\n\t\t\"chunk-2d0f07c1\"\n\t],\n\t\"./prism-crystal\": [\n\t\t\"9e90\",\n\t\t\"chunk-2d0f0c59\"\n\t],\n\t\"./prism-crystal.js\": [\n\t\t\"9e90\",\n\t\t\"chunk-2d0f0c59\"\n\t],\n\t\"./prism-crystal.min\": [\n\t\t\"2b48\",\n\t\t\"chunk-2d0bd1ea\"\n\t],\n\t\"./prism-crystal.min.js\": [\n\t\t\"2b48\",\n\t\t\"chunk-2d0bd1ea\"\n\t],\n\t\"./prism-csharp\": [\n\t\t\"9528\",\n\t\t\"chunk-2d0e5758\"\n\t],\n\t\"./prism-csharp.js\": [\n\t\t\"9528\",\n\t\t\"chunk-2d0e5758\"\n\t],\n\t\"./prism-csharp.min\": [\n\t\t\"320f\",\n\t\t\"chunk-2d0b91cb\"\n\t],\n\t\"./prism-csharp.min.js\": [\n\t\t\"320f\",\n\t\t\"chunk-2d0b91cb\"\n\t],\n\t\"./prism-csp\": [\n\t\t\"d4db\",\n\t\t\"chunk-2d21e5c4\"\n\t],\n\t\"./prism-csp.js\": [\n\t\t\"d4db\",\n\t\t\"chunk-2d21e5c4\"\n\t],\n\t\"./prism-csp.min\": [\n\t\t\"02f6\",\n\t\t\"chunk-2d0a3b08\"\n\t],\n\t\"./prism-csp.min.js\": [\n\t\t\"02f6\",\n\t\t\"chunk-2d0a3b08\"\n\t],\n\t\"./prism-css\": [\n\t\t\"6605\",\n\t\t\"chunk-2d0cfdbb\"\n\t],\n\t\"./prism-css-extras\": [\n\t\t\"289e\",\n\t\t\"chunk-2d0b3508\"\n\t],\n\t\"./prism-css-extras.js\": [\n\t\t\"289e\",\n\t\t\"chunk-2d0b3508\"\n\t],\n\t\"./prism-css-extras.min\": [\n\t\t\"38da\",\n\t\t\"chunk-2d0bae98\"\n\t],\n\t\"./prism-css-extras.min.js\": [\n\t\t\"38da\",\n\t\t\"chunk-2d0bae98\"\n\t],\n\t\"./prism-css.js\": [\n\t\t\"6605\",\n\t\t\"chunk-2d0cfdbb\"\n\t],\n\t\"./prism-css.min\": [\n\t\t\"5577\",\n\t\t\"chunk-2d0c8676\"\n\t],\n\t\"./prism-css.min.js\": [\n\t\t\"5577\",\n\t\t\"chunk-2d0c8676\"\n\t],\n\t\"./prism-cypher\": [\n\t\t\"35d3\",\n\t\t\"chunk-2d0ba327\"\n\t],\n\t\"./prism-cypher.js\": [\n\t\t\"35d3\",\n\t\t\"chunk-2d0ba327\"\n\t],\n\t\"./prism-cypher.min\": [\n\t\t\"db79\",\n\t\t\"chunk-2d228cd6\"\n\t],\n\t\"./prism-cypher.min.js\": [\n\t\t\"db79\",\n\t\t\"chunk-2d228cd6\"\n\t],\n\t\"./prism-d\": [\n\t\t\"864a\",\n\t\t\"chunk-2d0de721\"\n\t],\n\t\"./prism-d.js\": [\n\t\t\"864a\",\n\t\t\"chunk-2d0de721\"\n\t],\n\t\"./prism-d.min\": [\n\t\t\"e971\",\n\t\t\"chunk-2d226744\"\n\t],\n\t\"./prism-d.min.js\": [\n\t\t\"e971\",\n\t\t\"chunk-2d226744\"\n\t],\n\t\"./prism-dart\": [\n\t\t\"a2d5\",\n\t\t\"chunk-2d2080f8\"\n\t],\n\t\"./prism-dart.js\": [\n\t\t\"a2d5\",\n\t\t\"chunk-2d2080f8\"\n\t],\n\t\"./prism-dart.min\": [\n\t\t\"31e4\",\n\t\t\"chunk-2d0b9443\"\n\t],\n\t\"./prism-dart.min.js\": [\n\t\t\"31e4\",\n\t\t\"chunk-2d0b9443\"\n\t],\n\t\"./prism-dataweave\": [\n\t\t\"1a2d\",\n\t\t\"chunk-2d0b59b8\"\n\t],\n\t\"./prism-dataweave.js\": [\n\t\t\"1a2d\",\n\t\t\"chunk-2d0b59b8\"\n\t],\n\t\"./prism-dataweave.min\": [\n\t\t\"81e3\",\n\t\t\"chunk-2d0dda1d\"\n\t],\n\t\"./prism-dataweave.min.js\": [\n\t\t\"81e3\",\n\t\t\"chunk-2d0dda1d\"\n\t],\n\t\"./prism-dax\": [\n\t\t\"900b\",\n\t\t\"chunk-2d0e447f\"\n\t],\n\t\"./prism-dax.js\": [\n\t\t\"900b\",\n\t\t\"chunk-2d0e447f\"\n\t],\n\t\"./prism-dax.min\": [\n\t\t\"cacf\",\n\t\t\"chunk-2d221a37\"\n\t],\n\t\"./prism-dax.min.js\": [\n\t\t\"cacf\",\n\t\t\"chunk-2d221a37\"\n\t],\n\t\"./prism-dhall\": [\n\t\t\"673b\",\n\t\t\"chunk-2d0d0206\"\n\t],\n\t\"./prism-dhall.js\": [\n\t\t\"673b\",\n\t\t\"chunk-2d0d0206\"\n\t],\n\t\"./prism-dhall.min\": [\n\t\t\"a4cf\",\n\t\t\"chunk-2d20888c\"\n\t],\n\t\"./prism-dhall.min.js\": [\n\t\t\"a4cf\",\n\t\t\"chunk-2d20888c\"\n\t],\n\t\"./prism-diff\": [\n\t\t\"183f\",\n\t\t\"chunk-2d0abff0\"\n\t],\n\t\"./prism-diff.js\": [\n\t\t\"183f\",\n\t\t\"chunk-2d0abff0\"\n\t],\n\t\"./prism-diff.min\": [\n\t\t\"5920\",\n\t\t\"chunk-2d0c94d8\"\n\t],\n\t\"./prism-diff.min.js\": [\n\t\t\"5920\",\n\t\t\"chunk-2d0c94d8\"\n\t],\n\t\"./prism-django\": [\n\t\t\"1c63\",\n\t\t\"chunk-2d0b6185\"\n\t],\n\t\"./prism-django.js\": [\n\t\t\"1c63\",\n\t\t\"chunk-2d0b6185\"\n\t],\n\t\"./prism-django.min\": [\n\t\t\"3771\",\n\t\t\"chunk-2d0ba534\"\n\t],\n\t\"./prism-django.min.js\": [\n\t\t\"3771\",\n\t\t\"chunk-2d0ba534\"\n\t],\n\t\"./prism-dns-zone-file\": [\n\t\t\"7fb9\",\n\t\t\"chunk-2d0e2c5c\"\n\t],\n\t\"./prism-dns-zone-file.js\": [\n\t\t\"7fb9\",\n\t\t\"chunk-2d0e2c5c\"\n\t],\n\t\"./prism-dns-zone-file.min\": [\n\t\t\"a7b6\",\n\t\t\"chunk-2d209380\"\n\t],\n\t\"./prism-dns-zone-file.min.js\": [\n\t\t\"a7b6\",\n\t\t\"chunk-2d209380\"\n\t],\n\t\"./prism-docker\": [\n\t\t\"d9eb\",\n\t\t\"chunk-2d21f8a8\"\n\t],\n\t\"./prism-docker.js\": [\n\t\t\"d9eb\",\n\t\t\"chunk-2d21f8a8\"\n\t],\n\t\"./prism-docker.min\": [\n\t\t\"8dd4\",\n\t\t\"chunk-2d0e9972\"\n\t],\n\t\"./prism-docker.min.js\": [\n\t\t\"8dd4\",\n\t\t\"chunk-2d0e9972\"\n\t],\n\t\"./prism-ebnf\": [\n\t\t\"c706\",\n\t\t\"chunk-2d217630\"\n\t],\n\t\"./prism-ebnf.js\": [\n\t\t\"c706\",\n\t\t\"chunk-2d217630\"\n\t],\n\t\"./prism-ebnf.min\": [\n\t\t\"dcac\",\n\t\t\"chunk-2d2295d7\"\n\t],\n\t\"./prism-ebnf.min.js\": [\n\t\t\"dcac\",\n\t\t\"chunk-2d2295d7\"\n\t],\n\t\"./prism-editorconfig\": [\n\t\t\"07fa\",\n\t\t\"chunk-2d0a4df8\"\n\t],\n\t\"./prism-editorconfig.js\": [\n\t\t\"07fa\",\n\t\t\"chunk-2d0a4df8\"\n\t],\n\t\"./prism-editorconfig.min\": [\n\t\t\"73df\",\n\t\t\"chunk-2d0d6d54\"\n\t],\n\t\"./prism-editorconfig.min.js\": [\n\t\t\"73df\",\n\t\t\"chunk-2d0d6d54\"\n\t],\n\t\"./prism-eiffel\": [\n\t\t\"61cb\",\n\t\t\"chunk-2d0cf150\"\n\t],\n\t\"./prism-eiffel.js\": [\n\t\t\"61cb\",\n\t\t\"chunk-2d0cf150\"\n\t],\n\t\"./prism-eiffel.min\": [\n\t\t\"684e\",\n\t\t\"chunk-2d0d05e9\"\n\t],\n\t\"./prism-eiffel.min.js\": [\n\t\t\"684e\",\n\t\t\"chunk-2d0d05e9\"\n\t],\n\t\"./prism-ejs\": [\n\t\t\"a894\",\n\t\t\"chunk-2d209248\"\n\t],\n\t\"./prism-ejs.js\": [\n\t\t\"a894\",\n\t\t\"chunk-2d209248\"\n\t],\n\t\"./prism-ejs.min\": [\n\t\t\"e3a9\",\n\t\t\"chunk-2d2255dc\"\n\t],\n\t\"./prism-ejs.min.js\": [\n\t\t\"e3a9\",\n\t\t\"chunk-2d2255dc\"\n\t],\n\t\"./prism-elixir\": [\n\t\t\"f506\",\n\t\t\"chunk-2d22cbcb\"\n\t],\n\t\"./prism-elixir.js\": [\n\t\t\"f506\",\n\t\t\"chunk-2d22cbcb\"\n\t],\n\t\"./prism-elixir.min\": [\n\t\t\"e79c\",\n\t\t\"chunk-2d226032\"\n\t],\n\t\"./prism-elixir.min.js\": [\n\t\t\"e79c\",\n\t\t\"chunk-2d226032\"\n\t],\n\t\"./prism-elm\": [\n\t\t\"7885\",\n\t\t\"chunk-2d0d7a94\"\n\t],\n\t\"./prism-elm.js\": [\n\t\t\"7885\",\n\t\t\"chunk-2d0d7a94\"\n\t],\n\t\"./prism-elm.min\": [\n\t\t\"46a4\",\n\t\t\"chunk-2d0c1aeb\"\n\t],\n\t\"./prism-elm.min.js\": [\n\t\t\"46a4\",\n\t\t\"chunk-2d0c1aeb\"\n\t],\n\t\"./prism-erb\": [\n\t\t\"d348\",\n\t\t\"chunk-2d21dc09\"\n\t],\n\t\"./prism-erb.js\": [\n\t\t\"d348\",\n\t\t\"chunk-2d21dc09\"\n\t],\n\t\"./prism-erb.min\": [\n\t\t\"3aee\",\n\t\t\"chunk-2d0c48a4\"\n\t],\n\t\"./prism-erb.min.js\": [\n\t\t\"3aee\",\n\t\t\"chunk-2d0c48a4\"\n\t],\n\t\"./prism-erlang\": [\n\t\t\"9eb2\",\n\t\t\"chunk-2d0f1152\"\n\t],\n\t\"./prism-erlang.js\": [\n\t\t\"9eb2\",\n\t\t\"chunk-2d0f1152\"\n\t],\n\t\"./prism-erlang.min\": [\n\t\t\"daff\",\n\t\t\"chunk-2d228ef3\"\n\t],\n\t\"./prism-erlang.min.js\": [\n\t\t\"daff\",\n\t\t\"chunk-2d228ef3\"\n\t],\n\t\"./prism-etlua\": [\n\t\t\"9c5d\",\n\t\t\"chunk-2d0f048f\"\n\t],\n\t\"./prism-etlua.js\": [\n\t\t\"9c5d\",\n\t\t\"chunk-2d0f048f\"\n\t],\n\t\"./prism-etlua.min\": [\n\t\t\"7d97\",\n\t\t\"chunk-2d0e1fe1\"\n\t],\n\t\"./prism-etlua.min.js\": [\n\t\t\"7d97\",\n\t\t\"chunk-2d0e1fe1\"\n\t],\n\t\"./prism-excel-formula\": [\n\t\t\"d1fb\",\n\t\t\"chunk-2d21dabf\"\n\t],\n\t\"./prism-excel-formula.js\": [\n\t\t\"d1fb\",\n\t\t\"chunk-2d21dabf\"\n\t],\n\t\"./prism-excel-formula.min\": [\n\t\t\"2ed2\",\n\t\t\"chunk-2d0be2f7\"\n\t],\n\t\"./prism-excel-formula.min.js\": [\n\t\t\"2ed2\",\n\t\t\"chunk-2d0be2f7\"\n\t],\n\t\"./prism-factor\": [\n\t\t\"8f16\",\n\t\t\"chunk-2d0e9ac9\"\n\t],\n\t\"./prism-factor.js\": [\n\t\t\"8f16\",\n\t\t\"chunk-2d0e9ac9\"\n\t],\n\t\"./prism-factor.min\": [\n\t\t\"76f8\",\n\t\t\"chunk-2d0d78a7\"\n\t],\n\t\"./prism-factor.min.js\": [\n\t\t\"76f8\",\n\t\t\"chunk-2d0d78a7\"\n\t],\n\t\"./prism-firestore-security-rules\": [\n\t\t\"13d8\",\n\t\t\"chunk-2d0ab2ec\"\n\t],\n\t\"./prism-firestore-security-rules.js\": [\n\t\t\"13d8\",\n\t\t\"chunk-2d0ab2ec\"\n\t],\n\t\"./prism-firestore-security-rules.min\": [\n\t\t\"a7f2\",\n\t\t\"chunk-2d2093f8\"\n\t],\n\t\"./prism-firestore-security-rules.min.js\": [\n\t\t\"a7f2\",\n\t\t\"chunk-2d2093f8\"\n\t],\n\t\"./prism-flow\": [\n\t\t\"7411\",\n\t\t\"chunk-2d0d6ab3\"\n\t],\n\t\"./prism-flow.js\": [\n\t\t\"7411\",\n\t\t\"chunk-2d0d6ab3\"\n\t],\n\t\"./prism-flow.min\": [\n\t\t\"1c8c\",\n\t\t\"chunk-2d0b61f3\"\n\t],\n\t\"./prism-flow.min.js\": [\n\t\t\"1c8c\",\n\t\t\"chunk-2d0b61f3\"\n\t],\n\t\"./prism-fortran\": [\n\t\t\"fe76\",\n\t\t\"chunk-2d2380d4\"\n\t],\n\t\"./prism-fortran.js\": [\n\t\t\"fe76\",\n\t\t\"chunk-2d2380d4\"\n\t],\n\t\"./prism-fortran.min\": [\n\t\t\"2370\",\n\t\t\"chunk-2d0b21d0\"\n\t],\n\t\"./prism-fortran.min.js\": [\n\t\t\"2370\",\n\t\t\"chunk-2d0b21d0\"\n\t],\n\t\"./prism-fsharp\": [\n\t\t\"3d42\",\n\t\t\"chunk-2d0c4dc5\"\n\t],\n\t\"./prism-fsharp.js\": [\n\t\t\"3d42\",\n\t\t\"chunk-2d0c4dc5\"\n\t],\n\t\"./prism-fsharp.min\": [\n\t\t\"ef2a\",\n\t\t\"chunk-2d230fc6\"\n\t],\n\t\"./prism-fsharp.min.js\": [\n\t\t\"ef2a\",\n\t\t\"chunk-2d230fc6\"\n\t],\n\t\"./prism-ftl\": [\n\t\t\"f114\",\n\t\t\"chunk-2d22bce4\"\n\t],\n\t\"./prism-ftl.js\": [\n\t\t\"f114\",\n\t\t\"chunk-2d22bce4\"\n\t],\n\t\"./prism-ftl.min\": [\n\t\t\"babc\",\n\t\t\"chunk-2d21a5b6\"\n\t],\n\t\"./prism-ftl.min.js\": [\n\t\t\"babc\",\n\t\t\"chunk-2d21a5b6\"\n\t],\n\t\"./prism-gcode\": [\n\t\t\"434e\",\n\t\t\"chunk-2d0c0a66\"\n\t],\n\t\"./prism-gcode.js\": [\n\t\t\"434e\",\n\t\t\"chunk-2d0c0a66\"\n\t],\n\t\"./prism-gcode.min\": [\n\t\t\"9902\",\n\t\t\"chunk-2d0e6618\"\n\t],\n\t\"./prism-gcode.min.js\": [\n\t\t\"9902\",\n\t\t\"chunk-2d0e6618\"\n\t],\n\t\"./prism-gdscript\": [\n\t\t\"67bf\",\n\t\t\"chunk-2d0d07bb\"\n\t],\n\t\"./prism-gdscript.js\": [\n\t\t\"67bf\",\n\t\t\"chunk-2d0d07bb\"\n\t],\n\t\"./prism-gdscript.min\": [\n\t\t\"ec98\",\n\t\t\"chunk-2d230533\"\n\t],\n\t\"./prism-gdscript.min.js\": [\n\t\t\"ec98\",\n\t\t\"chunk-2d230533\"\n\t],\n\t\"./prism-gedcom\": [\n\t\t\"aa25\",\n\t\t\"chunk-2d212b59\"\n\t],\n\t\"./prism-gedcom.js\": [\n\t\t\"aa25\",\n\t\t\"chunk-2d212b59\"\n\t],\n\t\"./prism-gedcom.min\": [\n\t\t\"e97e\",\n\t\t\"chunk-2d226778\"\n\t],\n\t\"./prism-gedcom.min.js\": [\n\t\t\"e97e\",\n\t\t\"chunk-2d226778\"\n\t],\n\t\"./prism-gherkin\": [\n\t\t\"3c42\",\n\t\t\"chunk-2d0c4a04\"\n\t],\n\t\"./prism-gherkin.js\": [\n\t\t\"3c42\",\n\t\t\"chunk-2d0c4a04\"\n\t],\n\t\"./prism-gherkin.min\": [\n\t\t\"c291\",\n\t\t\"chunk-2d21647d\"\n\t],\n\t\"./prism-gherkin.min.js\": [\n\t\t\"c291\",\n\t\t\"chunk-2d21647d\"\n\t],\n\t\"./prism-git\": [\n\t\t\"07a3\",\n\t\t\"chunk-2d0a4d2f\"\n\t],\n\t\"./prism-git.js\": [\n\t\t\"07a3\",\n\t\t\"chunk-2d0a4d2f\"\n\t],\n\t\"./prism-git.min\": [\n\t\t\"b2fc\",\n\t\t\"chunk-2d20f5c3\"\n\t],\n\t\"./prism-git.min.js\": [\n\t\t\"b2fc\",\n\t\t\"chunk-2d20f5c3\"\n\t],\n\t\"./prism-glsl\": [\n\t\t\"df1c\",\n\t\t\"chunk-2d229b4a\"\n\t],\n\t\"./prism-glsl.js\": [\n\t\t\"df1c\",\n\t\t\"chunk-2d229b4a\"\n\t],\n\t\"./prism-glsl.min\": [\n\t\t\"dd5a\",\n\t\t\"chunk-2d229442\"\n\t],\n\t\"./prism-glsl.min.js\": [\n\t\t\"dd5a\",\n\t\t\"chunk-2d229442\"\n\t],\n\t\"./prism-gml\": [\n\t\t\"8117\",\n\t\t\"chunk-2d0dd3d5\"\n\t],\n\t\"./prism-gml.js\": [\n\t\t\"8117\",\n\t\t\"chunk-2d0dd3d5\"\n\t],\n\t\"./prism-gml.min\": [\n\t\t\"fa2f\",\n\t\t\"chunk-2d237165\"\n\t],\n\t\"./prism-gml.min.js\": [\n\t\t\"fa2f\",\n\t\t\"chunk-2d237165\"\n\t],\n\t\"./prism-go\": [\n\t\t\"1989\",\n\t\t\"chunk-2d0ac41f\"\n\t],\n\t\"./prism-go.js\": [\n\t\t\"1989\",\n\t\t\"chunk-2d0ac41f\"\n\t],\n\t\"./prism-go.min\": [\n\t\t\"253f\",\n\t\t\"chunk-2d0b290c\"\n\t],\n\t\"./prism-go.min.js\": [\n\t\t\"253f\",\n\t\t\"chunk-2d0b290c\"\n\t],\n\t\"./prism-graphql\": [\n\t\t\"63ad7\",\n\t\t\"chunk-74921a61\"\n\t],\n\t\"./prism-graphql.js\": [\n\t\t\"63ad7\",\n\t\t\"chunk-74921a61\"\n\t],\n\t\"./prism-graphql.min\": [\n\t\t\"0981\",\n\t\t\"chunk-2d0a4fb8\"\n\t],\n\t\"./prism-graphql.min.js\": [\n\t\t\"0981\",\n\t\t\"chunk-2d0a4fb8\"\n\t],\n\t\"./prism-groovy\": [\n\t\t\"e25f\",\n\t\t\"chunk-2d224cf4\"\n\t],\n\t\"./prism-groovy.js\": [\n\t\t\"e25f\",\n\t\t\"chunk-2d224cf4\"\n\t],\n\t\"./prism-groovy.min\": [\n\t\t\"723a\",\n\t\t\"chunk-2d0d639f\"\n\t],\n\t\"./prism-groovy.min.js\": [\n\t\t\"723a\",\n\t\t\"chunk-2d0d639f\"\n\t],\n\t\"./prism-haml\": [\n\t\t\"c1e2\",\n\t\t\"chunk-2d216611\"\n\t],\n\t\"./prism-haml.js\": [\n\t\t\"c1e2\",\n\t\t\"chunk-2d216611\"\n\t],\n\t\"./prism-haml.min\": [\n\t\t\"ab3c\",\n\t\t\"chunk-2d212f67\"\n\t],\n\t\"./prism-haml.min.js\": [\n\t\t\"ab3c\",\n\t\t\"chunk-2d212f67\"\n\t],\n\t\"./prism-handlebars\": [\n\t\t\"e5d9\",\n\t\t\"chunk-2d225dbb\"\n\t],\n\t\"./prism-handlebars.js\": [\n\t\t\"e5d9\",\n\t\t\"chunk-2d225dbb\"\n\t],\n\t\"./prism-handlebars.min\": [\n\t\t\"3d2a\",\n\t\t\"chunk-2d0c4db6\"\n\t],\n\t\"./prism-handlebars.min.js\": [\n\t\t\"3d2a\",\n\t\t\"chunk-2d0c4db6\"\n\t],\n\t\"./prism-haskell\": [\n\t\t\"4fc8\",\n\t\t\"chunk-2d0ccf5d\"\n\t],\n\t\"./prism-haskell.js\": [\n\t\t\"4fc8\",\n\t\t\"chunk-2d0ccf5d\"\n\t],\n\t\"./prism-haskell.min\": [\n\t\t\"42ea\",\n\t\t\"chunk-2d0c0c90\"\n\t],\n\t\"./prism-haskell.min.js\": [\n\t\t\"42ea\",\n\t\t\"chunk-2d0c0c90\"\n\t],\n\t\"./prism-haxe\": [\n\t\t\"d163\",\n\t\t\"chunk-2d21d4c0\"\n\t],\n\t\"./prism-haxe.js\": [\n\t\t\"d163\",\n\t\t\"chunk-2d21d4c0\"\n\t],\n\t\"./prism-haxe.min\": [\n\t\t\"f253\",\n\t\t\"chunk-2d22c120\"\n\t],\n\t\"./prism-haxe.min.js\": [\n\t\t\"f253\",\n\t\t\"chunk-2d22c120\"\n\t],\n\t\"./prism-hcl\": [\n\t\t\"f692\",\n\t\t\"chunk-2d22d09f\"\n\t],\n\t\"./prism-hcl.js\": [\n\t\t\"f692\",\n\t\t\"chunk-2d22d09f\"\n\t],\n\t\"./prism-hcl.min\": [\n\t\t\"4f69\",\n\t\t\"chunk-2d0cc9eb\"\n\t],\n\t\"./prism-hcl.min.js\": [\n\t\t\"4f69\",\n\t\t\"chunk-2d0cc9eb\"\n\t],\n\t\"./prism-hlsl\": [\n\t\t\"659f\",\n\t\t\"chunk-2d0cfb42\"\n\t],\n\t\"./prism-hlsl.js\": [\n\t\t\"659f\",\n\t\t\"chunk-2d0cfb42\"\n\t],\n\t\"./prism-hlsl.min\": [\n\t\t\"798a\",\n\t\t\"chunk-2d0d7e81\"\n\t],\n\t\"./prism-hlsl.min.js\": [\n\t\t\"798a\",\n\t\t\"chunk-2d0d7e81\"\n\t],\n\t\"./prism-hpkp\": [\n\t\t\"cc8e\",\n\t\t\"chunk-2d221c83\"\n\t],\n\t\"./prism-hpkp.js\": [\n\t\t\"cc8e\",\n\t\t\"chunk-2d221c83\"\n\t],\n\t\"./prism-hpkp.min\": [\n\t\t\"8b60\",\n\t\t\"chunk-2d0e8c5a\"\n\t],\n\t\"./prism-hpkp.min.js\": [\n\t\t\"8b60\",\n\t\t\"chunk-2d0e8c5a\"\n\t],\n\t\"./prism-hsts\": [\n\t\t\"c5da\",\n\t\t\"chunk-2d217525\"\n\t],\n\t\"./prism-hsts.js\": [\n\t\t\"c5da\",\n\t\t\"chunk-2d217525\"\n\t],\n\t\"./prism-hsts.min\": [\n\t\t\"6608\",\n\t\t\"chunk-2d0cfdbe\"\n\t],\n\t\"./prism-hsts.min.js\": [\n\t\t\"6608\",\n\t\t\"chunk-2d0cfdbe\"\n\t],\n\t\"./prism-http\": [\n\t\t\"9187\",\n\t\t\"chunk-2d0e490d\"\n\t],\n\t\"./prism-http.js\": [\n\t\t\"9187\",\n\t\t\"chunk-2d0e490d\"\n\t],\n\t\"./prism-http.min\": [\n\t\t\"53e0\",\n\t\t\"chunk-2d0c847f\"\n\t],\n\t\"./prism-http.min.js\": [\n\t\t\"53e0\",\n\t\t\"chunk-2d0c847f\"\n\t],\n\t\"./prism-ichigojam\": [\n\t\t\"48de\",\n\t\t\"chunk-2d0c22fb\"\n\t],\n\t\"./prism-ichigojam.js\": [\n\t\t\"48de\",\n\t\t\"chunk-2d0c22fb\"\n\t],\n\t\"./prism-ichigojam.min\": [\n\t\t\"fbeb\",\n\t\t\"chunk-2d237b4f\"\n\t],\n\t\"./prism-ichigojam.min.js\": [\n\t\t\"fbeb\",\n\t\t\"chunk-2d237b4f\"\n\t],\n\t\"./prism-icon\": [\n\t\t\"758c\",\n\t\t\"chunk-2d0d6f7f\"\n\t],\n\t\"./prism-icon.js\": [\n\t\t\"758c\",\n\t\t\"chunk-2d0d6f7f\"\n\t],\n\t\"./prism-icon.min\": [\n\t\t\"ebc3\",\n\t\t\"chunk-2d230683\"\n\t],\n\t\"./prism-icon.min.js\": [\n\t\t\"ebc3\",\n\t\t\"chunk-2d230683\"\n\t],\n\t\"./prism-iecst\": [\n\t\t\"742d\",\n\t\t\"chunk-2d0d6b05\"\n\t],\n\t\"./prism-iecst.js\": [\n\t\t\"742d\",\n\t\t\"chunk-2d0d6b05\"\n\t],\n\t\"./prism-iecst.min\": [\n\t\t\"1401\",\n\t\t\"chunk-2d0ab05a\"\n\t],\n\t\"./prism-iecst.min.js\": [\n\t\t\"1401\",\n\t\t\"chunk-2d0ab05a\"\n\t],\n\t\"./prism-ignore\": [\n\t\t\"d2cb\",\n\t\t\"chunk-2d21de23\"\n\t],\n\t\"./prism-ignore.js\": [\n\t\t\"d2cb\",\n\t\t\"chunk-2d21de23\"\n\t],\n\t\"./prism-ignore.min\": [\n\t\t\"a6d4\",\n\t\t\"chunk-2d208ffb\"\n\t],\n\t\"./prism-ignore.min.js\": [\n\t\t\"a6d4\",\n\t\t\"chunk-2d208ffb\"\n\t],\n\t\"./prism-inform7\": [\n\t\t\"eddf\",\n\t\t\"chunk-2d230e57\"\n\t],\n\t\"./prism-inform7.js\": [\n\t\t\"eddf\",\n\t\t\"chunk-2d230e57\"\n\t],\n\t\"./prism-inform7.min\": [\n\t\t\"3c1e\",\n\t\t\"chunk-2d0c49da\"\n\t],\n\t\"./prism-inform7.min.js\": [\n\t\t\"3c1e\",\n\t\t\"chunk-2d0c49da\"\n\t],\n\t\"./prism-ini\": [\n\t\t\"bf2e\",\n\t\t\"chunk-2d21b2ad\"\n\t],\n\t\"./prism-ini.js\": [\n\t\t\"bf2e\",\n\t\t\"chunk-2d21b2ad\"\n\t],\n\t\"./prism-ini.min\": [\n\t\t\"add7\",\n\t\t\"chunk-2d213cac\"\n\t],\n\t\"./prism-ini.min 2\": [\n\t\t\"c85e\",\n\t\t\"chunk-2d217abb\"\n\t],\n\t\"./prism-ini.min 2.js\": [\n\t\t\"c85e\",\n\t\t\"chunk-2d217abb\"\n\t],\n\t\"./prism-ini.min.js\": [\n\t\t\"add7\",\n\t\t\"chunk-2d213cac\"\n\t],\n\t\"./prism-io\": [\n\t\t\"0c1e\",\n\t\t\"chunk-2d0aecbd\"\n\t],\n\t\"./prism-io.js\": [\n\t\t\"0c1e\",\n\t\t\"chunk-2d0aecbd\"\n\t],\n\t\"./prism-io.min\": [\n\t\t\"347c\",\n\t\t\"chunk-2d0b9a23\"\n\t],\n\t\"./prism-io.min.js\": [\n\t\t\"347c\",\n\t\t\"chunk-2d0b9a23\"\n\t],\n\t\"./prism-j\": [\n\t\t\"f171\",\n\t\t\"chunk-2d22bd9b\"\n\t],\n\t\"./prism-j.js\": [\n\t\t\"f171\",\n\t\t\"chunk-2d22bd9b\"\n\t],\n\t\"./prism-j.min\": [\n\t\t\"3864\",\n\t\t\"chunk-2d0ba8d9\"\n\t],\n\t\"./prism-j.min.js\": [\n\t\t\"3864\",\n\t\t\"chunk-2d0ba8d9\"\n\t],\n\t\"./prism-java\": [\n\t\t\"922d\",\n\t\t\"chunk-2d0e4c41\"\n\t],\n\t\"./prism-java.js\": [\n\t\t\"922d\",\n\t\t\"chunk-2d0e4c41\"\n\t],\n\t\"./prism-java.min\": [\n\t\t\"d8d9\",\n\t\t\"chunk-2d21f49f\"\n\t],\n\t\"./prism-java.min.js\": [\n\t\t\"d8d9\",\n\t\t\"chunk-2d21f49f\"\n\t],\n\t\"./prism-javadoc\": [\n\t\t\"3d13\",\n\t\t\"chunk-2d0c4d69\"\n\t],\n\t\"./prism-javadoc.js\": [\n\t\t\"3d13\",\n\t\t\"chunk-2d0c4d69\"\n\t],\n\t\"./prism-javadoc.min\": [\n\t\t\"85a2\",\n\t\t\"chunk-2d0de8a4\"\n\t],\n\t\"./prism-javadoc.min.js\": [\n\t\t\"85a2\",\n\t\t\"chunk-2d0de8a4\"\n\t],\n\t\"./prism-javadoclike\": [\n\t\t\"735d\",\n\t\t\"chunk-2d0d67a1\"\n\t],\n\t\"./prism-javadoclike.js\": [\n\t\t\"735d\",\n\t\t\"chunk-2d0d67a1\"\n\t],\n\t\"./prism-javadoclike.min\": [\n\t\t\"84a6\",\n\t\t\"chunk-2d0de4e7\"\n\t],\n\t\"./prism-javadoclike.min.js\": [\n\t\t\"84a6\",\n\t\t\"chunk-2d0de4e7\"\n\t],\n\t\"./prism-javascript\": [\n\t\t\"416b\",\n\t\t\"chunk-2d0c031f\"\n\t],\n\t\"./prism-javascript.js\": [\n\t\t\"416b\",\n\t\t\"chunk-2d0c031f\"\n\t],\n\t\"./prism-javascript.min\": [\n\t\t\"17ca\",\n\t\t\"chunk-2d0ac1fa\"\n\t],\n\t\"./prism-javascript.min.js\": [\n\t\t\"17ca\",\n\t\t\"chunk-2d0ac1fa\"\n\t],\n\t\"./prism-javastacktrace\": [\n\t\t\"b64c\",\n\t\t\"chunk-2d20feb9\"\n\t],\n\t\"./prism-javastacktrace.js\": [\n\t\t\"b64c\",\n\t\t\"chunk-2d20feb9\"\n\t],\n\t\"./prism-javastacktrace.min\": [\n\t\t\"9e45\",\n\t\t\"chunk-2d0f0bc3\"\n\t],\n\t\"./prism-javastacktrace.min.js\": [\n\t\t\"9e45\",\n\t\t\"chunk-2d0f0bc3\"\n\t],\n\t\"./prism-jolie\": [\n\t\t\"ff6e\",\n\t\t\"chunk-2d2384a5\"\n\t],\n\t\"./prism-jolie.js\": [\n\t\t\"ff6e\",\n\t\t\"chunk-2d2384a5\"\n\t],\n\t\"./prism-jolie.min\": [\n\t\t\"4ee4\",\n\t\t\"chunk-2d0ccbd6\"\n\t],\n\t\"./prism-jolie.min.js\": [\n\t\t\"4ee4\",\n\t\t\"chunk-2d0ccbd6\"\n\t],\n\t\"./prism-jq\": [\n\t\t\"b986\",\n\t\t\"chunk-2d210a4b\"\n\t],\n\t\"./prism-jq.js\": [\n\t\t\"b986\",\n\t\t\"chunk-2d210a4b\"\n\t],\n\t\"./prism-jq.min\": [\n\t\t\"366a\",\n\t\t\"chunk-2d0ba184\"\n\t],\n\t\"./prism-jq.min.js\": [\n\t\t\"366a\",\n\t\t\"chunk-2d0ba184\"\n\t],\n\t\"./prism-js-extras\": [\n\t\t\"f97e\",\n\t\t\"chunk-2d22dbd7\"\n\t],\n\t\"./prism-js-extras.js\": [\n\t\t\"f97e\",\n\t\t\"chunk-2d22dbd7\"\n\t],\n\t\"./prism-js-extras.min\": [\n\t\t\"0f3a\",\n\t\t\"chunk-2d0af83a\"\n\t],\n\t\"./prism-js-extras.min.js\": [\n\t\t\"0f3a\",\n\t\t\"chunk-2d0af83a\"\n\t],\n\t\"./prism-js-templates\": [\n\t\t\"3bd2\",\n\t\t\"chunk-2d0c4c13\"\n\t],\n\t\"./prism-js-templates.js\": [\n\t\t\"3bd2\",\n\t\t\"chunk-2d0c4c13\"\n\t],\n\t\"./prism-js-templates.min\": [\n\t\t\"3188\",\n\t\t\"chunk-2d0b8ed4\"\n\t],\n\t\"./prism-js-templates.min.js\": [\n\t\t\"3188\",\n\t\t\"chunk-2d0b8ed4\"\n\t],\n\t\"./prism-jsdoc\": [\n\t\t\"9384\",\n\t\t\"chunk-2d0e508c\"\n\t],\n\t\"./prism-jsdoc.js\": [\n\t\t\"9384\",\n\t\t\"chunk-2d0e508c\"\n\t],\n\t\"./prism-jsdoc.min\": [\n\t\t\"1ff7\",\n\t\t\"chunk-2d0b729c\"\n\t],\n\t\"./prism-jsdoc.min.js\": [\n\t\t\"1ff7\",\n\t\t\"chunk-2d0b729c\"\n\t],\n\t\"./prism-json\": [\n\t\t\"f393\",\n\t\t\"chunk-2d22c55d\"\n\t],\n\t\"./prism-json.js\": [\n\t\t\"f393\",\n\t\t\"chunk-2d22c55d\"\n\t],\n\t\"./prism-json.min\": [\n\t\t\"f14e\",\n\t\t\"chunk-2d22bd72\"\n\t],\n\t\"./prism-json.min.js\": [\n\t\t\"f14e\",\n\t\t\"chunk-2d22bd72\"\n\t],\n\t\"./prism-json5\": [\n\t\t\"4785\",\n\t\t\"chunk-2d0c19b6\"\n\t],\n\t\"./prism-json5.js\": [\n\t\t\"4785\",\n\t\t\"chunk-2d0c19b6\"\n\t],\n\t\"./prism-json5.min\": [\n\t\t\"6805\",\n\t\t\"chunk-2d0d053d\"\n\t],\n\t\"./prism-json5.min.js\": [\n\t\t\"6805\",\n\t\t\"chunk-2d0d053d\"\n\t],\n\t\"./prism-jsonp\": [\n\t\t\"32c2\",\n\t\t\"chunk-2d0b97c4\"\n\t],\n\t\"./prism-jsonp.js\": [\n\t\t\"32c2\",\n\t\t\"chunk-2d0b97c4\"\n\t],\n\t\"./prism-jsonp.min\": [\n\t\t\"803e\",\n\t\t\"chunk-2d0dd080\"\n\t],\n\t\"./prism-jsonp.min.js\": [\n\t\t\"803e\",\n\t\t\"chunk-2d0dd080\"\n\t],\n\t\"./prism-jsstacktrace\": [\n\t\t\"22a0\",\n\t\t\"chunk-2d0b2325\"\n\t],\n\t\"./prism-jsstacktrace.js\": [\n\t\t\"22a0\",\n\t\t\"chunk-2d0b2325\"\n\t],\n\t\"./prism-jsstacktrace.min\": [\n\t\t\"dee6\",\n\t\t\"chunk-2d229da8\"\n\t],\n\t\"./prism-jsstacktrace.min.js\": [\n\t\t\"dee6\",\n\t\t\"chunk-2d229da8\"\n\t],\n\t\"./prism-jsx\": [\n\t\t\"0a31\",\n\t\t\"chunk-2d0ae545\"\n\t],\n\t\"./prism-jsx.js\": [\n\t\t\"0a31\",\n\t\t\"chunk-2d0ae545\"\n\t],\n\t\"./prism-jsx.min\": [\n\t\t\"b387\",\n\t\t\"chunk-2d20f3c6\"\n\t],\n\t\"./prism-jsx.min.js\": [\n\t\t\"b387\",\n\t\t\"chunk-2d20f3c6\"\n\t],\n\t\"./prism-julia\": [\n\t\t\"e4cf\",\n\t\t\"chunk-2d225a08\"\n\t],\n\t\"./prism-julia.js\": [\n\t\t\"e4cf\",\n\t\t\"chunk-2d225a08\"\n\t],\n\t\"./prism-julia.min\": [\n\t\t\"654b\",\n\t\t\"chunk-2d0cfaa3\"\n\t],\n\t\"./prism-julia.min.js\": [\n\t\t\"654b\",\n\t\t\"chunk-2d0cfaa3\"\n\t],\n\t\"./prism-keyman\": [\n\t\t\"493e\",\n\t\t\"chunk-2d0c20cd\"\n\t],\n\t\"./prism-keyman.js\": [\n\t\t\"493e\",\n\t\t\"chunk-2d0c20cd\"\n\t],\n\t\"./prism-keyman.min\": [\n\t\t\"4ac5\",\n\t\t\"chunk-2d0cbc95\"\n\t],\n\t\"./prism-keyman.min.js\": [\n\t\t\"4ac5\",\n\t\t\"chunk-2d0cbc95\"\n\t],\n\t\"./prism-kotlin\": [\n\t\t\"64cd\",\n\t\t\"chunk-2d0cfc95\"\n\t],\n\t\"./prism-kotlin.js\": [\n\t\t\"64cd\",\n\t\t\"chunk-2d0cfc95\"\n\t],\n\t\"./prism-kotlin.min\": [\n\t\t\"c7db\",\n\t\t\"chunk-2d217ca8\"\n\t],\n\t\"./prism-kotlin.min.js\": [\n\t\t\"c7db\",\n\t\t\"chunk-2d217ca8\"\n\t],\n\t\"./prism-latex\": [\n\t\t\"bb5b\",\n\t\t\"chunk-2d21a403\"\n\t],\n\t\"./prism-latex.js\": [\n\t\t\"bb5b\",\n\t\t\"chunk-2d21a403\"\n\t],\n\t\"./prism-latex.min\": [\n\t\t\"f066\",\n\t\t\"chunk-2d22b9c0\"\n\t],\n\t\"./prism-latex.min.js\": [\n\t\t\"f066\",\n\t\t\"chunk-2d22b9c0\"\n\t],\n\t\"./prism-latte\": [\n\t\t\"563f\",\n\t\t\"chunk-2d0c89ea\"\n\t],\n\t\"./prism-latte.js\": [\n\t\t\"563f\",\n\t\t\"chunk-2d0c89ea\"\n\t],\n\t\"./prism-latte.min\": [\n\t\t\"3eb2\",\n\t\t\"chunk-2d0c5718\"\n\t],\n\t\"./prism-latte.min.js\": [\n\t\t\"3eb2\",\n\t\t\"chunk-2d0c5718\"\n\t],\n\t\"./prism-less\": [\n\t\t\"f9fc\",\n\t\t\"chunk-2d22e186\"\n\t],\n\t\"./prism-less.js\": [\n\t\t\"f9fc\",\n\t\t\"chunk-2d22e186\"\n\t],\n\t\"./prism-less.min\": [\n\t\t\"f88c\",\n\t\t\"chunk-2d22d833\"\n\t],\n\t\"./prism-less.min.js\": [\n\t\t\"f88c\",\n\t\t\"chunk-2d22d833\"\n\t],\n\t\"./prism-lilypond\": [\n\t\t\"1c08\",\n\t\t\"chunk-2d0b60d0\"\n\t],\n\t\"./prism-lilypond.js\": [\n\t\t\"1c08\",\n\t\t\"chunk-2d0b60d0\"\n\t],\n\t\"./prism-lilypond.min\": [\n\t\t\"ac50\",\n\t\t\"chunk-2d213333\"\n\t],\n\t\"./prism-lilypond.min.js\": [\n\t\t\"ac50\",\n\t\t\"chunk-2d213333\"\n\t],\n\t\"./prism-liquid\": [\n\t\t\"cf19\",\n\t\t\"chunk-2d2226c1\"\n\t],\n\t\"./prism-liquid.js\": [\n\t\t\"cf19\",\n\t\t\"chunk-2d2226c1\"\n\t],\n\t\"./prism-liquid.min\": [\n\t\t\"750b\",\n\t\t\"chunk-2d0d6e86\"\n\t],\n\t\"./prism-liquid.min.js\": [\n\t\t\"750b\",\n\t\t\"chunk-2d0d6e86\"\n\t],\n\t\"./prism-lisp\": [\n\t\t\"f484\",\n\t\t\"chunk-2d22c900\"\n\t],\n\t\"./prism-lisp.js\": [\n\t\t\"f484\",\n\t\t\"chunk-2d22c900\"\n\t],\n\t\"./prism-lisp.min\": [\n\t\t\"cd6e\",\n\t\t\"chunk-2d222006\"\n\t],\n\t\"./prism-lisp.min.js\": [\n\t\t\"cd6e\",\n\t\t\"chunk-2d222006\"\n\t],\n\t\"./prism-livescript\": [\n\t\t\"3a5f\",\n\t\t\"chunk-2d0c42d5\"\n\t],\n\t\"./prism-livescript.js\": [\n\t\t\"3a5f\",\n\t\t\"chunk-2d0c42d5\"\n\t],\n\t\"./prism-livescript.min\": [\n\t\t\"3753\",\n\t\t\"chunk-2d0ba4f8\"\n\t],\n\t\"./prism-livescript.min.js\": [\n\t\t\"3753\",\n\t\t\"chunk-2d0ba4f8\"\n\t],\n\t\"./prism-llvm\": [\n\t\t\"5126\",\n\t\t\"chunk-2d0c76d6\"\n\t],\n\t\"./prism-llvm.js\": [\n\t\t\"5126\",\n\t\t\"chunk-2d0c76d6\"\n\t],\n\t\"./prism-llvm.min\": [\n\t\t\"8b74\",\n\t\t\"chunk-2d0e8c7d\"\n\t],\n\t\"./prism-llvm.min.js\": [\n\t\t\"8b74\",\n\t\t\"chunk-2d0e8c7d\"\n\t],\n\t\"./prism-lolcode\": [\n\t\t\"8672\",\n\t\t\"chunk-2d0de74f\"\n\t],\n\t\"./prism-lolcode.js\": [\n\t\t\"8672\",\n\t\t\"chunk-2d0de74f\"\n\t],\n\t\"./prism-lolcode.min\": [\n\t\t\"3344\",\n\t\t\"chunk-2d0b95d6\"\n\t],\n\t\"./prism-lolcode.min.js\": [\n\t\t\"3344\",\n\t\t\"chunk-2d0b95d6\"\n\t],\n\t\"./prism-lua\": [\n\t\t\"6701\",\n\t\t\"chunk-2d0d0178\"\n\t],\n\t\"./prism-lua.js\": [\n\t\t\"6701\",\n\t\t\"chunk-2d0d0178\"\n\t],\n\t\"./prism-lua.min\": [\n\t\t\"aa45\",\n\t\t\"chunk-2d212b97\"\n\t],\n\t\"./prism-lua.min.js\": [\n\t\t\"aa45\",\n\t\t\"chunk-2d212b97\"\n\t],\n\t\"./prism-makefile\": [\n\t\t\"0d5d\",\n\t\t\"chunk-2d0af0f9\"\n\t],\n\t\"./prism-makefile.js\": [\n\t\t\"0d5d\",\n\t\t\"chunk-2d0af0f9\"\n\t],\n\t\"./prism-makefile.min\": [\n\t\t\"7ed1\",\n\t\t\"chunk-2d0e28d1\"\n\t],\n\t\"./prism-makefile.min.js\": [\n\t\t\"7ed1\",\n\t\t\"chunk-2d0e28d1\"\n\t],\n\t\"./prism-markdown\": [\n\t\t\"826c\",\n\t\t\"chunk-2d0dd85d\"\n\t],\n\t\"./prism-markdown.js\": [\n\t\t\"826c\",\n\t\t\"chunk-2d0dd85d\"\n\t],\n\t\"./prism-markdown.min\": [\n\t\t\"f6c7\",\n\t\t\"chunk-2d22d5ba\"\n\t],\n\t\"./prism-markdown.min.js\": [\n\t\t\"f6c7\",\n\t\t\"chunk-2d22d5ba\"\n\t],\n\t\"./prism-markup\": [\n\t\t\"6cf3\",\n\t\t\"chunk-2d0dad30\"\n\t],\n\t\"./prism-markup-templating\": [\n\t\t\"6217\",\n\t\t\"chunk-2d0ceed8\"\n\t],\n\t\"./prism-markup-templating.js\": [\n\t\t\"6217\",\n\t\t\"chunk-2d0ceed8\"\n\t],\n\t\"./prism-markup-templating.min\": [\n\t\t\"d69f\",\n\t\t\"chunk-2d21e815\"\n\t],\n\t\"./prism-markup-templating.min.js\": [\n\t\t\"d69f\",\n\t\t\"chunk-2d21e815\"\n\t],\n\t\"./prism-markup.js\": [\n\t\t\"6cf3\",\n\t\t\"chunk-2d0dad30\"\n\t],\n\t\"./prism-markup.min\": [\n\t\t\"fc37\",\n\t\t\"chunk-2d2378d7\"\n\t],\n\t\"./prism-markup.min.js\": [\n\t\t\"fc37\",\n\t\t\"chunk-2d2378d7\"\n\t],\n\t\"./prism-matlab\": [\n\t\t\"d4d5\",\n\t\t\"chunk-2d21e597\"\n\t],\n\t\"./prism-matlab.js\": [\n\t\t\"d4d5\",\n\t\t\"chunk-2d21e597\"\n\t],\n\t\"./prism-matlab.min\": [\n\t\t\"5a6b\",\n\t\t\"chunk-2d0d2bae\"\n\t],\n\t\"./prism-matlab.min.js\": [\n\t\t\"5a6b\",\n\t\t\"chunk-2d0d2bae\"\n\t],\n\t\"./prism-mel\": [\n\t\t\"f99c\",\n\t\t\"chunk-2d22dc13\"\n\t],\n\t\"./prism-mel.js\": [\n\t\t\"f99c\",\n\t\t\"chunk-2d22dc13\"\n\t],\n\t\"./prism-mel.min\": [\n\t\t\"b8c6\",\n\t\t\"chunk-2d210bbf\"\n\t],\n\t\"./prism-mel.min.js\": [\n\t\t\"b8c6\",\n\t\t\"chunk-2d210bbf\"\n\t],\n\t\"./prism-mizar\": [\n\t\t\"45e5\",\n\t\t\"chunk-2d0c17a7\"\n\t],\n\t\"./prism-mizar.js\": [\n\t\t\"45e5\",\n\t\t\"chunk-2d0c17a7\"\n\t],\n\t\"./prism-mizar.min\": [\n\t\t\"d09c\",\n\t\t\"chunk-2d21d18c\"\n\t],\n\t\"./prism-mizar.min.js\": [\n\t\t\"d09c\",\n\t\t\"chunk-2d21d18c\"\n\t],\n\t\"./prism-mongodb\": [\n\t\t\"2aac\",\n\t\t\"chunk-2d0bd3c7\"\n\t],\n\t\"./prism-mongodb.js\": [\n\t\t\"2aac\",\n\t\t\"chunk-2d0bd3c7\"\n\t],\n\t\"./prism-mongodb.min\": [\n\t\t\"5413\",\n\t\t\"chunk-2d0c81f7\"\n\t],\n\t\"./prism-mongodb.min.js\": [\n\t\t\"5413\",\n\t\t\"chunk-2d0c81f7\"\n\t],\n\t\"./prism-monkey\": [\n\t\t\"05b8\",\n\t\t\"chunk-2d0a45d1\"\n\t],\n\t\"./prism-monkey.js\": [\n\t\t\"05b8\",\n\t\t\"chunk-2d0a45d1\"\n\t],\n\t\"./prism-monkey.min\": [\n\t\t\"4b48\",\n\t\t\"chunk-2d0cbaa8\"\n\t],\n\t\"./prism-monkey.min.js\": [\n\t\t\"4b48\",\n\t\t\"chunk-2d0cbaa8\"\n\t],\n\t\"./prism-moonscript\": [\n\t\t\"e8ab\",\n\t\t\"chunk-2d2268ca\"\n\t],\n\t\"./prism-moonscript.js\": [\n\t\t\"e8ab\",\n\t\t\"chunk-2d2268ca\"\n\t],\n\t\"./prism-moonscript.min\": [\n\t\t\"626c\",\n\t\t\"chunk-2d0cef9f\"\n\t],\n\t\"./prism-moonscript.min.js\": [\n\t\t\"626c\",\n\t\t\"chunk-2d0cef9f\"\n\t],\n\t\"./prism-n1ql\": [\n\t\t\"60bf\",\n\t\t\"chunk-2d0ced74\"\n\t],\n\t\"./prism-n1ql.js\": [\n\t\t\"60bf\",\n\t\t\"chunk-2d0ced74\"\n\t],\n\t\"./prism-n1ql.min\": [\n\t\t\"a5bc\",\n\t\t\"chunk-2d208c2b\"\n\t],\n\t\"./prism-n1ql.min.js\": [\n\t\t\"a5bc\",\n\t\t\"chunk-2d208c2b\"\n\t],\n\t\"./prism-n4js\": [\n\t\t\"7602\",\n\t\t\"chunk-2d0d7217\"\n\t],\n\t\"./prism-n4js.js\": [\n\t\t\"7602\",\n\t\t\"chunk-2d0d7217\"\n\t],\n\t\"./prism-n4js.min\": [\n\t\t\"4e13\",\n\t\t\"chunk-2d0cc589\"\n\t],\n\t\"./prism-n4js.min.js\": [\n\t\t\"4e13\",\n\t\t\"chunk-2d0cc589\"\n\t],\n\t\"./prism-nand2tetris-hdl\": [\n\t\t\"8e35\",\n\t\t\"chunk-2d0e9745\"\n\t],\n\t\"./prism-nand2tetris-hdl.js\": [\n\t\t\"8e35\",\n\t\t\"chunk-2d0e9745\"\n\t],\n\t\"./prism-nand2tetris-hdl.min\": [\n\t\t\"0295\",\n\t\t\"chunk-2d0a3594\"\n\t],\n\t\"./prism-nand2tetris-hdl.min.js\": [\n\t\t\"0295\",\n\t\t\"chunk-2d0a3594\"\n\t],\n\t\"./prism-naniscript\": [\n\t\t\"efa7\",\n\t\t\"chunk-2d23154d\"\n\t],\n\t\"./prism-naniscript.js\": [\n\t\t\"efa7\",\n\t\t\"chunk-2d23154d\"\n\t],\n\t\"./prism-naniscript.min\": [\n\t\t\"a76b\",\n\t\t\"chunk-2d208e58\"\n\t],\n\t\"./prism-naniscript.min.js\": [\n\t\t\"a76b\",\n\t\t\"chunk-2d208e58\"\n\t],\n\t\"./prism-nasm\": [\n\t\t\"87b2\",\n\t\t\"chunk-2d0df045\"\n\t],\n\t\"./prism-nasm.js\": [\n\t\t\"87b2\",\n\t\t\"chunk-2d0df045\"\n\t],\n\t\"./prism-nasm.min\": [\n\t\t\"b4fe\",\n\t\t\"chunk-2d20fd47\"\n\t],\n\t\"./prism-nasm.min.js\": [\n\t\t\"b4fe\",\n\t\t\"chunk-2d20fd47\"\n\t],\n\t\"./prism-neon\": [\n\t\t\"6c33\",\n\t\t\"chunk-2d0da703\"\n\t],\n\t\"./prism-neon.js\": [\n\t\t\"6c33\",\n\t\t\"chunk-2d0da703\"\n\t],\n\t\"./prism-neon.min\": [\n\t\t\"6f48\",\n\t\t\"chunk-2d0db26a\"\n\t],\n\t\"./prism-neon.min.js\": [\n\t\t\"6f48\",\n\t\t\"chunk-2d0db26a\"\n\t],\n\t\"./prism-nginx\": [\n\t\t\"a0d9\",\n\t\t\"chunk-2d20797a\"\n\t],\n\t\"./prism-nginx.js\": [\n\t\t\"a0d9\",\n\t\t\"chunk-2d20797a\"\n\t],\n\t\"./prism-nginx.min\": [\n\t\t\"de8f\",\n\t\t\"chunk-2d229865\"\n\t],\n\t\"./prism-nginx.min.js\": [\n\t\t\"de8f\",\n\t\t\"chunk-2d229865\"\n\t],\n\t\"./prism-nim\": [\n\t\t\"f2c0\",\n\t\t\"chunk-2d22c6af\"\n\t],\n\t\"./prism-nim.js\": [\n\t\t\"f2c0\",\n\t\t\"chunk-2d22c6af\"\n\t],\n\t\"./prism-nim.min\": [\n\t\t\"f724\",\n\t\t\"chunk-2d22d389\"\n\t],\n\t\"./prism-nim.min.js\": [\n\t\t\"f724\",\n\t\t\"chunk-2d22d389\"\n\t],\n\t\"./prism-nix\": [\n\t\t\"af86\",\n\t\t\"chunk-2d213ed9\"\n\t],\n\t\"./prism-nix.js\": [\n\t\t\"af86\",\n\t\t\"chunk-2d213ed9\"\n\t],\n\t\"./prism-nix.min\": [\n\t\t\"18f3\",\n\t\t\"chunk-2d0ac5ea\"\n\t],\n\t\"./prism-nix.min.js\": [\n\t\t\"18f3\",\n\t\t\"chunk-2d0ac5ea\"\n\t],\n\t\"./prism-nsis\": [\n\t\t\"4d49\",\n\t\t\"chunk-2d0cc22b\"\n\t],\n\t\"./prism-nsis.js\": [\n\t\t\"4d49\",\n\t\t\"chunk-2d0cc22b\"\n\t],\n\t\"./prism-nsis.min\": [\n\t\t\"a6a5\",\n\t\t\"chunk-2d208f9f\"\n\t],\n\t\"./prism-nsis.min.js\": [\n\t\t\"a6a5\",\n\t\t\"chunk-2d208f9f\"\n\t],\n\t\"./prism-objectivec\": [\n\t\t\"4cbf\",\n\t\t\"chunk-2d0cc429\"\n\t],\n\t\"./prism-objectivec.js\": [\n\t\t\"4cbf\",\n\t\t\"chunk-2d0cc429\"\n\t],\n\t\"./prism-objectivec.min\": [\n\t\t\"bf38\",\n\t\t\"chunk-2d21b29f\"\n\t],\n\t\"./prism-objectivec.min.js\": [\n\t\t\"bf38\",\n\t\t\"chunk-2d21b29f\"\n\t],\n\t\"./prism-ocaml\": [\n\t\t\"6c46\",\n\t\t\"chunk-2d0da725\"\n\t],\n\t\"./prism-ocaml.js\": [\n\t\t\"6c46\",\n\t\t\"chunk-2d0da725\"\n\t],\n\t\"./prism-ocaml.min\": [\n\t\t\"1421\",\n\t\t\"chunk-2d0ab098\"\n\t],\n\t\"./prism-ocaml.min.js\": [\n\t\t\"1421\",\n\t\t\"chunk-2d0ab098\"\n\t],\n\t\"./prism-opencl\": [\n\t\t\"613f\",\n\t\t\"chunk-2d0ceb84\"\n\t],\n\t\"./prism-opencl.js\": [\n\t\t\"613f\",\n\t\t\"chunk-2d0ceb84\"\n\t],\n\t\"./prism-opencl.min\": [\n\t\t\"0c14\",\n\t\t\"chunk-2d0aec8c\"\n\t],\n\t\"./prism-opencl.min.js\": [\n\t\t\"0c14\",\n\t\t\"chunk-2d0aec8c\"\n\t],\n\t\"./prism-oz\": [\n\t\t\"f710\",\n\t\t\"chunk-2d22d366\"\n\t],\n\t\"./prism-oz.js\": [\n\t\t\"f710\",\n\t\t\"chunk-2d22d366\"\n\t],\n\t\"./prism-oz.min\": [\n\t\t\"7d17\",\n\t\t\"chunk-2d0e1ee9\"\n\t],\n\t\"./prism-oz.min.js\": [\n\t\t\"7d17\",\n\t\t\"chunk-2d0e1ee9\"\n\t],\n\t\"./prism-parigp\": [\n\t\t\"185e\",\n\t\t\"chunk-2d0ac02d\"\n\t],\n\t\"./prism-parigp.js\": [\n\t\t\"185e\",\n\t\t\"chunk-2d0ac02d\"\n\t],\n\t\"./prism-parigp.min\": [\n\t\t\"9dab\",\n\t\t\"chunk-2d0f0da2\"\n\t],\n\t\"./prism-parigp.min.js\": [\n\t\t\"9dab\",\n\t\t\"chunk-2d0f0da2\"\n\t],\n\t\"./prism-parser\": [\n\t\t\"c5db\",\n\t\t\"chunk-2d217526\"\n\t],\n\t\"./prism-parser.js\": [\n\t\t\"c5db\",\n\t\t\"chunk-2d217526\"\n\t],\n\t\"./prism-parser.min\": [\n\t\t\"f8ce\",\n\t\t\"chunk-2d22dd6a\"\n\t],\n\t\"./prism-parser.min.js\": [\n\t\t\"f8ce\",\n\t\t\"chunk-2d22dd6a\"\n\t],\n\t\"./prism-pascal\": [\n\t\t\"36e8\",\n\t\t\"chunk-2d0ba70c\"\n\t],\n\t\"./prism-pascal.js\": [\n\t\t\"36e8\",\n\t\t\"chunk-2d0ba70c\"\n\t],\n\t\"./prism-pascal.min\": [\n\t\t\"3733\",\n\t\t\"chunk-2d0ba4ba\"\n\t],\n\t\"./prism-pascal.min.js\": [\n\t\t\"3733\",\n\t\t\"chunk-2d0ba4ba\"\n\t],\n\t\"./prism-pascaligo\": [\n\t\t\"1742\",\n\t\t\"chunk-2d0abc1a\"\n\t],\n\t\"./prism-pascaligo.js\": [\n\t\t\"1742\",\n\t\t\"chunk-2d0abc1a\"\n\t],\n\t\"./prism-pascaligo.min\": [\n\t\t\"d3da\",\n\t\t\"chunk-2d21e202\"\n\t],\n\t\"./prism-pascaligo.min.js\": [\n\t\t\"d3da\",\n\t\t\"chunk-2d21e202\"\n\t],\n\t\"./prism-pcaxis\": [\n\t\t\"800d\",\n\t\t\"chunk-2d0dd022\"\n\t],\n\t\"./prism-pcaxis.js\": [\n\t\t\"800d\",\n\t\t\"chunk-2d0dd022\"\n\t],\n\t\"./prism-pcaxis.min\": [\n\t\t\"7a30\",\n\t\t\"chunk-2d0e13dd\"\n\t],\n\t\"./prism-pcaxis.min.js\": [\n\t\t\"7a30\",\n\t\t\"chunk-2d0e13dd\"\n\t],\n\t\"./prism-peoplecode\": [\n\t\t\"e7ad\",\n\t\t\"chunk-2d22650b\"\n\t],\n\t\"./prism-peoplecode.js\": [\n\t\t\"e7ad\",\n\t\t\"chunk-2d22650b\"\n\t],\n\t\"./prism-peoplecode.min\": [\n\t\t\"2b1a\",\n\t\t\"chunk-2d0bd1b6\"\n\t],\n\t\"./prism-peoplecode.min.js\": [\n\t\t\"2b1a\",\n\t\t\"chunk-2d0bd1b6\"\n\t],\n\t\"./prism-perl\": [\n\t\t\"991d\",\n\t\t\"chunk-2d0e6669\"\n\t],\n\t\"./prism-perl.js\": [\n\t\t\"991d\",\n\t\t\"chunk-2d0e6669\"\n\t],\n\t\"./prism-perl.min\": [\n\t\t\"c98a\",\n\t\t\"chunk-2d217ed5\"\n\t],\n\t\"./prism-perl.min.js\": [\n\t\t\"c98a\",\n\t\t\"chunk-2d217ed5\"\n\t],\n\t\"./prism-php\": [\n\t\t\"8e9b\",\n\t\t\"chunk-2d0e982c\"\n\t],\n\t\"./prism-php-extras\": [\n\t\t\"5599\",\n\t\t\"chunk-2d0c86b6\"\n\t],\n\t\"./prism-php-extras.js\": [\n\t\t\"5599\",\n\t\t\"chunk-2d0c86b6\"\n\t],\n\t\"./prism-php-extras.min\": [\n\t\t\"d748\",\n\t\t\"chunk-2d21eb0d\"\n\t],\n\t\"./prism-php-extras.min.js\": [\n\t\t\"d748\",\n\t\t\"chunk-2d21eb0d\"\n\t],\n\t\"./prism-php.js\": [\n\t\t\"8e9b\",\n\t\t\"chunk-2d0e982c\"\n\t],\n\t\"./prism-php.min\": [\n\t\t\"ae68\",\n\t\t\"chunk-2d213adc\"\n\t],\n\t\"./prism-php.min.js\": [\n\t\t\"ae68\",\n\t\t\"chunk-2d213adc\"\n\t],\n\t\"./prism-phpdoc\": [\n\t\t\"a42e\",\n\t\t\"chunk-2d20829c\"\n\t],\n\t\"./prism-phpdoc.js\": [\n\t\t\"a42e\",\n\t\t\"chunk-2d20829c\"\n\t],\n\t\"./prism-phpdoc.min\": [\n\t\t\"14b2\",\n\t\t\"chunk-2d0ab669\"\n\t],\n\t\"./prism-phpdoc.min.js\": [\n\t\t\"14b2\",\n\t\t\"chunk-2d0ab669\"\n\t],\n\t\"./prism-plsql\": [\n\t\t\"e0c4\",\n\t\t\"chunk-2d224ad2\"\n\t],\n\t\"./prism-plsql.js\": [\n\t\t\"e0c4\",\n\t\t\"chunk-2d224ad2\"\n\t],\n\t\"./prism-plsql.min\": [\n\t\t\"0f05\",\n\t\t\"chunk-2d0af7b1\"\n\t],\n\t\"./prism-plsql.min.js\": [\n\t\t\"0f05\",\n\t\t\"chunk-2d0af7b1\"\n\t],\n\t\"./prism-powerquery\": [\n\t\t\"c2a2\",\n\t\t\"chunk-2d216956\"\n\t],\n\t\"./prism-powerquery.js\": [\n\t\t\"c2a2\",\n\t\t\"chunk-2d216956\"\n\t],\n\t\"./prism-powerquery.min\": [\n\t\t\"7824\",\n\t\t\"chunk-2d0d79d9\"\n\t],\n\t\"./prism-powerquery.min.js\": [\n\t\t\"7824\",\n\t\t\"chunk-2d0d79d9\"\n\t],\n\t\"./prism-powershell\": [\n\t\t\"3ae3\",\n\t\t\"chunk-2d0c4872\"\n\t],\n\t\"./prism-powershell.js\": [\n\t\t\"3ae3\",\n\t\t\"chunk-2d0c4872\"\n\t],\n\t\"./prism-powershell.min\": [\n\t\t\"1290\",\n\t\t\"chunk-2d0aa9ee\"\n\t],\n\t\"./prism-powershell.min.js\": [\n\t\t\"1290\",\n\t\t\"chunk-2d0aa9ee\"\n\t],\n\t\"./prism-processing\": [\n\t\t\"f283\",\n\t\t\"chunk-2d22c17d\"\n\t],\n\t\"./prism-processing.js\": [\n\t\t\"f283\",\n\t\t\"chunk-2d22c17d\"\n\t],\n\t\"./prism-processing.min\": [\n\t\t\"82b7\",\n\t\t\"chunk-2d0ddd85\"\n\t],\n\t\"./prism-processing.min.js\": [\n\t\t\"82b7\",\n\t\t\"chunk-2d0ddd85\"\n\t],\n\t\"./prism-prolog\": [\n\t\t\"4735\",\n\t\t\"chunk-2d0c191b\"\n\t],\n\t\"./prism-prolog.js\": [\n\t\t\"4735\",\n\t\t\"chunk-2d0c191b\"\n\t],\n\t\"./prism-prolog.min\": [\n\t\t\"939c\",\n\t\t\"chunk-2d0e50da\"\n\t],\n\t\"./prism-prolog.min.js\": [\n\t\t\"939c\",\n\t\t\"chunk-2d0e50da\"\n\t],\n\t\"./prism-promql\": [\n\t\t\"6be9\",\n\t\t\"chunk-2d0da956\"\n\t],\n\t\"./prism-promql.js\": [\n\t\t\"6be9\",\n\t\t\"chunk-2d0da956\"\n\t],\n\t\"./prism-promql.min\": [\n\t\t\"16b9\",\n\t\t\"chunk-2d0abdf2\"\n\t],\n\t\"./prism-promql.min.js\": [\n\t\t\"16b9\",\n\t\t\"chunk-2d0abdf2\"\n\t],\n\t\"./prism-properties\": [\n\t\t\"f704\",\n\t\t\"chunk-2d22d34b\"\n\t],\n\t\"./prism-properties.js\": [\n\t\t\"f704\",\n\t\t\"chunk-2d22d34b\"\n\t],\n\t\"./prism-properties.min\": [\n\t\t\"4bfd\",\n\t\t\"chunk-2d0cc0e2\"\n\t],\n\t\"./prism-properties.min.js\": [\n\t\t\"4bfd\",\n\t\t\"chunk-2d0cc0e2\"\n\t],\n\t\"./prism-protobuf\": [\n\t\t\"459e\",\n\t\t\"chunk-2d0c1283\"\n\t],\n\t\"./prism-protobuf.js\": [\n\t\t\"459e\",\n\t\t\"chunk-2d0c1283\"\n\t],\n\t\"./prism-protobuf.min\": [\n\t\t\"bc99\",\n\t\t\"chunk-2d21a817\"\n\t],\n\t\"./prism-protobuf.min.js\": [\n\t\t\"bc99\",\n\t\t\"chunk-2d21a817\"\n\t],\n\t\"./prism-pug\": [\n\t\t\"7559\",\n\t\t\"chunk-2d0d6ef8\"\n\t],\n\t\"./prism-pug.js\": [\n\t\t\"7559\",\n\t\t\"chunk-2d0d6ef8\"\n\t],\n\t\"./prism-pug.min\": [\n\t\t\"8406\",\n\t\t\"chunk-2d0ddef8\"\n\t],\n\t\"./prism-pug.min.js\": [\n\t\t\"8406\",\n\t\t\"chunk-2d0ddef8\"\n\t],\n\t\"./prism-puppet\": [\n\t\t\"bf27\",\n\t\t\"chunk-2d21b27f\"\n\t],\n\t\"./prism-puppet.js\": [\n\t\t\"bf27\",\n\t\t\"chunk-2d21b27f\"\n\t],\n\t\"./prism-puppet.min\": [\n\t\t\"a109\",\n\t\t\"chunk-2d2076ef\"\n\t],\n\t\"./prism-puppet.min.js\": [\n\t\t\"a109\",\n\t\t\"chunk-2d2076ef\"\n\t],\n\t\"./prism-pure\": [\n\t\t\"57d8\",\n\t\t\"chunk-2d0c936c\"\n\t],\n\t\"./prism-pure.js\": [\n\t\t\"57d8\",\n\t\t\"chunk-2d0c936c\"\n\t],\n\t\"./prism-pure.min\": [\n\t\t\"85a9\",\n\t\t\"chunk-2d0de8ab\"\n\t],\n\t\"./prism-pure.min.js\": [\n\t\t\"85a9\",\n\t\t\"chunk-2d0de8ab\"\n\t],\n\t\"./prism-purebasic\": [\n\t\t\"43ed\",\n\t\t\"chunk-2d0c1054\"\n\t],\n\t\"./prism-purebasic.js\": [\n\t\t\"43ed\",\n\t\t\"chunk-2d0c1054\"\n\t],\n\t\"./prism-purebasic.min\": [\n\t\t\"5ac7\",\n\t\t\"chunk-2d0d30f6\"\n\t],\n\t\"./prism-purebasic.min.js\": [\n\t\t\"5ac7\",\n\t\t\"chunk-2d0d30f6\"\n\t],\n\t\"./prism-purescript\": [\n\t\t\"df5a\",\n\t\t\"chunk-2d229bc4\"\n\t],\n\t\"./prism-purescript.js\": [\n\t\t\"df5a\",\n\t\t\"chunk-2d229bc4\"\n\t],\n\t\"./prism-purescript.min\": [\n\t\t\"808b\",\n\t\t\"chunk-2d0dd118\"\n\t],\n\t\"./prism-purescript.min.js\": [\n\t\t\"808b\",\n\t\t\"chunk-2d0dd118\"\n\t],\n\t\"./prism-python\": [\n\t\t\"3d21\",\n\t\t\"chunk-2d0c4d86\"\n\t],\n\t\"./prism-python.js\": [\n\t\t\"3d21\",\n\t\t\"chunk-2d0c4d86\"\n\t],\n\t\"./prism-python.min\": [\n\t\t\"8fd1\",\n\t\t\"chunk-2d0ea0f1\"\n\t],\n\t\"./prism-python.min.js\": [\n\t\t\"8fd1\",\n\t\t\"chunk-2d0ea0f1\"\n\t],\n\t\"./prism-q\": [\n\t\t\"6937\",\n\t\t\"chunk-2d0d095d\"\n\t],\n\t\"./prism-q.js\": [\n\t\t\"6937\",\n\t\t\"chunk-2d0d095d\"\n\t],\n\t\"./prism-q.min\": [\n\t\t\"df82\",\n\t\t\"chunk-2d229bf2\"\n\t],\n\t\"./prism-q.min.js\": [\n\t\t\"df82\",\n\t\t\"chunk-2d229bf2\"\n\t],\n\t\"./prism-qml\": [\n\t\t\"29ae\",\n\t\t\"chunk-2d0b3da1\"\n\t],\n\t\"./prism-qml.js\": [\n\t\t\"29ae\",\n\t\t\"chunk-2d0b3da1\"\n\t],\n\t\"./prism-qml.min\": [\n\t\t\"93a2\",\n\t\t\"chunk-2d0e5581\"\n\t],\n\t\"./prism-qml.min.js\": [\n\t\t\"93a2\",\n\t\t\"chunk-2d0e5581\"\n\t],\n\t\"./prism-qore\": [\n\t\t\"faac\",\n\t\t\"chunk-2d237713\"\n\t],\n\t\"./prism-qore.js\": [\n\t\t\"faac\",\n\t\t\"chunk-2d237713\"\n\t],\n\t\"./prism-qore.min\": [\n\t\t\"27e9\",\n\t\t\"chunk-2d0b366f\"\n\t],\n\t\"./prism-qore.min.js\": [\n\t\t\"27e9\",\n\t\t\"chunk-2d0b366f\"\n\t],\n\t\"./prism-r\": [\n\t\t\"49cc\",\n\t\t\"chunk-2d0c269b\"\n\t],\n\t\"./prism-r.js\": [\n\t\t\"49cc\",\n\t\t\"chunk-2d0c269b\"\n\t],\n\t\"./prism-r.min\": [\n\t\t\"2a83\",\n\t\t\"chunk-2d0bcea0\"\n\t],\n\t\"./prism-r.min.js\": [\n\t\t\"2a83\",\n\t\t\"chunk-2d0bcea0\"\n\t],\n\t\"./prism-racket\": [\n\t\t\"f5db\",\n\t\t\"chunk-2d22d243\"\n\t],\n\t\"./prism-racket.js\": [\n\t\t\"f5db\",\n\t\t\"chunk-2d22d243\"\n\t],\n\t\"./prism-racket.min\": [\n\t\t\"9746\",\n\t\t\"chunk-2d0e5f16\"\n\t],\n\t\"./prism-racket.min.js\": [\n\t\t\"9746\",\n\t\t\"chunk-2d0e5f16\"\n\t],\n\t\"./prism-reason\": [\n\t\t\"603e\",\n\t\t\"chunk-2d0ce7c2\"\n\t],\n\t\"./prism-reason.js\": [\n\t\t\"603e\",\n\t\t\"chunk-2d0ce7c2\"\n\t],\n\t\"./prism-reason.min\": [\n\t\t\"464a\",\n\t\t\"chunk-2d0c15a5\"\n\t],\n\t\"./prism-reason.min.js\": [\n\t\t\"464a\",\n\t\t\"chunk-2d0c15a5\"\n\t],\n\t\"./prism-regex\": [\n\t\t\"b8cf\",\n\t\t\"chunk-2d210bef\"\n\t],\n\t\"./prism-regex.js\": [\n\t\t\"b8cf\",\n\t\t\"chunk-2d210bef\"\n\t],\n\t\"./prism-regex.min\": [\n\t\t\"923b\",\n\t\t\"chunk-2d0e4c5e\"\n\t],\n\t\"./prism-regex.min.js\": [\n\t\t\"923b\",\n\t\t\"chunk-2d0e4c5e\"\n\t],\n\t\"./prism-renpy\": [\n\t\t\"3619\",\n\t\t\"chunk-2d0ba0c1\"\n\t],\n\t\"./prism-renpy.js\": [\n\t\t\"3619\",\n\t\t\"chunk-2d0ba0c1\"\n\t],\n\t\"./prism-renpy.min\": [\n\t\t\"99fa\",\n\t\t\"chunk-2d0e6cd1\"\n\t],\n\t\"./prism-renpy.min.js\": [\n\t\t\"99fa\",\n\t\t\"chunk-2d0e6cd1\"\n\t],\n\t\"./prism-rest\": [\n\t\t\"6fba\",\n\t\t\"chunk-2d0db825\"\n\t],\n\t\"./prism-rest.js\": [\n\t\t\"6fba\",\n\t\t\"chunk-2d0db825\"\n\t],\n\t\"./prism-rest.min\": [\n\t\t\"a2a8\",\n\t\t\"chunk-2d20809e\"\n\t],\n\t\"./prism-rest.min.js\": [\n\t\t\"a2a8\",\n\t\t\"chunk-2d20809e\"\n\t],\n\t\"./prism-rip\": [\n\t\t\"107a\",\n\t\t\"chunk-2d0aa25f\"\n\t],\n\t\"./prism-rip.js\": [\n\t\t\"107a\",\n\t\t\"chunk-2d0aa25f\"\n\t],\n\t\"./prism-rip.min\": [\n\t\t\"7bb8\",\n\t\t\"chunk-2d0e1d57\"\n\t],\n\t\"./prism-rip.min.js\": [\n\t\t\"7bb8\",\n\t\t\"chunk-2d0e1d57\"\n\t],\n\t\"./prism-roboconf\": [\n\t\t\"e861\",\n\t\t\"chunk-2d226364\"\n\t],\n\t\"./prism-roboconf.js\": [\n\t\t\"e861\",\n\t\t\"chunk-2d226364\"\n\t],\n\t\"./prism-roboconf.min\": [\n\t\t\"2385\",\n\t\t\"chunk-2d0b21f4\"\n\t],\n\t\"./prism-roboconf.min.js\": [\n\t\t\"2385\",\n\t\t\"chunk-2d0b21f4\"\n\t],\n\t\"./prism-robotframework\": [\n\t\t\"71e0\",\n\t\t\"chunk-2d0d65bb\"\n\t],\n\t\"./prism-robotframework.js\": [\n\t\t\"71e0\",\n\t\t\"chunk-2d0d65bb\"\n\t],\n\t\"./prism-robotframework.min\": [\n\t\t\"2abc\",\n\t\t\"chunk-2d0bd3e6\"\n\t],\n\t\"./prism-robotframework.min.js\": [\n\t\t\"2abc\",\n\t\t\"chunk-2d0bd3e6\"\n\t],\n\t\"./prism-ruby\": [\n\t\t\"b130\",\n\t\t\"chunk-2d20eba2\"\n\t],\n\t\"./prism-ruby.js\": [\n\t\t\"b130\",\n\t\t\"chunk-2d20eba2\"\n\t],\n\t\"./prism-ruby.min\": [\n\t\t\"3376\",\n\t\t\"chunk-2d0b9635\"\n\t],\n\t\"./prism-ruby.min.js\": [\n\t\t\"3376\",\n\t\t\"chunk-2d0b9635\"\n\t],\n\t\"./prism-rust\": [\n\t\t\"0477\",\n\t\t\"chunk-2d0a3cda\"\n\t],\n\t\"./prism-rust.js\": [\n\t\t\"0477\",\n\t\t\"chunk-2d0a3cda\"\n\t],\n\t\"./prism-rust.min\": [\n\t\t\"ab03\",\n\t\t\"chunk-2d212eda\"\n\t],\n\t\"./prism-rust.min.js\": [\n\t\t\"ab03\",\n\t\t\"chunk-2d212eda\"\n\t],\n\t\"./prism-sas\": [\n\t\t\"f2c5\",\n\t\t\"chunk-2d22c6b4\"\n\t],\n\t\"./prism-sas.js\": [\n\t\t\"f2c5\",\n\t\t\"chunk-2d22c6b4\"\n\t],\n\t\"./prism-sas.min\": [\n\t\t\"cc6e\",\n\t\t\"chunk-2d221c45\"\n\t],\n\t\"./prism-sas.min.js\": [\n\t\t\"cc6e\",\n\t\t\"chunk-2d221c45\"\n\t],\n\t\"./prism-sass\": [\n\t\t\"7965\",\n\t\t\"chunk-2d0d7e17\"\n\t],\n\t\"./prism-sass.js\": [\n\t\t\"7965\",\n\t\t\"chunk-2d0d7e17\"\n\t],\n\t\"./prism-sass.min\": [\n\t\t\"1e5b\",\n\t\t\"chunk-2d0b6917\"\n\t],\n\t\"./prism-sass.min.js\": [\n\t\t\"1e5b\",\n\t\t\"chunk-2d0b6917\"\n\t],\n\t\"./prism-scala\": [\n\t\t\"2935\",\n\t\t\"chunk-2d0b37df\"\n\t],\n\t\"./prism-scala.js\": [\n\t\t\"2935\",\n\t\t\"chunk-2d0b37df\"\n\t],\n\t\"./prism-scala.min\": [\n\t\t\"a8a9\",\n\t\t\"chunk-2d209725\"\n\t],\n\t\"./prism-scala.min.js\": [\n\t\t\"a8a9\",\n\t\t\"chunk-2d209725\"\n\t],\n\t\"./prism-scheme\": [\n\t\t\"7190\",\n\t\t\"chunk-2d0d6067\"\n\t],\n\t\"./prism-scheme.js\": [\n\t\t\"7190\",\n\t\t\"chunk-2d0d6067\"\n\t],\n\t\"./prism-scheme.min\": [\n\t\t\"10b7\",\n\t\t\"chunk-2d0aa76a\"\n\t],\n\t\"./prism-scheme.min.js\": [\n\t\t\"10b7\",\n\t\t\"chunk-2d0aa76a\"\n\t],\n\t\"./prism-scss\": [\n\t\t\"867a\",\n\t\t\"chunk-2d0de77e\"\n\t],\n\t\"./prism-scss.js\": [\n\t\t\"867a\",\n\t\t\"chunk-2d0de77e\"\n\t],\n\t\"./prism-scss.min\": [\n\t\t\"70cb\",\n\t\t\"chunk-2d0d61ee\"\n\t],\n\t\"./prism-scss.min.js\": [\n\t\t\"70cb\",\n\t\t\"chunk-2d0d61ee\"\n\t],\n\t\"./prism-shell-session\": [\n\t\t\"abf8\",\n\t\t\"chunk-2d213569\"\n\t],\n\t\"./prism-shell-session.js\": [\n\t\t\"abf8\",\n\t\t\"chunk-2d213569\"\n\t],\n\t\"./prism-shell-session.min\": [\n\t\t\"eb20\",\n\t\t\"chunk-2d230091\"\n\t],\n\t\"./prism-shell-session.min.js\": [\n\t\t\"eb20\",\n\t\t\"chunk-2d230091\"\n\t],\n\t\"./prism-smali\": [\n\t\t\"45e8\",\n\t\t\"chunk-2d0c17aa\"\n\t],\n\t\"./prism-smali.js\": [\n\t\t\"45e8\",\n\t\t\"chunk-2d0c17aa\"\n\t],\n\t\"./prism-smali.min\": [\n\t\t\"8e97\",\n\t\t\"chunk-2d0e9801\"\n\t],\n\t\"./prism-smali.min.js\": [\n\t\t\"8e97\",\n\t\t\"chunk-2d0e9801\"\n\t],\n\t\"./prism-smalltalk\": [\n\t\t\"7272\",\n\t\t\"chunk-2d0d63ec\"\n\t],\n\t\"./prism-smalltalk.js\": [\n\t\t\"7272\",\n\t\t\"chunk-2d0d63ec\"\n\t],\n\t\"./prism-smalltalk.min\": [\n\t\t\"6a63\",\n\t\t\"chunk-2d0d9fde\"\n\t],\n\t\"./prism-smalltalk.min.js\": [\n\t\t\"6a63\",\n\t\t\"chunk-2d0d9fde\"\n\t],\n\t\"./prism-smarty\": [\n\t\t\"f841\",\n\t\t\"chunk-2d22d785\"\n\t],\n\t\"./prism-smarty.js\": [\n\t\t\"f841\",\n\t\t\"chunk-2d22d785\"\n\t],\n\t\"./prism-smarty.min\": [\n\t\t\"58cd\",\n\t\t\"chunk-2d0c973a\"\n\t],\n\t\"./prism-smarty.min.js\": [\n\t\t\"58cd\",\n\t\t\"chunk-2d0c973a\"\n\t],\n\t\"./prism-sml\": [\n\t\t\"ba3a\",\n\t\t\"chunk-2d21a003\"\n\t],\n\t\"./prism-sml.js\": [\n\t\t\"ba3a\",\n\t\t\"chunk-2d21a003\"\n\t],\n\t\"./prism-sml.min\": [\n\t\t\"273c\",\n\t\t\"chunk-2d0b308b\"\n\t],\n\t\"./prism-sml.min.js\": [\n\t\t\"273c\",\n\t\t\"chunk-2d0b308b\"\n\t],\n\t\"./prism-solidity\": [\n\t\t\"815d\",\n\t\t\"chunk-2d0dd47e\"\n\t],\n\t\"./prism-solidity.js\": [\n\t\t\"815d\",\n\t\t\"chunk-2d0dd47e\"\n\t],\n\t\"./prism-solidity.min\": [\n\t\t\"ac4f\",\n\t\t\"chunk-2d21334a\"\n\t],\n\t\"./prism-solidity.min.js\": [\n\t\t\"ac4f\",\n\t\t\"chunk-2d21334a\"\n\t],\n\t\"./prism-solution-file\": [\n\t\t\"fecd\",\n\t\t\"chunk-2d238656\"\n\t],\n\t\"./prism-solution-file.js\": [\n\t\t\"fecd\",\n\t\t\"chunk-2d238656\"\n\t],\n\t\"./prism-solution-file.min\": [\n\t\t\"3360\",\n\t\t\"chunk-2d0b9610\"\n\t],\n\t\"./prism-solution-file.min.js\": [\n\t\t\"3360\",\n\t\t\"chunk-2d0b9610\"\n\t],\n\t\"./prism-soy\": [\n\t\t\"e9cd\",\n\t\t\"chunk-2d226ccb\"\n\t],\n\t\"./prism-soy.js\": [\n\t\t\"e9cd\",\n\t\t\"chunk-2d226ccb\"\n\t],\n\t\"./prism-soy.min\": [\n\t\t\"8220\",\n\t\t\"chunk-2d0dd7ae\"\n\t],\n\t\"./prism-soy.min.js\": [\n\t\t\"8220\",\n\t\t\"chunk-2d0dd7ae\"\n\t],\n\t\"./prism-sparql\": [\n\t\t\"7063\",\n\t\t\"chunk-2d0d5c4c\"\n\t],\n\t\"./prism-sparql.js\": [\n\t\t\"7063\",\n\t\t\"chunk-2d0d5c4c\"\n\t],\n\t\"./prism-sparql.min\": [\n\t\t\"e9ed\",\n\t\t\"chunk-2d226d09\"\n\t],\n\t\"./prism-sparql.min.js\": [\n\t\t\"e9ed\",\n\t\t\"chunk-2d226d09\"\n\t],\n\t\"./prism-splunk-spl\": [\n\t\t\"ac6a5\",\n\t\t\"chunk-77053d12\"\n\t],\n\t\"./prism-splunk-spl.js\": [\n\t\t\"ac6a5\",\n\t\t\"chunk-77053d12\"\n\t],\n\t\"./prism-splunk-spl.min\": [\n\t\t\"1d18\",\n\t\t\"chunk-2d0b64b0\"\n\t],\n\t\"./prism-splunk-spl.min.js\": [\n\t\t\"1d18\",\n\t\t\"chunk-2d0b64b0\"\n\t],\n\t\"./prism-sqf\": [\n\t\t\"dbb2\",\n\t\t\"chunk-2d229204\"\n\t],\n\t\"./prism-sqf.js\": [\n\t\t\"dbb2\",\n\t\t\"chunk-2d229204\"\n\t],\n\t\"./prism-sqf.min\": [\n\t\t\"9d3f\",\n\t\t\"chunk-2d0f0814\"\n\t],\n\t\"./prism-sqf.min.js\": [\n\t\t\"9d3f\",\n\t\t\"chunk-2d0f0814\"\n\t],\n\t\"./prism-sql\": [\n\t\t\"af8a\",\n\t\t\"chunk-2d213f04\"\n\t],\n\t\"./prism-sql.js\": [\n\t\t\"af8a\",\n\t\t\"chunk-2d213f04\"\n\t],\n\t\"./prism-sql.min\": [\n\t\t\"a395\",\n\t\t\"chunk-2d207f84\"\n\t],\n\t\"./prism-sql.min.js\": [\n\t\t\"a395\",\n\t\t\"chunk-2d207f84\"\n\t],\n\t\"./prism-stan\": [\n\t\t\"86f1\",\n\t\t\"chunk-2d0decff\"\n\t],\n\t\"./prism-stan.js\": [\n\t\t\"86f1\",\n\t\t\"chunk-2d0decff\"\n\t],\n\t\"./prism-stan.min\": [\n\t\t\"eb2a\",\n\t\t\"chunk-2d2300c2\"\n\t],\n\t\"./prism-stan.min.js\": [\n\t\t\"eb2a\",\n\t\t\"chunk-2d2300c2\"\n\t],\n\t\"./prism-stylus\": [\n\t\t\"37298\",\n\t\t\"chunk-7468efb7\"\n\t],\n\t\"./prism-stylus.js\": [\n\t\t\"37298\",\n\t\t\"chunk-7468efb7\"\n\t],\n\t\"./prism-stylus.min\": [\n\t\t\"0408\",\n\t\t\"chunk-2d0a3c02\"\n\t],\n\t\"./prism-stylus.min.js\": [\n\t\t\"0408\",\n\t\t\"chunk-2d0a3c02\"\n\t],\n\t\"./prism-swift\": [\n\t\t\"e9cb\",\n\t\t\"chunk-2d226cc9\"\n\t],\n\t\"./prism-swift.js\": [\n\t\t\"e9cb\",\n\t\t\"chunk-2d226cc9\"\n\t],\n\t\"./prism-swift.min\": [\n\t\t\"0469\",\n\t\t\"chunk-2d0a3cbd\"\n\t],\n\t\"./prism-swift.min.js\": [\n\t\t\"0469\",\n\t\t\"chunk-2d0a3cbd\"\n\t],\n\t\"./prism-t4-cs\": [\n\t\t\"4c06\",\n\t\t\"chunk-2d0cbdeb\"\n\t],\n\t\"./prism-t4-cs.js\": [\n\t\t\"4c06\",\n\t\t\"chunk-2d0cbdeb\"\n\t],\n\t\"./prism-t4-cs.min\": [\n\t\t\"fdb5\",\n\t\t\"chunk-2d238247\"\n\t],\n\t\"./prism-t4-cs.min.js\": [\n\t\t\"fdb5\",\n\t\t\"chunk-2d238247\"\n\t],\n\t\"./prism-t4-templating\": [\n\t\t\"0937\",\n\t\t\"chunk-2d0a4f23\"\n\t],\n\t\"./prism-t4-templating.js\": [\n\t\t\"0937\",\n\t\t\"chunk-2d0a4f23\"\n\t],\n\t\"./prism-t4-templating.min\": [\n\t\t\"5fdd\",\n\t\t\"chunk-2d0d4407\"\n\t],\n\t\"./prism-t4-templating.min.js\": [\n\t\t\"5fdd\",\n\t\t\"chunk-2d0d4407\"\n\t],\n\t\"./prism-t4-vb\": [\n\t\t\"cab0\",\n\t\t\"chunk-2d2219e2\"\n\t],\n\t\"./prism-t4-vb.js\": [\n\t\t\"cab0\",\n\t\t\"chunk-2d2219e2\"\n\t],\n\t\"./prism-t4-vb.min\": [\n\t\t\"f4ac\",\n\t\t\"chunk-2d22ce26\"\n\t],\n\t\"./prism-t4-vb.min.js\": [\n\t\t\"f4ac\",\n\t\t\"chunk-2d22ce26\"\n\t],\n\t\"./prism-tap\": [\n\t\t\"b152\",\n\t\t\"chunk-2d20ebe2\"\n\t],\n\t\"./prism-tap.js\": [\n\t\t\"b152\",\n\t\t\"chunk-2d20ebe2\"\n\t],\n\t\"./prism-tap.min\": [\n\t\t\"170d\",\n\t\t\"chunk-2d0abbd0\"\n\t],\n\t\"./prism-tap.min.js\": [\n\t\t\"170d\",\n\t\t\"chunk-2d0abbd0\"\n\t],\n\t\"./prism-tcl\": [\n\t\t\"da78\",\n\t\t\"chunk-2d228914\"\n\t],\n\t\"./prism-tcl.js\": [\n\t\t\"da78\",\n\t\t\"chunk-2d228914\"\n\t],\n\t\"./prism-tcl.min\": [\n\t\t\"a5aa\",\n\t\t\"chunk-2d208c0a\"\n\t],\n\t\"./prism-tcl.min.js\": [\n\t\t\"a5aa\",\n\t\t\"chunk-2d208c0a\"\n\t],\n\t\"./prism-textile\": [\n\t\t\"8ce4\",\n\t\t\"chunk-2d0e95d0\"\n\t],\n\t\"./prism-textile.js\": [\n\t\t\"8ce4\",\n\t\t\"chunk-2d0e95d0\"\n\t],\n\t\"./prism-textile.min\": [\n\t\t\"a4b6\",\n\t\t\"chunk-2d20883d\"\n\t],\n\t\"./prism-textile.min.js\": [\n\t\t\"a4b6\",\n\t\t\"chunk-2d20883d\"\n\t],\n\t\"./prism-toml\": [\n\t\t\"fee1\",\n\t\t\"chunk-2d238661\"\n\t],\n\t\"./prism-toml.js\": [\n\t\t\"fee1\",\n\t\t\"chunk-2d238661\"\n\t],\n\t\"./prism-toml.min\": [\n\t\t\"1c48\",\n\t\t\"chunk-2d0b614c\"\n\t],\n\t\"./prism-toml.min.js\": [\n\t\t\"1c48\",\n\t\t\"chunk-2d0b614c\"\n\t],\n\t\"./prism-tsx\": [\n\t\t\"a588\",\n\t\t\"chunk-2d2086ea\"\n\t],\n\t\"./prism-tsx 2\": [\n\t\t\"834b\",\n\t\t\"chunk-2d0ddbdf\"\n\t],\n\t\"./prism-tsx 2.js\": [\n\t\t\"834b\",\n\t\t\"chunk-2d0ddbdf\"\n\t],\n\t\"./prism-tsx.js\": [\n\t\t\"a588\",\n\t\t\"chunk-2d2086ea\"\n\t],\n\t\"./prism-tsx.min\": [\n\t\t\"e4d2\",\n\t\t\"chunk-2d2259f3\"\n\t],\n\t\"./prism-tsx.min 2\": [\n\t\t\"84ff\",\n\t\t\"chunk-2d0de5b2\"\n\t],\n\t\"./prism-tsx.min 2.js\": [\n\t\t\"84ff\",\n\t\t\"chunk-2d0de5b2\"\n\t],\n\t\"./prism-tsx.min.js\": [\n\t\t\"e4d2\",\n\t\t\"chunk-2d2259f3\"\n\t],\n\t\"./prism-tt2\": [\n\t\t\"caac\",\n\t\t\"chunk-2d2219f6\"\n\t],\n\t\"./prism-tt2.js\": [\n\t\t\"caac\",\n\t\t\"chunk-2d2219f6\"\n\t],\n\t\"./prism-tt2.min\": [\n\t\t\"2d4f\",\n\t\t\"chunk-2d0bd99a\"\n\t],\n\t\"./prism-tt2.min.js\": [\n\t\t\"2d4f\",\n\t\t\"chunk-2d0bd99a\"\n\t],\n\t\"./prism-turtle\": [\n\t\t\"5c90\",\n\t\t\"chunk-2d0d335b\"\n\t],\n\t\"./prism-turtle.js\": [\n\t\t\"5c90\",\n\t\t\"chunk-2d0d335b\"\n\t],\n\t\"./prism-turtle.min\": [\n\t\t\"3a5f6\",\n\t\t\"chunk-747c1801\"\n\t],\n\t\"./prism-turtle.min.js\": [\n\t\t\"3a5f6\",\n\t\t\"chunk-747c1801\"\n\t],\n\t\"./prism-twig\": [\n\t\t\"f4a3\",\n\t\t\"chunk-2d22cdf6\"\n\t],\n\t\"./prism-twig.js\": [\n\t\t\"f4a3\",\n\t\t\"chunk-2d22cdf6\"\n\t],\n\t\"./prism-twig.min\": [\n\t\t\"1db9\",\n\t\t\"chunk-2d0b6aa0\"\n\t],\n\t\"./prism-twig.min.js\": [\n\t\t\"1db9\",\n\t\t\"chunk-2d0b6aa0\"\n\t],\n\t\"./prism-typescript\": [\n\t\t\"5c81\",\n\t\t\"chunk-2d0d333d\"\n\t],\n\t\"./prism-typescript.js\": [\n\t\t\"5c81\",\n\t\t\"chunk-2d0d333d\"\n\t],\n\t\"./prism-typescript.min\": [\n\t\t\"1f11\",\n\t\t\"chunk-2d0b6c2b\"\n\t],\n\t\"./prism-typescript.min.js\": [\n\t\t\"1f11\",\n\t\t\"chunk-2d0b6c2b\"\n\t],\n\t\"./prism-typoscript\": [\n\t\t\"c9a9\",\n\t\t\"chunk-2d2183a4\"\n\t],\n\t\"./prism-typoscript.js\": [\n\t\t\"c9a9\",\n\t\t\"chunk-2d2183a4\"\n\t],\n\t\"./prism-typoscript.min\": [\n\t\t\"2746\",\n\t\t\"chunk-2d0b307d\"\n\t],\n\t\"./prism-typoscript.min.js\": [\n\t\t\"2746\",\n\t\t\"chunk-2d0b307d\"\n\t],\n\t\"./prism-unrealscript\": [\n\t\t\"5ab5\",\n\t\t\"chunk-2d0d30d5\"\n\t],\n\t\"./prism-unrealscript.js\": [\n\t\t\"5ab5\",\n\t\t\"chunk-2d0d30d5\"\n\t],\n\t\"./prism-unrealscript.min\": [\n\t\t\"6ae7\",\n\t\t\"chunk-2d0da593\"\n\t],\n\t\"./prism-unrealscript.min.js\": [\n\t\t\"6ae7\",\n\t\t\"chunk-2d0da593\"\n\t],\n\t\"./prism-vala\": [\n\t\t\"54c6\",\n\t\t\"chunk-2d0c8808\"\n\t],\n\t\"./prism-vala.js\": [\n\t\t\"54c6\",\n\t\t\"chunk-2d0c8808\"\n\t],\n\t\"./prism-vala.min\": [\n\t\t\"b44e\",\n\t\t\"chunk-2d20f739\"\n\t],\n\t\"./prism-vala.min.js\": [\n\t\t\"b44e\",\n\t\t\"chunk-2d20f739\"\n\t],\n\t\"./prism-vbnet\": [\n\t\t\"d4cb\",\n\t\t\"chunk-2d21e5a5\"\n\t],\n\t\"./prism-vbnet.js\": [\n\t\t\"d4cb\",\n\t\t\"chunk-2d21e5a5\"\n\t],\n\t\"./prism-vbnet.min\": [\n\t\t\"e31e\",\n\t\t\"chunk-2d225038\"\n\t],\n\t\"./prism-vbnet.min.js\": [\n\t\t\"e31e\",\n\t\t\"chunk-2d225038\"\n\t],\n\t\"./prism-velocity\": [\n\t\t\"8d1e\",\n\t\t\"chunk-2d0e9376\"\n\t],\n\t\"./prism-velocity.js\": [\n\t\t\"8d1e\",\n\t\t\"chunk-2d0e9376\"\n\t],\n\t\"./prism-velocity.min\": [\n\t\t\"09a9\",\n\t\t\"chunk-2d0a54b7\"\n\t],\n\t\"./prism-velocity.min.js\": [\n\t\t\"09a9\",\n\t\t\"chunk-2d0a54b7\"\n\t],\n\t\"./prism-verilog\": [\n\t\t\"b43b\",\n\t\t\"chunk-2d20f717\"\n\t],\n\t\"./prism-verilog.js\": [\n\t\t\"b43b\",\n\t\t\"chunk-2d20f717\"\n\t],\n\t\"./prism-verilog.min\": [\n\t\t\"099f\",\n\t\t\"chunk-2d0a500c\"\n\t],\n\t\"./prism-verilog.min.js\": [\n\t\t\"099f\",\n\t\t\"chunk-2d0a500c\"\n\t],\n\t\"./prism-vhdl\": [\n\t\t\"3c57\",\n\t\t\"chunk-2d0c4a28\"\n\t],\n\t\"./prism-vhdl.js\": [\n\t\t\"3c57\",\n\t\t\"chunk-2d0c4a28\"\n\t],\n\t\"./prism-vhdl.min\": [\n\t\t\"6c56\",\n\t\t\"chunk-2d0da744\"\n\t],\n\t\"./prism-vhdl.min.js\": [\n\t\t\"6c56\",\n\t\t\"chunk-2d0da744\"\n\t],\n\t\"./prism-vim\": [\n\t\t\"7ced\",\n\t\t\"chunk-2d0e21a1\"\n\t],\n\t\"./prism-vim.js\": [\n\t\t\"7ced\",\n\t\t\"chunk-2d0e21a1\"\n\t],\n\t\"./prism-vim.min\": [\n\t\t\"4f9e\",\n\t\t\"chunk-2d0cca74\"\n\t],\n\t\"./prism-vim.min.js\": [\n\t\t\"4f9e\",\n\t\t\"chunk-2d0cca74\"\n\t],\n\t\"./prism-visual-basic\": [\n\t\t\"6e57\",\n\t\t\"chunk-2d0daec7\"\n\t],\n\t\"./prism-visual-basic.js\": [\n\t\t\"6e57\",\n\t\t\"chunk-2d0daec7\"\n\t],\n\t\"./prism-visual-basic.min\": [\n\t\t\"e14f\",\n\t\t\"chunk-2d224914\"\n\t],\n\t\"./prism-visual-basic.min.js\": [\n\t\t\"e14f\",\n\t\t\"chunk-2d224914\"\n\t],\n\t\"./prism-warpscript\": [\n\t\t\"a707\",\n\t\t\"chunk-2d208d73\"\n\t],\n\t\"./prism-warpscript.js\": [\n\t\t\"a707\",\n\t\t\"chunk-2d208d73\"\n\t],\n\t\"./prism-warpscript.min\": [\n\t\t\"dd66\",\n\t\t\"chunk-2d229436\"\n\t],\n\t\"./prism-warpscript.min.js\": [\n\t\t\"dd66\",\n\t\t\"chunk-2d229436\"\n\t],\n\t\"./prism-wasm\": [\n\t\t\"2134\",\n\t\t\"chunk-2d0b19d6\"\n\t],\n\t\"./prism-wasm.js\": [\n\t\t\"2134\",\n\t\t\"chunk-2d0b19d6\"\n\t],\n\t\"./prism-wasm.min\": [\n\t\t\"e6fc\",\n\t\t\"chunk-2d2261e4\"\n\t],\n\t\"./prism-wasm.min.js\": [\n\t\t\"e6fc\",\n\t\t\"chunk-2d2261e4\"\n\t],\n\t\"./prism-wiki\": [\n\t\t\"a022\",\n\t\t\"chunk-2d207365\"\n\t],\n\t\"./prism-wiki.js\": [\n\t\t\"a022\",\n\t\t\"chunk-2d207365\"\n\t],\n\t\"./prism-wiki.min\": [\n\t\t\"cb7d\",\n\t\t\"chunk-2d2218a2\"\n\t],\n\t\"./prism-wiki.min.js\": [\n\t\t\"cb7d\",\n\t\t\"chunk-2d2218a2\"\n\t],\n\t\"./prism-xeora\": [\n\t\t\"fb18\",\n\t\t\"chunk-2d2374d9\"\n\t],\n\t\"./prism-xeora.js\": [\n\t\t\"fb18\",\n\t\t\"chunk-2d2374d9\"\n\t],\n\t\"./prism-xeora.min\": [\n\t\t\"7d33\",\n\t\t\"chunk-2d0e1f23\"\n\t],\n\t\"./prism-xeora.min.js\": [\n\t\t\"7d33\",\n\t\t\"chunk-2d0e1f23\"\n\t],\n\t\"./prism-xml-doc\": [\n\t\t\"601a\",\n\t\t\"chunk-2d0ce780\"\n\t],\n\t\"./prism-xml-doc.js\": [\n\t\t\"601a\",\n\t\t\"chunk-2d0ce780\"\n\t],\n\t\"./prism-xml-doc.min\": [\n\t\t\"79ee\",\n\t\t\"chunk-2d0d83f8\"\n\t],\n\t\"./prism-xml-doc.min.js\": [\n\t\t\"79ee\",\n\t\t\"chunk-2d0d83f8\"\n\t],\n\t\"./prism-xojo\": [\n\t\t\"cff9\",\n\t\t\"chunk-2d222d2c\"\n\t],\n\t\"./prism-xojo.js\": [\n\t\t\"cff9\",\n\t\t\"chunk-2d222d2c\"\n\t],\n\t\"./prism-xojo.min\": [\n\t\t\"2b08\",\n\t\t\"chunk-2d0bd16e\"\n\t],\n\t\"./prism-xojo.min.js\": [\n\t\t\"2b08\",\n\t\t\"chunk-2d0bd16e\"\n\t],\n\t\"./prism-xquery\": [\n\t\t\"f8da\",\n\t\t\"chunk-2d22dd85\"\n\t],\n\t\"./prism-xquery.js\": [\n\t\t\"f8da\",\n\t\t\"chunk-2d22dd85\"\n\t],\n\t\"./prism-xquery.min\": [\n\t\t\"f906\",\n\t\t\"chunk-2d22dacf\"\n\t],\n\t\"./prism-xquery.min.js\": [\n\t\t\"f906\",\n\t\t\"chunk-2d22dacf\"\n\t],\n\t\"./prism-yaml\": [\n\t\t\"457d\",\n\t\t\"chunk-2d0c1244\"\n\t],\n\t\"./prism-yaml.js\": [\n\t\t\"457d\",\n\t\t\"chunk-2d0c1244\"\n\t],\n\t\"./prism-yaml.min\": [\n\t\t\"cd2b\",\n\t\t\"chunk-2d221f87\"\n\t],\n\t\"./prism-yaml.min.js\": [\n\t\t\"cd2b\",\n\t\t\"chunk-2d221f87\"\n\t],\n\t\"./prism-yang\": [\n\t\t\"f935\",\n\t\t\"chunk-2d22db2b\"\n\t],\n\t\"./prism-yang.js\": [\n\t\t\"f935\",\n\t\t\"chunk-2d22db2b\"\n\t],\n\t\"./prism-yang.min\": [\n\t\t\"e6cf\",\n\t\t\"chunk-2d22618a\"\n\t],\n\t\"./prism-yang.min.js\": [\n\t\t\"e6cf\",\n\t\t\"chunk-2d22618a\"\n\t],\n\t\"./prism-zig\": [\n\t\t\"fc06\",\n\t\t\"chunk-2d237879\"\n\t],\n\t\"./prism-zig.js\": [\n\t\t\"fc06\",\n\t\t\"chunk-2d237879\"\n\t],\n\t\"./prism-zig.min\": [\n\t\t\"9a3e\",\n\t\t\"chunk-2d0efcd0\"\n\t],\n\t\"./prism-zig.min.js\": [\n\t\t\"9a3e\",\n\t\t\"chunk-2d0efcd0\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"554c\";\nmodule.exports = webpackAsyncContext;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"editor\",attrs:{\"id\":\"edit\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// DOTO: Don't use Node API in editor folder, remove `path` @jocs\nimport createDOMPurify from 'dompurify'\nimport { isInElectron, URL_REG } from '../config'\n\nconst ID_PREFIX = 'ag-'\nlet id = 0\nexport const getUniqueId = () => `${ID_PREFIX}${id++}`\n\nexport const getLongUniqueId = () => `${getUniqueId()}-${(+new Date()).toString(32)}`\n\nexport const isMetaKey = ({ key }) => key === 'Shift' || key === 'Control' || key === 'Alt' || key === 'Meta'\n\nexport const noop = () => {}\n\nexport const identity = i => i\n\nexport const isOdd = number => Math.abs(number) % 2 === 1\n\nexport const isEven = number => Math.abs(number) % 2 === 0\n\nexport const isLengthEven = (str = '') => str.length % 2 === 0\n\nexport const snakeToCamel = name => name.replace(/_([a-z])/g, (p0, p1) => p1.toUpperCase())\n\nexport const camelToSnake = name => name.replace(/([A-Z])/g, (_, p) => `-${p.toLowerCase()}`)\n/**\n *  Are two arrays have intersection\n */\nexport const conflict = (arr1, arr2) => {\n  return !(arr1[1] < arr2[0] || arr2[1] < arr1[0])\n}\n\nexport const union = ({ start: tStart, end: tEnd }, { start: lStart, end: lEnd, active }) => {\n  if (!(tEnd <= lStart || lEnd <= tStart)) {\n    if (lStart < tStart) {\n      return {\n        start: tStart,\n        end: tEnd < lEnd ? tEnd : lEnd,\n        active\n      }\n    } else {\n      return {\n        start: lStart,\n        end: tEnd < lEnd ? tEnd : lEnd,\n        active\n      }\n    }\n  }\n  return null\n}\n\n// https://github.com/jashkenas/underscore\nexport const throttle = (func, wait = 50) => {\n  let context\n  let args\n  let result\n  let timeout = null\n  let previous = 0\n  const later = () => {\n    previous = Date.now()\n    timeout = null\n    result = func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  return function () {\n    const now = Date.now()\n    const remaining = wait - (now - previous)\n\n    context = this\n    args = arguments\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      result = func.apply(context, args)\n      if (!timeout) {\n        context = args = null\n      }\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining)\n    }\n    return result\n  }\n}\n// simple implementation...\nexport const debounce = (func, wait = 50) => {\n  let timer = null\n  return function (...args) {\n    if (timer) clearTimeout(timer)\n    timer = setTimeout(() => {\n      func(...args)\n    }, wait)\n  }\n}\n\nexport const deepCopyArray = array => {\n  const result = []\n  const len = array.length\n  let i\n  for (i = 0; i < len; i++) {\n    if (typeof array[i] === 'object' && array[i] !== null) {\n      if (Array.isArray(array[i])) {\n        result.push(deepCopyArray(array[i]))\n      } else {\n        result.push(deepCopy(array[i]))\n      }\n    } else {\n      result.push(array[i])\n    }\n  }\n  return result\n}\n\n// TODO: @jocs rewrite deepCopy\nexport const deepCopy = object => {\n  const obj = {}\n  Object.keys(object).forEach(key => {\n    if (typeof object[key] === 'object' && object[key] !== null) {\n      if (Array.isArray(object[key])) {\n        obj[key] = deepCopyArray(object[key])\n      } else {\n        obj[key] = deepCopy(object[key])\n      }\n    } else {\n      obj[key] = object[key]\n    }\n  })\n  return obj\n}\n\nexport const loadImage = async (url, detectContentType = false) => {\n  if (detectContentType) {\n    const isImage = await checkImageContentType(url)\n    if (!isImage) throw new Error('not an image')\n  }\n  return new Promise((resolve, reject) => {\n    const image = new Image()\n    image.onload = () => {\n      resolve(url)\n    }\n    image.onerror = err => {\n      reject(err)\n    }\n    image.src = url\n  })\n}\n\nexport const checkImageContentType = url => {\n  const req = new XMLHttpRequest()\n  let settle\n  const promise = new Promise((resolve, reject) => {\n    settle = resolve\n  })\n  const handler = () => {\n    if (req.readyState === XMLHttpRequest.DONE) {\n      if (req.status === 200) {\n        const contentType = req.getResponseHeader('Content-Type')\n        if (/^image\\/(?:jpeg|png|gif|svg\\+xml|webp)$/.test(contentType)) {\n          settle(true)\n        } else {\n          settle(false)\n        }\n      } else {\n        settle(false)\n      }\n    }\n  }\n  const handleError = () => {\n    settle(false)\n  }\n  req.open('HEAD', url)\n  req.onreadystatechange = handler\n  req.onerror = handleError\n  req.send()\n\n  return promise\n}\n\n/**\n * Return image information and correct the relative image path if needed.\n *\n * @param {string} src Image url\n * @param {string} baseUrl Base path; used on desktop to fix the relative image path.\n */\nexport const getImageInfo = (src, baseUrl = window.DIRNAME) => {\n  const EXT_REG = /\\.(jpeg|jpg|png|gif|svg|webp)(?=\\?|$)/i\n  // data:[<MIME-type>][;charset=<encoding>][;base64],<data>\n  const DATA_URL_REG = /^data:image\\/[\\w+-]+(;[\\w-]+=[\\w-]+|;base64)*,[a-zA-Z0-9+/]+={0,2}$/\n\n  const imageExtension = EXT_REG.test(src)\n  const isUrl = URL_REG.test(src)\n\n  // Treat an URL with valid extension as image\n  if (imageExtension) {\n    const isAbsoluteLocal = /^(?:\\/|\\\\\\\\|[a-zA-Z]:\\\\).+/.test(src)\n    if (isUrl || (!isAbsoluteLocal && !baseUrl)) {\n      if (!isUrl && !baseUrl && isInElectron) {\n        console.warn('\"baseUrl\" is not defined!')\n      }\n\n      return {\n        isUnknownType: false,\n        src\n      }\n    } else if (isInElectron) {\n      // Correct relative path on desktop. If we resolve a absolute path \"path.resolve\" doesn't do anything.\n      return {\n        isUnknownType: false,\n        src: 'file://' + require('path').resolve(baseUrl, src)\n      }\n    }\n    // else: Forbid the request due absolute or relative path in browser\n  } else if (isUrl && !imageExtension) {\n    // Assume it's a valid image and make a http request later\n    return {\n      isUnknownType: true,\n      src\n    }\n  }\n\n  // Data url\n  if (DATA_URL_REG.test(src)) {\n    return {\n      isUnknownType: false,\n      src\n    }\n  }\n\n  // Url type is unknown\n  return {\n    isUnknownType: false,\n    src: ''\n  }\n}\n\nexport const escapeHtml = html => {\n  return html\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;')\n}\n\nexport const unescapeHtml = text => {\n  return text\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&quot;/g, '\"')\n    .replace(/&#39;/g, `'`)\n}\n\nexport const escapeInBlockHtml = html => {\n  return html\n    .replace(/(<(style|script|title)[^<>]*>)([\\s\\S]*?)(<\\/\\2>)/g, (m, p1, p2, p3, p4) => {\n      return `${escapeHtml(p1)}${p3}${escapeHtml(p4)}`\n    })\n}\n\nexport const wordCount = markdown => {\n  const paragraph = markdown.split(/\\n{2,}/).filter(line => line).length\n  let word = 0\n  let character = 0\n  let all = 0\n\n  const removedChinese = markdown.replace(/[\\u4e00-\\u9fa5]/g, '')\n  const tokens = removedChinese.split(/[\\s\\n]+/).filter(t => t)\n  const chineseWordLength = markdown.length - removedChinese.length\n  word += chineseWordLength + tokens.length\n  character += tokens.reduce((acc, t) => acc + t.length, 0) + chineseWordLength\n  all += markdown.length\n\n  return { word, paragraph, character, all }\n}\n\n/**\n * [genUpper2LowerKeyHash generate constants map hash, the value is lowercase of the key,\n * also translate `_` to `-`]\n */\nexport const genUpper2LowerKeyHash = keys => {\n  return keys.reduce((acc, key) => {\n    const value = key.toLowerCase().replace(/_/g, '-')\n    return Object.assign(acc, { [key]: value })\n  }, {})\n}\n\n/**\n * generate constants map, the value is the key.\n */\nexport const generateKeyHash = keys => {\n  return keys.reduce((acc, key) => {\n    return Object.assign(acc, { [key]: key })\n  }, {})\n}\n\n// mixins\nexport const mixins = (constructor, ...object) => {\n  return Object.assign(constructor.prototype, ...object)\n}\n\nexport const sanitize = (html, options) => {\n  const DOMPurify = createDOMPurify(window)\n  return DOMPurify.sanitize(escapeInBlockHtml(html), options)\n}\n\nexport const getParagraphReference = (ele, id) => {\n  const { x, y, left, top, bottom, height } = ele.getBoundingClientRect()\n  return {\n    getBoundingClientRect () {\n      return { x, y, left, top, bottom, height, width: 0, right: left }\n    },\n    clientWidth: 0,\n    clientHeight: height,\n    id\n  }\n}\n\nexport const verticalPositionInRect = (event, rect) => {\n  const { clientY } = event\n  const { top, height } = rect\n  return (clientY - top) > (height / 2) ? 'down' : 'up'\n}\n","import { generateKeyHash, genUpper2LowerKeyHash, getLongUniqueId } from '../utils'\nimport htmlTags from 'html-tags'\nimport voidHtmlTags from 'html-tags/void'\n\n// [0.25, 0.5, 1, 2, 4, 8] <—?—> [256M, 500M/768M, 1G/1000M, 2G, 4G, 8G]\n// Electron 2.0.2 not support yet! So give a default value 4\nexport const DEVICE_MEMORY = navigator.deviceMemory || 4 // Get the divice memory number(Chrome >= 63)\nexport const UNDO_DEPTH = DEVICE_MEMORY >= 4 ? 100 : 50\nexport const HAS_TEXT_BLOCK_REG = /^(span|th|td)/i\nexport const VOID_HTML_TAGS = voidHtmlTags\nexport const HTML_TAGS = htmlTags\n// TYPE1 ~ TYPE7 according to https://github.github.com/gfm/#html-blocks\nexport const BLOCK_TYPE1 = [\n  'script', 'pre', 'style'\n]\n\nexport const BLOCK_TYPE2_REG = /^<!--(?=\\s).*\\s+-->$/\n\nexport const BLOCK_TYPE6 = [\n  'address', 'article', 'aside', 'base', 'basefont', 'blockquote', 'body', 'caption', 'center', 'col', 'colgroup', 'dd',\n  'details', 'dialog', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frame', 'frameset',\n  'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hr', 'html', 'iframe', 'legend', 'li', 'link', 'main', 'menu',\n  'menuitem', 'meta', 'nav', 'noframes', 'ol', 'optgroup', 'option', 'p', 'param', 'section', 'source', 'summary', 'table',\n  'tbody', 'td', 'tfoot', 'th', 'thead', 'title', 'tr', 'track', 'ul'\n]\n\nexport const BLOCK_TYPE7 = htmlTags.filter(tag => {\n  return !BLOCK_TYPE1.find(t => t === tag) && !BLOCK_TYPE6.find(t => t === tag)\n})\n\nexport const IMAGE_EXT_REG = /\\.(jpeg|jpg|png|gif|svg|webp)(?=\\?|$)/i\n\nexport const PARAGRAPH_TYPES = ['p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre', 'ul', 'ol', 'li', 'figure']\n\nexport const blockContainerElementNames = [\n  // elements our editor generates\n  ...PARAGRAPH_TYPES,\n  // all other known block elements\n  'address', 'article', 'aside', 'audio', 'canvas', 'dd', 'dl', 'dt', 'fieldset',\n  'figcaption', 'footer', 'form', 'header', 'hgroup', 'main', 'nav',\n  'noscript', 'output', 'section', 'video',\n  'table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td'\n]\n\nexport const emptyElementNames = ['br', 'col', 'colgroup', 'hr', 'img', 'input', 'source', 'wbr']\n\nexport const EVENT_KEYS = generateKeyHash([\n  'Enter',\n  'Backspace',\n  'Space',\n  'Delete',\n  'ArrowUp',\n  'ArrowDown',\n  'ArrowLeft',\n  'ArrowRight',\n  'Tab',\n  'Escape'\n])\n\nexport const LOWERCASE_TAGS = generateKeyHash([\n  ...blockContainerElementNames, ...emptyElementNames, 'div'\n])\n\nexport const CLASS_OR_ID = genUpper2LowerKeyHash([\n  'AG_ACTIVE',\n  'AG_BACKLASH',\n  'AG_BUG',\n  'AG_BULLET_LIST',\n  'AG_BULLET_LIST_ITEM',\n  'AG_CHECKBOX_CHECKED',\n  'AG_CODE_LINE',\n  'AG_CODE_LINE_ADD',\n  'AG_CODE_LINE_MINUS',\n  'AG_CONTAINER_BLOCK',\n  'AG_CONTAINER_PREVIEW',\n  'AG_CONTAINER_ICON',\n  'AG_COPY_REMOVE',\n  'AG_EDITOR_ID',\n  'AG_EMOJI_MARKED_TEXT',\n  'AG_EMOJI_MARKER',\n  'AG_EMPTY',\n  'AG_FENCE_CODE',\n  'AG_FLOWCHART',\n  'AG_FOCUS_MODE',\n  'AG_FRONT_MATTER',\n  'AG_FRONT_ICON',\n  'AG_GRAY',\n  'AG_HARD_LINE_BREAK',\n  'AG_HARD_LINE_BREAK_SPACE',\n  'AG_LINE_END',\n  'AG_HEADER_TIGHT_SPACE',\n  'AG_HIDE',\n  'AG_HIGHLIGHT',\n  'AG_HTML_BLOCK',\n  'AG_HTML_ESCAPE',\n  'AG_HTML_PREVIEW',\n  'AG_HTML_TAG',\n  'AG_IMAGE_FAIL',\n  'AG_IMAGE_LOADING',\n  'AG_EMPTY_IMAGE',\n  'AG_IMAGE_MARKED_TEXT',\n  'AG_IMAGE_SRC',\n  'AG_IMAGE_CONTAINER',\n  'AG_INLINE_IMAGE',\n  'AG_IMAGE_SUCCESS',\n  'AG_IMAGE_UPLOADING',\n  'AG_INLINE_IMAGE_SELECTED',\n  'AG_INLINE_IMAGE_IS_EDIT',\n  'AG_INDENT_CODE',\n  'AG_INLINE_RULE',\n  'AG_LANGUAGE',\n  'AG_LANGUAGE_INPUT',\n  'AG_LINK',\n  'AG_LINK_IN_BRACKET',\n  'AG_LIST_ITEM',\n  'AG_LOOSE_LIST_ITEM',\n  'AG_MATH',\n  'AG_MATH_TEXT',\n  'AG_MATH_RENDER',\n  'AG_RUBY',\n  'AG_RUBY_TEXT',\n  'AG_RUBY_RENDER',\n  'AG_SELECTED',\n  'AG_SOFT_LINE_BREAK',\n  'AG_MATH_ERROR',\n  'AG_MATH_MARKER',\n  'AG_MATH_RENDER',\n  'AG_MATH_TEXT',\n  'AG_MERMAID',\n  'AG_MULTIPLE_MATH',\n  'AG_NOTEXT_LINK',\n  'AG_ORDER_LIST',\n  'AG_ORDER_LIST_ITEM',\n  'AG_OUTPUT_REMOVE',\n  'AG_PARAGRAPH',\n  'AG_REFERENCE_LABEL',\n  'AG_REFERENCE_LINK',\n  'AG_REFERENCE_MARKER',\n  'AG_REFERENCE_TITLE',\n  'AG_REMOVE',\n  'AG_RUBY',\n  'AG_RUBY_RENDER',\n  'AG_RUBY_TEXT',\n  'AG_SELECTION',\n  'AG_SEQUENCE',\n  'AG_SHOW_PREVIEW',\n  'AG_SOFT_LINE_BREAK',\n  'AG_TASK_LIST',\n  'AG_TASK_LIST_ITEM',\n  'AG_TASK_LIST_ITEM_CHECKBOX',\n  'AG_TIGHT_LIST_ITEM',\n  'AG_TOOL_BAR',\n  'AG_VEGA_LITE',\n  'AG_WARN'\n])\n\nexport const DAED_REMOVE_SELECTOR = new Set([\n  '.ag-image-marked-text::before',\n  '.ag-image-marked-text.ag-image-fail::before',\n  '.ag-hide',\n  '.ag-gray',\n  '.ag-warn'\n])\n\nexport const CURSOR_ANCHOR_DNA = getLongUniqueId()\nexport const CURSOR_FOCUS_DNA = getLongUniqueId()\n\nexport const DEFAULT_TURNDOWN_CONFIG = {\n  headingStyle: 'atx', // setext or atx\n  hr: '---',\n  bulletListMarker: '-', // -, +, or *\n  codeBlockStyle: 'fenced', // fenced or indented\n  fence: '```', // ``` or ~~~\n  emDelimiter: '*', // _ or *\n  strongDelimiter: '**', // ** or __\n  linkStyle: 'inlined',\n  linkReferenceStyle: 'full',\n  blankReplacement (content, node, options) {\n    if (node && node.classList.contains('ag-soft-line-break')) {\n      return LINE_BREAK\n    } else if (node && node.classList.contains('ag-hard-line-break')) {\n      return '  ' + LINE_BREAK\n    } else if (node && node.classList.contains('ag-hard-line-break-sapce')) {\n      return ''\n    } else {\n      return node.isBlock ? '\\n\\n' : ''\n    }\n  }\n}\n\nexport const FORMAT_MARKER_MAP = {\n  'em': '*',\n  'inline_code': '`',\n  'strong': '**',\n  'del': '~~',\n  'inline_math': '$',\n  'u': {\n    open: '<u>',\n    close: '</u>'\n  },\n  'sub': {\n    open: '<sub>',\n    close: '</sub>'\n  },\n  'sup': {\n    open: '<sup>',\n    close: '</sup>'\n  }\n}\n\nexport const FORMAT_TYPES = ['strong', 'em', 'del', 'inline_code', 'link', 'image', 'inline_math']\n\nexport const LINE_BREAK = '\\n'\n\nexport const PREVIEW_DOMPURIFY_CONFIG = {\n  // do not forbit `class` because `code` element use class to present language\n  FORBID_ATTR: ['style', 'contenteditable'],\n  ALLOW_DATA_ATTR: false,\n  USE_PROFILES: {\n    html: true,\n    svg: true,\n    svgFilters: true,\n    mathMl: true\n  }\n}\n\nexport const EXPORT_DOMPURIFY_CONFIG = {\n  FORBID_ATTR: ['contenteditable'],\n  ALLOW_DATA_ATTR: false,\n  USE_PROFILES: {\n    html: true,\n    svg: true,\n    svgFilters: true,\n    mathMl: true\n  }\n}\n\nexport const MUYA_DEFAULT_OPTION = {\n  focusMode: false,\n  markdown: '',\n  preferLooseListItem: true,\n  autoPairBracket: true,\n  autoPairMarkdownSyntax: true,\n  autoPairQuote: true,\n  bulletListMarker: '-',\n  orderListDelimiter: '.',\n  tabSize: 4,\n  // bullet/list marker width + listIndentation, tab or Daring Fireball Markdown (4 spaces) --> list indentation\n  listIndentation: 1,\n  sequenceTheme: 'hand', // hand or simple\n  mermaidTheme: 'default', // dark / forest / default\n  vegaTheme: 'latimes', // excel / ggplot2 / quartz / vox / fivethirtyeight / dark / latimes\n  hideQuickInsertHint: false,\n  // transform the image to local folder, cloud or just return the local path\n  imageAction: null,\n  // Call Electron open dialog or input element type is file.\n  imagePathPicker: null,\n  clipboardFilePath: () => {},\n  // image path auto completed when you input in image selector.\n  imagePathAutoComplete: () => []\n}\n\n// export const DIAGRAM_TEMPLATE = {\n//   'mermaid': `graph LR;\\nYou-->|Mark Text|Me;`\n// }\n\nexport const isInElectron = window && window.process && window.process.type === 'renderer'\nexport const isOsx = window && window.navigator && /Mac/.test(window.navigator.platform)\nexport const isWin = window && window.navigator.userAgent && /win32|wow32|win64|wow64/i.test(window.navigator.userAgent)\n// http[s] (domain or IPv4 or localhost or IPv6) [port] /not-white-space\nexport const URL_REG = /^http(s)?:\\/\\/([a-z0-9\\-._~]+\\.[a-z]{2,}|[0-9.]+|localhost|\\[[a-f0-9.:]+\\])(:[0-9]{1,5})?\\/[\\S]+/i\n// The smallest transparent gif base64 image.\nexport const SMALLEST_BASE64 = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\nexport const isIOS = /(?:iPhone|iPad|iPod|iOS)/i.test(window.navigator.userAgent)\n","import {\n  LOWERCASE_TAGS, CLASS_OR_ID, blockContainerElementNames, emptyElementNames\n} from '../config'\nconst CHOP_TEXT_REG = /(\\*{1,3})([^*]+)(\\1)/g\n\nexport const getTextContent = (node, blackList) => {\n  if (node.nodeType === 3) {\n    return node.textContent\n  } else if (!blackList) {\n    return node.textContent\n  }\n\n  let text = ''\n  if (blackList.some(className => node.classList && node.classList.contains(className))) {\n    return text\n  }\n  if (node.nodeType === 3) {\n    text += node.textContent\n  } else if (node.nodeType === 1 && node.classList.contains('ag-inline-image')) {\n    // handle inline image\n    const raw = node.getAttribute('data-raw')\n    const imageContainer = node.querySelector('.ag-image-container')\n    const hasImg = imageContainer.querySelector('img')\n    const childNodes = imageContainer.childNodes\n    if (childNodes.length && hasImg) {\n      for (const child of childNodes) {\n        if (child.nodeType === 1 && child.nodeName === 'IMG') {\n          text += raw\n        } else if (child.nodeType === 3) {\n          text += child.textContent\n        }\n      }\n    } else {\n      text += raw\n    }\n  } else {\n    const childNodes = node.childNodes\n    for (const n of childNodes) {\n      text += getTextContent(n, blackList)\n    }\n  }\n  return text\n}\n\nexport const getOffsetOfParagraph = (node, paragraph) => {\n  let offset = 0\n  let preSibling = node\n\n  if (node === paragraph) return offset\n\n  do {\n    preSibling = preSibling.previousSibling\n    if (preSibling) {\n      offset += getTextContent(preSibling, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ]).length\n    }\n  } while (preSibling)\n  return (node === paragraph || node.parentNode === paragraph)\n    ? offset\n    : offset + getOffsetOfParagraph(node.parentNode, paragraph)\n}\n\nexport const findNearestParagraph = node => {\n  if (!node) {\n    return null\n  }\n  do {\n    if (isAganippeParagraph(node)) return node\n    node = node.parentNode\n  } while (node)\n  return null\n}\n\nexport const findOutMostParagraph = node => {\n  do {\n    let parentNode = node.parentNode\n    if (isMuyaEditorElement(parentNode) && isAganippeParagraph(node)) return node\n    node = parentNode\n  } while (node)\n}\n\nexport const isAganippeParagraph = element => {\n  return element && element.classList && element.classList.contains(CLASS_OR_ID['AG_PARAGRAPH'])\n}\n\nexport const isBlockContainer = element => {\n  return element && element.nodeType !== 3 &&\n  blockContainerElementNames.indexOf(element.nodeName.toLowerCase()) !== -1\n}\n\nexport const isMuyaEditorElement = element => {\n  return element && element.id === CLASS_OR_ID['AG_EDITOR_ID']\n}\n\nexport const traverseUp = (current, testElementFunction) => {\n  if (!current) {\n    return false\n  }\n\n  do {\n    if (current.nodeType === 1) {\n      if (testElementFunction(current)) {\n        return current\n      }\n      // do not traverse upwards past the nearest containing editor\n      if (isMuyaEditorElement(current)) {\n        return false\n      }\n    }\n\n    current = current.parentNode\n  } while (current)\n\n  return false\n}\n\nexport const getFirstSelectableLeafNode = element => {\n  while (element && element.firstChild) {\n    element = element.firstChild\n  }\n\n  // We don't want to set the selection to an element that can't have children, this messes up Gecko.\n  element = traverseUp(element, el => {\n    return emptyElementNames.indexOf(el.nodeName.toLowerCase()) === -1\n  })\n  // Selecting at the beginning of a table doesn't work in PhantomJS.\n  if (element.nodeName.toLowerCase() === LOWERCASE_TAGS.table) {\n    const firstCell = element.querySelector('th, td')\n    if (firstCell) {\n      element = firstCell\n    }\n  }\n  return element\n}\n\nexport const getClosestBlockContainer = node => {\n  return traverseUp(node, node => {\n    return isBlockContainer(node) || isMuyaEditorElement(node)\n  })\n}\n\nexport const getCursorPositionWithinMarkedText = (markedText, cursorOffset) => {\n  const chunks = []\n  let match\n  let result = { type: 'OUT' }\n\n  do {\n    match = CHOP_TEXT_REG.exec(markedText)\n    if (match) {\n      chunks.push({\n        index: match.index + match[1].length,\n        leftSymbol: match[1],\n        rightSymbol: match[3],\n        lastIndex: CHOP_TEXT_REG.lastIndex - match[3].length\n      })\n    }\n  } while (match)\n\n  chunks.forEach(chunk => {\n    const { index, leftSymbol, rightSymbol, lastIndex } = chunk\n    if (cursorOffset > index && cursorOffset < lastIndex) {\n      result = { type: 'IN', info: leftSymbol } // rightSymbol is also ok\n    } else if (cursorOffset === index) {\n      result = { type: 'LEFT', info: leftSymbol.length }\n    } else if (cursorOffset === lastIndex) {\n      result = { type: 'RIGHT', info: rightSymbol.length }\n    }\n  })\n  return result\n}\n\nexport const compareParagraphsOrder = (paragraph1, paragraph2) => {\n  return paragraph1.compareDocumentPosition(paragraph2) & Node.DOCUMENT_POSITION_FOLLOWING\n}\n","import { compareParagraphsOrder } from './dom'\n\nclass Cursor {\n  // You need to provide either `anchor`&&`focus` or `start`&&`end` or all.\n  constructor ({ anchor, focus, start, end, noHistory = false }) {\n    if (anchor && focus && start && end) {\n      this.anchor = anchor\n      this.focus = focus\n      this.start = start\n      this.end = end\n    } else if (anchor && focus) {\n      this.anchor = anchor\n      this.focus = focus\n      if (anchor.key === focus.key) {\n        if (anchor.offset <= focus.offset) {\n          this.start = this.anchor\n          this.end = this.focus\n        } else {\n          this.start = this.focus\n          this.end = this.anchor\n        }\n      } else {\n        const anchorParagraph = document.querySelector(`#${anchor.key}`)\n        const focusParagraph = document.querySelector(`#${focus.key}`)\n        let order = true\n        if (anchorParagraph && focusParagraph) {\n          order = compareParagraphsOrder(anchorParagraph, focusParagraph)\n        }\n\n        if (order) {\n          this.start = this.anchor\n          this.end = this.focus\n        } else {\n          this.start = this.focus\n          this.end = this.anchor\n        }\n      }\n    } else {\n      this.anchor = this.start = start\n      this.focus = this.end = end\n    }\n    this.noHistory = noHistory\n  }\n}\n\nexport default Cursor\n","/**\n * This file is copy from [medium-editor](https://github.com/yabwe/medium-editor)\n * and customize for specialized use.\n */\nimport Cursor from './cursor'\nimport { CLASS_OR_ID, isIOS } from '../config'\nimport {\n  isBlockContainer,\n  traverseUp,\n  getFirstSelectableLeafNode,\n  getClosestBlockContainer,\n  getCursorPositionWithinMarkedText,\n  findNearestParagraph,\n  getTextContent,\n  getOffsetOfParagraph\n} from './dom'\n\nconst filterOnlyParentElements = node => {\n  return isBlockContainer(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP\n}\n\nclass Selection {\n  constructor (doc) {\n    this.doc = doc // document\n  }\n\n  findMatchingSelectionParent (testElementFunction, contentWindow) {\n    const selection = contentWindow.getSelection()\n    let range\n    let current\n\n    if (selection.rangeCount === 0) {\n      return false\n    }\n\n    range = selection.getRangeAt(0)\n    current = range.commonAncestorContainer\n\n    return traverseUp(current, testElementFunction)\n  }\n\n  // https://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n  // Tim Down\n  //\n  // {object} selectionState - the selection to import\n  // {DOMElement} root - the root element the selection is being restored inside of\n  // {boolean} [favorLaterSelectionAnchor] - defaults to false. If true, import the cursor immediately\n  //      subsequent to an anchor tag if it would otherwise be placed right at the trailing edge inside the\n  //      anchor. This cursor positioning, even though visually equivalent to the user, can affect behavior\n  //      in MS IE.\n  importSelection (selectionState, root, favorLaterSelectionAnchor) {\n    if (!selectionState || !root) {\n      throw new Error('your must provide a [selectionState] and a [root] element')\n    }\n\n    let range = this.doc.createRange()\n    range.setStart(root, 0)\n    range.collapse(true)\n\n    let node = root\n    const nodeStack = []\n    let charIndex = 0\n    let foundStart = false\n    let foundEnd = false\n    let trailingImageCount = 0\n    let stop = false\n    let nextCharIndex\n    let allowRangeToStartAtEndOfNode = false\n    let lastTextNode = null\n\n    // When importing selection, the start of the selection may lie at the end of an element\n    // or at the beginning of an element.  Since visually there is no difference between these 2\n    // we will try to move the selection to the beginning of an element since this is generally\n    // what users will expect and it's a more predictable behavior.\n    //\n    // However, there are some specific cases when we don't want to do this:\n    //  1) We're attempting to move the cursor outside of the end of an anchor [favorLaterSelectionAnchor = true]\n    //  2) The selection starts with an image, which is special since an image doesn't have any 'content'\n    //     as far as selection and ranges are concerned\n    //  3) The selection starts after a specified number of empty block elements (selectionState.emptyBlocksIndex)\n    //\n    // For these cases, we want the selection to start at a very specific location, so we should NOT\n    // automatically move the cursor to the beginning of the first actual chunk of text\n    if (favorLaterSelectionAnchor || selectionState.startsWithImage || typeof selectionState.emptyBlocksIndex !== 'undefined') {\n      allowRangeToStartAtEndOfNode = true\n    }\n\n    while (!stop && node) {\n      // Only iterate over elements and text nodes\n      if (node.nodeType > 3) {\n        node = nodeStack.pop()\n        continue\n      }\n\n      // If we hit a text node, we need to add the amount of characters to the overall count\n      if (node.nodeType === 3 && !foundEnd) {\n        nextCharIndex = charIndex + node.length\n        // Check if we're at or beyond the start of the selection we're importing\n        if (!foundStart && selectionState.start >= charIndex && selectionState.start <= nextCharIndex) {\n          // NOTE: We only want to allow a selection to start at the END of an element if\n          //  allowRangeToStartAtEndOfNode is true\n          if (allowRangeToStartAtEndOfNode || selectionState.start < nextCharIndex) {\n            range.setStart(node, selectionState.start - charIndex)\n            foundStart = true\n          } else {\n            // We're at the end of a text node where the selection could start but we shouldn't\n            // make the selection start here because allowRangeToStartAtEndOfNode is false.\n            // However, we should keep a reference to this node in case there aren't any more\n            // text nodes after this, so that we have somewhere to import the selection to\n            lastTextNode = node\n          }\n        }\n        // We've found the start of the selection, check if we're at or beyond the end of the selection we're importing\n        if (foundStart && selectionState.end >= charIndex && selectionState.end <= nextCharIndex) {\n          if (!selectionState.trailingImageCount) {\n            range.setEnd(node, selectionState.end - charIndex)\n            stop = true\n          } else {\n            foundEnd = true\n          }\n        }\n        charIndex = nextCharIndex\n      } else {\n        if (selectionState.trailingImageCount && foundEnd) {\n          if (node.nodeName.toLowerCase() === 'img') {\n            trailingImageCount++\n          }\n          if (trailingImageCount === selectionState.trailingImageCount) {\n            // Find which index the image is in its parent's children\n            let endIndex = 0\n            while (node.parentNode.childNodes[endIndex] !== node) {\n              endIndex++\n            }\n            range.setEnd(node.parentNode, endIndex + 1)\n            stop = true\n          }\n        }\n\n        if (!stop && node.nodeType === 1) {\n          // this is an element\n          // add all its children to the stack\n          let i = node.childNodes.length - 1\n          while (i >= 0) {\n            nodeStack.push(node.childNodes[i])\n            i -= 1\n          }\n        }\n      }\n\n      if (!stop) {\n        node = nodeStack.pop()\n      }\n    }\n\n    // If we've gone through the entire text but didn't find the beginning of a text node\n    // to make the selection start at, we should fall back to starting the selection\n    // at the END of the last text node we found\n    if (!foundStart && lastTextNode) {\n      range.setStart(lastTextNode, lastTextNode.length)\n      range.setEnd(lastTextNode, lastTextNode.length)\n    }\n\n    if (typeof selectionState.emptyBlocksIndex !== 'undefined') {\n      range = this.importSelectionMoveCursorPastBlocks(root, selectionState.emptyBlocksIndex, range)\n    }\n\n    // If the selection is right at the ending edge of a link, put it outside the anchor tag instead of inside.\n    if (favorLaterSelectionAnchor) {\n      range = this.importSelectionMoveCursorPastAnchor(selectionState, range)\n    }\n\n    this.selectRange(range)\n  }\n\n  // Utility method called from importSelection only\n  importSelectionMoveCursorPastAnchor (selectionState, range) {\n    const nodeInsideAnchorTagFunction = function (node) {\n      return node.nodeName.toLowerCase() === 'a'\n    }\n    if (selectionState.start === selectionState.end &&\n      range.startContainer.nodeType === 3 &&\n      range.startOffset === range.startContainer.nodeValue.length &&\n      traverseUp(range.startContainer, nodeInsideAnchorTagFunction)) {\n      let prevNode = range.startContainer\n      let currentNode = range.startContainer.parentNode\n      while (currentNode !== null && currentNode.nodeName.toLowerCase() !== 'a') {\n        if (currentNode.childNodes[currentNode.childNodes.length - 1] !== prevNode) {\n          currentNode = null\n        } else {\n          prevNode = currentNode\n          currentNode = currentNode.parentNode\n        }\n      }\n      if (currentNode !== null && currentNode.nodeName.toLowerCase() === 'a') {\n        let currentNodeIndex = null\n        for (let i = 0; currentNodeIndex === null && i < currentNode.parentNode.childNodes.length; i++) {\n          if (currentNode.parentNode.childNodes[i] === currentNode) {\n            currentNodeIndex = i\n          }\n        }\n        range.setStart(currentNode.parentNode, currentNodeIndex + 1)\n        range.collapse(true)\n      }\n    }\n    return range\n  }\n\n  // Uses the emptyBlocksIndex calculated by getIndexRelativeToAdjacentEmptyBlocks\n  // to move the cursor back to the start of the correct paragraph\n  importSelectionMoveCursorPastBlocks (root, index = 1, range) {\n    const treeWalker = this.doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, filterOnlyParentElements, false)\n    let startContainer = range.startContainer\n    let startBlock\n    let targetNode\n    let currIndex = 0\n    // If index is 0, we still want to move to the next block\n\n    // Chrome counts newlines and spaces that separate block elements as actual elements.\n    // If the selection is inside one of these text nodes, and it has a previous sibling\n    // which is a block element, we want the treewalker to start at the previous sibling\n    // and NOT at the parent of the textnode\n    if (startContainer.nodeType === 3 && isBlockContainer(startContainer.previousSibling)) {\n      startBlock = startContainer.previousSibling\n    } else {\n      startBlock = getClosestBlockContainer(startContainer)\n    }\n\n    // Skip over empty blocks until we hit the block we want the selection to be in\n    while (treeWalker.nextNode()) {\n      if (!targetNode) {\n        // Loop through all blocks until we hit the starting block element\n        if (startBlock === treeWalker.currentNode) {\n          targetNode = treeWalker.currentNode\n        }\n      } else {\n        targetNode = treeWalker.currentNode\n        currIndex++\n        // We hit the target index, bail\n        if (currIndex === index) {\n          break\n        }\n        // If we find a non-empty block, ignore the emptyBlocksIndex and just put selection here\n        if (targetNode.textContent.length > 0) {\n          break\n        }\n      }\n    }\n\n    if (!targetNode) {\n      targetNode = startBlock\n    }\n\n    // We're selecting a high-level block node, so make sure the cursor gets moved into the deepest\n    // element at the beginning of the block\n    range.setStart(getFirstSelectableLeafNode(targetNode), 0)\n\n    return range\n  }\n\n  // https://stackoverflow.com/questions/4176923/html-of-selected-text\n  // by Tim Down\n  getSelectionHtml () {\n    const sel = this.doc.getSelection()\n    let i\n    let html = ''\n    let len\n    let container\n    if (sel.rangeCount) {\n      container = this.doc.createElement('div')\n      for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n        container.appendChild(sel.getRangeAt(i).cloneContents())\n      }\n      html = container.innerHTML\n    }\n    return html\n  }\n\n  chopHtmlByCursor (root) {\n    const { left } = this.getCaretOffsets(root)\n    const markedText = root.textContent\n    const { type, info } = getCursorPositionWithinMarkedText(markedText, left)\n    let pre = markedText.slice(0, left)\n    let post = markedText.slice(left)\n    switch (type) {\n      case 'OUT':\n        return {\n          pre,\n          post\n        }\n      case 'IN':\n        return {\n          pre: `${pre}${info}`,\n          post: `${info}${post}`\n        }\n      case 'LEFT':\n        return {\n          pre: markedText.slice(0, left - info),\n          post: markedText.slice(left - info)\n        }\n      case 'RIGHT':\n        return {\n          pre: markedText.slice(0, left + info),\n          post: markedText.slice(left + info)\n        }\n    }\n  }\n\n  /**\n   *  Find the caret position within an element irrespective of any inline tags it may contain.\n   *\n   *  @param {DOMElement} An element containing the cursor to find offsets relative to.\n   *  @param {Range} A Range representing cursor position. Will window.getSelection if none is passed.\n   *  @return {Object} 'left' and 'right' attributes contain offsets from beginning and end of Element\n   */\n  getCaretOffsets (element, range) {\n    let preCaretRange\n    let postCaretRange\n\n    if (!range) {\n      range = window.getSelection().getRangeAt(0)\n    }\n\n    preCaretRange = range.cloneRange()\n    postCaretRange = range.cloneRange()\n\n    preCaretRange.selectNodeContents(element)\n    preCaretRange.setEnd(range.endContainer, range.endOffset)\n\n    postCaretRange.selectNodeContents(element)\n    postCaretRange.setStart(range.endContainer, range.endOffset)\n\n    return {\n      left: preCaretRange.toString().length,\n      right: postCaretRange.toString().length\n    }\n  }\n\n  selectNode (node) {\n    const range = this.doc.createRange()\n    range.selectNodeContents(node)\n    this.selectRange(range)\n  }\n\n  select (startNode, startOffset, endNode, endOffset) {\n    const range = this.doc.createRange()\n    range.setStart(startNode, startOffset)\n    if (endNode) {\n      range.setEnd(endNode, endOffset)\n    } else {\n      range.collapse(true)\n    }\n    this.selectRange(range)\n    return range\n  }\n\n  setFocus (focusNode, focusOffset) {\n    const selection = this.doc.getSelection()\n    selection.extend(focusNode, focusOffset)\n  }\n\n  /**\n   *  Clear the current highlighted selection and set the caret to the start or the end of that prior selection, defaults to end.\n   *\n   *  @param {boolean} moveCursorToStart  A boolean representing whether or not to set the caret to the beginning of the prior selection.\n   */\n  clearSelection (moveCursorToStart) {\n    const { rangeCount } = this.doc.getSelection()\n    if (!rangeCount) return\n    if (moveCursorToStart) {\n      this.doc.getSelection().collapseToStart()\n    } else {\n      this.doc.getSelection().collapseToEnd()\n    }\n  }\n\n  /**\n   * Move cursor to the given node with the given offset.\n   *\n   * @param  {DomElement}  node    Element where to jump\n   * @param  {integer}     offset  Where in the element should we jump, 0 by default\n   */\n  moveCursor (node, offset) {\n    this.select(node, offset)\n  }\n\n  getSelectionRange () {\n    const selection = this.doc.getSelection()\n    if (selection.rangeCount === 0) {\n      return null\n    }\n    return selection.getRangeAt(0)\n  }\n\n  selectRange (range) {\n    const selection = this.doc.getSelection()\n\n    selection.removeAllRanges()\n    selection.addRange(range)\n  }\n\n  // https://stackoverflow.com/questions/1197401/\n  // how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contenteditable\n  // by You\n  getSelectionStart () {\n    const node = this.doc.getSelection().anchorNode\n    const startNode = (node && node.nodeType === 3 ? node.parentNode : node)\n\n    return startNode\n  }\n\n  setCursorRange (cursorRange) {\n    const { anchor, focus } = cursorRange\n    const anchorParagraph = document.querySelector(`#${anchor.key}`)\n    const focusParagraph = document.querySelector(`#${focus.key}`)\n    const getNodeAndOffset = (node, offset) => {\n      if (node.nodeType === 3) {\n        return {\n          node,\n          offset\n        }\n      }\n      const childNodes = node.childNodes\n      const len = childNodes.length\n      let i\n      let count = 0\n      for (i = 0; i < len; i++) {\n        const child = childNodes[i]\n        const textLength = getTextContent(child, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ]).length\n        if (child.classList && child.classList.contains(CLASS_OR_ID['AG_FRONT_ICON'])) continue\n        if (count + textLength >= offset) {\n          if (\n            child.classList && child.classList.contains('ag-inline-image')\n          ) {\n            const imageContainer = child.querySelector('.ag-image-container')\n            const hasImg = imageContainer.querySelector('img')\n            if (!hasImg) {\n              return {\n                node: child,\n                offset: 0\n              }\n            }\n            if (count + textLength === offset) {\n              if (child.nextElementSibling) {\n                return {\n                  node: child.nextElementSibling,\n                  offset: 0\n                }\n              } else {\n                return {\n                  node: imageContainer,\n                  offset: 3\n                }\n              }\n            } else if (count === offset && count === 0) {\n              return {\n                node: imageContainer,\n                offset: 2\n              }\n            } else {\n              return {\n                node: child,\n                offset: 0\n              }\n            }\n          } else {\n            return getNodeAndOffset(child, offset - count)\n          }\n        } else {\n          count += textLength\n        }\n      }\n      return { node, offset }\n    }\n\n    let { node: anchorNode, offset: anchorOffset } = getNodeAndOffset(anchorParagraph, anchor.offset)\n    let { node: focusNode, offset: focusOffset } = getNodeAndOffset(focusParagraph, focus.offset)\n    if (anchorNode.nodeType === 3 || anchorNode.nodeType === 1 && !anchorNode.classList.contains('ag-image-container')) {\n      anchorOffset = Math.min(anchorOffset, anchorNode.textContent.length)\n      focusOffset = Math.min(focusOffset, focusNode.textContent.length)\n    }\n\n    // First set the anchor node and anchor offset, make it collapsed\n    this.select(anchorNode, anchorOffset)\n    // Secondly, set the focus node and focus offset.\n    this.setFocus(focusNode, focusOffset)\n  }\n\n  isValidCursorNode (node) {\n    if (!node) return false\n    if (node.nodeType === 3) {\n      node = node.parentNode\n    }\n    return node.closest('span.ag-paragraph') ||\n      node.closest('th.ag-paragraph') ||\n      node.closest('td.ag-paragraph')\n  }\n\n  getCursorRange () {\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = this.doc.getSelection()\n    const isAnchorValid = this.isValidCursorNode(anchorNode)\n    const isFocusValid = this.isValidCursorNode(focusNode)\n    let needFix = false\n    if (!isAnchorValid && isFocusValid) {\n      needFix = true\n      anchorNode = focusNode\n      anchorOffset = focusOffset\n    } else if (isAnchorValid && !isFocusValid) {\n      needFix = true\n      focusNode = anchorNode\n      focusOffset = anchorOffset\n    } else if (!isAnchorValid && !isFocusValid) {\n      const noNeedBlur = anchorNode.nodeType === 1 && !!anchorNode.querySelector('br') && anchorOffset === 1\n      if (!isIOS || !noNeedBlur) {\n        const editor = document.querySelector('#ag-editor-id').parentNode\n        editor.blur()\n      }\n\n      return new Cursor({\n        start: null,\n        end: null,\n        anchor: null,\n        focus: null\n      })\n    }\n\n    // fix bug click empty line, the cursor will jump to the end of pre line.\n    if (\n      anchorNode === focusNode &&\n      anchorOffset === focusOffset &&\n      anchorNode.textContent === '\\n' &&\n      focusOffset === 0\n    ) {\n      focusOffset = anchorOffset = 1\n    }\n\n    const anchorParagraph = findNearestParagraph(anchorNode)\n    const focusParagraph = findNearestParagraph(focusNode)\n    let aOffset = getOffsetOfParagraph(anchorNode, anchorParagraph) + anchorOffset\n    let fOffset = getOffsetOfParagraph(focusNode, focusParagraph) + focusOffset\n    // fix input after image.\n    if (\n      anchorNode === focusNode &&\n      anchorOffset === focusOffset &&\n      anchorNode.parentNode.classList.contains('ag-image-container') &&\n      anchorNode.previousElementSibling &&\n      anchorNode.previousElementSibling.nodeName === 'IMG'\n    ) {\n      const imageWrapper = anchorNode.parentNode.parentNode\n      const preElement = imageWrapper.previousElementSibling\n      aOffset = 0\n      if (preElement) {\n        aOffset += getOffsetOfParagraph(preElement, anchorParagraph)\n        aOffset += getTextContent(preElement, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ]).length\n      }\n      aOffset += getTextContent(imageWrapper, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ]).length\n      fOffset = aOffset\n    }\n\n    if (\n      anchorNode === focusNode &&\n      anchorNode.nodeType === 1 &&\n      anchorNode.classList.contains('ag-image-container')\n    ) {\n      const imageWrapper = anchorNode.parentNode\n      const preElement = imageWrapper.previousElementSibling\n      aOffset = 0\n      if (preElement) {\n        aOffset += getOffsetOfParagraph(preElement, anchorParagraph)\n        aOffset += getTextContent(preElement, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ]).length\n      }\n      if (anchorOffset === 3) {\n        aOffset += getTextContent(imageWrapper, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ]).length\n      }\n      fOffset = aOffset\n    }\n\n    const anchor = { key: anchorParagraph.id, offset: aOffset }\n    const focus = { key: focusParagraph.id, offset: fOffset }\n    const result = new Cursor({ anchor, focus })\n\n    if (needFix) {\n      this.setCursorRange(result)\n    }\n\n    return result\n  }\n\n  // topOffset is the line counts above cursor, and bottomOffset is line counts bellow cursor.\n  getCursorYOffset (paragraph) {\n    const { y } = this.getCursorCoords()\n    const { height, top } = paragraph.getBoundingClientRect()\n    const lineHeight = parseFloat(getComputedStyle(paragraph).lineHeight)\n    const topOffset = Math.round((y - top) / lineHeight)\n    const bottomOffset = Math.round((top + height - lineHeight - y) / lineHeight)\n\n    return {\n      topOffset,\n      bottomOffset\n    }\n  }\n\n  getCursorCoords () {\n    const sel = this.doc.getSelection()\n    let range\n    let x = 0\n    let y = 0\n\n    if (sel.rangeCount) {\n      range = sel.getRangeAt(0).cloneRange()\n      if (range.getClientRects) {\n        range.collapse(true)\n        let rects = range.getClientRects()\n        if (rects.length === 0) {\n          rects = range.startContainer && range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer.getClientRects()\n            : []\n        }\n        if (rects.length) {\n          const { left, top, x: rectX, y: rectY } = rects[0]\n          x = rectX || left\n          y = rectY || top\n        }\n      }\n    }\n\n    return { x, y }\n  }\n\n  getSelectionEnd () {\n    const node = this.doc.getSelection().focusNode\n    const endNode = (node && node.nodeType === 3 ? node.parentNode : node)\n\n    return endNode\n  }\n}\n\nexport default new Selection(document)\n","\nimport Diagram from '../../assets/libs/sequence-diagram'\nimport '../../assets/styles/sequence-diagram.css'\n\nexport default Diagram\n","// import virtualize from 'snabbdom-virtualize/strings'\nconst snabbdom = require('snabbdom')\n\nexport const patch = snabbdom.init([ // Init patch function with chosen modules\n  require('snabbdom/modules/class').default, // makes it easy to toggle classes\n  require('snabbdom/modules/attributes').default,\n  require('snabbdom/modules/style').default, // handles styling on elements with support for animations\n  require('snabbdom/modules/props').default, // for setting properties on DOM elements\n  require('snabbdom/modules/dataset').default,\n  require('snabbdom/modules/eventlisteners').default // attaches event listeners\n])\nexport const h = require('snabbdom/h').default // helper function for creating vnodes\nexport const toHTML = require('snabbdom-to-html') // helper function for convert vnode to HTML string\nexport const toVNode = require('snabbdom/tovnode').default // helper function for convert DOM to vnode\nexport const htmlToVNode = html => { // helper function for convert html to vnode\n  const wrapper = document.createElement('div')\n  wrapper.innerHTML = html\n  return toVNode(wrapper).children\n}\n","// special character\nconst charachers = [\n  '\"', '&', '<', '>',\n  ' ', ' ', ' ', ' ',\n  '<', '>', '&', '\"',\n  '©', '®', '™', '×', '÷',\n  ' ', '¡', '¢', '£', '¤',\n  '¥', '¦', '§', '¨', '©',\n  'ª', '«', '¬', '­', '®',\n  '¯', '°', '±', '²', '³',\n  '´', 'µ', '¶', '·', '¸',\n  '¹', 'º', '»', '¼', '½',\n  '¾', '¿', 'À', 'Á', 'Â',\n  'Ã', 'Ä', 'Å', 'Æ', 'Ç',\n  'È', 'É', 'Ê', 'Ë', 'Ì',\n  'Í', 'Î', 'Ï', 'Ð', 'Ñ',\n  'Ò', 'Ó', 'Ô', 'Õ', 'Ö',\n  '×', 'Ø', 'Ù', 'Ú', 'Û',\n  'Ü', 'Ý', 'Þ', 'ß', 'à',\n  'á', 'â', 'ã', 'ä', 'å',\n  'æ', 'ç', 'è', 'é', 'ê',\n  'ë', 'ì', 'í', 'î', 'ï',\n  'ð', 'ñ', 'ò', 'ó', 'ô',\n  'õ', 'ö', '÷', 'ø', 'ù',\n  'ú', 'û', 'ü', 'ý', 'þ', 'ÿ',\n  'ƒ', 'Α', 'Β', 'Γ', 'Δ',\n  'Ε', 'Ζ', 'Η', 'Θ', 'Ι',\n  'Κ', 'Λ', 'Μ', 'Ν', 'Ξ',\n  'Ο', 'Π', 'Ρ', 'Σ', 'Τ',\n  'Υ', 'Φ', 'Χ', 'Ψ', 'Ω',\n  'α', 'β', 'γ', 'δ', 'ε',\n  'ζ', 'η', 'θ', 'ι', 'κ',\n  'λ', 'μ', 'ν', 'ξ', 'ο',\n  'π', 'ρ', 'ς', 'σ', 'τ',\n  'υ', 'φ', 'χ', 'ψ', 'ω',\n  'ϑ', 'ϒ', 'ϖ', '•', '…',\n  '′', '″', '‾', '⁄', '℘',\n  'ℑ', 'ℜ', '™', 'ℵ', '←',\n  '↑', '→', '↓', '↔', '↵',\n  '⇐', '⇑', '⇒', '⇓', '⇔',\n  '∀', '∂', '∃', '∅', '∇',\n  '∈', '∉', '∋', '∏', '∑',\n  '−', '∗', '√', '∝', '∞',\n  '∠', '∧', '∨', '∩', '∪',\n  '∫', '∴', '∼', '≅', '≈',\n  '≠', '≡', '≤', '≥', '⊂',\n  '⊃', '⊄', '⊆', '⊇', '⊕',\n  '⊗', '⊥', '⋅', '⌈', '⌉',\n  '⌊', '⌋', '⟨', '⟩', '◊',\n  '♠', '♣', '♥', '♦',\n  '\"', '&', '<', '>', 'Œ',\n  'œ', 'Š', 'š', 'Ÿ', 'ˆ',\n  '˜', ' ', ' ', ' ', '‌',\n  '‍', '‎', '‏', '–', '—',\n  '‘', '’', '‚', '“', '”',\n  '„', '†', '‡', '‰', '‹',\n  '›', '€'\n]\n\nexport const escapeCharacters = [\n  '&quot;', '&amp;', '&lt;', '&gt;',\n  '&nbsp;', '&ensp;', '&emsp;', '&nbsp;',\n  '&lt;', '&gt;', '&amp;', '&quot;',\n  '&copy;', '&reg;', '&trade;', '&times;', '&divide;',\n  '&nbsp;', '&iexcl;', '&cent;', '&pound;', '&curren;',\n  '&yen;', '&brvbar;', '&sect;', '&uml;', '&copy;',\n  '&ordf;', '&laquo;', '&not;', '&shy;', '&reg;',\n  '&macr;', '&deg;', '&plusmn;', '&sup2;', '&sup3;',\n  '&acute;', '&micro;', '&para;', '&middot;', '&cedil;',\n  '&sup1;', '&ordm;', '&raquo;', '&frac14;', '&frac12;',\n  '&frac34;', '&iquest;', '&Agrave;', '&Aacute;', '&Acirc;',\n  '&Atilde;', '&Auml;', '&Aring;', '&AElig;', '&Ccedil;',\n  '&Egrave;', '&Eacute;', '&Ecirc;', '&Euml;', '&Igrave;',\n  '&Iacute;', '&Icirc;', '&Iuml;', '&ETH;', '&Ntilde;',\n  '&Ograve;', '&Oacute;', '&Ocirc;', '&Otilde;', '&Ouml;',\n  '&times;', '&Oslash;', '&Ugrave;', '&Uacute;', '&Ucirc;',\n  '&Uuml;', '&Yacute;', '&THORN;', '&szlig;', '&agrave;',\n  '&aacute;', '&acirc;', '&atilde;', '&auml;', '&aring;',\n  '&aelig;', '&ccedil;', '&egrave;', '&eacute;', '&ecirc;',\n  '&euml;', '&igrave;', '&iacute;', '&icirc;', '&iuml;',\n  '&eth;', '&ntilde;', '&ograve;', '&oacute;', '&ocirc;',\n  '&otilde;', '&ouml;', '&divide;', '&oslash;', '&ugrave;',\n  '&uacute;', '&ucirc;', '&uuml;', '&yacute;', '&thorn;', '&yuml;',\n  '&fnof;', '&Alpha;', '&Beta;', '&Gamma;', '&Delta;',\n  '&Epsilon;', '&Zeta;', '&Eta;', '&Theta;', '&Iota;',\n  '&Kappa;', '&Lambda;', '&Mu;', '&Nu;', '&Xi;',\n  '&Omicron;', '&Pi;', '&Rho;', '&Sigma;', '&Tau;',\n  '&Upsilon;', '&Phi;', '&Chi;', '&Psi;', '&Omega;',\n  '&alpha;', '&beta;', '&gamma;', '&delta;', '&epsilon;',\n  '&zeta;', '&eta;', '&theta;', '&iota;', '&kappa;',\n  '&lambda;', '&mu;', '&nu;', '&xi;', '&omicron;',\n  '&pi;', '&rho;', '&sigmaf;', '&sigma;', '&tau;',\n  '&upsilon;', '&phi;', '&chi;', '&psi;', '&omega;',\n  '&thetasym;', '&upsih;', '&piv;', '&bull;', '&hellip;',\n  '&prime;', '&Prime;', '&oline;', '&frasl;', '&weierp;',\n  '&image;', '&real;', '&trade;', '&alefsym;', '&larr;',\n  '&uarr;', '&rarr;', '&darr;', '&harr;', '&crarr;',\n  '&lArr;', '&uArr;', '&rArr;', '&dArr;', '&hArr;',\n  '&forall;', '&part;', '&exist;', '&empty;', '&nabla;',\n  '&isin;', '&notin;', '&ni;', '&prod;', '&sum;',\n  '&minus;', '&lowast;', '&radic;', '&prop;', '&infin;',\n  '&ang;', '&and;', '&or;', '&cap;', '&cup;',\n  '&int;', '&there4;', '&sim;', '&cong;', '&asymp;',\n  '&ne;', '&equiv;', '&le;', '&ge;', '&sub;',\n  '&sup;', '&nsub;', '&sube;', '&supe;', '&oplus;',\n  '&otimes;', '&perp;', '&sdot;', '&lceil;', '&rceil;',\n  '&lfloor;', '&rfloor;', '&lang;', '&rang;', '&loz;',\n  '&spades;', '&clubs;', '&hearts;', '&diams;',\n  '&quot;', '&amp;', '&lt;', '&gt;', '&OElig;',\n  '&oelig;', '&Scaron;', '&scaron;', '&Yuml;', '&circ;',\n  '&tilde;', '&ensp;', '&emsp;', '&thinsp;', '&zwnj;',\n  '&zwj;', '&lrm;', '&rlm;', '&ndash;', '&mdash;',\n  '&lsquo;', '&rsquo;', '&sbquo;', '&ldquo;', '&rdquo;',\n  '&bdquo;', '&dagger;', '&Dagger;', '&permil;', '&lsaquo;',\n  '&rsaquo;', '&euro;'\n]\n\nconst escapeCharactersMap = escapeCharacters.reduce((acc, escapeCharacter, index) => {\n  return Object.assign(acc, { [escapeCharacter]: charachers[index] })\n}, {})\n\nexport default escapeCharactersMap\n","import { escapeCharacters } from './escapeCharacter'\n\n/* eslint-disable no-useless-escape */\nexport const beginRules = {\n  'hr': /^(\\*{3,}$|^\\-{3,}$|^\\_{3,}$)/,\n  'code_fense': /^(`{3,})([^`]*)$/,\n  'header': /(^ {0,3}#{1,6}(\\s{1,}|$))/,\n  'reference_definition': /^( {0,3}\\[)([^\\]]+?)(\\\\*)(\\]: *)(<?)([^\\s>]+)(>?)(?:( +)([\"'(]?)([^\\n\"'\\(\\)]+)\\9)?( *)$/,\n\n  // extra syntax (not belogs to GFM)\n  'multiple_math': /^(\\$\\$)$/\n}\n\nexport const inlineRules = {\n  'strong': /^(\\*\\*|__)(?=\\S)([\\s\\S]*?[^\\s\\\\])(\\\\*)\\1(?!(\\*|_))/, // can nest\n  'em': /^(\\*|_)(?=\\S)([\\s\\S]*?[^\\s\\*\\\\])(\\\\*)\\1(?!\\1)/, // can nest\n  'inline_code': /^(`{1,3})([^`]+?|.{2,})\\1/,\n  'image': /^(\\!\\[)(.*?)(\\\\*)\\]\\((.*?)(\\\\*)\\)/,\n  'link': /^(\\[)((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*?)(\\\\*)\\]\\((.*?)(\\\\*)\\)/, // can nest\n  'emoji': /^(:)([a-z_\\d+-]+?)\\1/,\n  'del': /^(~{2})(?=\\S)([\\s\\S]*?\\S)(\\\\*)\\1/, // can nest\n  'auto_link': /^(https?:\\/\\/[^\\s]+)(?=\\s|$)/,\n  'reference_link': /^\\[([^\\]]+?)(\\\\*)\\](?:\\[([^\\]]*?)(\\\\*)\\])?/,\n  'reference_image': /^\\!\\[([^\\]]+?)(\\\\*)\\](?:\\[([^\\]]*?)(\\\\*)\\])?/,\n  'tail_header': /^(\\s{1,}#{1,})(\\s*)$/,\n  'html_tag': /^(<!--[\\s\\S]*?-->|(<([a-zA-Z]{1}[a-zA-Z\\d-]*) *[_\\.\\-/:a-zA-Z\\d='\";\\? *]* *(?:\\/)?>)(?:([\\s\\S]*?)(<\\/\\3 *>))?)/, // raw html\n  'html_escape': new RegExp(`^(${escapeCharacters.join('|')})`, 'i'),\n  'soft_line_break': /^(\\n)(?!\\n)/,\n  'hard_line_break': /^( {2,})(\\n)(?!\\n)/,\n\n  // patched math marker `$`\n  'backlash': /^(\\\\)([\\\\`*{}\\[\\]()#+\\-.!_>~:\\|\\<\\>$]{1})/,\n\n  // extra (not belongs to GFM)\n  'inline_math': /^(\\$)([^\\$]*?[^\\$\\\\])(\\\\*)\\1(?!\\1)/\n}\n/* eslint-enable no-useless-escape */\n","import { union, isEven } from '../../../utils'\nimport { CLASS_OR_ID } from '../../../config'\n// TODO HIGHLIGHT\nexport default function backlashInToken (h, backlashes, outerClass, start, token) {\n  const { highlights = [] } = token\n  const chunks = backlashes.split('')\n  const len = chunks.length\n  const result = []\n  let i\n\n  for (i = 0; i < len; i++) {\n    const chunk = chunks[i]\n    const light = highlights.filter(light => union({ start: start + i, end: start + i + 1 }, light))\n    let selector = 'span'\n    if (light.length) {\n      const className = this.getHighlightClassName(light[0].active)\n      selector += `.${className}`\n    }\n    if (isEven(i)) {\n      result.push(\n        h(`${selector}.${outerClass}`, chunk)\n      )\n    } else {\n      result.push(\n        h(`${selector}.${CLASS_OR_ID['AG_BACKLASH']}`, chunk)\n      )\n    }\n  }\n\n  return result\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function backlash (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","import { union } from '../../../utils'\n\n// change text to highlight vdom\nexport default function highlight (h, block, rStart, rEnd, token) {\n  const { text } = block\n  const { highlights } = token\n  let result = []\n  const unions = []\n  let pos = rStart\n\n  if (highlights) {\n    for (const light of highlights) {\n      const un = union({ start: rStart, end: rEnd }, light)\n      if (un) unions.push(un)\n    }\n  }\n\n  if (unions.length) {\n    for (const u of unions) {\n      const { start, end, active } = u\n      const className = this.getHighlightClassName(active)\n\n      if (pos < start) {\n        result.push(text.substring(pos, start))\n      }\n\n      result.push(h(`span.${className}`, text.substring(start, end)))\n      pos = end\n    }\n    if (pos < rEnd) {\n      result.push(block.text.substring(pos, rEnd))\n    }\n  } else {\n    result = [text.substring(rStart, rEnd)]\n  }\n\n  return result\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function header (h, cursor, block, token, outerClass) {\n  const { content } = token\n  const { start, end } = token.range\n  const className = this.getClassName(outerClass, block, {\n    range: {\n      start,\n      end: end - content.length\n    }\n  }, cursor)\n  const markerVnode = this.highlight(h, block, start, end - content.length, token)\n  const contentVnode = this.highlight(h, block, end - content.length, end, token)\n  const spaceSelector = className === CLASS_OR_ID['AG_HIDE']\n    ? `span.${CLASS_OR_ID['AG_HEADER_TIGHT_SPACE']}.${CLASS_OR_ID['AG_REMOVE']}`\n    : `span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, markerVnode),\n    h(spaceSelector, contentVnode)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { isLengthEven, snakeToCamel } from '../../../utils'\n\n// 'link': /^(\\[)((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*?)(\\\\*)\\]\\((.*?)(\\\\*)\\)/, // can nest\nexport default function link (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const linkClassName = className === CLASS_OR_ID['AG_HIDE'] ? className : CLASS_OR_ID['AG_LINK_IN_BRACKET']\n  const { start, end } = token.range\n  const firstMiddleBracket = this.highlight(h, block, start, start + 3, token)\n\n  const firstBracket = this.highlight(h, block, start, start + 1, token)\n  const middleBracket = this.highlight(\n    h, block,\n    start + 1 + token.anchor.length + token.backlash.first.length,\n    start + 1 + token.anchor.length + token.backlash.first.length + 2,\n    token\n  )\n  const hrefContent = this.highlight(\n    h, block,\n    start + 1 + token.anchor.length + token.backlash.first.length + 2,\n    start + 1 + token.anchor.length + token.backlash.first.length + 2 + token.hrefAndTitle.length,\n    token\n  )\n  const middleHref = this.highlight(\n    h, block, start + 1 + token.anchor.length + token.backlash.first.length,\n    block, start + 1 + token.anchor.length + token.backlash.first.length + 2 + token.hrefAndTitle.length,\n    token\n  )\n\n  const lastBracket = this.highlight(h, block, end - 1, end, token)\n\n  const firstBacklashStart = start + 1 + token.anchor.length\n  const secondBacklashStart = end - 1 - token.backlash.second.length\n\n  if (isLengthEven(token.backlash.first) && isLengthEven(token.backlash.second)) {\n    if (!token.children.length && !token.backlash.first) { // no-text-link\n      return [\n        h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, firstMiddleBracket),\n        h(`a.${CLASS_OR_ID['AG_NOTEXT_LINK']}.${CLASS_OR_ID['AG_INLINE_RULE']}`, {\n          props: {\n            href: token.href + encodeURI(token.backlash.second),\n            target: '_blank',\n            title: token.title\n          }\n        }, [\n          ...hrefContent,\n          ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token)\n        ]),\n        h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, lastBracket)\n      ]\n    } else { // has children\n      return [\n        h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, firstBracket),\n        h(`a.${CLASS_OR_ID['AG_INLINE_RULE']}`, {\n          props: {\n            href: token.href + encodeURI(token.backlash.second),\n            target: '_blank',\n            title: token.title\n          }\n        }, [\n          ...token.children.reduce((acc, to) => {\n            const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n            return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n          }, []),\n          ...this.backlashInToken(h, token.backlash.first, className, firstBacklashStart, token)\n        ]),\n        h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, middleBracket),\n        h(`span.${linkClassName}.${CLASS_OR_ID['AG_REMOVE']}`, [\n          ...hrefContent,\n          ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token)\n        ]),\n        h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, lastBracket)\n      ]\n    }\n  } else {\n    return [\n      ...firstBracket,\n      ...token.children.reduce((acc, to) => {\n        const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n        return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n      }, []),\n      ...this.backlashInToken(h, token.backlash.first, className, firstBacklashStart, token),\n      ...middleHref,\n      ...this.backlashInToken(h, token.backlash.second, className, secondBacklashStart, token),\n      ...lastBracket\n    ]\n  }\n}\n","import { CLASS_OR_ID, BLOCK_TYPE6 } from '../../../config'\nimport { snakeToCamel } from '../../../utils'\n\nexport default function htmlTag (h, cursor, block, token, outerClass) {\n  const { tag, openTag, closeTag, children, attrs } = token\n  const className = children ? this.getClassName(outerClass, block, token, cursor) : CLASS_OR_ID['AG_GRAY']\n  const tagClassName = className === CLASS_OR_ID['AG_HIDE'] ? className : CLASS_OR_ID['AG_HTML_TAG']\n  const { start, end } = token.range\n  const openContent = this.highlight(h, block, start, start + openTag.length, token)\n  const closeContent = closeTag\n    ? this.highlight(h, block, end - closeTag.length, end, token)\n    : ''\n\n  const anchor = Array.isArray(children) && tag !== 'ruby' // important\n    ? children.reduce((acc, to) => {\n        const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n        return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n      }, []) \n    : ''\n  switch (tag) {\n    case 'img': {\n      return this.htmlImage(h, cursor, block, token, outerClass)\n    }\n    case 'br': {\n      return [h(`span.${CLASS_OR_ID['AG_HTML_TAG']}`, [...openContent, h(tag)])]\n    }\n    default:\n      // handle void html tag\n      if (!closeTag) {\n        return [h(`span.${CLASS_OR_ID['AG_HTML_TAG']}`, openContent)]\n      } else if (tag === 'ruby') {\n        return this.htmlRuby(h, cursor, block, token, outerClass)\n      } else {\n        // if  tag is a block level element, use a inline element `span` to instead.\n        // Because we can not nest a block level element in span element(line is span element)\n        // we also recommand user not use block level element in paragraph. use block element in html block.\n        let selector = BLOCK_TYPE6.includes(tag) ? 'span' : tag\n        selector += `.${CLASS_OR_ID['AG_INLINE_RULE']}`\n        const data = {\n          attrs: {},\n          dataset: {}\n        }\n        if (attrs.id) {\n          selector += `#${attrs.id}`\n        }\n        if (attrs.class && /\\S/.test(attrs.class)) {\n          const classNames = attrs.class.split(/\\s+/)\n          for (const className of classNames) {\n            selector += `.${className}`\n          }\n        }\n\n        for (const attr of Object.keys(attrs)) {\n          if (attr !== 'id' && attr !== 'class') {\n            data.attrs[attr] = attrs[attr]\n          }\n        }\n\n        return [\n          h(`span.${tagClassName}.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`, openContent),\n          h(`${selector}`, data, anchor),\n          h(`span.${tagClassName}.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`, closeContent)\n        ]\n      }\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function hr (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  return [\n    h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","export default function tailHeader (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  if (/^h\\d$/.test(block.type)) {\n    return [\n      h(`span.${className}`, content)\n    ]\n  } else {\n    return content\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function softLineBreak (h, cursor, block, token, outerClass) {\n  const { spaces, lineBreak, isAtEnd } = token\n  const className = CLASS_OR_ID['AG_HARD_LINE_BREAK']\n  const spaceClass = CLASS_OR_ID['AG_HARD_LINE_BREAK_SPACE']\n  if (isAtEnd) {\n    return [\n      h(`span.${className}`, h(`span.${spaceClass}`, spaces)),\n      h(`span.${CLASS_OR_ID['AG_LINE_END']}`, lineBreak)\n    ]\n  } else {\n    return [\n      h(`span.${className}`, [ h(`span.${spaceClass}`, spaces), lineBreak ])\n    ]\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function hardLineBreak (h, cursor, block, token, outerClass) {\n  const { lineBreak, isAtEnd } = token\n  let selector = `span.${CLASS_OR_ID['AG_SOFT_LINE_BREAK']}`\n  if (isAtEnd) {\n    selector += `.${CLASS_OR_ID['AG_LINE_END']}`\n  }\n\n  return [\n    h(selector, lineBreak)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function codeFense (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const { marker } = token\n\n  const markerContent = this.highlight(h, block, start, start + marker.length, token)\n  const content = this.highlight(h, block, start + marker.length, end, token)\n\n  return [\n    h(`span.${CLASS_OR_ID['AG_GRAY']}`, markerContent),\n    h(`span.${CLASS_OR_ID['AG_LANGUAGE']}`, content)\n  ]\n}\n","import katex from 'katex'\nimport { CLASS_OR_ID } from '../../../config'\nimport { htmlToVNode } from '../snabbdom'\n\nimport 'katex/dist/katex.min.css'\n\nexport default function displayMath (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const mathSelector = className === CLASS_OR_ID['AG_HIDE']\n    ? `span.${className}.${CLASS_OR_ID['AG_MATH']}`\n    : `span.${CLASS_OR_ID['AG_MATH']}`\n\n  const { start, end } = token.range\n  const { marker } = token\n\n  const startMarker = this.highlight(h, block, start, start + marker.length, token)\n  const endMarker = this.highlight(h, block, end - marker.length, end, token)\n  const content = this.highlight(h, block, start + marker.length, end - marker.length, token)\n\n  const { content: math, type } = token\n\n  const { loadMathMap } = this\n\n  const displayMode = false\n  const key = `${math}_${type}`\n  let mathVnode = null\n  let previewSelector = `span.${CLASS_OR_ID['AG_MATH_RENDER']}`\n  if (loadMathMap.has(key)) {\n    mathVnode = loadMathMap.get(key)\n  } else {\n    try {\n      const html = katex.renderToString(math, {\n        displayMode\n      })\n      mathVnode = htmlToVNode(html)\n      loadMathMap.set(key, mathVnode)\n    } catch (err) {\n      mathVnode = '< Invalid Mathematical Formula >'\n      previewSelector += `.${CLASS_OR_ID['AG_MATH_ERROR']}`\n    }\n  }\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_MATH_MARKER']}`, startMarker),\n    h(mathSelector, [\n      h(`span.${CLASS_OR_ID['AG_INLINE_RULE']}.${CLASS_OR_ID['AG_MATH_TEXT']}`, content),\n      h(previewSelector, {\n        attrs: { contenteditable: 'false' }\n      }, mathVnode)\n    ]),\n    h(`span.${className}.${CLASS_OR_ID['AG_MATH_MARKER']}`, endMarker)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\n// render auto_link to vdom\nexport default function autoLink (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`a.${CLASS_OR_ID['AG_INLINE_RULE']}`, {\n      props: {\n        href: token.href,\n        target: '_blank'\n      }\n    }, content)\n  ]\n}\n","\n/**\n * [description `add` or `remove` className of element\n */\nexport const operateClassName = (element, ctrl, className) => {\n  element.classList[ctrl](className)\n}\n\nexport const insertBefore = (newNode, originNode) => {\n  const parentNode = originNode.parentNode\n  parentNode.insertBefore(newNode, originNode)\n}\n\n// DOM operations\nexport const insertAfter = (newNode, originNode) => {\n  const parentNode = originNode.parentNode\n\n  if (originNode.nextSibling) {\n    parentNode.insertBefore(newNode, originNode.nextSibling)\n  } else {\n    parentNode.appendChild(newNode)\n  }\n}\n","import { getUniqueId, loadImage } from '../../../utils'\nimport { insertAfter, operateClassName } from '../../../utils/domManipulate'\nimport { CLASS_OR_ID } from '../../../config'\n\nexport default function loadImageAsync (imageInfo, alt, className, imageClass) {\n  const { src, isUnknownType } = imageInfo\n  let id\n  let isSuccess\n\n  if (!this.loadImageMap.has(src)) {\n    id = getUniqueId()\n    loadImage(src, isUnknownType)\n      .then(url => {\n        const imageText = document.querySelector(`#${id}`)\n        const img = document.createElement('img')\n        img.src = url\n        if (alt) img.alt = alt.replace(/[`*{}[\\]()#+\\-.!_>~:|<>$]/g, '')\n        if (imageClass) {\n          img.classList.add(imageClass)\n        }\n\n        if (imageText) {\n          if (imageText.classList.contains('ag-inline-image')) {\n            const imageContainer = imageText.querySelector('.ag-image-container')\n            const oldImage = imageContainer.querySelector('img')\n            if (oldImage) {\n              oldImage.remove()\n            }\n            imageContainer.appendChild(img)\n            imageText.classList.remove('ag-image-loading')\n            imageText.classList.add('ag-image-success')\n          } else {\n            insertAfter(img, imageText)\n            operateClassName(imageText, 'add', className)\n          }\n        }\n        if (this.urlMap.has(src)) {\n          this.urlMap.delete(src)\n        }\n        this.loadImageMap.set(src, {\n          id,\n          isSuccess: true\n        })\n      })\n      .catch(() => {\n        const imageText = document.querySelector(`#${id}`)\n        if (imageText) {\n          operateClassName(imageText, 'remove', CLASS_OR_ID['AG_IMAGE_LOADING'])\n          operateClassName(imageText, 'add', CLASS_OR_ID['AG_IMAGE_FAIL'])\n          const image = imageText.querySelector('img')\n          if (image) {\n            image.remove()\n          }\n        }\n        if (this.urlMap.has(src)) {\n          this.urlMap.delete(src)\n        }\n        this.loadImageMap.set(src, {\n          id,\n          isSuccess: false\n        })\n      })\n  } else {\n    const imageInfo = this.loadImageMap.get(src)\n    id = imageInfo.id\n    isSuccess = imageInfo.isSuccess\n  }\n\n  return { id, isSuccess }\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { getImageInfo } from '../../../utils'\n\n// html_image\nexport default function htmlImage (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const imageClass = CLASS_OR_ID['AG_IMAGE_MARKED_TEXT']\n  const { start, end } = token.range\n  const tag = this.highlight(h, block, start, end, token)\n  const { src: rawSrc, alt = '', width, height } = token.attrs\n  const imageInfo = getImageInfo(rawSrc)\n  const { src } = imageInfo\n  let id\n  let isSuccess\n  let selector\n  if (src) {\n    ({ id, isSuccess } = this.loadImageAsync(imageInfo, alt, className, CLASS_OR_ID['AG_COPY_REMOVE']))\n  }\n  selector = id ? `span#${id}.${imageClass}.${CLASS_OR_ID['AG_HTML_TAG']}` : `span.${imageClass}.${CLASS_OR_ID['AG_HTML_TAG']}`\n  selector += `.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`\n  if (isSuccess) {\n    selector += `.${className}`\n  } else {\n    selector += `.${CLASS_OR_ID['AG_IMAGE_FAIL']}`\n  }\n  const props = { alt, src }\n  if (typeof width === 'number') {\n    props.width = width\n  }\n  if (typeof height === 'number') {\n    props.height = height\n  }\n  return isSuccess\n    ? [\n      h(selector, tag),\n      h(`img.${CLASS_OR_ID['AG_COPY_REMOVE']}`, { props })\n    ]\n    : [h(selector, tag)]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { getImageInfo } from '../../../utils'\nimport ImageIcon from '../../../assets/pngicon/image/2.png'\nimport ImageFailIcon from '../../../assets/pngicon/image_fail/2.png'\nimport ImageEditIcon from '../../../assets/pngicon/imageEdit/2.png'\nimport DeleteIcon from '../../../assets/pngicon/delete/delete@2x.png'\n\nconst renderIcon = (h, className, icon) => {\n  const selector = `a.${className}`\n  const iconVnode = h('i.icon', h(`i.icon-inner`, {\n    style: {\n      background: `url(${icon}) no-repeat`,\n      'background-size': '100%'\n    }\n  }, ''))\n\n  return h(selector, {\n    attrs: {\n      contenteditable: 'false'\n    }\n  }, iconVnode)\n}\n\n// I dont want operate dom directly, is there any better method? need help!\nexport default function image (h, cursor, block, token, outerClass) {\n  const imageInfo = getImageInfo(token.src + encodeURI(token.backlash.second))\n  const { selectedImage } = this.muya.contentState\n  const data = {\n    dataset: {\n      raw: token.raw\n    },\n    attrs: {\n      contenteditable: 'true'\n    }\n  }\n  let id\n  let isSuccess\n  let { src } = imageInfo\n  const alt = token.alt + encodeURI(token.backlash.first)\n  const { title } = token\n  if (src) {\n    ({ id, isSuccess } = this.loadImageAsync(imageInfo, alt))\n  }\n  let wrapperSelector = id\n    ? `span#${id}.${CLASS_OR_ID['AG_INLINE_IMAGE']}`\n    : `span.${CLASS_OR_ID['AG_INLINE_IMAGE']}`\n\n  const imageIcons = [\n    renderIcon(h, 'ag-image-icon-success', ImageIcon),\n    renderIcon(h, 'ag-image-icon-fail', ImageFailIcon),\n    renderIcon(h, 'ag-image-icon-close', DeleteIcon)\n  ]\n  const toolIcons = [\n    renderIcon(h, 'ag-image-icon-turninto', ImageEditIcon),\n    renderIcon(h, 'ag-image-icon-delete', DeleteIcon)\n  ]\n  const renderImageContainer = (...args) => {\n    return h(`span.${CLASS_OR_ID['AG_IMAGE_CONTAINER']}`, {\n      attrs: {\n        contenteditable: 'true'\n      }\n    }, args)\n  }\n\n  // the src image is still loading, so use the url Map base64.\n  if (this.urlMap.has(src)) {\n    // fix: it will generate a new id if the image is not loaded.\n    const { selectedImage } = this.muya.contentState\n    if (selectedImage && selectedImage.token.src === src && selectedImage.imageId !== id) {\n      selectedImage.imageId = id\n    }\n    src = this.urlMap.get(src)\n    isSuccess = true\n  }\n\n  if (alt.startsWith('loading-')) {\n    wrapperSelector += `.${CLASS_OR_ID['AG_IMAGE_UPLOADING']}`\n    Object.assign(data.dataset, {\n      id: alt\n    })\n    if (this.urlMap.has(alt)) {\n      src = this.urlMap.get(alt)\n      isSuccess = true\n    }\n  }\n  if (src) {\n    // image is loading...\n    if (typeof isSuccess === 'undefined') {\n      wrapperSelector += `.${CLASS_OR_ID['AG_IMAGE_LOADING']}`\n    } else if (isSuccess === true) {\n      wrapperSelector += `.${CLASS_OR_ID['AG_IMAGE_SUCCESS']}`\n    } else {\n      wrapperSelector += `.${CLASS_OR_ID['AG_IMAGE_FAIL']}`\n    }\n\n    if (selectedImage) {\n      const { key, token: selectToken } = selectedImage\n      if (\n        key === block.key &&\n        selectToken.range.start === token.range.start &&\n        selectToken.range.end === token.range.end\n      ) {\n        wrapperSelector += `.${CLASS_OR_ID['AG_INLINE_IMAGE_SELECTED']}`\n      }\n    }\n\n    return isSuccess\n      ? [\n        h(wrapperSelector, data, [\n          ...imageIcons,\n          renderImageContainer(\n            ...toolIcons,\n            // An image description has inline elements as its contents.\n            // When an image is rendered to HTML, this is standardly used as the image’s alt attribute.\n            h('img', { props: { alt: alt.replace(/[`*{}[\\]()#+\\-.!_>~:|<>$]/g, ''), src, title } })\n          )\n        ])\n      ]\n      : [\n        h(wrapperSelector, data, [\n          ...imageIcons,\n          renderImageContainer(\n            ...toolIcons\n          )\n        ])\n      ]\n  } else {\n    wrapperSelector += `.${CLASS_OR_ID['AG_EMPTY_IMAGE']}`\n    return [\n      h(wrapperSelector, data, [\n        ...imageIcons,\n        renderImageContainer(\n          ...toolIcons\n        )\n      ])\n    ]\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { snakeToCamel } from '../../../utils'\n\n// render factory of `del`,`em`,`strong`\nexport default function delEmStrongFac (type, h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const COMMON_MARKER = `span.${className}.${CLASS_OR_ID['AG_REMOVE']}`\n  const { marker } = token\n  const { start, end } = token.range\n  const backlashStart = end - marker.length - token.backlash.length\n  const content = [\n    ...token.children.reduce((acc, to) => {\n      const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n      return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n    }, []),\n    ...this.backlashInToken(h, token.backlash, className, backlashStart, token)\n  ]\n  const startMarker = this.highlight(h, block, start, start + marker.length, token)\n  const endMarker = this.highlight(h, block, end - marker.length, end, token)\n\n  return [\n    h(COMMON_MARKER, startMarker),\n    h(`${type}.${CLASS_OR_ID['AG_INLINE_RULE']}`, content),\n    h(COMMON_MARKER, endMarker)\n  ]\n}\n","import { filter } from 'fuzzaldrin'\nimport emojis from './emojisJson'\nimport { CLASS_OR_ID } from '../../config'\n\nconst emojisForSearch = {}\n\nfor (const emoji of emojis) {\n  const newEmoji = Object.assign({}, emoji, { search: [...emoji.aliases, ...emoji.tags].join(' ') })\n  if (emojisForSearch[newEmoji.category]) {\n    emojisForSearch[newEmoji.category].push(newEmoji)\n  } else {\n    emojisForSearch[newEmoji.category] = [ newEmoji ]\n  }\n}\n\n/**\n * check if one emoji code is in emojis, return undefined or found emoji\n */\nexport const validEmoji = text => {\n  return emojis.find(emoji => {\n    return emoji.aliases.includes(text)\n  })\n}\n\n/**\n * check edit emoji\n */\n\nexport const checkEditEmoji = node => {\n  if (node && node.classList.contains(CLASS_OR_ID['AG_EMOJI_MARKED_TEXT'])) {\n    return node\n  }\n  return false\n}\n\nclass Emoji {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  search (text) {\n    const { cache } = this\n    if (cache.has(text)) return cache.get(text)\n    const result = {}\n\n    Object.keys(emojisForSearch).forEach(category => {\n      const list = filter(emojisForSearch[category], text, { key: 'search' })\n      if (list.length) {\n        result[category] = list\n      }\n    })\n    cache.set(text, result)\n    return result\n  }\n\n  destroy () {\n    return this.cache.clear()\n  }\n}\n\nexport default Emoji\n","import { CLASS_OR_ID } from '../../../config'\nimport { validEmoji } from '../../../ui/emojis'\n\n// render token of emoji to vdom\nexport default function emoji (h, cursor, block, token, outerClass) {\n  const { start: rStart, end: rEnd } = token.range\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const validation = validEmoji(token.content)\n  const finalClass = validation ? className : CLASS_OR_ID['AG_WARN']\n  const contentSelector = finalClass !== CLASS_OR_ID['AG_GRAY']\n   ? `span.${finalClass}.${CLASS_OR_ID['AG_INLINE_RULE']}.${CLASS_OR_ID['AG_EMOJI_MARKED_TEXT']}`\n   : `span.${CLASS_OR_ID['AG_INLINE_RULE']}.${CLASS_OR_ID['AG_EMOJI_MARKED_TEXT']}`\n\n  let startMarkerSelector = `span.${finalClass}.${CLASS_OR_ID['AG_EMOJI_MARKER']}`\n  let endMarkerSelector = startMarkerSelector\n  let content = token.content\n  let pos = rStart + token.marker.length\n\n  if (token.highlights && token.highlights.length) {\n    content = []\n    for (const light of token.highlights) {\n      let { start, end, active } = light\n      const HIGHLIGHT_CLASSNAME = this.getHighlightClassName(active)\n      if (start === rStart) {\n        startMarkerSelector += `.${HIGHLIGHT_CLASSNAME}`\n        start++\n      }\n      if (end === rEnd) {\n        endMarkerSelector += `.${HIGHLIGHT_CLASSNAME}`\n        end--\n      }\n      if (pos < start) {\n        content.push(block.text.substring(pos, start))\n      }\n      if (start < end) {\n        content.push(h(`span.${HIGHLIGHT_CLASSNAME}`, block.text.substring(start, end)))\n      }\n      pos = end\n    }\n    if (pos < rEnd - token.marker.length) {\n      content.push(block.text.substring(pos, rEnd - 1))\n    }\n  }\n\n  const emojiVdom = validation\n    ? h(contentSelector, {\n      dataset: {\n        emoji: validation.emoji\n      }\n    }, content)\n    : h(contentSelector, content)\n\n  return [\n    h(startMarkerSelector, token.marker),\n    emojiVdom,\n    h(endMarkerSelector, token.marker)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function inlineCode (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { marker } = token\n  const { start, end } = token.range\n\n  const startMarker = this.highlight(h, block, start, start + marker.length, token)\n  const endMarker = this.highlight(h, block, end - marker.length, end, token)\n  const content = this.highlight(h, block, start + marker.length, end - marker.length, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, startMarker),\n    h(`code.${CLASS_OR_ID['AG_INLINE_RULE']}`, content),\n    h(`span.${className}.${CLASS_OR_ID['AG_REMOVE']}`, endMarker)\n  ]\n}\n","// render token of text type to vdom.\nexport default function text (h, cursor, block, token) {\n  const { start, end } = token.range\n  return [\n    h('span.ag-plain-text', this.highlight(h, block, start, end, token))\n  ]\n}\n","export default function del (h, cursor, block, token, outerClass) {\n  return this.delEmStrongFac('del', h, cursor, block, token, outerClass)\n}\n","export default function em (h, cursor, block, token, outerClass) {\n  return this.delEmStrongFac('em', h, cursor, block, token, outerClass)\n}\n","export default function strong (h, cursor, block, token, outerClass) {\n  return this.delEmStrongFac('strong', h, cursor, block, token, outerClass)\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport escapeCharactersMap from '../../escapeCharacter'\n\nexport default function htmlEscape (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { escapeCharacter } = token\n  const { start, end } = token.range\n\n  const content = this.highlight(h, block, start, end, token)\n\n  return [\n    h(`span.${className}.${CLASS_OR_ID['AG_HTML_ESCAPE']}`, {\n      dataset: {\n        character: escapeCharactersMap[escapeCharacter]\n      }\n    }, content)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function multipleMath (h, cursor, block, token, outerClass) {\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  return [\n    h(`span.${CLASS_OR_ID['AG_GRAY']}.${CLASS_OR_ID['AG_REMOVE']}`, content)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\n\nexport default function referenceDefinition (h, cursor, block, token, outerClass) {\n  const className = CLASS_OR_ID['AG_REFERENCE_MARKER']\n  const {\n    leftBracket,\n    label,\n    backlash,\n    // rightBracket,\n    // leftHrefMarker,\n    // href,\n    // rightHrefMarker,\n    titleMarker,\n    title,\n    rightTitleSpace\n  } = token\n  const { start, end } = token.range\n  const leftBracketContent = this.highlight(h, block, start, start + leftBracket.length, token)\n  const labelContent = this.highlight(h, block, start + leftBracket.length, start + leftBracket.length + label.length, token)\n  const middleContent = this.highlight(\n    h,\n    block,\n    start + leftBracket.length + label.length + backlash.length,\n    end - rightTitleSpace.length - titleMarker.length - title.length,\n    token\n  )\n  const titleContent = this.highlight(\n    h,\n    block,\n    end - rightTitleSpace.length - titleMarker.length - title.length,\n    end - titleMarker.length - rightTitleSpace.length,\n    token\n  )\n  const rightContent = this.highlight(\n    h,\n    block,\n    end - titleMarker.length - rightTitleSpace.length,\n    end,\n    token\n  )\n  const backlashStart = start + leftBracket.length + label.length\n\n  return [\n    h(`span.${className}`, leftBracketContent),\n    h(`span.${CLASS_OR_ID['AG_REFERENCE_LABEL']}`, labelContent),\n    ...this.backlashInToken(h, backlash, CLASS_OR_ID['AG_GRAY'], backlashStart, token),\n    h(`span.${className}`, middleContent),\n    h(`span.${CLASS_OR_ID['AG_REFERENCE_TITLE']}`, titleContent),\n    h(`span.${className}`, rightContent)\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { htmlToVNode } from '../snabbdom'\n\nexport default function htmlRuby (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const { children } = token\n  const { start, end } = token.range\n  const content = this.highlight(h, block, start, end, token)\n  const vNode = htmlToVNode(token.raw)\n\n  const previewSelector = `span.${CLASS_OR_ID['AG_RUBY_RENDER']}`\n\n\n  return children ? [\n    h(`span.${className}.${CLASS_OR_ID['AG_RUBY']}`, [\n      h(`span.${CLASS_OR_ID['AG_INLINE_RULE']}.${CLASS_OR_ID['AG_RUBY_TEXT']}`, content),\n      h(previewSelector, {\n        attrs: { contenteditable: 'false' }\n      }, vNode)\n    ])\n  // if children is empty string, no need to render ruby charactors...\n  ] : [\n    h(`span.${className}.${CLASS_OR_ID['AG_RUBY']}`, [\n      h(`span.${CLASS_OR_ID['AG_INLINE_RULE']}.${CLASS_OR_ID['AG_RUBY_TEXT']}`, content)\n    ])\n  ]\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { snakeToCamel } from '../../../utils'\n\nexport default function referenceLink (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const labelClass = className === CLASS_OR_ID['AG_GRAY']\n    ? CLASS_OR_ID['AG_REFERENCE_LABEL']\n    : className\n\n  const { start, end } = token.range\n  const {\n    anchor,\n    children,\n    backlash,\n    isFullLink,\n    label\n  } = token\n  const MARKER = '['\n  const key = (label + backlash.second).toLowerCase()\n  const backlashStart = start + MARKER.length + anchor.length\n  const content = [\n    ...children.reduce((acc, to) => {\n      const chunk = this[snakeToCamel(to.type)](h, cursor, block, to, className)\n      return Array.isArray(chunk) ? [...acc, ...chunk] : [...acc, chunk]\n    }, []),\n    ...this.backlashInToken(h, backlash.first, className, backlashStart, token)\n  ]\n\n  const { href, title } = this.labels.get(key)\n  const startMarker = this.highlight(\n    h,\n    block,\n    start,\n    start + MARKER.length,\n    token\n  )\n  const endMarker = this.highlight(\n    h,\n    block,\n    start + MARKER.length + anchor.length + backlash.first.length,\n    end,\n    token\n  )\n  const anchorSelector = href ? `a.${CLASS_OR_ID['AG_INLINE_RULE']}` : `span.${CLASS_OR_ID['AG_REFERENCE_LINK']}`\n  const dataSet = {\n    props: {\n      title\n    }\n  }\n  if (href) {\n    Object.assign(dataSet.props, { href })\n  }\n\n  if (isFullLink) {\n    const labelContent = this.highlight(\n      h,\n      block,\n      start + 3 * MARKER.length + anchor.length + backlash.first.length,\n      end - MARKER.length - backlash.second.length,\n      token\n    )\n    const middleMarker = this.highlight(\n      h,\n      block,\n      start + MARKER.length + anchor.length + backlash.first.length,\n      start + 3 * MARKER.length + anchor.length + backlash.first.length,\n      token\n    )\n    const lastMarker = this.highlight(\n      h,\n      block,\n      end - MARKER.length,\n      end,\n      token\n    )\n    const secondBacklashStart = end - MARKER.length - backlash.second.length\n\n    return [\n      h(`span.${className}`, startMarker),\n      h(anchorSelector, dataSet, content),\n      h(`span.${className}`, middleMarker),\n      h(`span.${labelClass}`, labelContent),\n      ...this.backlashInToken(h, backlash.second, className, secondBacklashStart, token),\n      h(`span.${className}`, lastMarker)\n    ]\n  } else {\n    return [\n      h(`span.${className}`, startMarker),\n      h(anchorSelector, dataSet, content),\n      h(`span.${className}`, endMarker)\n    ]\n  }\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { getImageInfo } from '../../../utils'\n\n// reference_image\nexport default function htmlImage (h, cursor, block, token, outerClass) {\n  const className = this.getClassName(outerClass, block, token, cursor)\n  const imageClass = CLASS_OR_ID['AG_IMAGE_MARKED_TEXT']\n  const { start, end } = token.range\n  const tag = this.highlight(h, block, start, end, token)\n  const { label, backlash, alt } = token\n  const rawSrc = label + backlash.second\n  let href = ''\n  let title = ''\n  if (this.labels.has((rawSrc).toLowerCase())) {\n    ({ href, title } = this.labels.get(rawSrc.toLowerCase()))\n  }\n  const imageInfo = getImageInfo(href)\n  const { src } = imageInfo\n  let id\n  let isSuccess\n  let selector\n  if (src) {\n    ({ id, isSuccess } = this.loadImageAsync(imageInfo, alt, className, CLASS_OR_ID['AG_COPY_REMOVE']))\n  }\n  selector = id ? `span#${id}.${imageClass}` : `span.${imageClass}`\n  selector += `.${CLASS_OR_ID['AG_OUTPUT_REMOVE']}`\n  if (isSuccess) {\n    selector += `.${className}`\n  } else {\n    selector += `.${CLASS_OR_ID['AG_IMAGE_FAIL']}`\n  }\n\n  return isSuccess\n    ? [\n      h(selector, tag),\n      h(`img.${CLASS_OR_ID['AG_COPY_REMOVE']}`, { props: { alt, src, title } })\n    ]\n    : [h(selector, tag)]\n}\n","import backlashInToken from './backlashInToken'\nimport backlash from './backlash'\nimport highlight from './highlight'\nimport header from './header'\nimport link from './link'\nimport htmlTag from './htmlTag'\nimport hr from './hr'\nimport tailHeader from './tailHeader'\nimport hardLineBreak from './hardLineBreak'\nimport softLineBreak from './softLineBreak'\nimport codeFense from './codeFense'\nimport inlineMath from './inlineMath'\nimport autoLink from './autoLink'\nimport loadImageAsync from './loadImageAsync'\nimport htmlImage from './htmlImage'\nimport image from './image'\nimport delEmStrongFac from './delEmStringFactory'\nimport emoji from './emoji'\nimport inlineCode from './inlineCode'\nimport text from './text'\nimport del from './del'\nimport em from './em'\nimport strong from './strong'\nimport htmlEscape from './htmlEscape'\nimport multipleMath from './multipleMath'\nimport referenceDefinition from './referenceDefinition'\nimport htmlRuby from './htmlRuby'\nimport referenceLink from './referenceLink'\nimport referenceImage from './referenceImage'\n\nexport default {\n  backlashInToken,\n  backlash,\n  highlight,\n  header,\n  link,\n  htmlTag,\n  hr,\n  tailHeader,\n  hardLineBreak,\n  softLineBreak,\n  codeFense,\n  inlineMath,\n  autoLink,\n  loadImageAsync,\n  htmlImage,\n  image,\n  delEmStrongFac,\n  emoji,\n  inlineCode,\n  text,\n  del,\n  em,\n  strong,\n  htmlEscape,\n  multipleMath,\n  referenceDefinition,\n  htmlRuby,\n  referenceLink,\n  referenceImage\n}\n","/**\n * [renderBlock render one block, no matter it is a container block or text block]\n */\nexport default function renderBlock (block, activeBlocks, matches, useCache = false) {\n  const method = Array.isArray(block.children) && block.children.length > 0\n    ? 'renderContainerBlock'\n    : 'renderLeafBlock'\n\n  return this[method](block, activeBlocks, matches, useCache)\n}\n","import languages from './languages'\nlet peerDependentsMap = null\nexport const loadedCache = new Set(['markup', 'css', 'clike', 'javascript'])\n\nfunction getPeerDependentsMap () {\n  const peerDependentsMap = {}\n  Object.keys(languages).forEach(function (language) {\n    if (language === 'meta') {\n      return false\n    }\n    if (languages[language].peerDependencies) {\n      let peerDependencies = languages[language].peerDependencies\n      if (!Array.isArray(peerDependencies)) {\n        peerDependencies = [peerDependencies]\n      }\n      peerDependencies.forEach(function (peerDependency) {\n        if (!peerDependentsMap[peerDependency]) {\n          peerDependentsMap[peerDependency] = []\n        }\n        peerDependentsMap[peerDependency].push(language)\n      })\n    }\n  })\n  return peerDependentsMap\n}\n\nfunction getPeerDependents (mainLanguage) {\n  if (!peerDependentsMap) {\n    peerDependentsMap = getPeerDependentsMap()\n  }\n  return peerDependentsMap[mainLanguage] || []\n}\n\n// Look for the origin languge by alias\nexport const transfromAliasToOrigin = arr => {\n  const result = []\n  for (const lang of arr) {\n    if (languages[lang]) {\n      result.push(lang)\n    } else {\n      const language = Object.keys(languages).find(name => {\n        const l = languages[name]\n        if (l.alias) {\n          return l.alias === lang || Array.isArray(l.alias) && l.alias.includes(lang)\n        }\n        return false\n      })\n\n      if (language) {\n        result.push(language)\n      } else {\n        // The lang is not exist, the will handle in `initLoadLanguage`\n        result.push(lang)\n      }\n    }\n  }\n  return result\n}\n\nfunction initLoadLanguage (Prism) {\n  return async function loadLanguages (arr, withoutDependencies) {\n    // If no argument is passed, load all components\n    if (!arr) {\n      arr = Object.keys(languages).filter(function (language) {\n        return language !== 'meta'\n      })\n    }\n    if (arr && !arr.length) {\n      return Promise.reject('The first parameter should be a list of load languages or single language.')\n    }\n\n    if (!Array.isArray(arr)) {\n      arr = [arr]\n    }\n\n    const promises = []\n    const transformedLangs = transfromAliasToOrigin(arr)\n    for (const language of transformedLangs) {\n      // handle not existed\n      if (!languages[language]) {\n        promises.push(Promise.resolve({\n          lang: language,\n          status: 'noexist'\n        }))\n        continue\n      }\n      // handle already cached\n      if (loadedCache.has(language)) {\n        promises.push(Promise.resolve({\n          lang: language,\n          status: 'cached'\n        }))\n        continue\n      }\n\n      // Load dependencies first\n      if (!withoutDependencies && languages[language].require) {\n        const results = await loadLanguages(languages[language].require)\n        promises.push(...results)\n      }\n\n      delete Prism.languages[language]\n      await import('prismjs/components/prism-' + language)\n      loadedCache.add(language)\n      promises.push(Promise.resolve({\n        status: 'loaded',\n        lang: language\n      }))\n\n      // Reload dependents\n      const dependents = getPeerDependents(language).filter(function (dependent) {\n        // If dependent language was already loaded,\n        // we want to reload it.\n        if (Prism.languages[dependent]) {\n          delete Prism.languages[dependent]\n          return true\n        }\n        return false\n      })\n      if (dependents.length) {\n        const results = await loadLanguages(dependents, true)\n        promises.push(...results)\n      }\n    }\n\n    return Promise.all(promises)\n  }\n}\n\nexport default initLoadLanguage\n","import Prism from 'prismjs'\nimport { filter } from 'fuzzaldrin'\nimport initLoadLanguage, { loadedCache, transfromAliasToOrigin } from './loadLanguage'\nimport languages from './languages'\n\nconst prism = Prism\nwindow.Prism = Prism\nimport('prismjs/plugins/keep-markup/prism-keep-markup')\n\nconst langs = []\n\nfor (const name of Object.keys(languages)) {\n  const lang = languages[name]\n  langs.push({\n    name,\n    ...lang\n  })\n  if (lang.alias) {\n    if (typeof lang.alias === 'string') {\n      langs.push({\n        name: lang.alias,\n        ...lang\n      })\n    } else if (Array.isArray(lang.alias)) {\n      langs.push(...lang.alias.map(a => ({\n        name: a,\n        ...lang\n      })))\n    }\n  }\n}\n\nconst loadLanguage = initLoadLanguage(Prism)\n\nconst search = text => {\n  return filter(langs, text, { key: 'name' })\n}\n\n// pre load latex and yaml and html for `math block` \\ `front matter` and `html block`\nloadLanguage('latex')\nloadLanguage('yaml')\n\nexport {\n  search,\n  loadLanguage,\n  loadedCache,\n  transfromAliasToOrigin,\n  languages\n}\n\nexport default prism\n","// ASCII PUNCTUATION character\n// export const punctuation = ['!', '\"', '#', '$', '%', '&', \"'\", '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', '\\\\', ']', '^', '_', '`', '{', '|', '}', '~']\n/* eslint-disable no-useless-escape */\nexport const PUNCTUATION_REG = new RegExp(/[!\"#$%&'()*+,\\-./:;<=>?@\\[\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/)\n/* eslint-enable no-useless-escape */\n// selected from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\nexport const WHITELIST_ATTRIBUTES = [\n  'align', 'alt', 'checked', 'class', 'color', 'dir', 'disabled', 'for', 'height', 'hidden',\n  'href', 'id', 'lang', 'lazyload', 'rel', 'spellcheck', 'src', 'srcset', 'start', 'style',\n  'target', 'title', 'type', 'value', 'width'\n]\n\n// export const unicodeZsCategory = [\n//   '\\u0020', '\\u00A0', '\\u1680', '\\u2000', '\\u2001', '\\u2001',\n//   '\\u2002', '\\u2003', '\\u2004', '\\u2005', '\\u2006', '\\u2007',\n//   '\\u2008', '\\u2009', '\\u200A', '\\u202F', '\\u205F', '\\u3000'\n// ]\n\n// export const space = ['\\u0020'] // space\n\n// export const whitespaceCharacter = [\n//   ...space, // space\n//   '\\u0009', // tab\n//   '\\u000A', // newline\n//   '\\u000B', // tabulation\n//   '\\u000C', // form feed\n//   '\\u000D' // carriage return\n// ]\n\n// export const unicodeWhitespaceCharacter = [\n//   ...unicodeZsCategory,\n//   '\\u0009', // tab\n//   '\\u000D', // carriage return\n//   '\\u000A', // newline\n//   '\\u000C' // form feed\n// ]\n\nconst UNICODE_WHITESPACE_REG = /^\\s/\n\nconst validWidthAndHeight = value => {\n  if (!/^\\d{1,}$/.test(value)) return ''\n  value = parseInt(value)\n  return value >= 0 ? value : ''\n}\n\nexport const lowerPriority = (src, offset, rules) => {\n  let i\n  const ignoreIndex = []\n  for (i = 0; i < offset; i++) {\n    if (ignoreIndex.includes(i)) {\n      continue\n    }\n    const text = src.substring(i)\n    for (const rule of Object.keys(rules)) {\n      const to = rules[rule].exec(text)\n      if (to && to[0].length <= offset - i) {\n        ignoreIndex.push(i + to[0].length - 1)\n      }\n      if (to && to[0].length > offset - i) {\n        return false\n      }\n    }\n  }\n  return true\n}\n\nexport const getAttributes = html => {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(html, 'text/html')\n  const target = doc.querySelector('body').firstElementChild\n  if (!target) return null\n  const attrs = {}\n  for (const attr of target.getAttributeNames()) {\n    if (!WHITELIST_ATTRIBUTES.includes(attr)) continue\n    if (/width|height/.test(attr)) {\n      attrs[attr] = validWidthAndHeight(target.getAttribute(attr))\n    } else {\n      attrs[attr] = target.getAttribute(attr)\n    }\n  }\n\n  return attrs\n}\n\nexport const parseSrcAndTitle = (text = '') => {\n  const parts = text.split(/\\s+/)\n  if (parts.length === 1) {\n    return {\n      src: text.trim(),\n      title: ''\n    }\n  }\n  const rawTitle = parts.pop()\n  let src = ''\n  const TITLE_REG = /^('|\")(.*?)\\1$/ // we only support use `'` and `\"` to indicate a title now.\n  let title = ''\n  if (rawTitle && TITLE_REG.test(rawTitle)) {\n    title = rawTitle.replace(TITLE_REG, '$2')\n  }\n  if (title) {\n    src = text.substring(0, text.length - rawTitle.length).trim()\n  } else {\n    src = text.trim()\n  }\n  return { src, title }\n}\n\nconst canOpenEmphasis = (src, marker, pending) => {\n  const precededChar = pending.charAt(pending.length - 1) || '\\n'\n  const followedChar = src[marker.length]\n  // not followed by Unicode whitespace, \n  if (UNICODE_WHITESPACE_REG.test(followedChar)) {\n    return false\n  }\n  // and either (2a) not followed by a punctuation character,\n  // or (2b) followed by a punctuation character and preceded by Unicode whitespace or a punctuation character.\n  // For purposes of this definition, the beginning and the end of the line count as Unicode whitespace.\n  if (PUNCTUATION_REG.test(followedChar) && !(UNICODE_WHITESPACE_REG.test(precededChar) || PUNCTUATION_REG.test(precededChar))) {\n    return false\n  }\n  if (/_/.test(marker) && !(UNICODE_WHITESPACE_REG.test(precededChar) || PUNCTUATION_REG.test(precededChar))) {\n    return false\n  }\n  return true\n}\n\nconst canCloseEmphasis = (src, offset, marker) => {\n  const precededChar = src[offset - marker.length - 1]\n  const followedChar = src[offset] || '\\n'\n  // not preceded by Unicode whitespace, \n  if (UNICODE_WHITESPACE_REG.test(precededChar)) {\n    return false\n  }\n  // either (2a) not preceded by a punctuation character,\n  // or (2b) preceded by a punctuation character and followed by Unicode whitespace or a punctuation character.\n  if (PUNCTUATION_REG.test(precededChar) && !(UNICODE_WHITESPACE_REG.test(followedChar) || PUNCTUATION_REG.test(followedChar))) {\n    return false\n  }\n  if (/_/.test(marker) && !(UNICODE_WHITESPACE_REG.test(followedChar) || PUNCTUATION_REG.test(followedChar))) {\n    return false\n  }\n  return true\n}\n\nexport const validateEmphasize = (src, offset, marker, pending, rules) => {\n  if (!canOpenEmphasis(src, marker, pending)) {\n    return false\n  }\n  if (!canCloseEmphasis(src, offset, marker)) {\n    return false\n  }\n  /**\n   * 16.When there are two potential emphasis or strong emphasis spans with the same closing delimiter,\n   * the shorter one (the one that opens later) takes precedence. Thus, for example, **foo **bar baz**\n   * is parsed as **foo <strong>bar baz</strong> rather than <strong>foo **bar baz</strong>.\n   */\n  const mLen = marker.length\n  const emphasizeText = src.substring(mLen, offset - mLen)\n  const SHORTER_REG = new RegExp(` \\\\${marker.split('').join('\\\\')}[^\\\\${marker.charAt(0)}]`)\n  const CLOSE_REG = new RegExp(`[^\\\\${marker.charAt(0)}]\\\\${marker.split('').join('\\\\')}`)\n  if (emphasizeText.match(SHORTER_REG) && !emphasizeText.match(CLOSE_REG)) {\n    return false\n  }\n  /**\n   * 17.Inline code spans, links, images, and HTML tags group more tightly than emphasis.\n   * So, when there is a choice between an interpretation that contains one of these elements\n   * and one that does not, the former always wins. Thus, for example, *[foo*](bar) is parsed\n   * as *<a href=\"bar\">foo*</a> rather than as <em>[foo</em>](bar).\n   */\n  return lowerPriority(src, offset, rules)\n}\n","import { beginRules, inlineRules } from './rules'\nimport { isLengthEven, union } from '../utils'\nimport { getAttributes, parseSrcAndTitle, validateEmphasize, lowerPriority } from './utils'\n\n// const CAN_NEST_RULES = ['strong', 'em', 'link', 'del', 'a_link', 'reference_link', 'html_tag']\n// disallowed html tags in https://github.github.com/gfm/#raw-html\nconst disallowedHtmlTag = /(?:title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)/i\nconst validateRules = Object.assign({}, inlineRules)\ndelete validateRules.em\ndelete validateRules.strong\ndelete validateRules['tail_header']\ndelete validateRules['backlash']\n\nconst tokenizerFac = (src, beginRules, inlineRules, pos = 0, top, labels) => {\n  const tokens = []\n  let pending = ''\n  let pendingStartPos = pos\n\n  const pushPending = () => {\n    if (pending) {\n      tokens.push({\n        type: 'text',\n        raw: pending,\n        content: pending,\n        range: {\n          start: pendingStartPos,\n          end: pos\n        }\n      })\n    }\n\n    pendingStartPos = pos\n    pending = ''\n  }\n\n  if (beginRules && pos === 0) {\n    const beginRuleList = ['header', 'hr', 'code_fense', 'multiple_math']\n\n    for (const ruleName of beginRuleList) {\n      const to = beginRules[ruleName].exec(src)\n\n      if (to) {\n        const token = {\n          type: ruleName,\n          raw: to[0],\n          parent: tokens,\n          marker: to[1],\n          content: to[2] || '',\n          backlash: to[3] || '',\n          range: {\n            start: pos,\n            end: pos + to[0].length\n          }\n        }\n        tokens.push(token)\n        src = src.substring(to[0].length)\n        pos = pos + to[0].length\n        break\n      }\n    }\n    const def = beginRules['reference_definition'].exec(src)\n    if (def && isLengthEven(def[3])) {\n      const token = {\n        type: 'reference_definition',\n        parent: tokens,\n        leftBracket: def[1],\n        label: def[2],\n        backlash: def[3] || '',\n        rightBracket: def[4],\n        leftHrefMarker: def[5] || '',\n        href: def[6],\n        rightHrefMarker: def[7] || '',\n        leftTitlespace: def[8],\n        titleMarker: def[9] || '',\n        title: def[10] || '',\n        rightTitleSpace: def[11] || '',\n        raw: def[0],\n        range: {\n          start: pos,\n          end: pos + def[0].length\n        }\n      }\n      tokens.push(token)\n      src = src.substring(def[0].length)\n      pos = pos + def[0].length\n    }\n  }\n\n  while (src.length) {\n    // backlash\n    const backTo = inlineRules.backlash.exec(src)\n    if (backTo) {\n      pushPending()\n      tokens.push({\n        type: 'backlash',\n        raw: backTo[1],\n        marker: backTo[1],\n        parent: tokens,\n        content: '',\n        range: {\n          start: pos,\n          end: pos + backTo[1].length\n        }\n      })\n      pending += pending + backTo[2]\n      pendingStartPos = pos + backTo[1].length\n      src = src.substring(backTo[0].length)\n      pos = pos + backTo[0].length\n      continue\n    }\n    // strong | em\n    const emRules = ['strong', 'em']\n    let inChunk\n    for (const rule of emRules) {\n      const to = inlineRules[rule].exec(src)\n      if (to && isLengthEven(to[3])) {\n        const isValid = validateEmphasize(src, to[0].length, to[1], pending, validateRules)\n        if (isValid) {\n          inChunk = true\n          pushPending()\n          const range = {\n            start: pos,\n            end: pos + to[0].length\n          }\n          const marker = to[1]\n          tokens.push({\n            type: rule,\n            raw: to[0],\n            range,\n            marker,\n            parent: tokens,\n            children: tokenizerFac(to[2], undefined, inlineRules, pos + to[1].length, false, labels),\n            backlash: to[3]\n          })\n          src = src.substring(to[0].length)\n          pos = pos + to[0].length\n        }\n        break\n      }\n    }\n    if (inChunk) continue\n\n    // strong | em | emoji | inline_code | del | inline_math\n    const chunks = ['inline_code', 'del', 'emoji', 'inline_math']\n    for (const rule of chunks) {\n      const to = inlineRules[rule].exec(src)\n      if (to && isLengthEven(to[3])) {\n        if (rule === 'emoji' && !lowerPriority(src, to[0].length, validateRules)) break\n        inChunk = true\n        pushPending()\n        const range = {\n          start: pos,\n          end: pos + to[0].length\n        }\n        const marker = to[1]\n        if (rule === 'inline_code' || rule === 'emoji' || rule === 'inline_math') {\n          tokens.push({\n            type: rule,\n            raw: to[0],\n            range,\n            marker,\n            parent: tokens,\n            content: to[2],\n            backlash: to[3]\n          })\n        } else {\n          tokens.push({\n            type: rule,\n            raw: to[0],\n            range,\n            marker,\n            parent: tokens,\n            children: tokenizerFac(to[2], undefined, inlineRules, pos + to[1].length, false, labels),\n            backlash: to[3]\n          })\n        }\n        src = src.substring(to[0].length)\n        pos = pos + to[0].length\n        break\n      }\n    }\n    if (inChunk) continue\n    // image\n    const imageTo = inlineRules.image.exec(src)\n    if (imageTo && isLengthEven(imageTo[3]) && isLengthEven(imageTo[5])) {\n      const { src: imageSrc, title } = parseSrcAndTitle(imageTo[4])\n      pushPending()\n      tokens.push({\n        type: 'image',\n        raw: imageTo[0],\n        marker: imageTo[1],\n        srcAndTitle: imageTo[4],\n        src: imageSrc,\n        title,\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + imageTo[0].length\n        },\n        alt: imageTo[2],\n        backlash: {\n          first: imageTo[3],\n          second: imageTo[5]\n        }\n      })\n      src = src.substring(imageTo[0].length)\n      pos = pos + imageTo[0].length\n      continue\n    }\n    // link\n    const linkTo = inlineRules.link.exec(src)\n    if (linkTo && isLengthEven(linkTo[3]) && isLengthEven(linkTo[5])) {\n      const { src: href, title } = parseSrcAndTitle(linkTo[4])\n      pushPending()\n      tokens.push({\n        type: 'link',\n        raw: linkTo[0],\n        marker: linkTo[1],\n        hrefAndTitle: linkTo[4],\n        href,\n        title,\n        parent: tokens,\n        anchor: linkTo[2],\n        range: {\n          start: pos,\n          end: pos + linkTo[0].length\n        },\n        children: tokenizerFac(linkTo[2], undefined, inlineRules, pos + linkTo[1].length, false, labels),\n        backlash: {\n          first: linkTo[3],\n          second: linkTo[5]\n        }\n      })\n\n      src = src.substring(linkTo[0].length)\n      pos = pos + linkTo[0].length\n      continue\n    }\n\n    const rLinkTo = inlineRules['reference_link'].exec(src)\n    if (rLinkTo && labels.has(rLinkTo[3] || rLinkTo[1]) && isLengthEven(rLinkTo[2]) && isLengthEven(rLinkTo[4])) {\n      pushPending()\n      tokens.push({\n        type: 'reference_link',\n        raw: rLinkTo[0],\n        isFullLink: !!rLinkTo[3],\n        parent: tokens,\n        anchor: rLinkTo[1],\n        backlash: {\n          first: rLinkTo[2],\n          second: rLinkTo[4] || ''\n        },\n        label: rLinkTo[3] || rLinkTo[1],\n        range: {\n          start: pos,\n          end: pos + rLinkTo[0].length\n        },\n        children: tokenizerFac(rLinkTo[1], undefined, inlineRules, pos + 1, false, labels)\n      })\n\n      src = src.substring(rLinkTo[0].length)\n      pos = pos + rLinkTo[0].length\n      continue\n    }\n\n    const rImageTo = inlineRules['reference_image'].exec(src)\n    if (rImageTo && labels.has(rImageTo[3] || rImageTo[1]) && isLengthEven(rImageTo[2]) && isLengthEven(rImageTo[4])) {\n      pushPending()\n\n      tokens.push({\n        type: 'reference_image',\n        raw: rImageTo[0],\n        isFullLink: !!rImageTo[3],\n        parent: tokens,\n        alt: rImageTo[1],\n        backlash: {\n          first: rImageTo[2],\n          second: rImageTo[4] || ''\n        },\n        label: rImageTo[3] || rImageTo[1],\n        range: {\n          start: pos,\n          end: pos + rImageTo[0].length\n        }\n      })\n\n      src = src.substring(rImageTo[0].length)\n      pos = pos + rImageTo[0].length\n      continue\n    }\n\n    // html escape\n    const htmlEscapeTo = inlineRules['html_escape'].exec(src)\n    if (htmlEscapeTo) {\n      const len = htmlEscapeTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'html_escape',\n        raw: htmlEscapeTo[0],\n        escapeCharacter: htmlEscapeTo[1],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos = pos + len\n      continue\n    }\n\n    // html-tag\n    const htmlTo = inlineRules['html_tag'].exec(src)\n    let attrs\n    // handle comment\n    if (htmlTo && htmlTo[1] && !htmlTo[3]) {\n      const len = htmlTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'html_tag',\n        raw: htmlTo[0],\n        tag: '<!---->',\n        openTag: htmlTo[1],\n        parent: tokens,\n        attrs: {},\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos = pos + len\n      continue\n    }\n    if (htmlTo && !(disallowedHtmlTag.test(htmlTo[3])) && (attrs = getAttributes(htmlTo[0]))) {\n      const tag = htmlTo[3]\n      const html = htmlTo[0]\n      const len = htmlTo[0].length\n\n      pushPending()\n      tokens.push({\n        type: 'html_tag',\n        raw: html,\n        tag,\n        openTag: htmlTo[2],\n        closeTag: htmlTo[5],\n        parent: tokens,\n        attrs,\n        content: htmlTo[4],\n        children: htmlTo[4] ? tokenizerFac(htmlTo[4], undefined, inlineRules, pos + htmlTo[2].length, false, labels) : '',\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos = pos + len\n      continue\n    }\n\n    // auto link\n    const autoLTo = inlineRules['auto_link'].exec(src)\n    if (autoLTo) {\n      pushPending()\n      tokens.push({\n        type: 'auto_link',\n        raw: autoLTo[0],\n        href: autoLTo[0],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + autoLTo[0].length\n        }\n      })\n      src = src.substring(autoLTo[0].length)\n      pos = pos + autoLTo[0].length\n      continue\n    }\n    // soft line break\n    const softTo = inlineRules['soft_line_break'].exec(src)\n    if (softTo) {\n      const len = softTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'soft_line_break',\n        raw: softTo[0],\n        lineBreak: softTo[1],\n        isAtEnd: softTo.input.length === softTo[0].length,\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos += len\n      continue\n    }\n    // hard line break\n    const hardTo = inlineRules['hard_line_break'].exec(src)\n    if (hardTo) {\n      const len = hardTo[0].length\n      pushPending()\n      tokens.push({\n        type: 'hard_line_break',\n        raw: hardTo[0],\n        spaces: hardTo[1], // The space in hard line break\n        lineBreak: hardTo[2], // \\n\n        isAtEnd: hardTo.input.length === hardTo[0].length,\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + len\n        }\n      })\n      src = src.substring(len)\n      pos += len\n      continue\n    }\n\n    // tail header\n    const tailTo = inlineRules['tail_header'].exec(src)\n    if (tailTo && top) {\n      pushPending()\n      tokens.push({\n        type: 'tail_header',\n        raw: tailTo[1],\n        marker: tailTo[1],\n        parent: tokens,\n        range: {\n          start: pos,\n          end: pos + tailTo[1].length\n        }\n      })\n      src = src.substring(tailTo[1].length)\n      pos += tailTo[1].length\n      continue\n    }\n\n    if (!pending) pendingStartPos = pos\n    pending += src[0]\n    src = src.substring(1)\n    pos++\n  }\n\n  pushPending()\n  return tokens\n}\n\nexport const tokenizer = (src, highlights = [], hasBeginRules = true, labels = new Map()) => {\n  const tokens = tokenizerFac(src, hasBeginRules ? beginRules : null, inlineRules, 0, true, labels)\n\n  const postTokenizer = tokens => {\n    for (const token of tokens) {\n      for (const light of highlights) {\n        const highlight = union(token.range, light)\n        if (highlight) {\n          if (token.highlights && Array.isArray(token.highlights)) {\n            token.highlights.push(highlight)\n          } else {\n            token.highlights = [highlight]\n          }\n        }\n      }\n      if (token.children && Array.isArray(token.children)) {\n        postTokenizer(token.children)\n      }\n    }\n  }\n  if (highlights.length) {\n    postTokenizer(tokens)\n  }\n\n  return tokens\n}\n\n// transform `tokens` to text ignore the range of token\n// the opposite of tokenizer\nexport const generator = tokens => {\n  let result = ''\n  for (const token of tokens) {\n    result += token.raw\n  }\n  return result\n}\n","import katex from 'katex'\nimport mermaid from 'mermaid'\nimport prism, { loadedCache, transfromAliasToOrigin } from '../../../prism/'\nimport { CLASS_OR_ID, DEVICE_MEMORY, PREVIEW_DOMPURIFY_CONFIG, HAS_TEXT_BLOCK_REG } from '../../../config'\nimport { tokenizer } from '../../'\nimport { snakeToCamel, sanitize, escapeHtml, getLongUniqueId, getImageInfo } from '../../../utils'\nimport { h, htmlToVNode } from '../snabbdom'\n\n// todo@jocs any better solutions?\nconst MARKER_HASK = {\n  '<': `%${getLongUniqueId()}%`,\n  '>': `%${getLongUniqueId()}%`,\n  '\"': `%${getLongUniqueId()}%`,\n  \"'\": `%${getLongUniqueId()}%`\n}\n\nconst getHighlightHtml = (text, highlights, escape = false) => {\n  let code = ''\n  let pos = 0\n  for (const highlight of highlights) {\n    const { start, end, active } = highlight\n    code += text.substring(pos, start)\n    const className = active ? 'ag-highlight' : 'ag-selection'\n    code += escape\n      ? `${MARKER_HASK['<']}span class=${MARKER_HASK['\"']}${className}${MARKER_HASK['\"']}${MARKER_HASK['>']}${text.substring(start, end)}${MARKER_HASK['<']}/span${MARKER_HASK['>']}`\n      : `<span class=\"${className}\">${text.substring(start, end)}</span>`\n    pos = end\n  }\n  if (pos !== text.length) {\n    code += text.substring(pos)\n  }\n  return code\n}\n\nconst hasReferenceToken = tokens => {\n  let result = false\n  const travel = tokens => {\n    for (const token of tokens) {\n      if (/reference_image|reference_link/.test(token.type)) {\n        result = true\n        break\n      }\n      if (Array.isArray(token.children) && token.children.length) {\n        travel(token.children)\n      }\n    }\n  }\n  travel(tokens)\n  return result\n}\n\nexport default function renderLeafBlock (block, activeBlocks, matches, useCache = false) {\n  const { loadMathMap } = this\n  const { cursor } = this.muya.contentState\n  let selector = this.getSelector(block, activeBlocks)\n  // highlight search key in block\n  const highlights = matches.filter(m => m.key === block.key)\n  const {\n    text,\n    type,\n    align,\n    checked,\n    key,\n    lang,\n    functionType,\n    editable\n  } = block\n\n  const data = {\n    props: {},\n    attrs: {},\n    dataset: {},\n    style: {}\n  }\n\n  let children = ''\n\n  if (text) {\n    let tokens = []\n    if (highlights.length === 0 && this.tokenCache.has(text)) {\n      tokens = this.tokenCache.get(text)\n    } else if (\n      HAS_TEXT_BLOCK_REG.test(type) &&\n      functionType !== 'codeLine' &&\n      functionType !== 'languageInput'\n    ) {\n      const hasBeginRules = type === 'span'\n      tokens = tokenizer(text, highlights, hasBeginRules, this.labels)\n      const hasReferenceTokens = hasReferenceToken(tokens)\n      if (highlights.length === 0 && useCache && DEVICE_MEMORY >= 4 && !hasReferenceTokens) {\n        this.tokenCache.set(text, tokens)\n      }\n    }\n\n    children = tokens.reduce((acc, token) => [...acc, ...this[snakeToCamel(token.type)](h, cursor, block, token)], [])\n  }\n\n  if (editable === false) {\n    Object.assign(data.attrs, {\n      contenteditable: 'false'\n    })\n  }\n\n  if (/th|td/.test(type) && align) {\n    Object.assign(data.attrs, {\n      style: `text-align:${align}`\n    })\n  } else if (type === 'div') {\n    const code = this.codeCache.get(block.preSibling)\n    switch (functionType) {\n      case 'html': {\n        selector += `.${CLASS_OR_ID['AG_HTML_PREVIEW']}`\n        const htmlContent = sanitize(code, PREVIEW_DOMPURIFY_CONFIG)\n        // handle empty html bock\n        if (/^<([a-z][a-z\\d]*)[^>]*?>(\\s*)<\\/\\1>$/.test(htmlContent.trim())) {\n          children = htmlToVNode('<div class=\"ag-empty\">&lt;Empty HTML Block&gt;</div>')\n        } else {\n          const parser = new DOMParser()\n          const doc = parser.parseFromString(htmlContent, 'text/html')\n          const imgs = doc.documentElement.querySelectorAll('img')\n          for (const img of imgs) {\n            const src = img.getAttribute('src')\n            const imageInfo = getImageInfo(src)\n            img.setAttribute('src', imageInfo.src)\n          }\n\n          children = htmlToVNode(doc.documentElement.querySelector('body').innerHTML)\n        }\n        break\n      }\n      case 'multiplemath': {\n        const key = `${code}_display_math`\n        selector += `.${CLASS_OR_ID['AG_CONTAINER_PREVIEW']}`\n        if (code === '') {\n          children = '< Empty Mathematical Formula >'\n          selector += `.${CLASS_OR_ID['AG_EMPTY']}`\n        } else if (loadMathMap.has(key)) {\n          children = loadMathMap.get(key)\n        } else {\n          try {\n            const html = katex.renderToString(code, {\n              displayMode: true\n            })\n\n            children = htmlToVNode(html)\n            loadMathMap.set(key, children)\n          } catch (err) {\n            children = '< Invalid Mathematical Formula >'\n            selector += `.${CLASS_OR_ID['AG_MATH_ERROR']}`\n          }\n        }\n        break\n      }\n      case 'mermaid': {\n        selector += `.${CLASS_OR_ID['AG_CONTAINER_PREVIEW']}`\n        if (code === '') {\n          children = '< Empty Mermaid Block >'\n          selector += `.${CLASS_OR_ID['AG_EMPTY']}`\n        } else {\n          try {\n            mermaid.parse(code)\n            children = code\n            this.mermaidCache.add(`#${block.key}`)\n          } catch (err) {\n            children = '< Invalid Mermaid Codes >'\n            selector += `.${CLASS_OR_ID['AG_MATH_ERROR']}`\n          }\n        }\n        break\n      }\n      case 'flowchart':\n      case 'sequence':\n      case 'vega-lite': {\n        selector += `.${CLASS_OR_ID['AG_CONTAINER_PREVIEW']}`\n        if (code === '') {\n          children = '< Empty Diagram Block >'\n          selector += `.${CLASS_OR_ID['AG_EMPTY']}`\n        } else {\n          children = ''\n          this.diagramCache.set(`#${block.key}`, {\n            code,\n            functionType\n          })\n        }\n        break\n      }\n    }\n  } else if (type === 'input') {\n    Object.assign(data.attrs, {\n      type: 'checkbox'\n    })\n    selector = `${type}#${key}.${CLASS_OR_ID['AG_TASK_LIST_ITEM_CHECKBOX']}`\n    if (checked) {\n      Object.assign(data.attrs, {\n        checked: true\n      })\n      selector += `.${CLASS_OR_ID['AG_CHECKBOX_CHECKED']}`\n    }\n    children = ''\n  } else if (type === 'span' && functionType === 'codeLine') {\n    const code = escapeHtml(getHighlightHtml(text, highlights, true))\n      .replace(new RegExp(MARKER_HASK['<'], 'g'), '<')\n      .replace(new RegExp(MARKER_HASK['>'], 'g'), '>')\n      .replace(new RegExp(MARKER_HASK['\"'], 'g'), '\"')\n      .replace(new RegExp(MARKER_HASK[\"'\"], 'g'), \"'\")\n    // transfrom alias to original language\n    const transformedLang = transfromAliasToOrigin([lang])[0]\n\n    if (transformedLang && /\\S/.test(code) && loadedCache.has(transformedLang)) {\n      const wrapper = document.createElement('div')\n      wrapper.classList.add(`language-${transformedLang}`)\n      wrapper.innerHTML = code\n      prism.highlightElement(wrapper, false, function () {\n        const highlightedCode = this.innerHTML\n        selector += `.language-${transformedLang}`\n        children = htmlToVNode(highlightedCode)\n      })\n    } else {\n      children = htmlToVNode(code)\n    }\n  } else if (type === 'span' && functionType === 'languageInput') {\n    const html = getHighlightHtml(text, highlights)\n    children = htmlToVNode(html)\n  }\n  if (!block.parent) {\n    return h(selector, data, [this.renderIcon(block), ...children])\n  } else {\n    return h(selector, data, children)\n  } \n}\n","// used for render table tookbar or others.\nimport { h } from '../snabbdom'\nimport { CLASS_OR_ID } from '../../../config'\nimport TableIcon from '../../../assets/pngicon/table/table@2x.png'\nimport AlignLeftIcon from '../../../assets/pngicon/algin_left/algin_left@2x.png'\nimport AlignRightIcon from '../../../assets/pngicon/algin_right/algin_right@2x.png'\nimport AlignCenterIcon from '../../../assets/pngicon/algin_center/algin_center@2x.png'\nimport DeleteIcon from '../../../assets/pngicon/delete/delete@2x.png'\n\nexport const TABLE_TOOLS = [{\n  label: 'table',\n  title: 'Resize Table',\n  icon: TableIcon\n}, {\n  label: 'left',\n  title: 'Align Left',\n  icon: AlignLeftIcon\n}, {\n  label: 'center',\n  title: 'Align Center',\n  icon: AlignCenterIcon\n}, {\n  label: 'right',\n  title: 'Align Right',\n  icon: AlignRightIcon\n}, {\n  label: 'delete',\n  title: 'Delete Table',\n  icon: DeleteIcon\n}]\n\nconst renderToolBar = (type, tools, activeBlocks) => {\n  const children = tools.map(tool => {\n    const { label, title, icon } = tool\n    const { align } = activeBlocks[0]\n    let selector = 'li'\n    if (align && label === align) {\n      selector += '.active'\n    }\n    const iconVnode = h('i.icon', h(`i.icon-${label}`, {\n      style: {\n        background: `url(${icon}) no-repeat`,\n        'background-size': '100%'\n      }\n    }, ''))\n    return h(selector, {\n      dataset: {\n        label,\n        tooltip: title\n      }\n    }, iconVnode)\n  })\n  let selector = `div.ag-tool-${type}.${CLASS_OR_ID['AG_TOOL_BAR']}`\n\n  return h(selector, {\n    attrs: {\n      contenteditable: false\n    }\n  }, h('ul', children))\n}\n\nexport const renderTableTools = (activeBlocks) => {\n  return renderToolBar('table', TABLE_TOOLS, activeBlocks)\n}\n","import { h } from '../snabbdom'\nimport { CLASS_OR_ID } from '../../../config'\nimport htmlIcon from '../../../assets/pngicon/html/2.png'\n\nexport const renderEditIcon = () => {\n  const selector = `a.${CLASS_OR_ID['AG_CONTAINER_ICON']}`\n  const iconVnode = h('i.icon', h(`i.icon-inner`, {\n    style: {\n      background: `url(${htmlIcon}) no-repeat`,\n      'background-size': '100%'\n    }\n  }, ''))\n\n  return h(selector, {\n    attrs: {\n      contenteditable: 'false'\n    }\n  }, iconVnode)\n}\n","import { CLASS_OR_ID } from '../../../config'\nimport { renderTableTools } from './renderToolBar'\nimport { renderEditIcon } from './renderContainerEditIcon'\nimport { h } from '../snabbdom'\n\nconst PRE_BLOCK_HASH = {\n  'fencecode': `.${CLASS_OR_ID['AG_FENCE_CODE']}`,\n  'indentcode': `.${CLASS_OR_ID['AG_INDENT_CODE']}`,\n  'html': `.${CLASS_OR_ID['AG_HTML_BLOCK']}`,\n  'frontmatter': `.${CLASS_OR_ID['AG_FRONT_MATTER']}`,\n  'multiplemath': `.${CLASS_OR_ID['AG_MULTIPLE_MATH']}`,\n  'flowchart': `.${CLASS_OR_ID['AG_FLOWCHART']}`,\n  'sequence': `.${CLASS_OR_ID['AG_SEQUENCE']}`,\n  'mermaid': `.${CLASS_OR_ID['AG_MERMAID']}`,\n  'vega-lite': `.${CLASS_OR_ID['AG_VEGA_LITE']}`\n}\n\nexport default function renderContainerBlock (block, activeBlocks, matches, useCache = false) {\n  let selector = this.getSelector(block, activeBlocks)\n  const {\n    type,\n    headingStyle,\n    editable,\n    functionType,\n    listType,\n    listItemType,\n    bulletMarkerOrDelimiter,\n    isLooseListItem,\n    lang\n  } = block\n  const children = block.children.map(child => this.renderBlock(child, activeBlocks, matches, useCache))\n  const data = {\n    attrs: {},\n    dataset: {}\n  }\n\n  if (editable === false) {\n    Object.assign(data.attrs, { contenteditable: 'false' })\n  }\n\n  if (/code|pre/.test(type) && typeof lang === 'string' && !!lang) {\n    selector += `.language-${lang}`\n  }\n\n  if (/^h/.test(type)) {\n    if (/^h\\d$/.test(type)) {\n      // TODO: This should be the best place to create and update the TOC.\n      //       Cache `block.key` and title and update only if necessary.\n      Object.assign(data.dataset, {\n        head: type\n      })\n      selector += `.${headingStyle}`\n    }\n    Object.assign(data.dataset, {\n      role: type\n    })\n  } else if (type === 'figure') {\n    if (functionType) {\n      Object.assign(data.dataset, { role: functionType.toUpperCase() })\n      if (functionType === 'table') {\n        children.unshift(renderTableTools(activeBlocks))\n      } else {\n        children.unshift(renderEditIcon())\n      }\n    }\n\n    if (\n      /html|multiplemath|flowchart|mermaid|sequence|vega-lite/.test(functionType)\n    ) {\n      selector += `.${CLASS_OR_ID['AG_CONTAINER_BLOCK']}`\n    }\n  } else if (/ul|ol/.test(type) && listType) {\n    selector += `.ag-${listType}-list`\n    if (type === 'ol') {\n      Object.assign(data.attrs, { start: block.start })\n    }\n  } else if (type === 'li' && listItemType) {\n    Object.assign(data.dataset, { marker: bulletMarkerOrDelimiter })\n    selector += `.${CLASS_OR_ID['AG_LIST_ITEM']}`\n    selector += `.ag-${listItemType}-list-item`\n    selector += isLooseListItem ? `.${CLASS_OR_ID['AG_LOOSE_LIST_ITEM']}` : `.${CLASS_OR_ID['AG_TIGHT_LIST_ITEM']}`\n  } else if (type === 'pre') {\n    Object.assign(data.dataset, { role: functionType })\n    selector += PRE_BLOCK_HASH[block.functionType]\n\n    if (/html|multiplemath|mermaid|flowchart|wega-lite|sequence/.test(functionType)) {\n      const codeBlock = block.children[0]\n      const code = codeBlock.children.map(line => line.text).join('\\n')\n      this.codeCache.set(block.key, code)\n    }\n  }\n\n  if (!block.parent) {\n    children.unshift(this.renderIcon(block))\n  }\n\n  return h(selector, data, children)\n}\n","import { h } from '../snabbdom'\nimport { CLASS_OR_ID } from '../../../config'\nimport paragraphIcon from '../../../assets/pngicon/paragraph/2.png'\nimport htmlIcon from '../../../assets/pngicon/html/2.png'\nimport hrIcon from '../../../assets/pngicon/horizontal_line/2.png'\nimport frontMatterIcon from '../../../assets/pngicon/front_matter/2.png'\nimport header1Icon from '../../../assets/pngicon/heading_1/2.png'\nimport header2Icon from '../../../assets/pngicon/heading_2/2.png'\nimport header3Icon from '../../../assets/pngicon/heading_3/2.png'\nimport header4Icon from '../../../assets/pngicon/heading_4/2.png'\nimport header5Icon from '../../../assets/pngicon/heading_5/2.png'\nimport header6Icon from '../../../assets/pngicon/heading_6/2.png'\nimport newTableIcon from '../../../assets/pngicon/new_table/2.png'\nimport bulletListIcon from '../../../assets/pngicon/bullet_list/2.png'\nimport codeIcon from '../../../assets/pngicon/code/2.png'\nimport quoteIcon from '../../../assets/pngicon/quote_block/2.png'\nimport todoListIcon from '../../../assets/pngicon/todolist/2.png'\nimport mathblockIcon from '../../../assets/pngicon/math/2.png'\nimport orderListIcon from '../../../assets/pngicon/order_list/2.png'\nimport flowchartIcon from '../../../assets/pngicon/flowchart/2.png'\nimport sequenceIcon from '../../../assets/pngicon/sequence/2.png'\nimport mermaidIcon from '../../../assets/pngicon/mermaid/2.png'\nimport vegaIcon from '../../../assets/pngicon/chart/2.png'\n\nconst FUNCTION_TYPE_HASH = {\n  'mermaid': mermaidIcon,\n  'flowchart': flowchartIcon,\n  'sequence': sequenceIcon,\n  'vega-lite': vegaIcon,\n  'table': newTableIcon,\n  'html': htmlIcon,\n  'multiplemath': mathblockIcon,\n  'fencecode': codeIcon,\n  'indentcode': codeIcon,\n  'frontmatter': frontMatterIcon\n}\n\nexport default function renderIcon (block) {\n  if (block.parent) {\n    console.error('Only top most block can render front icon button.')\n  }\n  const { type, functionType, listType } = block\n  const selector = `a.${CLASS_OR_ID['AG_FRONT_ICON']}`\n  let icon = null\n\n  switch (type) {\n    case 'p': {\n      icon = paragraphIcon\n      break\n    }\n    case 'figure':\n    case 'pre': {\n      icon = FUNCTION_TYPE_HASH[functionType]\n      if (!icon) {\n        console.warn(`Unhandled functionType ${functionType}`)\n        icon = paragraphIcon\n      }\n      break\n    }\n    case 'ul': {\n      if (listType === 'task') {\n        icon = todoListIcon\n      } else {\n        icon = bulletListIcon\n      }\n      break\n    }\n    case 'ol': {\n      icon = orderListIcon\n      break\n    }\n    case 'blockquote': {\n      icon = quoteIcon\n      break\n    }\n    case 'h1': {\n      icon = header1Icon\n      break\n    }\n    case 'h2': {\n      icon = header2Icon\n      break\n    }\n    case 'h3': {\n      icon = header3Icon\n      break\n    }\n    case 'h4': {\n      icon = header4Icon\n      break\n    }\n    case 'h5': {\n      icon = header5Icon\n      break\n    }\n    case 'h6': {\n      icon = header6Icon\n      break\n    }\n    case 'hr': {\n      icon = hrIcon\n      break\n    }\n    default:\n      icon = paragraphIcon\n      break\n  }\n\n  const iconVnode = h('i.icon', h(`i.icon-inner`, {\n    style: {\n      background: `url(${icon}) no-repeat`,\n      'background-size': '100%'\n    }\n  }, ''))\n\n  return h(selector, {\n    attrs: {\n      contenteditable: 'false'\n    }\n  }, iconVnode)\n}\n","import renderBlock from './renderBlock'\nimport renderLeafBlock from './renderLeafBlock'\nimport renderContainerBlock from './renderContainerBlock'\nimport renderIcon from './renderIcon'\n\nexport default {\n  renderBlock,\n  renderLeafBlock,\n  renderContainerBlock,\n  renderIcon\n}\n","import mermaid from 'mermaid'\nimport flowchart from 'flowchart.js'\nimport Diagram from './sequence'\nimport vegaEmbed from 'vega-embed'\nimport { CLASS_OR_ID } from '../../config'\nimport { conflict, mixins, camelToSnake } from '../../utils'\nimport { patch, toVNode, toHTML, h } from './snabbdom'\nimport { beginRules } from '../rules'\nimport renderInlines from './renderInlines'\nimport renderBlock from './renderBlock'\n\nclass StateRender {\n  constructor (muya) {\n    this.muya = muya\n    this.eventCenter = muya.eventCenter\n    this.codeCache = new Map()\n    this.loadImageMap = new Map()\n    this.loadMathMap = new Map()\n    this.mermaidCache = new Set()\n    this.diagramCache = new Map()\n    this.tokenCache = new Map()\n    this.labels = new Map()\n    this.urlMap = new Map()\n    this.container = null\n  }\n\n  setContainer (container) {\n    this.container = container\n  }\n\n  // collect link reference definition\n  collectLabels (blocks) {\n    this.labels.clear()\n\n    const travel = block => {\n      const { text, children } = block\n      if (children && children.length) {\n        children.forEach(c => travel(c))\n      } else if (text) {\n        const tokens = beginRules['reference_definition'].exec(text)\n        if (tokens) {\n          const key = (tokens[2] + tokens[3]).toLowerCase()\n          if (!this.labels.has(key)) {\n            this.labels.set(key, {\n              href: tokens[6],\n              title: tokens[10] || ''\n            })\n          }\n        }\n      }\n    }\n\n    blocks.forEach(b => travel(b))\n  }\n\n  checkConflicted (block, token, cursor) {\n    const { start, end } = cursor\n    const key = block.key\n    const { start: tokenStart, end: tokenEnd } = token.range\n\n    if (key !== start.key && key !== end.key) {\n      return false\n    } else if (key === start.key && key !== end.key) {\n      return conflict([tokenStart, tokenEnd], [start.offset, start.offset])\n    } else if (key !== start.key && key === end.key) {\n      return conflict([tokenStart, tokenEnd], [end.offset, end.offset])\n    } else {\n      return conflict([tokenStart, tokenEnd], [start.offset, start.offset]) ||\n        conflict([tokenStart, tokenEnd], [end.offset, end.offset])\n    }\n  }\n\n  getClassName (outerClass, block, token, cursor) {\n    return outerClass || (this.checkConflicted(block, token, cursor) ? CLASS_OR_ID['AG_GRAY'] : CLASS_OR_ID['AG_HIDE'])\n  }\n\n  getHighlightClassName (active) {\n    return active ? CLASS_OR_ID['AG_HIGHLIGHT'] : CLASS_OR_ID['AG_SELECTION']\n  }\n\n  getSelector (block, activeBlocks) {\n    const { cursor, selectedBlock } = this.muya.contentState\n    const type = block.type === 'hr' ? 'p' : block.type\n    const isActive = activeBlocks.some(b => b.key === block.key) || block.key === cursor.start.key\n\n    let selector = `${type}#${block.key}.${CLASS_OR_ID['AG_PARAGRAPH']}`\n    if (isActive) {\n      selector += `.${CLASS_OR_ID['AG_ACTIVE']}`\n    }\n    if (type === 'span') {\n      selector += `.ag-${camelToSnake(block.functionType)}`\n    }\n    if (!block.parent && selectedBlock && block.key === selectedBlock.key) {\n      selector += `.${CLASS_OR_ID['AG_SELECTED']}`\n    }\n    return selector\n  }\n\n  renderMermaid () {\n    if (this.mermaidCache.size) {\n      mermaid.initialize({\n        theme: this.muya.options.mermaidTheme\n      })\n      mermaid.init(undefined, document.querySelectorAll(Array.from(this.mermaidCache).join(', ')))\n      this.mermaidCache.clear()\n    }\n  }\n\n  async renderDiagram () {\n    const cache = this.diagramCache\n    const RENDER_MAP = {\n      'flowchart': flowchart,\n      'sequence': Diagram,\n      'vega-lite': vegaEmbed\n    }\n    if (cache.size) {\n      for (const [key, value] of cache.entries()) {\n        const target = document.querySelector(key)\n        const { code, functionType } = value\n        const render = RENDER_MAP[functionType]\n        const options = {}\n        if (functionType === 'sequence') {\n          Object.assign(options, { theme: this.muya.options.sequenceTheme })\n        } else if (functionType === 'vega-lite') {\n          Object.assign(options, {\n            actions: false, tooltip: false, renderer: 'svg',\n            theme: this.muya.options.vegaTheme\n          })\n        }\n        try {\n          if (functionType === 'flowchart' || functionType === 'sequence') {\n            const diagram = render.parse(code)\n            target.innerHTML = ''\n            diagram.drawSVG(target, options)\n          } else if (functionType === 'vega-lite') {\n            await render(key, JSON.parse(code), options)\n          }\n        } catch (err) {\n          target.innerHTML = `< Invalid ${functionType === 'flowchart' ? 'Flow Chart' : 'Sequence'} Codes >`\n          target.classList.add(CLASS_OR_ID['AG_MATH_ERROR'])\n        }\n      }\n      this.diagramCache.clear()\n    }\n  }\n\n  render (blocks, activeBlocks, matches) {\n    const selector = `div#${CLASS_OR_ID['AG_EDITOR_ID']}`\n    const children = blocks.map(block => {\n      return this.renderBlock(block, activeBlocks, matches, true)\n    })\n\n    const newVdom = h(selector, children)\n    const rootDom = document.querySelector(selector) || this.container\n    const oldVdom = toVNode(rootDom)\n\n    patch(oldVdom, newVdom)\n    this.renderMermaid()\n    this.renderDiagram()\n    this.codeCache.clear()\n  }\n\n  // Only render the blocks which you updated\n  partialRender (blocks, activeBlocks, matches, startKey, endKey) {\n    const cursorOutMostBlock = activeBlocks[activeBlocks.length - 1]\n    // If cursor is not in render blocks, need to render cursor block independently\n    const needRenderCursorBlock = blocks.indexOf(cursorOutMostBlock) === -1\n    const newVnode = h('section', blocks.map(block => this.renderBlock(block, activeBlocks, matches)))\n    const html = toHTML(newVnode).replace(/^<section>([\\s\\S]+?)<\\/section>$/, '$1')\n\n    const needToRemoved = []\n    const firstOldDom = startKey\n      ? document.querySelector(`#${startKey}`)\n      : document.querySelector(`div#${CLASS_OR_ID['AG_EDITOR_ID']}`).firstElementChild\n    if (!firstOldDom) {\n      // TODO@Jocs Just for fix #541, Because I'll rewrite block and render method, it will nolonger have this issue.\n      return\n    }\n    needToRemoved.push(firstOldDom)\n    let nextSibling = firstOldDom.nextElementSibling\n    while (nextSibling && nextSibling.id !== endKey) {\n      needToRemoved.push(nextSibling)\n      nextSibling = nextSibling.nextElementSibling\n    }\n    nextSibling && needToRemoved.push(nextSibling)\n\n    firstOldDom.insertAdjacentHTML('beforebegin', html)\n\n    Array.from(needToRemoved).forEach(dom => dom.remove())\n\n    // Render cursor block independently\n    if (needRenderCursorBlock) {\n      const { key } = cursorOutMostBlock\n      const cursorDom = document.querySelector(`#${key}`)\n      if (cursorDom) {\n        const oldCursorVnode = toVNode(cursorDom)\n        const newCursorVnode = this.renderBlock(cursorOutMostBlock, activeBlocks, matches)\n        patch(oldCursorVnode, newCursorVnode)\n      }\n    }\n\n    this.renderMermaid()\n    this.renderDiagram()\n    this.codeCache.clear()\n  }\n\n  /**\n   * Only render one block.\n   * \n   * @param {object} block \n   * @param {array} activeBlocks \n   * @param {array} matches \n   */\n  singleRender (block, activeBlocks, matches) {\n    const selector = `#${block.key}`\n    const newVdom = this.renderBlock(block, activeBlocks, matches, true)\n    const rootDom = document.querySelector(selector)\n    const oldVdom = toVNode(rootDom)\n    patch(oldVdom, newVdom)\n    this.renderMermaid()\n    this.renderDiagram()\n    this.codeCache.clear()\n  }\n}\n\nmixins(StateRender, renderInlines, renderBlock)\n\nexport default StateRender\n","import selection from '../selection'\nimport { isOsx } from '../config'\n\nconst checkAutoIndent = (text, offset) => {\n  const pairStr = text.substring(offset - 1, offset + 1)\n  return /^(\\{\\}|\\[\\]|\\(\\)|><)$/.test(pairStr)\n}\nconst getIndentSpace = text => {\n  const match = /^(\\s*)\\S/.exec(text)\n  return match ? match[1] : ''\n}\n\nconst enterCtrl = ContentState => {\n  // TODO@jocs this function need opti.\n  ContentState.prototype.chopBlockByCursor = function (block, key, offset) {\n    const newBlock = this.createBlock('p')\n    const { children } = block\n    const index = children.findIndex(child => child.key === key)\n    const activeLine = this.getBlock(key)\n    const { text } = activeLine\n    newBlock.children = children.splice(index + 1)\n    newBlock.children.forEach(c => (c.parent = newBlock.key))\n    children[index].nextSibling = null\n    if (newBlock.children.length) {\n      newBlock.children[0].preSibling = null\n    }\n    if (offset === 0) {\n      this.removeBlock(activeLine, children)\n      this.prependChild(newBlock, activeLine)\n    } else if (offset < text.length) {\n      activeLine.text = text.substring(0, offset)\n      const newLine = this.createBlock('span', { text: text.substring(offset) })\n      this.prependChild(newBlock, newLine)\n    }\n    return newBlock\n  }\n\n  ContentState.prototype.chopBlock = function (block) {\n    const parent = this.getParent(block)\n    const type = parent.type\n    const container = this.createBlock(type)\n    const index = this.findIndex(parent.children, block)\n    const partChildren = parent.children.splice(index + 1)\n    block.nextSibling = null\n    partChildren.forEach(b => {\n      this.appendChild(container, b)\n    })\n    this.insertAfter(container, parent)\n    return container\n  }\n\n  ContentState.prototype.createRow = function (row) {\n    const trBlock = this.createBlock('tr')\n    const len = row.children.length\n    let i\n    for (i = 0; i < len; i++) {\n      const tdBlock = this.createBlock('td')\n      const preChild = row.children[i]\n      tdBlock.column = i\n      tdBlock.align = preChild.align\n      this.appendChild(trBlock, tdBlock)\n    }\n    return trBlock\n  }\n\n  ContentState.prototype.createBlockLi = function (paragraphInListItem) {\n    const liBlock = this.createBlock('li')\n    if (!paragraphInListItem) {\n      paragraphInListItem = this.createBlockP()\n    }\n    this.appendChild(liBlock, paragraphInListItem)\n    return liBlock\n  }\n\n  ContentState.prototype.createTaskItemBlock = function (paragraphInListItem, checked = false) {\n    const listItem = this.createBlock('li')\n    const checkboxInListItem = this.createBlock('input')\n\n    listItem.listItemType = 'task'\n    checkboxInListItem.checked = checked\n\n    if (!paragraphInListItem) {\n      paragraphInListItem = this.createBlockP()\n    }\n    this.appendChild(listItem, checkboxInListItem)\n    this.appendChild(listItem, paragraphInListItem)\n    return listItem\n  }\n\n  ContentState.prototype.enterInEmptyParagraph = function (block) {\n    if (block.type === 'span') block = this.getParent(block)\n    const parent = this.getParent(block)\n    let newBlock = null\n    if (parent && (/ul|ol|blockquote/.test(parent.type))) {\n      newBlock = this.createBlockP()\n      if (this.isOnlyChild(block)) {\n        this.insertAfter(newBlock, parent)\n        this.removeBlock(parent)\n      } else if (this.isFirstChild(block)) {\n        this.insertBefore(newBlock, parent)\n      } else if (this.isLastChild(block)) {\n        this.insertAfter(newBlock, parent)\n      } else {\n        this.chopBlock(block)\n        this.insertAfter(newBlock, parent)\n      }\n\n      this.removeBlock(block)\n    } else if (parent && parent.type === 'li') {\n      if (parent.listItemType === 'task') {\n        const { checked } = parent.children[0]\n        newBlock = this.createTaskItemBlock(null, checked)\n      } else {\n        newBlock = this.createBlockLi()\n        newBlock.listItemType = parent.listItemType\n        newBlock.bulletMarkerOrDelimiter = parent.bulletMarkerOrDelimiter\n      }\n      newBlock.isLooseListItem = parent.isLooseListItem\n      this.insertAfter(newBlock, parent)\n      const index = this.findIndex(parent.children, block)\n      const blocksInListItem = parent.children.splice(index + 1)\n      blocksInListItem.forEach(b => this.appendChild(newBlock, b))\n      this.removeBlock(block)\n\n      newBlock = newBlock.listItemType === 'task'\n        ? newBlock.children[1]\n        : newBlock.children[0]\n    } else {\n      newBlock = this.createBlockP()\n      if (block.type === 'li') {\n        this.insertAfter(newBlock, parent)\n        this.removeBlock(block)\n      } else {\n        this.insertAfter(newBlock, block)\n      }\n    }\n\n    const { key } = newBlock.children[0]\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    return this.partialRender()\n  }\n\n  ContentState.prototype.docEnterHandler = function (event) {\n    const { eventCenter } = this.muya\n    const { selectedImage } = this\n    // Show image selector when you press Enter key and there is already one image selected.\n    if (selectedImage) {\n      event.preventDefault()\n      event.stopPropagation()\n      const { imageId, ...imageInfo } = selectedImage\n      const imageWrapper = document.querySelector(`#${imageId}`)\n      const rect = imageWrapper.getBoundingClientRect()\n      const reference = {\n        getBoundingClientRect () {\n          rect.height = 0 // Put image selector bellow the top border of image.\n          return rect\n        }\n      }\n\n      eventCenter.dispatch('muya-image-selector', {\n        reference,\n        imageInfo,\n        cb: () => {}\n      })\n      this.selectedImage = null\n      return\n    }\n  }\n\n  ContentState.prototype.enterHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n\n    if (!start || !end) {\n      return event.preventDefault()\n    }\n    let block = this.getBlock(start.key)\n    const { text } = block\n    const endBlock = this.getBlock(end.key)\n    let parent = this.getParent(block)\n\n    event.preventDefault()\n\n    // Don't allow new lines in language identifiers (GH#569)\n    if (block.functionType && block.functionType === 'languageInput') {\n      // Jump inside the code block and update code language if necessary\n      this.updateCodeLanguage(block, block.text.trim())\n      return\n    }\n    // handle select multiple blocks\n    if (start.key !== end.key) {\n      const key = start.key\n      const offset = start.offset\n\n      const startRemainText = block.text.substring(0, start.offset)\n\n      const endRemainText = endBlock.text.substring(end.offset)\n\n      block.text = startRemainText + endRemainText\n\n      this.removeBlocks(block, endBlock)\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      this.partialRender()\n      return this.enterHandler(event)\n    }\n\n    // handle select multiple charactors\n    if (start.key === end.key && start.offset !== end.offset) {\n      const key = start.key\n      const offset = start.offset\n      block.text = block.text.substring(0, start.offset) + block.text.substring(end.offset)\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      this.partialRender()\n      return this.enterHandler(event)\n    }\n\n    // handle `shift + enter` insert `soft line break` or `hard line break`\n    // only cursor in `line block` can create `soft line break` and `hard line break`\n    // handle line in code block\n    if (event.shiftKey && block.type === 'span' && block.functionType === 'paragraphContent') {\n      let { offset } = start\n      const { text, key } = block\n      const indent = getIndentSpace(text)\n      block.text = text.substring(0, offset) + '\\n' + indent + text.substring(offset)\n\n      offset += 1 + indent.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    } else if (\n      block.type === 'span' && block.functionType === 'codeLine'\n    ) {\n      const { text } = block\n      const newLineText = text.substring(start.offset)\n      const autoIndent = checkAutoIndent(text, start.offset)\n      const indent = getIndentSpace(text)\n      block.text = text.substring(0, start.offset)\n      const newLine = this.createBlock('span', {\n        text: `${indent}${newLineText}`,\n        functionType: block.functionType,\n        lang: block.lang\n      })\n\n      this.insertAfter(newLine, block)\n      let { key } = newLine\n      let offset = indent.length\n      if (autoIndent) {\n        const emptyLine = this.createBlock('span', {\n          text: indent + ' '.repeat(this.tabSize)\n        })\n        emptyLine.functionType = block.functionType\n        emptyLine.lang = block.lang\n        this.insertAfter(emptyLine, block)\n        key = emptyLine.key\n        offset = indent.length + this.tabSize\n      }\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n\n    // Insert `<br/>` in table cell if you want to open a new line.\n    // Why not use `soft line break` or `hard line break` ?\n    // Becasuse table cell only have one line.\n    if (event.shiftKey && /th|td/.test(block.type)) {\n      const { text, key } = block\n      const brTag = '<br/>'\n      block.text = text.substring(0, start.offset) + brTag + text.substring(start.offset)\n      const offset = start.offset + brTag.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender([ block ])\n    }\n\n    const getFirstBlockInNextRow = row => {\n      let nextSibling = this.getBlock(row.nextSibling)\n      if (!nextSibling) {\n        const rowContainer = this.getBlock(row.parent)\n        const table = this.getBlock(rowContainer.parent)\n        const figure = this.getBlock(table.parent)\n        if (rowContainer.type === 'thead') {\n          nextSibling = table.children[1]\n        } else if (figure.nextSibling) {\n          nextSibling = this.getBlock(figure.nextSibling)\n        } else {\n          nextSibling = this.createBlockP()\n          this.insertAfter(nextSibling, figure)\n        }\n      }\n      return this.firstInDescendant(nextSibling)\n    }\n\n    // handle enter in table\n    if (/th|td/.test(block.type)) {\n      const row = this.getBlock(block.parent)\n      const rowContainer = this.getBlock(row.parent)\n      const table = this.getBlock(rowContainer.parent)\n\n      if (\n        (isOsx && event.metaKey) ||\n        (!isOsx && event.ctrlKey)\n      ) {\n        const nextRow = this.createRow(row)\n        if (rowContainer.type === 'thead') {\n          const tBody = this.getBlock(rowContainer.nextSibling)\n          this.insertBefore(nextRow, tBody.children[0])\n        } else {\n          this.insertAfter(nextRow, row)\n        }\n        table.row++\n      }\n\n      const { key } = getFirstBlockInNextRow(row)\n      const offset = 0\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n\n    if (block.type === 'span') {\n      block = parent\n      parent = this.getParent(block)\n    }\n    const paragraph = document.querySelector(`#${block.key}`)\n    if (\n      (parent && parent.type === 'li' && this.isOnlyChild(block)) ||\n      (parent && parent.type === 'li' && parent.listItemType === 'task' && parent.children.length === 2) // one `input` and one `p`\n    ) {\n      block = parent\n      parent = this.getParent(block)\n    }\n    const left = start.offset\n    const right = text.length - left\n    const type = block.type\n    let newBlock\n\n    switch (true) {\n      case left !== 0 && right !== 0: {\n        // cursor in the middle\n        let { pre, post } = selection.chopHtmlByCursor(paragraph)\n\n        if (/^h\\d$/.test(block.type)) {\n          if (block.headingStyle === 'atx') {\n            const PREFIX = /^#+/.exec(pre)[0]\n            post = `${PREFIX} ${post}`\n          }\n          block.text = pre\n          newBlock = this.createBlock(type, {\n            headingStyle: block.headingStyle\n          })\n          const headerContent = this.createBlock('span', {\n            text: post,\n            functionType: block.headingStyle === 'atx'? 'atxLine' : 'paragraphContent'\n          })\n          this.appendChild(newBlock, headerContent)\n          if (block.marker) {\n            newBlock.marker = block.marker\n          }\n        } else if (block.type === 'p') {\n          newBlock = this.chopBlockByCursor(block, start.key, start.offset)\n        } else if (type === 'li') {\n          // handle task item\n          if (block.listItemType === 'task') {\n            const { checked } = block.children[0] // block.children[0] is input[type=checkbox]\n            newBlock = this.chopBlockByCursor(block.children[1], start.key, start.offset)\n            newBlock = this.createTaskItemBlock(newBlock, checked)\n          } else {\n            newBlock = this.chopBlockByCursor(block.children[0], start.key, start.offset)\n            newBlock = this.createBlockLi(newBlock)\n            newBlock.listItemType = block.listItemType\n            newBlock.bulletMarkerOrDelimiter = block.bulletMarkerOrDelimiter\n          }\n          newBlock.isLooseListItem = block.isLooseListItem\n        }\n        this.insertAfter(newBlock, block)\n        break\n      }\n      case left === 0 && right === 0: {\n         // paragraph is empty\n         return this.enterInEmptyParagraph(block)\n      }\n      case left !== 0 && right === 0: \n      case left === 0 && right !== 0: {\n        // cursor at end of paragraph or at begin of paragraph\n        if (type === 'li') {\n          if (block.listItemType === 'task') {\n            const { checked } = block.children[0]\n            newBlock = this.createTaskItemBlock(null, checked)\n          } else {\n            newBlock = this.createBlockLi()\n            newBlock.listItemType = block.listItemType\n            newBlock.bulletMarkerOrDelimiter = block.bulletMarkerOrDelimiter\n          }\n          newBlock.isLooseListItem = block.isLooseListItem\n        } else {\n          newBlock = this.createBlockP()\n        }\n\n        if (left === 0 && right !== 0) {\n          this.insertBefore(newBlock, block)\n          newBlock = block\n        } else {\n          if (block.type === 'p') {\n            const lastLine = block.children[block.children.length - 1]\n            if (lastLine.text === '') {\n              this.removeBlock(lastLine)\n            }\n          }\n          this.insertAfter(newBlock, block)\n        }\n        break\n      }\n      default: {\n        newBlock = this.createBlockP()\n        this.insertAfter(newBlock, block)\n        break\n      }\n    }\n\n    const getParagraphBlock = block => {\n      if (block.type === 'li') {\n        return block.listItemType === 'task' ? block.children[1] : block.children[0]\n      } else {\n        return block\n      }\n    }\n\n    this.codeBlockUpdate(getParagraphBlock(newBlock))\n    // If block is pre block when updated, need to focus it.\n    const preParagraphBlock = getParagraphBlock(block)\n    const blockNeedFocus = this.codeBlockUpdate(preParagraphBlock)\n    let tableNeedFocus = this.tableBlockUpdate(preParagraphBlock)\n    let htmlNeedFocus = this.updateHtmlBlock(preParagraphBlock)\n    let mathNeedFocus = this.updateMathBlock(preParagraphBlock)\n    let cursorBlock\n\n    switch (true) {\n      case !!blockNeedFocus:\n        cursorBlock = block\n        break\n      case !!tableNeedFocus:\n        cursorBlock = tableNeedFocus\n        break\n      case !!htmlNeedFocus:\n        cursorBlock = htmlNeedFocus.children[0].children[1] // the second line\n        break\n      case !!mathNeedFocus:\n        cursorBlock = mathNeedFocus\n        break\n      default:\n        cursorBlock = newBlock\n        break\n    }\n\n    cursorBlock = getParagraphBlock(cursorBlock)\n    const key = cursorBlock.type === 'p' ? cursorBlock.children[0].key : cursorBlock.key\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n  }\n}\n\nexport default enterCtrl\n","import { tokenizer } from '../parser/'\nimport { conflict } from '../utils'\nimport { CLASS_OR_ID } from '../config'\n\nconst INLINE_UPDATE_FRAGMENTS = [\n  '(?:^|\\n) {0,3}([*+-] {1,4})', // Bullet list\n  '(?:^|\\n)(\\\\[[x ]{1}\\\\] {1,4})', // Task list\n  '(?:^|\\n) {0,3}(\\\\d{1,9}(?:\\\\.|\\\\)) {1,4})', // Order list\n  '(?:^|\\n) {0,3}(#{1,6})(?=\\\\s{1,}|$)', // ATX headings\n  '^(?:[\\\\s\\\\S]+?)\\\\n {0,3}(\\\\={3,}|\\\\-{3,})(?= {1,}|$)', // Setext headings **match from beginning**\n  '(?:^|\\n) {0,3}(>).+', // Block quote\n  '^( {4,})', // Indent code **match from beginning**\n  '(?:^|\\n) {0,3}((?:\\\\* *\\\\* *\\\\*|- *- *-|_ *_ *_)[ \\\\*\\\\-\\\\_]*)$' // Thematic break\n]\n\nconst INLINE_UPDATE_REG = new RegExp(INLINE_UPDATE_FRAGMENTS.join('|'), 'i')\n\nconst updateCtrl = ContentState => {\n  // handle task list item checkbox click\n  ContentState.prototype.listItemCheckBoxClick = function (checkbox) {\n    const { checked, id } = checkbox\n    const block = this.getBlock(id)\n    block.checked = checked\n    checkbox.classList.toggle(CLASS_OR_ID['AG_CHECKBOX_CHECKED'])\n  }\n\n  ContentState.prototype.checkSameMarkerOrDelimiter = function (list, markerOrDelimiter) {\n    if (!/ol|ul/.test(list.type)) return false\n    return list.children[0].bulletMarkerOrDelimiter === markerOrDelimiter\n  }\n\n  ContentState.prototype.checkNeedRender = function (cursor = this.cursor) {\n    const { labels } = this.stateRender\n    const { start: cStart, end: cEnd, anchor, focus } = cursor\n    const startBlock = this.getBlock(cStart ? cStart.key : anchor.key)\n    const endBlock = this.getBlock(cEnd ? cEnd.key : focus.key)\n    const startOffset = cStart ? cStart.offset : anchor.offset\n    const endOffset = cEnd ? cEnd.offset : focus.offset\n    const NO_NEED_TOKEN_REG = /text|hard_line_break|soft_line_break/\n\n    for (const token of tokenizer(startBlock.text, undefined, undefined, labels)) {\n      if (NO_NEED_TOKEN_REG.test(token.type)) continue\n      const { start, end } = token.range\n      const textLen = startBlock.text.length\n      if (\n        conflict([Math.max(0, start - 1), Math.min(textLen, end + 1)], [startOffset, startOffset])\n      ) {\n        return true\n      }\n    }\n    for (const token of tokenizer(endBlock.text, undefined, undefined, labels)) {\n      if (NO_NEED_TOKEN_REG.test(token.type)) continue\n      const { start, end } = token.range\n      const textLen = endBlock.text.length\n      if (\n        conflict([Math.max(0, start - 1), Math.min(textLen, end + 1)], [endOffset, endOffset])\n      ) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * block must be span block.\n   */\n  ContentState.prototype.checkInlineUpdate = function (block) {\n    // table cell can not have blocks in it\n    if (/th|td|figure/.test(block.type)) return false\n    if (/codeLine|languageInput/.test(block.functionType)) return false\n\n    let line = null\n    const { text } = block\n    if (block.type === 'span') {\n      line = block\n      block = this.getParent(block)\n    }\n    const listItem = this.getParent(block)\n    const [\n      match, bullet, tasklist, order, atxHeader,\n      setextHeader, blockquote, indentCode, hr\n    ] = text.match(INLINE_UPDATE_REG) || []\n\n    switch (true) {\n      case (!!hr && new Set(hr.split('').filter(i => /\\S/.test(i))).size === 1):\n        return this.updateHr(block, hr, line)\n\n      case !!bullet:\n        return this.updateList(block, 'bullet', bullet, line)\n\n      // only `bullet` list item can be update to `task` list item\n      case !!tasklist && listItem && listItem.listItemType === 'bullet':\n        return this.updateTaskListItem(block, 'tasklist', tasklist)\n\n      case !!order:\n        return this.updateList(block, 'order', order, line)\n\n      case !!atxHeader:\n        return this.updateAtxHeader(block, atxHeader, line)\n\n      case !!setextHeader:\n        return this.updateSetextHeader(block, setextHeader, line)\n\n      case !!blockquote:\n        return this.updateBlockQuote(block, line)\n\n      case !!indentCode:\n        return this.updateIndentCode(block, line)\n\n      case !match:\n      default:\n        return this.updateToParagraph(block, line)\n    }\n  }\n\n  // Thematic break\n  ContentState.prototype.updateHr = function (block, marker, line) {\n    // If the block is already thematic break, no need to update.\n    if (block.type === 'hr') return null\n    const text = line.text\n    const lines = text.split('\\n')\n    const preParagraphLines = []\n    let thematicLine = ''\n    const postParagraphLines = []\n    let thematicLineHasPushed = false\n\n    for (const l of lines) {\n      if (/ {0,3}(?:\\\\* *\\\\* *\\\\*|- *- *-|_ *_ *_)[ \\\\*\\\\-\\\\_]*$/.test(l) && !thematicLineHasPushed) {\n        thematicLine = l\n        thematicLineHasPushed = true\n      } else if (!thematicLineHasPushed) {\n        preParagraphLines.push(l)\n      } else {\n        postParagraphLines.push(l)\n      }\n    }\n\n    const thematicBlock = this.createBlock('hr')\n    const thematicLineBlock = this.createBlock('span', {\n      text: thematicLine,\n      functionType: 'thematicBreakLine'\n    })\n    this.appendChild(thematicBlock, thematicLineBlock)\n    this.insertBefore(thematicBlock, block)\n    if (preParagraphLines.length) {\n      const preBlock = this.createBlockP(preParagraphLines.join('\\n'))\n      this.insertBefore(preBlock, thematicBlock)\n    }\n    if (postParagraphLines.length) {\n      const postBlock = this.createBlockP(postParagraphLines.join('\\n'))\n      this.insertAfter(postBlock, thematicBlock)\n    }\n\n    this.removeBlock(block)\n    const { start, end } = this.cursor\n    const key = thematicBlock.children[0].key\n    this.cursor = {\n      start: { key, offset: start.offset },\n      end: { key, offset: end.offset }\n    }\n    return thematicBlock\n  }\n\n  ContentState.prototype.updateList = function (block, type, marker = '', line) {\n    const cleanMarker = marker ? marker.trim() : null\n    const { preferLooseListItem } = this.muya.options\n    const wrapperTag = type === 'order' ? 'ol' : 'ul' // `bullet` => `ul` and `order` => `ol`\n    const { start, end } = this.cursor\n    const startOffset = start.offset\n    const endOffset = end.offset\n    const newListItemBlock = this.createBlock('li')\n    const LIST_ITEM_REG = /^ {0,3}(?:[*+-]|\\d{1,9}(?:\\.|\\))) {0,4}/\n    const text = line.text\n    const lines = text.split('\\n')\n\n    const preParagraphLines = []\n    let listItemLines = []\n    let isPushedListItemLine = false\n    if (marker) {\n      for (const l of lines) {\n        if (LIST_ITEM_REG.test(l) && !isPushedListItemLine) {\n          listItemLines.push(l.replace(LIST_ITEM_REG, ''))\n          isPushedListItemLine = true\n        } else if (!isPushedListItemLine) {\n          preParagraphLines.push(l)\n        } else {\n          listItemLines.push(l)\n        }\n      }\n    } else {\n      // From front menu click.\n      listItemLines = lines\n    }\n\n    const pBlock = this.createBlockP(listItemLines.join('\\n'))\n    this.insertBefore(pBlock, block)\n\n    if (preParagraphLines.length > 0) {\n      const preParagraphBlock = this.createBlockP(preParagraphLines.join('\\n'))\n      this.insertBefore(preParagraphBlock, pBlock)\n    }\n\n    this.removeBlock(block)\n\n    // important!\n    block = pBlock\n\n    const preSibling = this.getPreSibling(block)\n    const nextSibling = this.getNextSibling(block)\n    newListItemBlock.listItemType = type\n    newListItemBlock.isLooseListItem = preferLooseListItem\n\n    let bulletMarkerOrDelimiter\n    if (type === 'order') {\n      bulletMarkerOrDelimiter = (cleanMarker && cleanMarker.length >= 2) ? cleanMarker.slice(-1) : '.'\n    } else {\n      const { bulletListMarker } = this.muya.options\n      bulletMarkerOrDelimiter = marker ? marker.charAt(0) : bulletListMarker\n    }\n    newListItemBlock.bulletMarkerOrDelimiter = bulletMarkerOrDelimiter\n\n    // Special cases for CommonMark 264 and 265: Changing the bullet or ordered list delimiter starts a new list.\n    // Same list type or new list\n    if (\n      preSibling &&\n      this.checkSameMarkerOrDelimiter(preSibling, bulletMarkerOrDelimiter) &&\n      nextSibling &&\n      this.checkSameMarkerOrDelimiter(nextSibling, bulletMarkerOrDelimiter)\n    ) {\n      this.appendChild(preSibling, newListItemBlock)\n      const partChildren = nextSibling.children.splice(0)\n      partChildren.forEach(b => this.appendChild(preSibling, b))\n      this.removeBlock(nextSibling)\n      this.removeBlock(block)\n      const isLooseListItem = preSibling.children.some(c => c.isLooseListItem)\n      preSibling.children.forEach(c => c.isLooseListItem = isLooseListItem)\n    } else if (\n      preSibling &&\n      this.checkSameMarkerOrDelimiter(preSibling, bulletMarkerOrDelimiter)\n    ) {\n      this.appendChild(preSibling, newListItemBlock)\n      this.removeBlock(block)\n      const isLooseListItem = preSibling.children.some(c => c.isLooseListItem)\n      preSibling.children.forEach(c => c.isLooseListItem = isLooseListItem)\n    } else if (\n      nextSibling &&\n      this.checkSameMarkerOrDelimiter(nextSibling, bulletMarkerOrDelimiter)\n    ) {\n      this.insertBefore(newListItemBlock, nextSibling.children[0])\n      this.removeBlock(block)\n      const isLooseListItem = nextSibling.children.some(c => c.isLooseListItem)\n      nextSibling.children.forEach(c => c.isLooseListItem = isLooseListItem)\n    } else {\n      // Create a new list when changing list type, bullet or list delimiter\n      const listBlock = this.createBlock(wrapperTag, {\n        listType: type\n      })\n\n      if (wrapperTag === 'ol') {\n        const start = cleanMarker ? cleanMarker.slice(0, -1) : 1\n        listBlock.start = /^\\d+$/.test(start) ? start : 1\n      }\n\n      this.appendChild(listBlock, newListItemBlock)\n      this.insertBefore(listBlock, block)\n      this.removeBlock(block)\n    }\n\n    // key point\n    this.appendChild(newListItemBlock, block)\n    const TASK_LIST_REG = /^\\[[x ]\\] {1,4}/i\n    const listItemText = block.children[0].text\n    const { key } = block.children[0]\n    const delta = marker.length + preParagraphLines.join('\\n').length + 1\n    this.cursor = {\n      start: {\n        key,\n        offset: Math.max(0, startOffset - delta)\n      },\n      end: {\n        key,\n        offset: Math.max(0, endOffset - delta)\n      }\n    }\n    if (TASK_LIST_REG.test(listItemText)) {\n      const [,,tasklist,,,,] = listItemText.match(INLINE_UPDATE_REG) || []\n      return this.updateTaskListItem(block, 'tasklist', tasklist)\n    } else {\n      return block\n    }\n  }\n\n  ContentState.prototype.updateTaskListItem = function (block, type, marker = '') {\n    const { preferLooseListItem } = this.muya.options\n    const parent = this.getParent(block)\n    const grandpa = this.getParent(parent)\n    const checked = /\\[x\\]\\s/i.test(marker) // use `i` flag to ignore upper case or lower case\n    const checkbox = this.createBlock('input', {\n      checked\n    })\n    const { start, end } = this.cursor\n\n    this.insertBefore(checkbox, block)\n    block.children[0].text = block.children[0].text.substring(marker.length)\n    parent.listItemType = 'task'\n    parent.isLooseListItem = preferLooseListItem\n\n    let taskListWrapper\n    if (this.isOnlyChild(parent)) {\n      grandpa.listType = 'task'\n    } else if (this.isFirstChild(parent) || this.isLastChild(parent)) {\n      taskListWrapper = this.createBlock('ul', {\n        listType: 'task'\n      })\n\n      this.isFirstChild(parent) ? this.insertBefore(taskListWrapper, grandpa) : this.insertAfter(taskListWrapper, grandpa)\n      this.removeBlock(parent)\n      this.appendChild(taskListWrapper, parent)\n    } else {\n      taskListWrapper = this.createBlock('ul', {\n        listType: 'task'\n      })\n\n      const bulletListWrapper = this.createBlock('ul', {\n        listType: 'bullet'\n      })\n\n      let preSibling = this.getPreSibling(parent)\n      while (preSibling) {\n        this.removeBlock(preSibling)\n        if (bulletListWrapper.children.length) {\n          const firstChild = bulletListWrapper.children[0]\n          this.insertBefore(preSibling, firstChild)\n        } else {\n          this.appendChild(bulletListWrapper, preSibling)\n        }\n        preSibling = this.getPreSibling(preSibling)\n      }\n\n      this.removeBlock(parent)\n      this.appendChild(taskListWrapper, parent)\n      this.insertBefore(taskListWrapper, grandpa)\n      this.insertBefore(bulletListWrapper, taskListWrapper)\n    }\n\n    this.cursor = {\n      start: {\n        key: start.key,\n        offset: Math.max(0, start.offset - marker.length)\n      },\n      end: {\n        key: end.key,\n        offset: Math.max(0, end.offset - marker.length)\n      }\n    }\n    return taskListWrapper || grandpa\n  }\n\n  // ATX heading doesn't support soft line break and hard line break.\n  ContentState.prototype.updateAtxHeader = function (block, header, line) {\n    const newType = `h${header.length}`\n    const headingStyle = 'atx'\n    if (block.type === newType && block.headingStyle === headingStyle) {\n      return null\n    }\n    const text = line.text\n    const lines = text.split('\\n')\n    const preParagraphLines = []\n    let atxLine = ''\n    const postParagraphLines = []\n    let atxLineHasPushed = false\n\n    for (const l of lines) {\n      if (/^ {0,3}#{1,6}(?=\\s{1,}|$)/.test(l) && !atxLineHasPushed) {\n        atxLine = l\n        atxLineHasPushed = true\n      } else if (!atxLineHasPushed) {\n        preParagraphLines.push(l)\n      } else {\n        postParagraphLines.push(l)\n      }\n    }\n\n    const atxBlock = this.createBlock(newType, {\n      headingStyle\n    })\n    const atxLineBlock = this.createBlock('span', {\n      text: atxLine,\n      functionType: 'atxLine'\n    })\n    this.appendChild(atxBlock, atxLineBlock)\n    this.insertBefore(atxBlock, block)\n    if (preParagraphLines.length) {\n      const preBlock = this.createBlockP(preParagraphLines.join('\\n'))\n      this.insertBefore(preBlock, atxBlock)\n    }\n    if (postParagraphLines.length) {\n      const postBlock = this.createBlockP(postParagraphLines.join('\\n'))\n      this.insertAfter(postBlock, atxBlock)\n    }\n\n    this.removeBlock(block)\n\n    const { start, end } = this.cursor\n    const key = atxBlock.children[0].key\n    this.cursor = {\n      start: { key, offset: start.offset },\n      end: { key, offset: end.offset }\n    }\n    return atxBlock\n  }\n\n  ContentState.prototype.updateSetextHeader = function (block, marker, line) {\n    const newType = /=/.test(marker) ? 'h1' : 'h2'\n    const headingStyle = 'setext'\n    if (block.type === newType && block.headingStyle === headingStyle) {\n      return null\n    }\n\n    const text = line.text\n    const lines = text.split('\\n')\n    let setextLines = []\n    const postParagraphLines = []\n    let setextLineHasPushed = false\n\n    for (const l of lines) {\n      if (/^ {0,3}(?:={3,}|-{3,})(?= {1,}|$)/.test(l) && !setextLineHasPushed) {\n        setextLineHasPushed = true\n      } else if (!setextLineHasPushed) {\n        setextLines.push(l)\n      } else {\n        postParagraphLines.push(l)\n      }\n    }\n\n    const setextBlock = this.createBlock(newType, {\n      headingStyle,\n      marker\n    })\n    const setextLineBlock = this.createBlock('span', {\n      text: setextLines.join('\\n'),\n      functionType: 'paragraphContent'\n    })\n    this.appendChild(setextBlock, setextLineBlock)\n    this.insertBefore(setextBlock, block)\n\n    if (postParagraphLines.length) {\n      const postBlock = this.createBlockP(postParagraphLines.join('\\n'))\n      this.insertAfter(postBlock, setextBlock)\n    }\n\n    this.removeBlock(block)\n\n    const key = setextBlock.children[0].key\n    const offset = setextBlock.children[0].text.length\n\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n\n    return setextBlock\n  }\n\n  ContentState.prototype.updateBlockQuote = function (block, line) {\n    const text = line.text\n    const lines = text.split('\\n')\n    const preParagraphLines = []\n    let quoteLines = []\n    let quoteLinesHasPushed = false\n\n    for (const l of lines) {\n      if (/^ {0,3}>/.test(l) && !quoteLinesHasPushed) {\n        quoteLinesHasPushed = true\n        quoteLines.push(l.trimStart().substring(1).trimStart())\n      } else if (!quoteLinesHasPushed) {\n        preParagraphLines.push(l)\n      } else {\n        quoteLines.push(l)\n      }\n    }\n    let quoteParagraphBlock\n    if (/^h\\d/.test(block.type)) {\n      quoteParagraphBlock = this.createBlock(block.type, {\n        headingStyle: block.headingStyle\n      })\n      if (block.headingStyle === 'setext') {\n        quoteParagraphBlock.marker = block.marker\n      }\n      const headerContent = this.createBlock('span', {\n        text: quoteLines.join('\\n'),\n        functionType: block.headingStyle === 'setext'? 'paragraphContent' : 'atxLine'\n      })\n      this.appendChild(quoteParagraphBlock, headerContent)\n    } else {\n      quoteParagraphBlock = this.createBlockP(quoteLines.join('\\n'))\n    }\n\n    const quoteBlock = this.createBlock('blockquote')\n    this.appendChild(quoteBlock, quoteParagraphBlock)\n    this.insertBefore(quoteBlock, block)\n\n    if (preParagraphLines.length) {\n      const preParagraphBlock = this.createBlockP(preParagraphLines.join('\\n'))\n      this.insertBefore(preParagraphBlock, quoteBlock)\n    }\n\n    this.removeBlock(block)\n\n    const key = quoteParagraphBlock.children[0].key\n    const { start, end } = this.cursor\n    this.cursor = {\n      start: { key, offset: start.offset - 1 },\n      end: { key, offset: end.offset - 1 }\n    }\n\n    return quoteBlock\n  }\n\n  ContentState.prototype.updateIndentCode = function (block, line) {\n    const codeBlock = this.createBlock('code', {\n      lang: ''\n    })\n    const inputBlock = this.createBlock('span', {\n      functionType: 'languageInput'\n    })\n    const preBlock = this.createBlock('pre', {\n      functionType: 'indentcode',\n      lang: ''\n    })\n\n    const text = line ? line.text : block.text\n\n    const lines = text.split('\\n')\n    const codeLines = []\n    const paragraphLines = []\n    let canBeCodeLine = true\n\n    for (const l of lines) {\n      if (/^ {4,}/.test(l) && canBeCodeLine) {\n        codeLines.push(l.replace(/^ {4}/, ''))\n      } else {\n        canBeCodeLine = false\n        paragraphLines.push(l)\n      }\n    }\n    codeLines.forEach(text => {\n      const codeLine = this.createBlock('span', {\n        text,\n        functionType: 'codeLine',\n        lang: ''\n      })\n      this.appendChild(codeBlock, codeLine)\n    })\n\n    this.appendChild(preBlock, inputBlock)\n    this.appendChild(preBlock, codeBlock)\n    this.insertBefore(preBlock, block)\n\n    if (paragraphLines.length > 0 && line) {\n      const newLine = this.createBlock('span', {\n        text: paragraphLines.join('\\n')\n      })\n      this.insertBefore(newLine, line)\n      this.removeBlock(line)\n    } else {\n      this.removeBlock(block)\n    }\n\n    const key = codeBlock.children[0].key\n    const { start, end } = this.cursor\n    this.cursor = {\n      start: { key, offset: start.offset - 4 },\n      end: { key, offset: end.offset - 4 }\n    }\n    return preBlock\n  }\n\n  ContentState.prototype.updateToParagraph = function (block, line) {\n    if (/^h\\d$/.test(block.type) && block.headingStyle === 'setext') {\n      return null\n    }\n\n    const newType = 'p'\n    if (block.type !== newType) {\n      const newBlock = this.createBlockP(line.text)\n      this.insertBefore(newBlock, block)\n      this.removeBlock(block)\n      const { start, end } = this.cursor\n      const key = newBlock.children[0].key\n      this.cursor = {\n        start: { key, offset: start.offset },\n        end: { key, offset: end.offset }\n      }\n      return block\n    }\n    return null\n  }\n}\n\nexport default updateCtrl\n","import { findNearestParagraph, getOffsetOfParagraph } from '../selection/dom'\nimport { tokenizer } from '../parser'\n\nexport const getImageInfo = image => {\n  const paragraph = findNearestParagraph(image)\n  const raw = image.getAttribute('data-raw')\n  const offset = getOffsetOfParagraph(image, paragraph)\n  const tokens = tokenizer(raw)\n  const token = tokens[0]\n  token.range = {\n    start: offset,\n    end: offset + raw.length\n  }\n  return {\n    key: paragraph.id,\n    token,\n    imageId: image.id\n  }\n}\n","import selection from '../selection'\nimport { findNearestParagraph, findOutMostParagraph } from '../selection/dom'\nimport { tokenizer, generator } from '../parser/'\nimport { getImageInfo } from '../utils/getImageInfo'\n\nconst backspaceCtrl = ContentState => {\n  ContentState.prototype.checkBackspaceCase = function () {\n    const node = selection.getSelectionStart()\n    const paragraph = findNearestParagraph(node)\n    const outMostParagraph = findOutMostParagraph(node)\n    let block = this.getBlock(paragraph.id)\n    if (block.type === 'span' && block.preSibling) {\n      return false\n    }\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const preBlock = this.getPreSibling(block)\n    const outBlock = this.findOutMostBlock(block)\n    const parent = this.getParent(block)\n\n    const { left: outLeft } = selection.getCaretOffsets(outMostParagraph)\n    const { left: inLeft } = selection.getCaretOffsets(paragraph)\n\n    if (\n      (parent && parent.type === 'li' && inLeft === 0 && this.isFirstChild(block)) ||\n      (parent && parent.type === 'li' && inLeft === 0 && parent.listItemType === 'task' && preBlock.type === 'input') // handle task item\n    ) {\n      if (this.isOnlyChild(parent)) {\n        /**\n         * <ul>\n         *   <li>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         * <ul>\n         * ===>\n         * <p>|text</p>\n         * <p>maybe has other paragraph</p>\n         */\n        return { type: 'LI', info: 'REPLACEMENT' }\n      } else if (this.isFirstChild(parent)) {\n        /**\n         * <ul>\n         *   <li>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         * ===>\n         * <p>|text</p>\n         * <p>maybe has other paragraph</p>\n         * <ul>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         */\n        return { type: 'LI', info: 'REMOVE_INSERT_BEFORE' }\n      } else {\n        /**\n         * <ul>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         *   <li>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         * ===>\n         * <ul>\n         *   <li>\n         *     <p>other list item</p>\n         *     <p>|text</p>\n         *     <p>maybe has other paragraph</p>\n         *   </li>\n         *   <li>\n         *     <p>other list item</p>\n         *   </li>\n         * <ul>\n         */\n        return { type: 'LI', info: 'INSERT_PRE_LIST_ITEM' }\n      }\n    }\n    if (parent && parent.type === 'blockquote' && inLeft === 0) {\n      if (this.isOnlyChild(block)) {\n        return { type: 'BLOCKQUOTE', info: 'REPLACEMENT' }\n      } else if (this.isFirstChild(block)) {\n        return { type: 'BLOCKQUOTE', info: 'INSERT_BEFORE' }\n      }\n    }\n    if (!outBlock.preSibling && outLeft === 0) {\n      return { type: 'STOP' }\n    }\n  }\n\n  ContentState.prototype.docBackspaceHandler = function (event) {\n    // handle delete selected image\n    if (this.selectedImage) {\n      event.preventDefault()\n      return this.deleteImage(this.selectedImage)\n    }\n  }\n\n  ContentState.prototype.backspaceHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n\n    if (!start || !end) {\n      return\n    }\n\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const maybeLastRow = this.getParent(endBlock)\n    const startOutmostBlock = this.findOutMostBlock(startBlock)\n    const endOutmostBlock = this.findOutMostBlock(endBlock)\n    // Just for fix delete the last `#` or all the atx heading cause error @fixme\n    if (\n      start.key === end.key &&\n      startBlock.type === 'span' &&\n      startBlock.functionType === 'atxLine'\n    ) {\n      if (\n        start.offset === 0 && end.offset === startBlock.text.length ||\n        start.offset === end.offset && start.offset === 1 && startBlock.text === '#'\n      ) {\n        event.preventDefault()\n        startBlock.text = ''\n        this.cursor = {\n          start: { key: start.key, offset: 0 },\n          end: { key: end.key, offset: 0 }\n        }\n        this.updateToParagraph(this.getParent(startBlock), startBlock)\n        return this.partialRender()\n      }\n    }\n    // fix: #897\n    const { text } = startBlock\n    const tokens = tokenizer(text)\n    let needRender = false\n    let preToken = null\n    for (const token of tokens) {\n      // handle delete the second $ in inline_math.\n      if (\n        token.range.end === start.offset &&\n        token.type === 'inline_math'\n      ) {\n        needRender = true\n        token.raw = token.raw.substr(0, token.raw.length - 1)\n        break\n      }\n      // handle pre token is a <ruby> html tag, need preventdefault.\n      if (\n        token.range.start + 1 === start.offset &&\n        preToken &&\n        preToken.type === 'html_tag' &&\n        preToken.tag === 'ruby'\n      ) {\n        needRender = true\n        token.raw = token.raw.substr(1)\n        break\n      }\n      preToken = token\n    }\n    if (needRender) {\n      startBlock.text = generator(tokens)\n      event.preventDefault()\n      start.offset--\n      end.offset--\n      this.cursor = {\n        start,\n        end\n      }\n      return this.partialRender()\n    }\n\n    // fix bug when the first block is table, these two ways will cause bugs.\n    // 1. one paragraph bollow table, selectAll, press backspace.\n    // 2. select table from the first cell to the last cell, press backsapce.\n    if (/th/.test(startBlock.type) && start.offset === 0 && !startBlock.preSibling) {\n      if (\n        end.offset === endBlock.text.length &&\n        startOutmostBlock === endOutmostBlock &&\n        !endBlock.nextSibling && !maybeLastRow.nextSibling ||\n        startOutmostBlock !== endOutmostBlock\n      ) {\n        event.preventDefault()\n        // need remove the figure block.\n        const figureBlock = this.getBlock(this.findFigure(startBlock))\n        // if table is the only block, need create a p block.\n        const p = this.createBlockP(endBlock.text.substring(end.offset))\n        this.insertBefore(p, figureBlock)\n        const cursorBlock = p.children[0]\n        if (startOutmostBlock !== endOutmostBlock) {\n          this.removeBlocks(figureBlock, endBlock)\n        }\n\n        this.removeBlock(figureBlock)\n        const { key } = cursorBlock\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        return this.render()\n      }\n    }\n\n    // If select multiple paragraph or multiple characters in one paragraph, just let\n    // inputCtrl to handle this case.\n    if (start.key !== end.key || start.offset !== end.offset) {\n      return\n    }\n\n    const node = selection.getSelectionStart()\n    const preEleSibling = node && node.nodeType === 1 ? node.previousElementSibling : null\n    const paragraph = findNearestParagraph(node)\n    const id = paragraph.id\n    let block = this.getBlock(id)\n    let parent = this.getBlock(block.parent)\n    const preBlock = this.findPreBlockInLocation(block)\n    const { left, right } = selection.getCaretOffsets(paragraph)\n    const inlineDegrade = this.checkBackspaceCase()\n\n    // Handle backspace when the previous is an inline image.\n    if (preEleSibling && preEleSibling.classList.contains('ag-inline-image')) {\n      if (selection.getCaretOffsets(node).left === 0) {\n        event.preventDefault()\n        event.stopPropagation()\n        const imageInfo = getImageInfo(preEleSibling)\n        return this.selectImage(imageInfo)\n      }\n      if (selection.getCaretOffsets(node).left === 1 && right === 0) {\n        event.stopPropagation()\n        event.preventDefault()\n        const key = startBlock.key\n        const text = startBlock.text\n\n        startBlock.text = text.substring(0, start.offset - 1) + text.substring(start.offset)\n        const offset = start.offset - 1\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        return this.singleRender(startBlock)\n      }\n    }\n\n    // handle backspace when cursor at the end of inline image.\n    if (node.classList.contains('ag-image-container')) {\n      const imageWrapper = node.parentNode\n      const imageInfo = getImageInfo(imageWrapper)\n      if (start.offset === imageInfo.token.range.end) {\n        event.preventDefault()\n        event.stopPropagation()\n        return this.selectImage(imageInfo)\n      }\n    }\n\n    const tableHasContent = table => {\n      const tHead = table.children[0]\n      const tBody = table.children[1]\n      const tHeadHasContent = tHead.children[0].children.some(th => th.text.trim())\n      const tBodyHasContent = tBody.children.some(row => row.children.some(td => td.text.trim()))\n      return tHeadHasContent || tBodyHasContent\n    }\n\n    if (\n      block.type === 'span' &&\n      block.functionType === 'codeLine' &&\n      left === 0 &&\n      !block.preSibling\n    ) {\n      event.preventDefault()\n      event.stopPropagation()\n      if (\n        !block.nextSibling\n      ) {\n        const preBlock = this.getParent(parent)\n        const pBlock = this.createBlock('p')\n        const lineBlock = this.createBlock('span', { text: block.text })\n        const key = lineBlock.key\n        const offset = 0\n        this.appendChild(pBlock, lineBlock)\n        let referenceBlock = null\n        switch (preBlock.functionType) {\n          case 'fencecode':\n          case 'indentcode':\n          case 'frontmatter':\n            referenceBlock = preBlock\n            break\n          case 'multiplemath':\n          case 'flowchart':\n          case 'mermaid':\n          case 'sequence':\n          case 'vega-lite':\n          case 'html':\n            referenceBlock = this.getParent(preBlock)\n            break\n        }\n        this.insertBefore(pBlock, referenceBlock)\n        this.removeBlock(referenceBlock)\n\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.partialRender()\n      }\n    } else if (left === 0 && /th|td/.test(block.type)) {\n      event.preventDefault()\n      event.stopPropagation()\n      const tHead = this.getBlock(parent.parent)\n      const table = this.getBlock(tHead.parent)\n      const figure = this.getBlock(table.parent)\n      const hasContent = tableHasContent(table)\n      let key\n      let offset\n\n      if ((!preBlock || !/th|td/.test(preBlock.type)) && !hasContent) {\n        const newLine = this.createBlock('span')\n        delete figure.functionType\n        figure.children = []\n        this.appendChild(figure, newLine)\n        figure.text = ''\n        figure.type = 'p'\n        key = newLine.key\n        offset = 0\n      } else if (preBlock) {\n        key = preBlock.key\n        offset = preBlock.text.length\n      }\n\n      if (key !== undefined && offset !== undefined) {\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n\n        this.partialRender()\n      }\n    } else if (inlineDegrade) {\n      event.preventDefault()\n      if (block.type === 'span') {\n        block = this.getParent(block)\n        parent = this.getParent(parent)\n      }\n\n      switch (inlineDegrade.type) {\n        case 'STOP': // Cursor at begin of article and nothing need to do\n          break\n        case 'LI': {\n          if (inlineDegrade.info === 'REPLACEMENT') {\n            const children = parent.children\n            const grandpa = this.getBlock(parent.parent)\n            if (children[0].type === 'input') {\n              this.removeBlock(children[0])\n            }\n            children.forEach(child => {\n              this.insertBefore(child, grandpa)\n            })\n            this.removeBlock(grandpa)\n          } else if (inlineDegrade.info === 'REMOVE_INSERT_BEFORE') {\n            const children = parent.children\n            const grandpa = this.getBlock(parent.parent)\n            if (children[0].type === 'input') {\n              this.removeBlock(children[0])\n            }\n            children.forEach(child => {\n              this.insertBefore(child, grandpa)\n            })\n            this.removeBlock(parent)\n          } else if (inlineDegrade.info === 'INSERT_PRE_LIST_ITEM') {\n            const parPre = this.getBlock(parent.preSibling)\n            const children = parent.children\n            if (children[0].type === 'input') {\n              this.removeBlock(children[0])\n            }\n            children.forEach(child => {\n              this.appendChild(parPre, child)\n            })\n            this.removeBlock(parent)\n          }\n          break\n        }\n        case 'BLOCKQUOTE':\n          if (inlineDegrade.info === 'REPLACEMENT') {\n            this.insertBefore(block, parent)\n            this.removeBlock(parent)\n          } else if (inlineDegrade.info === 'INSERT_BEFORE') {\n            this.removeBlock(block)\n            this.insertBefore(block, parent)\n          }\n          break\n      }\n\n      const key = block.type === 'p' ? block.children[0].key : block.key\n      const offset = 0\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      if (inlineDegrade.type !== 'STOP') {\n        this.partialRender()\n      }\n    } else if (left === 0 && preBlock) {\n      event.preventDefault()\n      const { text } = block\n      const key = preBlock.key\n      const offset = preBlock.text.length\n      preBlock.text += text\n      // If block is a line block and its parent paragraph only has one text line,\n      // also need to remove the paragrah\n      if (this.isOnlyChild(block) && block.type === 'span') {\n        this.removeBlock(parent)\n      } else {\n        this.removeBlock(block)\n      }\n\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      this.partialRender()\n    }\n  }\n}\n\nexport default backspaceCtrl\n","import selection from '../selection'\n\nconst deleteCtrl = ContentState => {\n  ContentState.prototype.deleteHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n    if (!start || !end) {\n      return\n    }\n    const startBlock = this.getBlock(start.key)\n    const nextBlock = this.findNextBlockInLocation(startBlock)\n\n    // TODO: @jocs It will delete all the editor and cause error in console when there is only one empty table. same as #67\n    if (startBlock.type === 'figure') event.preventDefault()\n    // If select multiple paragraph or multiple characters in one paragraph, just let\n    // updateCtrl to handle this case.\n    if (start.key !== end.key || start.offset !== end.offset) {\n      return\n    }\n    // Only handle h1~h6 span block\n    const { type, text, key } = startBlock\n    if (\n      /h\\d|span/.test(type) &&\n      start.offset === text.length\n    ) {\n      event.preventDefault()\n      if (nextBlock && /h\\d|span/.test(nextBlock.type)) {\n        if (nextBlock.functionType === 'codeLine' && nextBlock.nextSibling) {\n          // if code block more than one line, do nothing!\n          return\n        }\n        startBlock.text += nextBlock.text\n\n        const toBeRemoved = [ nextBlock ]\n\n        let parent = this.getParent(nextBlock)\n        let target = nextBlock\n\n        while (this.isOnlyRemoveableChild(target)) {\n          toBeRemoved.push(parent)\n          target = parent\n          parent = this.getParent(parent)\n        }\n\n        toBeRemoved.forEach(b => this.removeBlock(b))\n\n        const offset = start.offset\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.render()\n      }\n    }\n  }\n}\n\nexport default deleteCtrl\n","import { loadLanguage } from '../prism/index'\nimport selection from '../selection'\n\nconst CODE_UPDATE_REP = /^`{3,}(.*)/\n\nconst codeBlockCtrl = ContentState => {\n  /**\n  * check edit language\n  */\n  ContentState.prototype.checkEditLanguage = function () {\n    const { start } = selection.getCursorRange()\n    if (!start) {\n      return { lang: '', paragraph: null }\n    }\n    const startBlock = this.getBlock(start.key)\n    const paragraph = document.querySelector(`#${start.key}`)\n    let lang = ''\n    const { text } = startBlock\n    if (startBlock.type === 'span') {\n      if (startBlock.functionType === 'languageInput') {\n        lang = text.trim()\n      } else if (startBlock.functionType === 'paragraphContent') {\n        const token = text.match(/(^`{3,})([^`]+)/)\n        if (token) {\n          const len = token[1].length\n          if (start.offset >= len) {\n            lang = token[2].trim()\n          }\n        }\n      }\n    }\n    return { lang, paragraph }\n  }\n\n  ContentState.prototype.selectLanguage = function (paragraph, lang) {\n    const block = this.getBlock(paragraph.id)\n    this.updateCodeLanguage(block, lang)\n  }\n\n  /**\n   * Update the code block language or creates a new code block.\n   *\n   * @param block Language-input block or paragraph\n   * @param lang Language identifier\n   */\n  ContentState.prototype.updateCodeLanguage = function (block, lang) {\n    loadLanguage(lang)\n    if (block.functionType === 'languageInput') {\n      const preBlock = this.getParent(block)\n      const nextSibling = this.getNextSibling(block)\n\n      // Only update code language if necessary\n      if (block.text !== lang || preBlock.text !== lang || nextSibling.text !== lang) {\n        block.text = lang\n        preBlock.lang = lang\n        preBlock.functionType = 'fencecode'\n        nextSibling.lang = lang\n        nextSibling.children.forEach(c => (c.lang = lang))\n      }\n\n      // Set cursor at the first line\n      const { key } = nextSibling.children[0]\n      const offset = 0\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n    } else {\n      block.text = block.text.replace(/^(`+)([^`]+$)/g, `$1${lang}`)\n      this.codeBlockUpdate(block)\n    }\n    this.partialRender()\n  }\n\n  /**\n   * [codeBlockUpdate if block updated to `pre` return true, else return false]\n   */\n  ContentState.prototype.codeBlockUpdate = function (block, code = '', lang) {\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    // if it's not a p block, no need to update\n    if (block.type !== 'p') return false\n    // if p block's children are more than one, no need to update\n    if (block.children.length !== 1) return false\n    const { text } = block.children[0]\n    const match = CODE_UPDATE_REP.exec(text)\n    if (match || lang) {\n      const codeBlock = this.createBlock('code')\n      const firstLine = this.createBlock('span', { text: code })\n      const language = lang || (match ? match[1] : '')\n      const inputBlock = this.createBlock('span', { text: language })\n      loadLanguage(language)\n      inputBlock.functionType = 'languageInput'\n      block.type = 'pre'\n      block.functionType = 'fencecode'\n      block.lang = language\n      block.text = ''\n      block.history = null\n      block.children = []\n      codeBlock.lang = language\n      firstLine.lang = language\n      firstLine.functionType = 'codeLine'\n      this.appendChild(codeBlock, firstLine)\n      this.appendChild(block, inputBlock)\n      this.appendChild(block, codeBlock)\n      const { key } = firstLine\n      const offset = code.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return true\n    }\n    return false\n  }\n}\n\nexport default codeBlockCtrl\n","import { isLengthEven, getParagraphReference } from '../utils'\n\nconst TABLE_BLOCK_REG = /^\\|.*?(\\\\*)\\|.*?(\\\\*)\\|/\n\nconst tableBlockCtrl = ContentState => {\n  ContentState.prototype.createTableInFigure = function ({ rows, columns }, headerTexts) {\n    const table = this.createBlock('table')\n    const tHead = this.createBlock('thead')\n    const tBody = this.createBlock('tbody')\n\n    this.appendChild(table, tHead)\n    this.appendChild(table, tBody)\n    table.row = rows - 1 // zero base\n    table.column = columns - 1 // zero base\n    let i\n    let j\n    for (i = 0; i < rows; i++) {\n      const rowBlock = this.createBlock('tr')\n      i === 0 ? this.appendChild(tHead, rowBlock) : this.appendChild(tBody, rowBlock)\n      for (j = 0; j < columns; j++) {\n        const cell = this.createBlock(i === 0 ? 'th' : 'td', {\n          text: headerTexts && i === 0 ? headerTexts[j] : ''\n        })\n        this.appendChild(rowBlock, cell)\n        cell.align = ''\n        cell.column = j\n      }\n    }\n    return table\n  }\n\n  ContentState.prototype.closest = function (block, type) {\n    if (!block) {\n      return null\n    }\n    if (block.type === type) {\n      return block\n    } else {\n      const parent = this.getParent(block)\n      return this.closest(parent, type)\n    }\n  }\n\n  ContentState.prototype.getAnchor = function (block) {\n    const { type, functionType } = block\n    switch (type) {\n      case 'span':\n        if (functionType === 'codeLine') {\n          return this.closest(block, 'figure') || this.closest(block, 'pre')\n        } else {\n          return this.getParent(block)\n        }\n\n      case 'th':\n      case 'td':\n        return this.closest(block, 'figure')\n\n      default:\n        return null\n    }\n  }\n\n  ContentState.prototype.createFigure = function ({ rows, columns }) {\n    const { end } = this.cursor\n    const table = this.createTableInFigure({ rows, columns })\n    const figureBlock = this.createBlock('figure')\n    figureBlock.functionType = 'table'\n    const endBlock = this.getBlock(end.key)\n    const anchor = this.getAnchor(endBlock)\n\n    if (!anchor) return\n    this.insertAfter(figureBlock, anchor)\n    if (/p|h\\d/.test(anchor.type) && !endBlock.text) {\n      this.removeBlock(anchor)\n    }\n    this.appendChild(figureBlock, table)\n    const key = table.children[0].children[0].children[0].key // fist cell key in thead\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.muya.eventCenter.dispatch('stateChange')\n    this.partialRender()\n  }\n\n  ContentState.prototype.createTable = function (tableChecker) {\n    const { eventCenter } = this.muya\n\n    this.createFigure(tableChecker)\n    const selectionChanges = this.selectionChange()\n    eventCenter.dispatch('selectionChange', selectionChanges)\n  }\n\n  ContentState.prototype.initTable = function (block) {\n    const { text } = block.children[0]\n    const rowHeader = []\n    const len = text.length\n    let i\n    for (i = 0; i < len; i++) {\n      const char = text[i]\n      if (/^[^|]$/.test(char)) {\n        rowHeader[rowHeader.length - 1] += char\n      }\n      if (/\\\\/.test(char)) {\n        rowHeader[rowHeader.length - 1] += text[++i]\n      }\n      if (/\\|/.test(char) && i !== len - 1) {\n        rowHeader.push('')\n      }\n    }\n    const columns = rowHeader.length\n    const rows = 2\n\n    const table = this.createTableInFigure({ rows, columns }, rowHeader)\n\n    block.type = 'figure'\n    block.text = ''\n    block.children = []\n    block.functionType = 'table'\n    this.appendChild(block, table)\n\n    return table.children[1].children[0].children[0] // first cell in tbody\n  }\n\n  ContentState.prototype.tableToolBarClick = function (type) {\n    const { start: { key } } = this.cursor\n    const block = this.getBlock(key)\n    if (!(/td|th/.test(block.type))) throw new Error('table is not active')\n    const { column, align } = block\n    const getTable = td => {\n      const row = this.getBlock(block.parent)\n      const rowContainer = this.getBlock(row.parent)\n      return this.getBlock(rowContainer.parent)\n    }\n    const table = getTable(block)\n    const figure = this.getBlock(table.parent)\n    switch (type) {\n      case 'left':\n      case 'center':\n      case 'right': {\n        const newAlign = align === type ? '' : type\n        table.children.forEach(rowContainer => {\n          rowContainer.children.forEach(row => {\n            row.children[column].align = newAlign\n          })\n        })\n        this.muya.eventCenter.dispatch('stateChange')\n        this.partialRender()\n        break\n      }\n      case 'delete': {\n        const newLine = this.createBlock('span')\n        figure.children = []\n        this.appendChild(figure, newLine)\n        figure.type = 'p'\n        figure.text = ''\n        const key = newLine.key\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.muya.eventCenter.dispatch('stateChange')\n        this.partialRender()\n        break\n      }\n      case 'table': {\n        const { eventCenter } = this.muya\n        const figureKey = figure.key\n        const tableLable = document.querySelector(`#${figureKey} [data-label=table]`)\n        const { row = 1, column = 1 } = table // zero base\n\n        const handler = (row, column) => {\n          const { row: oldRow, column: oldColumn } = table\n          const tBody = table.children[1]\n          const tHead = table.children[0]\n          const headerRow = tHead.children[0]\n          const bodyRows = tBody.children\n          let i\n          if (column > oldColumn) {\n            for (i = oldColumn + 1; i <= column; i++) {\n              const th = this.createBlock('th')\n              th.column = i\n              th.align = ''\n              this.appendChild(headerRow, th)\n              bodyRows.forEach(bodyRow => {\n                const td = this.createBlock('td')\n                td.column = i\n                td.align = ''\n                this.appendChild(bodyRow, td)\n              })\n            }\n          } else if (column < oldColumn) {\n            const rows = [headerRow, ...bodyRows]\n            rows.forEach(row => {\n              while (row.children.length > column + 1) {\n                const lastChild = row.children[row.children.length - 1]\n                this.removeBlock(lastChild)\n              }\n            })\n          }\n\n          if (row < oldRow) {\n            while (tBody.children.length > row) {\n              const lastRow = tBody.children[tBody.children.length - 1]\n              this.removeBlock(lastRow)\n            }\n          } else if (row > oldRow) {\n            const oneRowInBody = bodyRows[0]\n            for (i = oldRow + 1; i <= row; i++) {\n              const bodyRow = this.createRow(oneRowInBody)\n              this.appendChild(tBody, bodyRow)\n            }\n          }\n          Object.assign(table, { row, column })\n\n          const cursorBlock = headerRow.children[0]\n          const key = cursorBlock.key\n          const offset = cursorBlock.text.length\n          this.cursor = {\n            start: { key, offset },\n            end: { key, offset }\n          }\n          this.muya.eventCenter.dispatch('stateChange')\n          this.partialRender()\n        }\n        const reference = getParagraphReference(tableLable, tableLable.id)\n        eventCenter.dispatch('muya-table-picker', { row, column }, reference, handler.bind(this))\n      }\n    }\n  }\n\n  // insert/remove row/column\n  ContentState.prototype.editTable = function ({ location, action, target }) {\n    const { start, end } = this.cursor\n    const block = this.getBlock(start.key)\n    if (start.key !== end.key || !/th|td/.test(block.type)) {\n      throw new Error('Cursor is not in table block, so you can not insert/edit row/column')\n    }\n    const currentRow = this.getParent(block)\n    const rowContainer = this.getParent(currentRow) // tbody or thead\n    const table = this.getParent(rowContainer)\n    const thead = table.children[0]\n    const tbody = table.children[1]\n    const { column } = table\n    const columnIndex = currentRow.children.indexOf(block)\n    let cursorBlock\n\n    const createRow = (column, isHeader) => {\n      const tr = this.createBlock('tr')\n      let i\n      for (i = 0; i <= column; i++) {\n        const cell = this.createBlock(isHeader ? 'th' : 'td')\n        cell.align = currentRow.children[i].align\n        cell.column = i\n        this.appendChild(tr, cell)\n      }\n      return tr\n    }\n\n    if (target === 'row') {\n      if (action === 'insert') {\n        let newRow = (location === 'previous' && block.type === 'th')\n          ? createRow(column, true)\n          : createRow(column, false)\n        if (location === 'previous') {\n          this.insertBefore(newRow, currentRow)\n          if (block.type === 'th') {\n            this.removeBlock(currentRow)\n            currentRow.children.forEach(cell => (cell.type = 'td'))\n            const firstRow = tbody.children[0]\n            this.insertBefore(currentRow, firstRow)\n          }\n        } else {\n          if (block.type === 'th') {\n            const firstRow = tbody.children[0]\n            this.insertBefore(newRow, firstRow)\n          } else {\n            this.insertAfter(newRow, currentRow)\n          }\n        }\n        cursorBlock = newRow.children[columnIndex]\n        // handle remove row\n      } else {\n        if (location === 'previous') {\n          if (block.type === 'th') return\n          if (!currentRow.preSibling) {\n            const headRow = thead.children[0]\n            if (!currentRow.nextSibling) return\n            this.removeBlock(headRow)\n            this.removeBlock(currentRow)\n            currentRow.children.forEach(cell => (cell.type = 'th'))\n            this.appendChild(thead, currentRow)\n          } else {\n            const preRow = this.getPreSibling(currentRow)\n            this.removeBlock(preRow)\n          }\n        } else if (location === 'current') {\n          if (block.type === 'th' && tbody.children.length >= 2) {\n            const firstRow = tbody.children[0]\n            this.removeBlock(currentRow)\n            this.removeBlock(firstRow)\n            this.appendChild(thead, firstRow)\n            firstRow.children.forEach(cell => (cell.type = 'th'))\n            cursorBlock = firstRow.children[columnIndex]\n          }\n          if (block.type === 'td' && (currentRow.preSibling || currentRow.nextSibling)) {\n            cursorBlock = (this.getNextSibling(currentRow) || this.getPreSibling(currentRow)).children[columnIndex]\n            this.removeBlock(currentRow)\n          }\n        } else {\n          if (block.type === 'th') {\n            if (tbody.children.length >= 2) {\n              const firstRow = tbody.children[0]\n              this.removeBlock(firstRow)\n            } else {\n              return\n            }\n          } else {\n            const nextRow = this.getNextSibling(currentRow)\n            if (nextRow) this.removeBlock(nextRow)\n          }\n        }\n      }\n    } else if (target === 'column') {\n      if (action === 'insert') {\n        [...thead.children, ...tbody.children].forEach(tableRow => {\n          const targetCell = tableRow.children[columnIndex]\n          const cell = this.createBlock(targetCell.type)\n          cell.align = ''\n          if (location === 'left') {\n            this.insertBefore(cell, targetCell)\n          } else {\n            this.insertAfter(cell, targetCell)\n          }\n          tableRow.children.forEach((cell, i) => {\n            cell.column = i\n          })\n        })\n        cursorBlock = location === 'left' ? this.getPreSibling(block) : this.getNextSibling(block)\n        // handle remove column\n      } else {\n        if (currentRow.children.length <= 2) return\n        [...thead.children, ...tbody.children].forEach(tableRow => {\n          const targetCell = tableRow.children[columnIndex]\n          const removeCell = location === 'left'\n            ? this.getPreSibling(targetCell)\n            : (location === 'current' ? targetCell : this.getNextSibling(targetCell))\n          if (removeCell === block) {\n            cursorBlock = this.findNextBlockInLocation(block)\n          }\n\n          if (removeCell) this.removeBlock(removeCell)\n          tableRow.children.forEach((cell, i) => {\n            cell.column = i\n          })\n        })\n      }\n    }\n\n    const newColum = thead.children[0].children.length - 1\n    const newRow = thead.children.length + tbody.children.length - 1\n    Object.assign(table, { row: newRow, column: newColum })\n\n    if (cursorBlock) {\n      const { key } = cursorBlock\n      const offset = 0\n      this.cursor = { start: { key, offset }, end: { key, offset } }\n    } else {\n      this.cursor = { start, end }\n    }\n\n    this.partialRender()\n    this.muya.eventCenter.dispatch('stateChange')\n  }\n\n  ContentState.prototype.getTableBlock = function () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParents = this.getParents(startBlock)\n    const endParents = this.getParents(endBlock)\n    const affiliation = startParents\n      .filter(p => endParents.includes(p))\n\n    if (affiliation.length) {\n      const table = affiliation.find(p => p.type === 'figure')\n      return table\n    }\n  }\n\n  ContentState.prototype.tableBlockUpdate = function (block) {\n    const { type } = block\n    if (type !== 'p') return false\n    const { text } = block.children[0]\n    const match = TABLE_BLOCK_REG.exec(text)\n    return (match && isLengthEven(match[1]) && isLengthEven(match[2])) ? this.initTable(block) : false\n  }\n}\n\nexport default tableBlockCtrl\n","const selectionCtrl = ContentState => {\n  // Returns the table from the table cell:\n  //   table <-- thead or tbody <-- tr <-- th or td (cell)\n  ContentState.prototype.getTableFromTableCell = function (block) {\n    const table = this.getParent(this.getParent(this.getParent(block)))\n    if (table && table.type !== 'table') {\n      return null\n    }\n    return table\n  }\n\n  ContentState.prototype.tableCellHandler = function (event) {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const { type: startType } = startBlock\n    const { type: endType } = endBlock\n    if (/th|td/.test(startType) && /th|td/.test(endType)) {\n      if (start.key === end.key) {\n        const { text, key } = startBlock\n        this.cursor = {\n          start: { key, offset: 0 },\n          end: { key, offset: text.length }\n        }\n      } else {\n        const startTable = this.getTableFromTableCell(startBlock)\n        const endTable = this.getTableFromTableCell(endBlock)\n        // Check whether both blocks are in the same table.\n        if (!startTable || !endTable) {\n          console.error('No table found or invalid type.')\n          return\n        } else if (startTable.key !== endTable.key) {\n          // Select entire document\n          return\n        }\n        const firstTableCell = this.firstInDescendant(startTable)\n        const lastTableCell = this.lastInDescendant(startTable)\n        if (!firstTableCell || !/th|td/.test(firstTableCell.type) ||\n          !lastTableCell || !/th|td/.test(lastTableCell.type)) {\n          console.error('No table cell found or invalid type.')\n          return\n        }\n        const { key: startKey } = firstTableCell\n        const { key: endKey, text } = lastTableCell\n        this.cursor = {\n          start: { key: startKey, offset: 0 },\n          end: { key: endKey, offset: text.length }\n        }\n      }\n\n      event.preventDefault()\n      event.stopPropagation()\n      this.partialRender()\n    }\n  }\n}\n\nexport default selectionCtrl\n","import { deepCopy } from '../utils'\nimport { UNDO_DEPTH } from '../config'\n\nclass History {\n  constructor (contentState) {\n    this.stack = []\n    this.index = -1\n    this.contentState = contentState\n  }\n\n  undo () {\n    if (this.index > 0) {\n      this.index = this.index - 1\n\n      const state = deepCopy(this.stack[this.index])\n      const { blocks, cursor, renderRange } = state\n      cursor.noHistory = true\n      this.contentState.blocks = blocks\n      this.contentState.renderRange = renderRange\n      this.contentState.cursor = cursor\n      this.contentState.render()\n    }\n  }\n\n  redo () {\n    const { index, stack } = this\n    const len = stack.length\n    if (index < len - 1) {\n      this.index = index + 1\n      const state = deepCopy(stack[this.index])\n      const { blocks, cursor, renderRange } = state\n      cursor.noHistory = true\n      this.contentState.blocks = blocks\n      this.contentState.renderRange = renderRange\n      this.contentState.cursor = cursor\n      this.contentState.render()\n    }\n  }\n\n  push (state) {\n    this.stack.splice(this.index + 1)\n    const copyState = deepCopy(state)\n    this.stack.push(copyState)\n    if (this.stack.length > UNDO_DEPTH) {\n      this.stack.shift()\n      this.index = this.index - 1\n    }\n    this.index = this.index + 1\n  }\n\n  clearHistory () {\n    this.stack = []\n    this.index = -1\n  }\n}\n\nexport default History\n","import { EVENT_KEYS, CLASS_OR_ID } from '../config'\nimport { findNearestParagraph } from '../selection/dom'\nimport selection from '../selection'\n\n// If the next block is header, put cursor after the `#{1,6} *` \nconst adjustOffset = (offset, block, event) => {\n  if (/^span$/.test(block.type) && block.functionType === 'atxLine' && event.key === EVENT_KEYS.ArrowDown) {\n    const match = /^\\s{0,3}(?:#{1,6})(?:\\s{1,}|$)/.exec(block.text)\n    if (match) {\n      return match[0].length\n    }\n  }\n  return offset\n}\n\nconst arrowCtrl = ContentState => {\n  ContentState.prototype.findNextRowCell = function (cell) {\n    if (!/th|td/.test(cell.type)) {\n      throw new Error(`block with type ${cell && cell.type} is not a table cell`)\n    }\n    const row = this.getParent(cell)\n    const rowContainer = this.getParent(row) // thead or tbody\n    const column = row.children.indexOf(cell)\n    if (rowContainer.type === 'thead') {\n      const tbody = this.getNextSibling(rowContainer)\n      if (tbody && tbody.children.length) {\n        return tbody.children[0].children[column]\n      }\n    } else if (rowContainer.type === 'tbody') {\n      const nextRow = this.getNextSibling(row)\n      if (nextRow) {\n        return nextRow.children[column]\n      }\n    }\n    return null\n  }\n\n  ContentState.prototype.findPrevRowCell = function (cell) {\n    if (!/th|td/.test(cell.type)) throw new Error(`block with type ${cell && cell.type} is not a table cell`)\n    const row = this.getParent(cell)\n    const rowContainer = this.getParent(row) // thead or tbody\n    const rowIndex = rowContainer.children.indexOf(row)\n    const column = row.children.indexOf(cell)\n    if (rowContainer.type === 'tbody') {\n      if (rowIndex === 0 && rowContainer.preSibling) {\n        const thead = this.getPreSibling(rowContainer)\n        return thead.children[0].children[column]\n      } else if (rowIndex > 0) {\n        return this.getPreSibling(row).children[column]\n      }\n      return null\n    }\n    return null\n  }\n\n  ContentState.prototype.docArrowHandler = function (event) {\n    const { selectedImage } = this\n    if (selectedImage) {\n      const { key, token } = selectedImage\n      const { start, end } = token.range\n      event.preventDefault()\n      event.stopPropagation()\n      const block = this.getBlock(key)\n      switch (event.key) {\n        case EVENT_KEYS.ArrowUp:\n        case EVENT_KEYS.ArrowLeft: {\n          this.cursor = {\n            start: { key, offset: start },\n            end: { key, offset: start }\n          }\n          break\n        }\n        case EVENT_KEYS.ArrowDown:\n        case EVENT_KEYS.ArrowRight: {\n          this.cursor = {\n            start: { key, offset: end },\n            end: { key, offset: end }\n          }\n          break\n        }\n      }\n      return this.singleRender(block)\n    }\n  }\n\n  ContentState.prototype.arrowHandler = function (event) {\n    const node = selection.getSelectionStart()\n    const paragraph = findNearestParagraph(node)\n    const id = paragraph.id\n    const block = this.getBlock(id)\n    const preBlock = this.findPreBlockInLocation(block)\n    const nextBlock = this.findNextBlockInLocation(block)\n    const { start, end } = selection.getCursorRange()\n    const { topOffset, bottomOffset } = selection.getCursorYOffset(paragraph)\n    if (!start || !end) {\n      return\n    }\n\n    // fix #101\n    if (event.key === EVENT_KEYS.ArrowRight && node && node.classList && node.classList.contains(CLASS_OR_ID['AG_MATH_TEXT'])) {\n      const { right } = selection.getCaretOffsets(node)\n      if (right === 0 && start.key === end.key && start.offset === end.offset) {\n        // It's not recommended to use such lower API, but it's work well.\n        return selection.select(node.parentNode.nextElementSibling, 0)\n      }\n    }\n\n    // Just do nothing if the cursor is not collapsed or `shiftKey` pressed\n    if (\n      (start.key === end.key && start.offset !== end.offset) ||\n      start.key !== end.key || event.shiftKey\n    ) {\n      return\n    }\n\n    if (\n      (event.key === EVENT_KEYS.ArrowUp && topOffset > 0) ||\n      (event.key === EVENT_KEYS.ArrowDown && bottomOffset > 0)\n    ) {\n      if (!/pre|th|td/.test(block.type)) {\n        return\n      }\n    }\n\n    if (/th|td/.test(block.type)) {\n      let activeBlock\n      const cellInNextRow = this.findNextRowCell(block)\n      const cellInPrevRow = this.findPrevRowCell(block)\n\n      if (event.key === EVENT_KEYS.ArrowUp) {\n        if (cellInPrevRow) {\n          activeBlock = cellInPrevRow\n        } else {\n          activeBlock = this.findPreBlockInLocation(this.getTableBlock())\n        }\n      }\n\n      if (event.key === EVENT_KEYS.ArrowDown) {\n        if (cellInNextRow) {\n          activeBlock = cellInNextRow\n        } else {\n          activeBlock = this.findNextBlockInLocation(this.getTableBlock())\n        }\n      }\n\n      if (activeBlock) {\n        event.preventDefault()\n        event.stopPropagation()\n        let offset = activeBlock.type === 'p'\n          ? 0\n          : (event.key === EVENT_KEYS.ArrowUp\n            ? activeBlock.text.length\n            : 0)\n        \n        offset = adjustOffset(offset, activeBlock, event)\n\n        const key = activeBlock.type === 'p'\n          ? activeBlock.children[0].key\n          : activeBlock.key\n\n        this.cursor = {\n          start: {\n            key,\n            offset\n          },\n          end: {\n            key,\n            offset\n          }\n        }\n\n        return this.partialRender()\n      }\n    }\n\n    if (\n      (event.key === EVENT_KEYS.ArrowUp) ||\n      (event.key === EVENT_KEYS.ArrowLeft && start.offset === 0)\n    ) {\n      event.preventDefault()\n      event.stopPropagation()\n      if (!preBlock) return\n      const key = preBlock.key\n      const offset = preBlock.text.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      return this.partialRender()\n    } else if (\n      (event.key === EVENT_KEYS.ArrowDown) ||\n      (event.key === EVENT_KEYS.ArrowRight && start.offset === block.text.length)\n    ) {\n      event.preventDefault()\n      event.stopPropagation()\n      let key\n      let newBlock\n      if (nextBlock) {\n        key = nextBlock.key\n      } else {\n        newBlock = this.createBlockP()\n        const lastBlock = this.blocks[this.blocks.length - 1]\n        this.insertAfter(newBlock, lastBlock)\n        key = newBlock.children[0].key\n      }\n      const offset = adjustOffset(0, nextBlock || newBlock, event)\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      return this.partialRender()\n    }\n  }\n}\n\nexport default arrowCtrl\n","\nimport { PARAGRAPH_TYPES, PREVIEW_DOMPURIFY_CONFIG, HAS_TEXT_BLOCK_REG, IMAGE_EXT_REG } from '../config'\nimport { sanitize, getUniqueId, getImageInfo as getImageSrc } from '../utils'\nimport { getImageInfo } from '../utils/getImageInfo'\n\nconst LIST_REG = /ul|ol/\nconst LINE_BREAKS_REG = /\\n/\n\nconst pasteCtrl = ContentState => {\n  // check paste type: `MERGE` or `NEWLINE`\n  ContentState.prototype.checkPasteType = function (start, fragment) {\n    const fragmentType = fragment.type\n    const parent = this.getParent(start)\n\n    if (fragmentType === 'p') {\n      return 'MERGE'\n    } else if (/^h\\d/.test(fragmentType)) {\n      if (start.text) {\n        return 'MERGE'\n      } else {\n        return 'NEWLINE'\n      }\n    } else if (LIST_REG.test(fragmentType)) {\n      const listItem = this.getParent(parent)\n      const list = listItem && listItem.type === 'li' ? this.getParent(listItem) : null\n      if (list) {\n        if (\n          list.listType === fragment.listType &&\n          listItem.bulletMarkerOrDelimiter === fragment.children[0].bulletMarkerOrDelimiter  \n        ) {\n          return 'MERGE'\n        } else {\n          return 'NEWLINE'\n        }\n      } else {\n        return 'NEWLINE'\n      }\n    } else {\n      return 'NEWLINE'\n    }\n  }\n\n  ContentState.prototype.checkCopyType = function (html, text) {\n    let type = 'normal'\n    if (!html && text) {\n      type = 'copyAsMarkdown'\n      const match = /^<([a-zA-Z\\d-]+)(?=\\s|>).*?>[\\s\\S]+?<\\/[a-zA-Z\\d-]+>$/.exec(text.trim())\n      if (match && match[1]) {\n        const tag = match[1]\n        type = PARAGRAPH_TYPES.find(type => type === tag) ? 'copyAsHtml' : type\n      }\n    }\n    return type\n  }\n\n  ContentState.prototype.standardizeHTML = function (html) {\n    const sanitizedHtml = sanitize(html, PREVIEW_DOMPURIFY_CONFIG)\n    const tempWrapper = document.createElement('div')\n    tempWrapper.innerHTML = sanitizedHtml\n    // special process for Number app in macOs\n    const tables = Array.from(tempWrapper.querySelectorAll('table'))\n    for (const table of tables) {\n      const row = table.querySelector('tr')\n      if (row.firstElementChild.tagName !== 'TH') {\n        [...row.children].forEach(cell => {\n          const th = document.createElement('th')\n          th.innerHTML = cell.innerHTML\n          cell.replaceWith(th)\n        })\n      }\n      const paragraphs = Array.from(table.querySelectorAll('p'))\n      for (const p of paragraphs) {\n        const span = document.createElement('span')\n        span.innerHTML = p.innerHTML\n        p.replaceWith(span)\n      }\n    }\n\n    return tempWrapper.innerHTML\n  }\n\n  ContentState.prototype.pasteImage = async function (event) {\n    // Try to guess the clipboard file path.\n    const imagePath = this.muya.options.clipboardFilePath()\n    if (imagePath && typeof imagePath === 'string' && IMAGE_EXT_REG.test(imagePath)) {\n      const id = `loading-${getUniqueId()}`\n      if (this.selectedImage) {\n        this.replaceImage(this.selectedImage, {\n          alt: id,\n          src: imagePath,\n        })\n      } else {\n        this.insertImage({\n          alt: id,\n          src: imagePath\n        })\n      }\n      const nSrc = await this.muya.options.imageAction(imagePath)\n      const { src } = getImageSrc(imagePath)\n      if (src) {\n        this.stateRender.urlMap.set(nSrc, src)\n      }\n\n      const imageWrapper = this.muya.container.querySelector(`span[data-id=${id}]`)\n\n      if (imageWrapper) {\n        const imageInfo = getImageInfo(imageWrapper)\n        this.replaceImage(imageInfo, {\n          src: nSrc\n        })\n      }\n      return imagePath\n    }\n\n    const items = event.clipboardData && event.clipboardData.items\n    let file = null\n    if (items && items.length) {\n      for (let i = 0; i < items.length; i++) {\n        if (items[i].type.indexOf('image') !== -1) {\n          file = items[i].getAsFile()\n          break\n        }\n      }\n    }\n\n    // handle paste to create inline image\n    if (file) {\n      const id = `loading-${getUniqueId()}`\n      if (this.selectedImage) {\n        this.replaceImage(this.selectedImage, {\n          alt: id,\n          src: ''\n        })\n      } else {\n        this.insertImage({\n          alt: id,\n          src: ''\n        })\n      }\n\n      const reader = new FileReader()\n      reader.onload = event => {\n        const base64 = event.target.result\n        const imageWrapper = this.muya.container.querySelector(`span[data-id=${id}]`)\n        const imageContainer = this.muya.container.querySelector(`span[data-id=${id}] .ag-image-container`)\n        this.stateRender.urlMap.set(id, base64)\n        if (imageContainer) {\n          imageWrapper.classList.remove('ag-empty-image')\n          imageWrapper.classList.add('ag-image-success')\n          const image = document.createElement('img')\n          image.src = base64\n          imageContainer.appendChild(image)\n        }\n      }\n      reader.readAsDataURL(file)\n\n      const nSrc = await this.muya.options.imageAction(file)\n      const base64 = this.stateRender.urlMap.get(id)\n      if (base64) {\n        this.stateRender.urlMap.set(nSrc, base64)\n        this.stateRender.urlMap.delete(id)\n      }\n      const imageWrapper = this.muya.container.querySelector(`span[data-id=${id}]`)\n\n      if (imageWrapper) {\n        const imageInfo = getImageInfo(imageWrapper)\n        this.replaceImage(imageInfo, {\n          src: nSrc\n        })\n      }\n      return file\n    }\n    return null\n  }\n\n  ContentState.prototype.docPasteHandler = async function (event) {\n    const file = await this.pasteImage(event)\n    if (file) {\n      return event.preventDefault()\n    }\n  }\n\n  // handle `normal` and `pasteAsPlainText` paste\n  ContentState.prototype.pasteHandler = async function (event, type = 'normal', rawText, rawHtml) {\n    event.preventDefault()\n    event.stopPropagation()\n    const text = rawText || event.clipboardData.getData('text/plain')\n    let html = rawHtml || event.clipboardData.getData('text/html')\n    html = this.standardizeHTML(html)\n    const copyType = this.checkCopyType(html, text)\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const parent = this.getParent(startBlock)\n\n    if (start.key !== end.key) {\n      this.cutHandler()\n      return this.pasteHandler(event, type)\n    }\n\n    const file = await this.pasteImage(event)\n    if (file) {\n      return\n    }\n\n    const appendHtml = (text) => {\n      startBlock.text = startBlock.text.substring(0, start.offset) + text + startBlock.text.substring(start.offset)\n      const { key } = start\n      const offset = start.offset + text.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n    }\n\n    // Extract the first line from the language identifier (GH#553)\n    if (startBlock.type === 'span' && startBlock.functionType === 'languageInput') {\n      let language = text.trim().match(/^.*$/m)[0] || ''\n      const oldLanguageLength = startBlock.text.length\n      let offset = 0\n      if (start.offset !== 0 || end.offset !== oldLanguageLength) {\n        const prePartText = startBlock.text.substring(0, start.offset)\n        const postPartText = startBlock.text.substring(end.offset)\n\n        // Expect that the language doesn't contain new lines\n        language = prePartText + language + postPartText\n        offset = prePartText.length + language.length\n      } else {\n        offset = language.length\n      }\n\n      startBlock.text = language\n\n      const key = startBlock.key\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n\n      // Hide code picker float box\n      const { eventCenter } = this.muya\n      eventCenter.dispatch('muya-code-picker', { reference: null })\n\n      // Update code block language and render\n      this.updateCodeLanguage(startBlock, language)\n      return\n    }\n\n    if (startBlock.type === 'span' && startBlock.functionType === 'codeLine') {\n      let referenceBlock = startBlock\n      const blockText = startBlock.text\n      const prePartText = blockText.substring(0, start.offset)\n      const postPartText = blockText.substring(end.offset)\n      const textList = text.split(LINE_BREAKS_REG)\n      if (textList.length > 1) {\n        textList.forEach((line, i) => {\n          if (i === 0) {\n            startBlock.text = prePartText + line\n          } else {\n            line = i === textList.length - 1 ? line + postPartText : line\n            const lineBlock = this.createBlock('span', { text: line })\n            lineBlock.functionType = startBlock.functionType\n            lineBlock.lang = startBlock.lang\n            this.insertAfter(lineBlock, referenceBlock)\n            referenceBlock = lineBlock\n            if (i === textList.length - 1) {\n              const { key } = lineBlock\n              const offset = line.length\n              this.cursor = {\n                start: { key, offset },\n                end: { key, offset }\n              }\n            }\n          }\n        })\n      } else {\n        startBlock.text = prePartText + text + postPartText\n        const key = startBlock.key\n        const offset = start.offset + text.length\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n      }\n      return this.partialRender()\n    }\n\n    if (/th|td/.test(startBlock.type)) {\n      const pendingText = text.trim().replace(/\\n/g, '<br/>')\n      startBlock.text = startBlock.text.substring(0, start.offset) + pendingText + startBlock.text.substring(end.offset)\n      const { key } = startBlock\n      const offset = start.offset + pendingText.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n\n    // handle copyAsHtml\n    if (copyType === 'copyAsHtml') {\n      switch (type) {\n        case 'normal': {\n          const htmlBlock = this.createBlockP(text.trim())\n          this.insertAfter(htmlBlock, parent)\n          this.removeBlock(parent)\n          // handler heading\n          this.insertHtmlBlock(htmlBlock)\n          break\n        }\n        case 'pasteAsPlainText': {\n          const lines = text.trim().split(LINE_BREAKS_REG)\n          let htmlBlock = null\n          \n          if (!startBlock.text || lines.length > 1) {\n            htmlBlock = this.createBlockP((startBlock.text ? lines.slice(1) : lines).join('\\n'))\n          }\n          if (htmlBlock) {\n            this.insertAfter(htmlBlock, parent)\n            this.insertHtmlBlock(htmlBlock)\n          }\n          if (startBlock.text) {\n            appendHtml(lines[0])\n          } else {\n            this.removeBlock(parent)\n          }\n          break\n        }\n      }\n      return this.partialRender()\n    }\n\n    const stateFragments = type === 'pasteAsPlainText' || copyType === 'copyAsMarkdown'\n      ? this.markdownToState(text)\n      : this.html2State(html)\n\n    if (stateFragments.length <= 0) return\n    // step 1: if select content, cut the content, and chop the block text into two part by the cursor.\n    const cacheText = endBlock.text.substring(end.offset)\n    startBlock.text = startBlock.text.substring(0, start.offset)\n\n    // step 2: when insert the fragments, check begin a new block, or insert into pre block.\n    const firstFragment = stateFragments[0]\n    const tailFragments = stateFragments.slice(1)\n    const pasteType = this.checkPasteType(startBlock, firstFragment)\n\n    const getLastBlock = blocks => {\n      const len = blocks.length\n      const lastBlock = blocks[len - 1]\n\n      if (lastBlock.children.length === 0 && HAS_TEXT_BLOCK_REG.test(lastBlock.type)) {\n        return lastBlock\n      } else {\n        if (lastBlock.editable === false) {\n          return getLastBlock(blocks[len - 2].children)\n        } else {\n          return getLastBlock(lastBlock.children)\n        }\n      }\n    }\n\n    const lastBlock = getLastBlock(stateFragments)\n    let key = lastBlock.key\n    let offset = lastBlock.text.length\n    lastBlock.text += cacheText\n\n    switch (pasteType) {\n      case 'MERGE': {\n        if (LIST_REG.test(firstFragment.type)) {\n          const listItems = firstFragment.children\n          const firstListItem = listItems[0]\n          const liChildren = firstListItem.children\n          const originListItem = this.getParent(parent)\n          const originList = this.getParent(originListItem)\n          const targetListType = firstFragment.children[0].isLooseListItem\n          const originListType = originList.children[0].isLooseListItem\n          // No matter copy loose list to tight list or vice versa, the result is one loose list.\n          if (targetListType !== originListType) {\n            if (!targetListType) {\n              firstFragment.children.forEach(item => item.isLooseListItem = true)\n            } else {\n              originList.children.forEach(item => item.isLooseListItem = true)\n            }\n          }\n\n          if (liChildren[0].type === 'p') {\n            // TODO @JOCS\n            startBlock.text += liChildren[0].children[0].text\n            const tail = liChildren.slice(1)\n            if (tail.length) {\n              tail.forEach(t => {\n                this.appendChild(originListItem, t)\n              })\n            }\n            const firstFragmentTail = listItems.slice(1)\n            if (firstFragmentTail.length) {\n              firstFragmentTail.forEach(t => {\n                this.appendChild(originList, t)\n              })\n            }\n          } else {\n            listItems.forEach(c => {\n              this.appendChild(originList, c)\n            })\n          }\n          let target = originList\n          tailFragments.forEach(block => {\n            this.insertAfter(block, target)\n            target = block\n          })\n        } else if (firstFragment.type === 'p' || /^h\\d/.test(firstFragment.type)) {\n          const text = firstFragment.children[0].text\n          const lines = text.split('\\n')\n          let target = parent\n          if (parent.headingStyle === 'atx') {\n            startBlock.text += lines[0]\n            if (lines.length > 1) {\n              const pBlock = this.createBlockP(lines.slice(1).join('\\n'))\n              this.insertAfter(parent, pBlock)\n              target = pBlock\n            }\n          } else {\n            startBlock.text += text\n          }\n          \n          tailFragments.forEach(block => {\n            this.insertAfter(block, target)\n            target = block\n          })\n        }\n        break\n      }\n      case 'NEWLINE': {\n        let target = parent\n        stateFragments.forEach(block => {\n          this.insertAfter(block, target)\n          target = block\n        })\n        if (startBlock.text.length === 0) {\n          this.removeBlock(parent)\n        }\n        break\n      }\n      default: {\n        throw new Error('unknown paste type')\n      }\n    }\n    // step 3: set cursor and render\n    let cursorBlock = this.getBlock(key)\n    if (!cursorBlock) {\n      key = startBlock.key\n      offset = startBlock.text.length - cacheText.length\n      cursorBlock = startBlock\n    }\n\n    this.cursor = {\n      start: {\n        key, offset\n      },\n      end: {\n        key, offset\n      }\n    }\n    this.checkInlineUpdate(cursorBlock)\n    this.partialRender()\n  }\n}\n\nexport default pasteCtrl\n","export default {\n  baseUrl: null,\n  breaks: false,\n  gfm: true,\n  // TODO: We set weather to support `emoji`, `math`, `frontMatter` default value to `true`\n  // After we add user setting, we maybe set math and frontMatter default value to false.\n  // User need to enable them in the user setting.\n  emoji: true,\n  math: true,\n  frontMatter: true,\n  headerIds: true,\n  headerPrefix: '',\n  highlight: null,\n  mathRenderer: null,\n  emojiRenderer: null,\n  langPrefix: 'language-',\n  mangle: true,\n  pedantic: false,\n  renderer: null, // new Renderer(),\n  sanitize: false,\n  sanitizer: null,\n  silent: false,\n  smartLists: false,\n  smartypants: false,\n  tables: true,\n  xhtml: false,\n  disableInline: false\n}\n","/**\n * Helpers\n */\n\nexport const escape = function escape (html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch] })\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch] })\n    }\n  }\n\n  return html\n}\n\nescape.escapeTest = /[&<>\"']/\nescape.escapeReplace = /[&<>\"']/g\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n}\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g\n\nexport const unescape = function unescape (html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase()\n    if (n === 'colon') return ':'\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1))\n    }\n    return ''\n  })\n}\n\nexport const edit = function edit (regex, opt) {\n  regex = regex.source || regex\n  opt = opt || ''\n  return {\n    replace: function(name, val) {\n      val = val.source || val\n      val = val.replace(/(^|[^\\[])\\^/g, '$1') // eslint-disable-line no-useless-escape\n      regex = regex.replace(name, val)\n      return this\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt)\n    }\n  }\n}\n\nexport const cleanUrl = function cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot = ''\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase()\n    } catch (e) {\n      return null\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href)\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%')\n  } catch (e) {\n    return null\n  }\n  return href\n}\n\nconst resolveUrl = function resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/'\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true)\n    }\n  }\n  base = baseUrls[' ' + base]\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href\n  } else {\n    return base + href\n  }\n}\nlet baseUrls = {}\nlet originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i\n\nexport const noop = function noop () {}\nnoop.exec = noop\n\nexport const splitCells = function splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  let row = tableRow.replace(/\\|/g, function (match, offset, str) {\n    let escaped = false,\n    curr = offset\n    while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped\n    if (escaped) {\n      // odd number of slashes means | is escaped\n      // so we leave it alone\n      return '|'\n    } else {\n      // add space before unescaped |\n      return ' |'\n    }\n  }),\n  cells = row.split(/ \\|/),\n  i = 0\n\n  if (cells.length > count) {\n    cells.splice(count)\n  } else {\n    while (cells.length < count) cells.push('')\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|')\n  }\n  return cells\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nexport const rtrim = function rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return ''\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    let currChar = str.charAt(str.length - suffLen - 1)\n    if (currChar === c && !invert) {\n      suffLen++\n    } else if (currChar !== c && invert) {\n      suffLen++\n    } else {\n      break\n    }\n  }\n\n  return str.substr(0, str.length - suffLen)\n}\n\nexport const findClosingBracket = function findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1\n  }\n  let level = 0\n  for (let i = 0; i < str.length; i++) {\n    if (str[i] === '\\\\') {\n      i++\n    } else if (str[i] === b[0]) {\n      level++\n    } else if (str[i] === b[1]) {\n      level--\n      if (level < 0) {\n        return i\n      }\n    }\n  }\n  return -1\n}\n\n","import defaultOptions from './options'\nimport { cleanUrl, escape } from './utils'\n\n/**\n * Renderer\n */\n\nfunction Renderer (options = {}) {\n  this.options = options || defaultOptions\n}\n\nRenderer.prototype.frontmatter = function (text) {\n  return `<pre class=\"front-matter\">\\n${text}</pre>\\n`\n}\n\nRenderer.prototype.multiplemath = function (text) {\n  let output = ''\n  if (this.options.mathRenderer) {\n    const displayMode = true\n    output = this.options.mathRenderer(text, displayMode)\n  }\n  return output || `<pre class=\"multiple-math\">\\n${text}</pre>\\n`\n}\n\nRenderer.prototype.inlineMath = function (math) {\n  let output = ''\n  if (this.options.mathRenderer) {\n    const displayMode = false\n    output = this.options.mathRenderer(math, displayMode)\n  }\n  return output || math\n}\n\nRenderer.prototype.emoji = function (text, emoji) {\n  if (this.options.emojiRenderer) {\n    return this.options.emojiRenderer(emoji)\n  } else {\n    return text\n  }\n}\n\nRenderer.prototype.code = function (code, infostring, escaped, codeBlockStyle) {\n  const lang = (infostring || '').match(/\\S*/)[0]\n  if (this.options.highlight) {\n    let out = this.options.highlight(code, lang)\n    if (out !== null && out !== code) {\n      escaped = true\n      code = out\n    }\n  }\n\n  let className = codeBlockStyle === 'fenced' ? 'fenced-code-block' : 'indented-code-block'\n  className = lang ? `${className} ${this.options.langPrefix}${escape(lang, true)}` : className\n\n  return '<pre><code class=\"' +\n    className +\n    '\">' +\n    (escaped ? code : escape(code, true)) +\n    '\\n</code></pre>\\n'\n}\n\nRenderer.prototype.blockquote = function (quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n'\n}\n\nRenderer.prototype.html = function (html) {\n  return html\n}\n\nRenderer.prototype.heading = function (text, level, raw, slugger, headingStyle) {\n  if (this.options.headerIds) {\n    return '<h' +\n      level +\n      ' id=\"' +\n      this.options.headerPrefix +\n      slugger.slug(raw) +\n      '\" class=\"' +\n      headingStyle +\n      '\">' +\n      text +\n      '</h' +\n      level +\n      '>\\n'\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n'\n}\n\nRenderer.prototype.hr = function () {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n'\n}\n\nRenderer.prototype.list = function (body, ordered, start, taskList) {\n  const type = ordered ? 'ol' : 'ul'\n  const startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : ''\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n'\n}\n\nRenderer.prototype.listitem = function (text, checked) {\n  // normal list\n  if (checked === undefined) {\n    return '<li>' + text + '</li>\\n'\n  }\n\n  // task list\n  return '<li class=\"task-list-item\"><input type=\"checkbox\"' +\n    (checked ? ' checked=\"\"' : '') +\n    ' disabled=\"\"' +\n    (this.options.xhtml ? ' /' : '') +\n    '> ' +\n    text +\n    '</li>\\n'\n}\n\nRenderer.prototype.paragraph = function (text) {\n  return '<p>' + text + '</p>\\n'\n}\n\nRenderer.prototype.table = function (header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>'\n\n  return '<table>\\n' +\n    '<thead>\\n' +\n    header +\n    '</thead>\\n' +\n    body +\n    '</table>\\n'\n}\n\nRenderer.prototype.tablerow = function (content) {\n  return '<tr>\\n' + content + '</tr>\\n'\n}\n\nRenderer.prototype.tablecell = function (content, flags) {\n  const type = flags.header ? 'th' : 'td'\n  const tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>'\n  return tag + content + '</' + type + '>\\n'\n}\n\n// span level renderer\nRenderer.prototype.strong = function (text) {\n  return '<strong>' + text + '</strong>'\n}\n\nRenderer.prototype.em = function (text) {\n  return '<em>' + text + '</em>'\n}\n\nRenderer.prototype.codespan = function (text) {\n  return '<code>' + text + '</code>'\n}\n\nRenderer.prototype.br = function () {\n  return this.options.xhtml ? '<br/>' : '<br>'\n}\n\nRenderer.prototype.del = function (text) {\n  return '<del>' + text + '</del>'\n}\n\nRenderer.prototype.link = function (href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href)\n  if (href === null) {\n    return text\n  }\n  let out = '<a href=\"' + escape(href) + '\"'\n  if (title) {\n    out += ' title=\"' + title + '\"'\n  }\n  out += '>' + text + '</a>'\n  return out\n}\n\nRenderer.prototype.image = function (href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href)\n  if (href === null) {\n    return text\n  }\n\n  let out = '<img src=\"' + href + '\" alt=\"' + text.replace(/\\*/g, '') + '\"'\n  if (title) {\n    out += ' title=\"' + title + '\"'\n  }\n  out += this.options.xhtml ? '/>' : '>'\n  return out\n}\n\nRenderer.prototype.text = function (text) {\n  return text\n}\n\nexport default Renderer\n","import { edit, noop } from './utils'\n\n/* eslint-disable no-useless-escape */\n\n/**\n * Block-Level Rules\n */\n\nexport const block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?: +([^\\n]*?)( *#+ *)?(?:\\n+|$)|(?:\\n+|$))/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n {0,3}(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/,\n\n  // extra\n  frontmatter: /^---\\n([\\s\\S]+?)---(?:\\n+|$)/,\n  multiplemath: /^\\$\\$\\n([\\s\\S]+?)\\n\\$\\$(?:\\n+|$)/\n}\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/\nblock.def = edit(block.def).\n  replace('label', block._label).\n  replace('title', block._title).\n  getRegex()\n\nblock.checkbox = /^\\[([ xX])\\] +/\nblock.bullet = /(?:[*+-]|\\d{1,9}(?:\\.|\\)))/ // patched: support \"(\" as ordered list delimiter too\n// patched: fix https://github.com/marktext/marktext/issues/831#issuecomment-477719256\n// block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/\nblock.item = /^(( {0,3})(bull) [^\\n]*(?:\\n(?!(\\2bull |\\2bull\\n))[^\\n]*)*|( {0,3})(bull)(?:\\n(?!(\\2bull |\\2bull\\n)))*)/\nblock.item = edit(block.item, 'gm').\n  replace(/bull/g, block.bullet).\n  getRegex()\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex()\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul'\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex()\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex()\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex()\n\n/**\n * Normal Block Grammar\n */\n\nexport const normal = Object.assign({}, block)\n\n/**\n * GFM Block Grammar\n */\n\nexport const gfm = Object.assign({}, normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/\n})\n\ngfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex()\n\n/**\n * GFM + Tables Block Grammar\n */\n\nexport const tables = Object.assign({}, gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n})\n\n/**\n * Pedantic grammar\n */\n\nexport const pedantic = Object.assign({}, normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n})\n\n/* eslint-ensable no-useless-escape */\n","import { normal, gfm, tables, pedantic } from './blockRules'\nimport options from './options'\nimport { splitCells, rtrim } from './utils'\n\n/**\n * Block Lexer\n */\n\nfunction Lexer (opts) {\n  this.tokens = []\n  this.tokens.links = Object.create(null)\n  this.options = Object.assign({}, options, opts)\n  this.rules = normal\n\n  if (this.options.pedantic) {\n    this.rules = pedantic\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = tables\n    } else {\n      this.rules = gfm\n    }\n  }\n}\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function (src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    // replace `\\t` to four space.\n    .replace(/\\t/g, '    ')\n    // .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n')\n  this.checkFrontmatter = true\n  return this.token(src, true)\n}\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function (src, top) {\n  const { frontMatter, math } = this.options\n  src = src.replace(/^ +$/gm, '')\n\n  let loose\n  let cap\n  let bull\n  let b\n  let item\n  let space\n  let i\n  let tag\n  let l\n  let checked\n\n  // Only check front matter at the begining of a markdown file.\n  // Why \"checkFrontmatter\" and \"top\"? See note in \"blockquote\".\n  if (frontMatter) {\n    cap = this.rules.frontmatter.exec(src)\n    if (this.checkFrontmatter && top && cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'frontmatter',\n        text: cap[1]\n      })\n    }\n    this.checkFrontmatter = false\n  }\n\n  while (src) {\n    // newline\n    cap = this.rules.newline.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        })\n      }\n    }\n\n    // code\n    // An indented code block cannot interrupt a paragraph.\n    cap = this.rules.code.exec(src)\n    if (cap) {\n      const lastToken = this.tokens[this.tokens.length - 1]\n      src = src.substring(cap[0].length)\n      if (lastToken && lastToken.type === 'paragraph') {\n        lastToken.text += `\\n${cap[0].trimRight()}`\n      } else {\n        cap = cap[0].replace(/^ {4}/gm, '')\n        this.tokens.push({\n          type: 'code',\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic\n            ? rtrim(cap, '\\n')\n            : cap\n        })\n      }\n      continue\n    }\n\n    // multiple line math\n    if (math) {\n      cap = this.rules.multiplemath.exec(src)\n      if (cap) {\n        src = src.substring(cap[0].length)\n        this.tokens.push({\n          type: 'multiplemath',\n          text: cap[1]\n        })\n        continue\n      }\n    }\n\n    // fences (gfm)\n    cap = this.rules.fences.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'code',\n        codeBlockStyle: 'fenced',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      })\n      continue\n    }\n\n    // heading\n    cap = this.rules.heading.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      let text = cap[2] || ''\n      if (cap[3] && !cap[3].startsWith(' ') && !/ +#+ *(?:\\n+|$)/.test(cap[0])) {\n        text = (text + cap[3]).trim()\n      }\n      this.tokens.push({\n        type: 'heading',\n        headingStyle: 'atx',\n        depth: cap[1].length,\n        text\n      })\n      continue\n    }\n\n    // table no leading pipe (gfm)\n    cap = this.rules.nptable.exec(src)\n    if (cap) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      }\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length)\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right'\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center'\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left'\n          } else {\n            item.align[i] = null\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length)\n        }\n\n        this.tokens.push(item)\n\n        continue\n      }\n    }\n\n    // hr\n    cap = this.rules.hr.exec(src)\n    if (cap) {\n      const marker = cap[0].replace(/\\n*$/, '')\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'hr',\n        marker\n      })\n      continue\n    }\n\n    // blockquote\n    cap = this.rules.blockquote.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      })\n\n      cap = cap[0].replace(/^ *> ?/gm, '')\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top)\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      })\n\n      continue\n    }\n\n    // NOTE: Complete list lexer part is a custom implementation based on an older marked.js version.\n\n    // list\n    cap = this.rules.list.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      bull = cap[2]\n      let isOrdered = bull.length > 1\n      this.tokens.push({\n        type: 'list_start',\n        ordered: isOrdered,\n        listType: bull.length > 1 ? 'order' : (/^( {0,3})([-*+]) \\[[xX ]\\]/.test(cap[0]) ? 'task' : 'bullet'),\n        start: isOrdered ? +(bull.slice(0, -1)) : ''\n      })\n\n      let next = false\n      let prevNext = true\n      let listItemIndices = []\n      let isTaskList = false\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item)\n      l = cap.length\n      i = 0\n\n      for (; i < l; i++) {\n        const itemWithBullet = cap[i]\n        item = itemWithBullet\n        let newIsTaskListItem = false\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length\n        let newBull\n        item = item.replace(/^ *([*+-]|\\d+(?:\\.|\\))) {0,4}/, function (m, p1) {\n          // Get and remove list item bullet\n          newBull = p1 || bull\n          return ''\n        })\n\n        const newIsOrdered = bull.length > 1 && /\\d{1,9}/.test(newBull)\n\n        if (!newIsOrdered && this.options.gfm) {\n          checked = this.rules.checkbox.exec(item)\n          if (checked) {\n            checked = checked[1] === 'x' || checked[1] === 'X'\n            item = item.replace(this.rules.checkbox, '')\n            newIsTaskListItem = true\n          } else {\n            checked = undefined\n          }\n        }\n\n        if (i === 0) {\n          isTaskList = newIsTaskListItem\n        } else if (\n          // Changing the bullet or ordered list delimiter starts a new list (CommonMark 264 and 265)\n          //   - unordered, unordered --> bull !== newBull --> new list (e.g \"-\" --> \"*\")\n          //   - ordered, ordered --> lastChar !== lastChar --> new list (e.g \".\" --> \")\")\n          //   - else --> new list (e.g. ordered --> unordered)\n          i !== 0 &&\n          (\n            (!isOrdered && !newIsOrdered && bull !== newBull) ||\n            (isOrdered && newIsOrdered && bull.slice(-1) !== newBull.slice(-1)) ||\n            (isOrdered !== newIsOrdered) ||\n            // Changing to/from task list item from/to bullet, starts a new list(work for marktext issue #870)\n            // Because we distinguish between task list and bullet list in Mark Text,\n            // the parsing here is somewhat different from the commonmark Spec,\n            // and the task list needs to be a separate list.\n            (isTaskList !== newIsTaskListItem)\n          )\n        ) {\n          this.tokens.push({\n            type: 'list_end'\n          })\n\n          // Start a new list\n          bull = newBull\n          isOrdered = newIsOrdered\n          isTaskList = newIsTaskListItem\n          this.tokens.push({\n            type: 'list_start',\n            ordered: isOrdered,\n            listType: bull.length > 1 ? 'order' : (/^( {0,3})([-*+]) \\[[xX ]\\]/.test(itemWithBullet) ? 'task' : 'bullet'),\n            start: isOrdered ? +(bull.slice(0, -1)) : ''\n          })\n        }\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '')\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = this.rules.bullet.exec(cap[i + 1])[0]\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src\n            i = l - 1\n          }\n        }\n\n        let prevItem = ''\n        if (i === 0) {\n          prevItem = item\n        } else {\n          prevItem = cap[i - 1]\n        }\n        // Determine whether item is loose or not. If previous item is loose\n        // this item is also loose.\n        // A list is loose if any of its constituent list items are separated by blank lines,\n        // or if any of its constituent list items directly contain two block-level elements with a blank line between them. \n        // loose = next = next || /^ *([*+-]|\\d{1,9}(?:\\.|\\)))( +\\S+\\n\\n(?!\\s*$)|\\n\\n(?!\\s*$))/.test(itemWithBullet)\n        loose = next = next || /\\n\\n(?!\\s*$)/.test(item)\n        // Check if previous line ends with a new line.\n        if (!loose && (i !== 0 || l > 1) && prevItem.length !== 0 && prevItem.charAt(prevItem.length - 1) === '\\n') {\n          loose = next = true\n        }\n\n        // A list is either loose or tight, so update previous list items but not nested list items.\n        if (next && prevNext !== next) {\n          for (const index of listItemIndices) {\n            this.tokens[index].type = 'loose_item_start'\n          }\n          listItemIndices = []\n        }\n        prevNext = next\n\n        if (!loose) {\n          listItemIndices.push(this.tokens.length)\n        }\n\n        const isOrderedListItem = /\\d/.test(bull)\n        this.tokens.push({\n          checked: checked,\n          listItemType: bull.length > 1 ? 'order' : (isTaskList ? 'task' : 'bullet'),\n          bulletMarkerOrDelimiter: isOrderedListItem ? bull.slice(-1) : bull.charAt(0),\n          type: loose ? 'loose_item_start' : 'list_item_start'\n        })\n\n        if (/^\\s*$/.test(item)) {\n          this.tokens.push({\n            type: 'text',\n            text: ''\n          })\n        } else {\n          // Recurse.\n          this.token(item, false)\n        }\n\n        this.tokens.push({\n          type: 'list_item_end'\n        })\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      })\n\n      continue\n    }\n\n    // html\n    cap = this.rules.html.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      })\n      continue\n    }\n\n    // def\n    cap = this.rules.def.exec(src)\n    if (top && cap) {\n      let text = ''\n      do {\n        src = src.substring(cap[0].length)\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1)\n        tag = cap[1].toLowerCase().replace(/\\s+/g, ' ')\n        if (!this.tokens.links[tag]) {\n          this.tokens.links[tag] = {\n            href: cap[2],\n            title: cap[3]\n          }\n        }\n\n        text += cap[0]\n        if (cap[0].endsWith('\\n\\n')) break\n        cap = this.rules.def.exec(src)\n      } while (cap)\n\n      if (this.options.disableInline) {\n        this.tokens.push({\n          type: 'paragraph',\n          text: text.replace(/\\n*$/, '')\n        })\n      }\n      continue\n    }\n\n    // table (gfm)\n    cap = this.rules.table.exec(src)\n    if (cap) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      }\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length)\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right'\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center'\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left'\n          } else {\n            item.align[i] = null\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length)\n        }\n\n        this.tokens.push(item)\n\n        continue\n      }\n    }\n\n    // lheading\n    cap = this.rules.lheading.exec(src)\n    if (cap) {\n      const precededToken = this.tokens[this.tokens.length - 1]\n      const chops = cap[0].trim().split(/\\n/)\n      const marker = chops[chops.length - 1]\n      src = src.substring(cap[0].length)\n\n      if (precededToken && precededToken.type === 'paragraph') {\n        this.tokens.pop()\n        this.tokens.push({\n          type: 'heading',\n          headingStyle: 'setext',\n          depth: cap[2] === '=' ? 1 : 2,\n          text: precededToken.text + '\\n' + cap[1],\n          marker\n        })\n      } else {\n        this.tokens.push({\n          type: 'heading',\n          headingStyle: 'setext',\n          depth: cap[2] === '=' ? 1 : 2,\n          text: cap[1],\n          marker\n        })\n      }\n      continue\n    }\n\n    // top-level paragraph\n    cap = this.rules.paragraph.exec(src)\n    if (top && cap) {\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      })\n      continue\n    }\n\n    // text\n    cap = this.rules.text.exec(src)\n    if (cap) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length)\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      })\n      continue\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0))\n    }\n  }\n\n  return this.tokens\n}\n\nexport default Lexer\n","import { block } from './blockRules'\nimport { edit, noop } from './utils'\n\n/* eslint-disable no-useless-escape */\n\n/**\n * Inline-Level Grammar\n */\n\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/, // eslint-disable-line no-control-regex\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n\n  // ------------------------\n  // patched\n\n  // allow inline math \"$\" (\"?=[\\\\<!\\[`*]\" to \"?=[\\\\<!\\[`*\\$]\")\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*\\$]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/, // emoji is patched in gfm\n\n  // ------------------------\n  // extra\n  emoji: noop,\n\n  // TODO: make math optional GH#740\n  math: /^\\$([^$]{1}[\\s\\S]+?[^$]{1})\\$(?!\\$)/\n}\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~'\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex()\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex()\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex()\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/ // eslint-disable-line no-control-regex\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex()\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex()\n\n/**\n * Normal Inline Grammar\n */\n\nexport const normal = Object.assign({}, inline)\n\n/**\n * Pedantic Inline Grammar\n */\n\nexport const pedantic = Object.assign({}, normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n})\n\n/**\n * GFM Inline Grammar\n */\n\nexport const gfm = Object.assign({}, normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n\n  // ------------------------\n  // patched\n\n  // allow inline math \"$\" and emoji \":\" (\"?=[\\\\<!\\[`*~]|\" to \"?=[\\\\<!\\[`*~:\\$]|\")\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~:\\$]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/,\n\n  // ------------------------\n  // extra\n\n  emoji: /^(:)([a-z_\\d+-]+?)\\1/ // not real GFM but put it in here\n})\n\ngfm.url = edit(gfm.url, 'i').\n  replace('email', gfm._extended_email)\n  .getRegex()\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\nexport const breaks = Object.assign({}, gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(gfm.text).replace(/\\{2,\\}/g, '*').getRegex()\n})\n\n/* eslint-ensable no-useless-escape */\n","import Renderer from './renderer'\nimport { normal, breaks, gfm, pedantic } from './inlineRules'\nimport defaultOptions from './options'\nimport { escape, findClosingBracket } from './utils'\nimport { validateEmphasize, lowerPriority } from '../utils'\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer (links, options) {\n  this.options = options || defaultOptions\n  this.links = links\n  this.rules = normal\n  this.renderer = this.options.renderer || new Renderer()\n  this.renderer.options = this.options\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.')\n  }\n\n  if (this.options.pedantic) {\n    this.rules = pedantic\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = breaks\n    } else {\n      this.rules = gfm\n    }\n  }\n  this.highPriorityEmpRules = {}\n  this.highPriorityLinkRules = {}\n  for (const key of Object.keys(this.rules)) {\n    if (/^(?:autolink|link|code|tag)$/.test(key) && this.rules[key] instanceof RegExp) {\n      this.highPriorityEmpRules[key] = this.rules[key]\n    }\n  }\n  for (const key of Object.keys(this.rules)) {\n    if (/^(?:autolink|code|tag)$/.test(key) && this.rules[key] instanceof RegExp) {\n      this.highPriorityLinkRules[key] = this.rules[key]\n    }\n  } \n}\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function (src) {\n  // src = src\n    // .replace(/\\u00a0/g, ' ')\n  const { disableInline, emoji, math } = this.options\n  if (disableInline) {\n    return escape(src)\n  }\n\n  let out = ''\n  let link\n  let text\n  let href\n  let title\n  let cap\n  let prevCapZero\n  let lastChar = ''\n\n  while (src) {\n    // escape\n    cap = this.rules.escape.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      out += escape(cap[1])\n      continue\n    }\n\n    // tag\n    cap = this.rules.tag.exec(src)\n    if (cap) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false\n      }\n\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue\n    }\n\n    // link\n    cap = this.rules.link.exec(src)\n    if (cap && lowerPriority(src, cap[0].length, this.highPriorityLinkRules)) {\n      const lastParenIndex = findClosingBracket(cap[2], '()')\n      if (lastParenIndex > -1) {\n        const linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length\n        cap[2] = cap[2].substring(0, lastParenIndex)\n        cap[0] = cap[0].substring(0, linkLen).trim()\n        cap[3] = ''\n      }\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      this.inLink = true\n      href = cap[2]\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href)\n\n        if (link) {\n          href = link[1]\n          title = link[3]\n        } else {\n          title = ''\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : ''\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1')\n      out += this.outputLink(cap, {\n        href: this.escapes(href),\n        title: this.escapes(title)\n      })\n      this.inLink = false\n      continue\n    }\n\n    // reflink, nolink\n    cap = this.rules.reflink.exec(src) || this.rules.nolink.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ')\n      link = this.links[link.toLowerCase()]\n      if (!link || !link.href) {\n        out += cap[0].charAt(0)\n        src = cap[0].substring(1) + src\n        continue\n      }\n      this.inLink = true\n      out += this.outputLink(cap, link)\n      this.inLink = false\n      continue\n    }\n\n    // math\n    if (math) {\n      cap = this.rules.math.exec(src)\n      if (cap) {\n        src = src.substring(cap[0].length)\n        lastChar = cap[0].charAt(cap[0].length - 1)\n        text = cap[1]\n        out += this.renderer.inlineMath(text)\n      }\n    }\n\n    // emoji\n    if (emoji) {\n      cap = this.rules.emoji.exec(src)\n      if (cap) {\n        src = src.substring(cap[0].length)\n        lastChar = cap[0].charAt(cap[0].length - 1)\n        text = cap[0]\n        out += this.renderer.emoji(text, cap[2])\n      }\n    }\n\n    // strong\n    cap = this.rules.strong.exec(src)\n    if (cap) {\n      const marker = cap[0].match(/^(?:_{1,2}|\\*{1,2})/)[0]\n      const isValid = validateEmphasize(src, cap[0].length, marker, lastChar, this.highPriorityEmpRules)\n      if (isValid) {\n        src = src.substring(cap[0].length)\n        lastChar = cap[0].charAt(cap[0].length - 1)\n        out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]))\n        continue\n      }\n    }\n\n    // em\n    cap = this.rules.em.exec(src)\n    if (cap) {\n      const marker = cap[0].match(/^(?:_{1,2}|\\*{1,2})/)[0]\n      const isValid = validateEmphasize(src, cap[0].length, marker, lastChar, this.highPriorityEmpRules)\n      if (isValid) {\n        src = src.substring(cap[0].length)\n        lastChar = cap[0].charAt(cap[0].length - 1)\n        out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]))\n        continue\n      }\n    }\n\n    // code\n    cap = this.rules.code.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      out += this.renderer.codespan(escape(cap[2].trim(), true))\n      continue\n    }\n\n    // br\n    cap = this.rules.br.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      out += this.renderer.br()\n      continue\n    }\n\n    // del (gfm)\n    cap = this.rules.del.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      out += this.renderer.del(this.output(cap[1]))\n      continue\n    }\n\n    // autolink\n    cap = this.rules.autolink.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]))\n        href = 'mailto:' + text\n      } else {\n        text = escape(cap[1])\n        href = text\n      }\n      out += this.renderer.link(href, null, text)\n      continue\n    }\n\n    // url (gfm)\n    cap = this.rules.url.exec(src)\n    if (!this.inLink && cap) {\n      if (cap[2] === '@') {\n        text = escape(cap[0])\n        href = 'mailto:' + text\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0]\n          cap[0] = this.rules._backpedal.exec(cap[0])[0]\n        } while (prevCapZero !== cap[0])\n        text = escape(cap[0])\n        if (cap[1] === 'www.') {\n          href = 'http://' + text\n        } else {\n          href = text\n        }\n      }\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      out += this.renderer.link(href, null, text)\n      continue\n    }\n\n    // text\n    cap = this.rules.text.exec(src)\n    if (cap) {\n      src = src.substring(cap[0].length)\n      lastChar = cap[0].charAt(cap[0].length - 1)\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0])\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])))\n      }\n      continue\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0))\n    }\n  }\n\n  return out\n}\n\nInlineLexer.prototype.escapes = function (text) {\n  return text ? text.replace(this.rules._escapes, '$1') : text\n}\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function (cap, link) {\n  const href = link.href\n  const title = link.title ? escape(link.title) : null\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]))\n}\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function (text) {\n  /* eslint-disable no-useless-escape */\n  if (!this.options.smartypants) return text\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026')\n  /* eslint-ensable no-useless-escape */\n}\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function (text) {\n  if (!this.options.mangle) return text\n  const l = text.length\n  let out = ''\n  let ch\n\n  for (let i = 0; i < l; i++) {\n    ch = text.charCodeAt(i)\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16)\n    }\n    out += '&#' + ch + ';'\n  }\n\n  return out\n}\n\nexport default InlineLexer\n","/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {}\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  let slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-')\n\n  if (this.seen.hasOwnProperty(slug)) {\n    let originalSlug = slug\n    do {\n      this.seen[originalSlug]++\n      slug = originalSlug + '-' + this.seen[originalSlug]\n    } while (this.seen.hasOwnProperty(slug))\n  }\n  this.seen[slug] = 0\n\n  return slug\n}\n\nexport default Slugger\n","/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text\n}\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text\n}\n\nTextRenderer.prototype.br = function() {\n  return ''\n}\n\nexport default TextRenderer","import Renderer from './renderer'\nimport InlineLexer from './inlineLexer'\nimport Slugger from './slugger'\nimport TextRenderer from  './textRenderer'\nimport defaultOptions from './options'\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser (options) {\n  this.tokens = []\n  this.token = null\n  this.options = options || defaultOptions\n  this.options.renderer = this.options.renderer || new Renderer()\n  this.renderer = this.options.renderer\n  this.renderer.options = this.options\n  this.slugger = new Slugger()\n}\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function (src) {\n  this.inline = new InlineLexer(src.links, this.options)\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    Object.assign({}, this.options, {renderer: new TextRenderer()})\n  )\n  this.tokens = src.reverse()\n\n  let out = ''\n  while (this.next()) {\n    out += this.tok()\n  }\n\n  return out\n}\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function () {\n  this.token = this.tokens.pop()\n  return this.token\n}\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function () {\n  return this.tokens[this.tokens.length - 1] || 0\n}\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function () {\n  let body = this.token.text\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text\n  }\n\n  return this.inline.output(body)\n}\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function () {\n  switch (this.token.type) {\n    case 'frontmatter': {\n      return this.renderer.frontmatter(this.token.text)\n    }\n    case 'space': {\n      return ''\n    }\n    case 'hr': {\n      return this.renderer.hr()\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger,\n        this.token.headingStyle\n      )\n    }\n    case 'multiplemath': {\n      const { text } = this.token\n      return this.renderer.multiplemath(text)\n    }\n    case 'code': {\n      const { codeBlockStyle, text, lang, escaped } = this.token\n      return this.renderer.code(text, lang, escaped, codeBlockStyle)\n    }\n    case 'table': {\n      let header = ''\n      let body = ''\n      let i\n      let row\n      let cell\n      let j\n\n      // header\n      cell = ''\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]), {\n            header: true,\n            align: this.token.align[i]\n          }\n        )\n      }\n      header += this.renderer.tablerow(cell)\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i]\n\n        cell = ''\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]), {\n              header: false,\n              align: this.token.align[j]\n            }\n          )\n        }\n\n        body += this.renderer.tablerow(cell)\n      }\n      return this.renderer.table(header, body)\n    }\n    case 'blockquote_start': {\n      let body = ''\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok()\n      }\n\n      return this.renderer.blockquote(body)\n    }\n    case 'list_start': {\n      let body = ''\n      let taskList = false\n      const { ordered, start } = this.token\n\n      while (this.next().type !== 'list_end') {\n        if (this.token.checked !== undefined) {\n          taskList = true\n        }\n\n        body += this.tok()\n      }\n\n      return this.renderer.list(body, ordered, start, taskList)\n    }\n    case 'list_item_start': {\n      let body = ''\n      const { checked } = this.token\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text' ? this.parseText() : this.tok()\n      }\n\n      return this.renderer.listitem(body, checked)\n    }\n    case 'loose_item_start': {\n      let body = ''\n      const { checked } = this.token\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok()\n      }\n\n      return this.renderer.listitem(body, checked)\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text)\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text))\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText())\n    }\n    default: {\n      let errMsg = 'Token with \"' + this.token.type + '\" type was not found.'\n      if (this.options.silent) {\n        console.error(errMsg)\n      } else {\n        throw new Error(errMsg)\n      }\n    }\n  }\n}\n\nexport default Parser\n","import Renderer from './renderer'\nimport Lexer from './lexer'\nimport Parser from './parser'\nimport options from './options'\n\n/**\n * Marked\n */\n\nfunction marked (src, opt = {}) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null')\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected')\n  }\n\n  try {\n    opt = Object.assign({}, options, opt)\n    return new Parser(opt).parse(new Lexer(opt).lex(src))\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/marktext/marktext/issues.'\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' +\n        escape(e.message + '', true) +\n        '</pre>'\n    }\n    throw e\n  }\n}\n\nexport {\n  Renderer, Lexer, Parser\n}\n\nexport default marked\n","import marked from '../parser/marked'\nimport Prism from 'prismjs'\nimport katex from 'katex'\nimport mermaid from 'mermaid'\nimport flowchart from 'flowchart.js'\nimport Diagram from '../parser/render/sequence'\nimport vegaEmbed from 'vega-embed'\nimport githubMarkdownCss from 'github-markdown-css/github-markdown.css'\nimport highlightCss from 'prismjs/themes/prism.css'\nimport katexCss from 'katex/dist/katex.css'\nimport { EXPORT_DOMPURIFY_CONFIG } from '../config'\nimport { sanitize, unescapeHtml } from '../utils'\nimport { validEmoji } from '../ui/emojis'\n\nexport const getSanitizeHtml = markdown => {\n  const html = marked(markdown)\n  return sanitize(html, EXPORT_DOMPURIFY_CONFIG)\n}\n\nconst DIAGRAM_TYPE = [\n  'mermaid',\n  'flowchart',\n  'sequence',\n  'vega-lite'\n]\n\nclass ExportHtml {\n  constructor (markdown, muya) {\n    this.markdown = markdown\n    this.muya = muya\n    this.exportContainer = null\n    this.mathRendererCalled = false\n  }\n\n  renderMermaid () {\n    const codes = this.exportContainer.querySelectorAll('code.language-mermaid')\n    for (const code of codes) {\n      const preEle = code.parentNode\n      const mermaidContainer = document.createElement('div')\n      mermaidContainer.innerHTML = code.innerHTML\n      mermaidContainer.classList.add('mermaid')\n      preEle.replaceWith(mermaidContainer)\n    }\n    // We only export light theme, so set mermaid theme to `default`, in the future, we can choose whick theme to export.\n    mermaid.initialize({\n      theme: 'default'\n    })\n    mermaid.init(undefined, this.exportContainer.querySelectorAll('div.mermaid'))\n    if (this.muya){\n      mermaid.initialize({\n        theme: this.muya.options.mermaidTheme\n      })\n    }\n  }\n\n  async renderDiagram () {\n    const selector = 'code.language-vega-lite, code.language-flowchart, code.language-sequence'\n    const RENDER_MAP = {\n      'flowchart': flowchart,\n      'sequence': Diagram,\n      'vega-lite': vegaEmbed\n    }\n    const codes = this.exportContainer.querySelectorAll(selector)\n    for (const code of codes) {\n      const rawCode = unescapeHtml(code.innerHTML)\n      const functionType = /sequence/.test(code.className) ? 'sequence' : (/flowchart/.test(code.className) ? 'flowchart' : 'vega-lite')\n      const render = RENDER_MAP[functionType]\n      const preParent = code.parentNode\n      const diagramContainer = document.createElement('div')\n      diagramContainer.classList.add(functionType)\n      preParent.replaceWith(diagramContainer)\n      const options = {}\n      if (functionType === 'sequence') {\n        Object.assign(options, { theme: 'hand' })\n      } else if (functionType === 'vega-lite') {\n        Object.assign(options, {\n          actions: false, tooltip: false, renderer: 'svg',\n          theme: 'latimes' // only render light theme\n        })\n      }\n      try {\n        if (functionType === 'flowchart' || functionType === 'sequence') {\n          const diagram = render.parse(rawCode)\n          diagramContainer.innerHTML = ''\n          diagram.drawSVG(diagramContainer, options)\n        } if (functionType === 'vega-lite') {\n          await render(diagramContainer, JSON.parse(rawCode), options)\n        }\n      } catch (err) {\n        console.log(err)\n        diagramContainer.innerHTML = `< Invalid Diagram >`\n      }\n    }\n  }\n\n  mathRenderer = (math, displayMode) => {\n    this.mathRendererCalled = true\n    return katex.renderToString(math, {\n      displayMode\n    })\n  }\n\n  // render pure html by marked\n  async renderHtml () {\n    this.mathRendererCalled = false\n    let html = marked(this.markdown, {\n      highlight (code, lang) {\n        // Language may be undefined (GH#591)\n        if (!lang) {\n          return code\n        }\n\n        if (DIAGRAM_TYPE.includes(lang)) {\n          return code\n        }\n\n        const grammar = Prism.languages[lang]\n        if (!grammar) {\n          console.warn(`Unable to find grammar for \"${lang}\".`)\n          return code\n        }\n        return Prism.highlight(code, grammar, lang)\n      },\n      emojiRenderer (emoji) {\n        const validate = validEmoji(emoji)\n        if (validate) {\n          return validate.emoji\n        } else {\n          return `:${emoji}:`\n        }\n      },\n      mathRenderer: this.mathRenderer\n    })\n    html = sanitize(html, EXPORT_DOMPURIFY_CONFIG)\n    const exportContainer = this.exportContainer = document.createElement('div')\n    exportContainer.classList.add('ag-render-container')\n    exportContainer.innerHTML = html\n    document.body.appendChild(exportContainer)\n    // render only render the light theme of mermaid and diragram...\n    this.renderMermaid()\n    await this.renderDiagram()\n    let result = exportContainer.innerHTML\n    exportContainer.remove()\n    // hack to add arrow marker to output html\n    const pathes = document.querySelectorAll('path[id^=raphael-marker-]')\n    const def = '<defs style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\">'\n    result = result.replace(def, () => {\n      let str = ''\n      for (const path of pathes) {\n        str += path.outerHTML\n      }\n      return `${def}${str}`\n    })\n    this.exportContainer = null\n    return result\n  }\n\n  /**\n   * Get HTML with style\n   *\n   * @param {*} title Page title\n   * @param {*} printOptimization Optimize HTML and CSS for printing\n   */\n  async generate (title = '', printOptimization = false, extraCss = '') {\n    // WORKAROUND: Hide Prism.js style when exporting or printing. Otherwise the background color is white in the dark theme.\n    const highlightCssStyle = printOptimization ? `@media print { ${highlightCss} }` : highlightCss\n    const html = await this.renderHtml()\n    const katexCssStyle = this.mathRendererCalled ? katexCss : ''\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <title>${title}</title>\n  <style>\n  ${githubMarkdownCss}\n  </style>\n  <style>\n  ${highlightCssStyle}\n  </style>\n  <style>\n  ${katexCssStyle}\n  </style>\n  <style>\n    .markdown-body {\n      box-sizing: border-box;\n      min-width: 200px;\n      max-width: 980px;\n      margin: 0 auto;\n      padding: 45px;\n    }\n    .markdown-body table {\n      display: table;\n    }\n    .markdown-body li.task-list-item {\n      list-style-type: none;\n    }\n    .markdown-body li > [type=checkbox] {\n      margin: 0 0 0 -1.3em;\n    }\n    .markdown-body input[type=\"checkbox\"] ~ p {\n      margin-top: 0;\n      display: inline-block;\n    }\n    @media (max-width: 767px) {\n      .markdown-body {\n        padding: 15px;\n      }\n    }\n  </style>\n  <style>${extraCss}</style>\n</head>\n<body>\n  <article class=\"markdown-body\">\n  ${html}\n  </article>\n</body>\n</html>`\n  }\n}\n\nexport default ExportHtml\n","/**\n * Hi contributors!\n *\n * Before you edit or update codes in this file,\n * make sure you have read this bellow:\n * Commonmark Spec: https://spec.commonmark.org/0.29/\n * and GitHub Flavored Markdown Spec: https://github.github.com/gfm/\n * The output markdown needs to obey the standards of the two Spec.\n */\n\nclass ExportMarkdown {\n  constructor (blocks, listIndentation = 1) {\n    this.blocks = blocks\n    this.listType = [] // 'ul' or 'ol'\n    // helper to translate the first tight item in a nested list\n    this.isLooseParentList = true\n\n    // set and validate settings\n    this.listIndentation = 'number'\n    if (listIndentation === 'dfm') {\n      this.listIndentation = 'dfm'\n      this.listIndentationCount = 4\n    } else if (typeof listIndentation === 'number') {\n      this.listIndentationCount = Math.min(Math.max(listIndentation, 1), 4)\n    } else {\n      this.listIndentationCount = 1\n    }\n  }\n\n  generate () {\n    return this.translateBlocks2Markdown(this.blocks)\n  }\n\n  translateBlocks2Markdown (blocks, indent = '', listIndent = '') {\n    const result = []\n    // helper for CommonMark 264\n    let lastListBullet = ''\n\n    for (const block of blocks) {\n      if (block.type !== 'ul' && block.type !== 'ol') {\n        lastListBullet = ''\n      }\n\n      switch (block.type) {\n        case 'p':\n        case 'hr': {\n          this.insertLineBreak(result, indent)\n          result.push(this.translateBlocks2Markdown(block.children, indent))\n          break\n        }\n        case 'span': {\n          result.push(this.normalizeParagraphText(block, indent))\n          break\n        }\n        case 'h1':\n        case 'h2':\n        case 'h3':\n        case 'h4':\n        case 'h5':\n        case 'h6': {\n          this.insertLineBreak(result, indent)\n          result.push(this.normalizeHeaderText(block, indent))\n          break\n        }\n        case 'figure': {\n          this.insertLineBreak(result, indent)\n          switch (block.functionType) {\n            case 'table': {\n              const table = block.children[0]\n              result.push(this.normalizeTable(table, indent))\n              break\n            }\n            case 'html': {\n              result.push(this.normalizeHTML(block, indent))\n              break\n            }\n            case 'multiplemath': {\n              result.push(this.normalizeMultipleMath(block, indent))\n              break\n            }\n            case 'mermaid':\n            case 'flowchart':\n            case 'sequence':\n            case 'vega-lite': {\n              result.push(this.normalizeContainer(block, indent))\n              break\n            }\n          }\n          break\n        }\n        case 'li': {\n          const insertNewLine = block.isLooseListItem\n\n          // helper variable to correct the first tight item in a nested list\n          this.isLooseParentList = insertNewLine\n          if (insertNewLine) {\n            this.insertLineBreak(result, indent)\n          }\n          result.push(this.normalizeListItem(block, indent + listIndent))\n          this.isLooseParentList = true\n          break\n        }\n        case 'ul': {\n          let insertNewLine = this.isLooseParentList\n          this.isLooseParentList = true\n\n          // Start a new list without separation due changing the bullet or ordered list delimiter starts a new list.\n          const { bulletMarkerOrDelimiter } = block.children[0]\n          if (lastListBullet && lastListBullet !== bulletMarkerOrDelimiter) {\n            insertNewLine = false\n          }\n          lastListBullet = bulletMarkerOrDelimiter\n          if (insertNewLine) {\n            this.insertLineBreak(result, indent)\n          }\n\n          this.listType.push({ type: 'ul' })\n          result.push(this.normalizeList(block, indent, listIndent))\n          this.listType.pop()\n          break\n        }\n        case 'ol': {\n          let insertNewLine = this.isLooseParentList\n          this.isLooseParentList = true\n\n          // Start a new list without separation due changing the bullet or ordered list delimiter starts a new list.\n          const { bulletMarkerOrDelimiter } = block.children[0]\n          if (lastListBullet && lastListBullet !== bulletMarkerOrDelimiter) {\n            insertNewLine = false\n          }\n          lastListBullet = bulletMarkerOrDelimiter\n          if (insertNewLine) {\n            this.insertLineBreak(result, indent)\n          }\n          const listCount = block.start !== undefined ? block.start : 1\n          this.listType.push({ type: 'ol', listCount })\n          result.push(this.normalizeList(block, indent, listIndent))\n          this.listType.pop()\n          break\n        }\n        case 'pre': {\n          this.insertLineBreak(result, indent)\n          if (block.functionType === 'frontmatter') {\n            result.push(this.normalizeFrontMatter(block, indent))\n          } else {\n            result.push(this.normalizeCodeBlock(block, indent))\n          }\n          break\n        }\n        case 'blockquote': {\n          this.insertLineBreak(result, indent)\n          result.push(this.normalizeBlockquote(block, indent))\n          break\n        }\n        default: {\n          console.log(block.type)\n          break\n        }\n      }\n    }\n    return result.join('')\n  }\n\n  insertLineBreak (result, indent) {\n    if (!result.length) return\n    result.push(`${indent}\\n`)\n  }\n\n  normalizeParagraphText (block, indent) {\n    const { text } = block\n    const lines = text.split('\\n')\n    return lines.map(line => `${indent}${line}`).join('\\n') + '\\n'\n  }\n\n  normalizeHeaderText (block, indent) {\n    const { headingStyle, marker } = block\n    const { text } = block.children[0]\n    if (headingStyle === 'atx') {\n      const match = text.match(/(#{1,6})(.*)/)\n      const atxHeadingText = `${match[1]} ${match[2].trim()}`\n      return `${indent}${atxHeadingText}\\n`\n    } else if (headingStyle === 'setext') {\n      const lines = text.trim().split('\\n')\n      return lines.map(line => `${indent}${line}`).join('\\n') + `\\n${indent}${marker.trim()}\\n`\n    }\n  }\n\n  normalizeBlockquote (block, indent) {\n    const { children } = block\n    const newIndent = `${indent}> `\n    return this.translateBlocks2Markdown(children, newIndent)\n  }\n\n  normalizeFrontMatter (block, indent) { // preBlock\n    const result = []\n    result.push('---\\n')\n    for (const line of block.children[0].children) {\n      result.push(`${line.text}\\n`)\n    }\n    result.push('---\\n')\n    return result.join('')\n  }\n\n  normalizeMultipleMath (block, /* figure */ indent) {\n    const result = []\n    result.push(`${indent}$$\\n`)\n    for (const line of block.children[0].children[0].children) {\n      result.push(`${indent}${line.text}\\n`)\n    }\n    result.push(`${indent}$$\\n`)\n    return result.join('')\n  }\n\n  // `mermaid` `flowchart` `sequence` `vega-lite`\n  normalizeContainer (block, indent) {\n    const result = []\n    const diagramType = block.children[0].functionType\n    result.push('```' + diagramType + '\\n')\n    for (const line of block.children[0].children[0].children) {\n      result.push(`${line.text}\\n`)\n    }\n    result.push('```\\n')\n    return result.join('')\n  }\n\n  normalizeCodeBlock (block, indent) {\n    const result = []\n    const textList = block.children[1].children.map(codeLine => codeLine.text)\n    const { functionType } = block\n    if (functionType === 'fencecode') {\n      result.push(`${indent}${block.lang ? '```' + block.lang + '\\n' : '```\\n'}`)\n      textList.forEach(text => {\n        result.push(`${indent}${text}\\n`)\n      })\n      result.push(indent + '```\\n')\n    } else {\n      textList.forEach(text => {\n        result.push(`${indent}    ${text}\\n`)\n      })\n    }\n\n    return result.join('')\n  }\n\n  normalizeHTML (block, indent) { // figure\n    const result = []\n    const codeLines = block.children[0].children[0].children\n    for (const line of codeLines) {\n      result.push(`${indent}${line.text}\\n`)\n    }\n    return result.join('')\n  }\n\n  normalizeTable (table, indent) {\n    const result = []\n    const { row, column } = table\n    const tableData = []\n    const tHeader = table.children[0]\n\n    const tBody = table.children[1]\n    tableData.push(tHeader.children[0].children.map(th => th.text.trim()))\n    tBody.children.forEach(bodyRow => {\n      tableData.push(bodyRow.children.map(td => td.text.trim()))\n    })\n\n    const columnWidth = tHeader.children[0].children.map(th => ({ width: 5, align: th.align }))\n\n    let i\n    let j\n\n    for (i = 0; i <= row; i++) {\n      for (j = 0; j <= column; j++) {\n        columnWidth[j].width = Math.max(columnWidth[j].width, tableData[i][j].length + 2) // add 2, because have two space around text\n      }\n    }\n    tableData.forEach((r, i) => {\n      const rs = indent + '|' + r.map((cell, j) => {\n        const raw = ` ${cell + ' '.repeat(columnWidth[j].width)}`\n        return raw.substring(0, columnWidth[j].width)\n      }).join('|') + '|'\n      result.push(rs)\n      if (i === 0) {\n        const cutOff = indent + '|' + columnWidth.map(({ width, align }) => {\n          let raw = '-'.repeat(width - 2)\n          switch (align) {\n            case 'left':\n              raw = `:${raw} `\n              break\n            case 'center':\n              raw = `:${raw}:`\n              break\n            case 'right':\n              raw = ` ${raw}:`\n              break\n            default:\n              raw = ` ${raw} `\n              break\n          }\n          return raw\n        }).join('|') + '|'\n        result.push(cutOff)\n      }\n    })\n    return result.join('\\n') + '\\n'\n  }\n\n  normalizeList (block, indent, listIndent) {\n    const { children } = block\n    return this.translateBlocks2Markdown(children, indent, listIndent)\n  }\n\n  normalizeListItem (block, indent) {\n    const result = []\n    const listInfo = this.listType[this.listType.length - 1]\n    const isUnorderedList = listInfo.type === 'ul'\n    let { children, bulletMarkerOrDelimiter } = block\n    let itemMarker\n\n    if (isUnorderedList) {\n      itemMarker = bulletMarkerOrDelimiter ? `${bulletMarkerOrDelimiter} ` : '- '\n    } else {\n      // NOTE: GitHub and Bitbucket limit the list count to 99 but this is nowhere defined.\n      //  We limit the number to 99 for Daring Fireball Markdown to prevent indentation issues.\n      let n = listInfo.listCount\n      if ((this.listIndentation === 'dfm' && n > 99) || n > 999999999) {\n        n = 1\n      }\n      listInfo.listCount++\n\n      const delimiter = bulletMarkerOrDelimiter ? bulletMarkerOrDelimiter : '.'\n      itemMarker = `${n}${delimiter} `\n    }\n\n    // Subsequent paragraph indentation\n    const newIndent = indent + ' '.repeat(itemMarker.length)\n\n    // New list indentation. We already added one space to the indentation\n    let listIndent = ''\n    const { listIndentation } = this\n    if (listIndentation === 'dfm') {\n      listIndent = ' '.repeat(4 - itemMarker.length)\n    } else if (listIndentation === 'number') {\n      listIndent = ' '.repeat(this.listIndentationCount - 1)\n    }\n\n    // TODO: Indent subsequent paragraphs by one tab. - not important\n    //  Problem: \"translateBlocks2Markdown\" use \"indent\" in spaces to indent elements. How should\n    //  we integrate tabs in blockquotes and subsequent paragraphs and how to combine with spaces?\n    //  I don't know how to combine tabs and spaces and it seems not specified, so work for another day.\n\n    if (isUnorderedList && block.listItemType === 'task') {\n      const firstChild = children[0]\n      itemMarker += firstChild.checked ? '[x] ' : '[ ] '\n      children = children.slice(1)\n    }\n\n    result.push(`${indent}${itemMarker}`)\n    result.push(this.translateBlocks2Markdown(children, newIndent, listIndent).substring(newIndent.length))\n    return result.join('')\n  }\n}\n\nexport default ExportMarkdown\n","import selection from '../selection'\nimport { CLASS_OR_ID } from '../config'\nimport { getSanitizeHtml } from '../utils/exportHtml'\nimport ExportMarkdown from '../utils/exportMarkdown'\nimport marked from '../parser/marked'\n\nconst copyCutCtrl = ContentState => {\n  ContentState.prototype.cutHandler = function () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    startBlock.text = startBlock.text.substring(0, start.offset) + endBlock.text.substring(end.offset)\n    if (start.key !== end.key) {\n      this.removeBlocks(startBlock, endBlock)\n    }\n    this.cursor = {\n      start,\n      end: start\n    }\n    this.checkInlineUpdate(startBlock)\n    this.partialRender()\n  }\n\n  ContentState.prototype.getClipBoradData = function () {\n    const html = selection.getSelectionHtml()\n    const wrapper = document.createElement('div')\n    wrapper.innerHTML = html\n    const removedElements = wrapper.querySelectorAll(\n      `.${CLASS_OR_ID['AG_TOOL_BAR']},\n      .${CLASS_OR_ID['AG_MATH_RENDER']},\n      .${CLASS_OR_ID['AG_RUBY_RENDER']},\n      .${CLASS_OR_ID['AG_HTML_PREVIEW']},\n      .${CLASS_OR_ID['AG_MATH_PREVIEW']},\n      .${CLASS_OR_ID['AG_COPY_REMOVE']},\n      .${CLASS_OR_ID['AG_LANGUAGE_INPUT']}`\n    )\n\n    for (const e of removedElements) {\n      e.remove()\n    }\n\n    const images = wrapper.querySelectorAll('span.ag-inline-image img')\n    for (const image of images) {\n      const src = image.getAttribute('src')\n      let originSrc = null\n      for (const [sSrc, tSrc] of this.stateRender.urlMap.entries()) {\n        if (tSrc === src) {\n          originSrc = sSrc\n          break\n        }\n      }\n\n      if (originSrc) {\n        image.setAttribute('src', originSrc)\n      }\n    }\n\n    const hrs = wrapper.querySelectorAll(`[data-role=hr]`)\n    for (const hr of hrs) {\n      hr.replaceWith(document.createElement('hr'))\n    }\n\n    const headers = wrapper.querySelectorAll(`[data-head]`)\n    for (const header of headers) {\n      const p = document.createElement('p')\n      p.textContent = header.textContent\n      header.replaceWith(p)\n    }\n\n    // replace inline rule element: code, a, strong, em, del to span element\n    // in order to escape turndown translation\n\n    const inlineRuleElements = wrapper.querySelectorAll(\n      `a.${CLASS_OR_ID['AG_INLINE_RULE']},\n      code.${CLASS_OR_ID['AG_INLINE_RULE']},\n      strong.${CLASS_OR_ID['AG_INLINE_RULE']},\n      em.${CLASS_OR_ID['AG_INLINE_RULE']},\n      del.${CLASS_OR_ID['AG_INLINE_RULE']}`\n    )\n    for (const e of inlineRuleElements) {\n      const span = document.createElement('span')\n      span.textContent = e.textContent\n      e.replaceWith(span)\n    }\n\n    const aLinks = wrapper.querySelectorAll(`.${CLASS_OR_ID['AG_A_LINK']}`)\n    for (const l of aLinks) {\n      const span = document.createElement('span')\n      span.innerHTML = l.innerHTML\n      l.replaceWith(span)\n    }\n\n    const codefense = wrapper.querySelectorAll(`pre[data-role$='code']`)\n    for (const cf of codefense) {\n      const id = cf.id\n      const block = this.getBlock(id)\n      const language = block.lang || ''\n      const selectedCodeLines = cf.querySelectorAll('.ag-code-line')\n      const value = Array.from(selectedCodeLines).map(codeLine => codeLine.textContent).join('\\n')\n      cf.innerHTML = `<code class=\"language-${language}\">${value}</code>`\n    }\n\n    const tightListItem = wrapper.querySelectorAll(`.ag-tight-list-item`)\n    for (const li of tightListItem) {\n      for (const item of li.childNodes) {\n        if (item.tagName === 'P' && item.childElementCount === 1 && item.classList.contains('ag-paragraph')) {\n          li.replaceChild(item.firstElementChild, item)\n        }\n      }\n    }\n\n    const htmlBlock = wrapper.querySelectorAll(`figure[data-role='HTML']`)\n    for (const hb of htmlBlock) {\n      const selectedCodeLines = hb.querySelectorAll('span.ag-code-line')\n      const value = Array.from(selectedCodeLines).map(codeLine => codeLine.textContent).join('\\n')\n      const pre = document.createElement('pre')\n      pre.textContent = value\n      hb.replaceWith(pre)\n    }\n\n    // Just work for turndown, turndown will add `leading` and `traling` space in line-break.\n    const lineBreaks = wrapper.querySelectorAll('span.ag-soft-line-break, span.ag-hard-line-break')\n    for (const b of lineBreaks) {\n      b.innerHTML = ''\n    }\n\n    const mathBlock = wrapper.querySelectorAll(`figure.ag-container-block`)\n    for (const mb of mathBlock) {\n      const preElement = mb.querySelector('pre[data-role]')\n      const functionType = preElement.getAttribute('data-role')\n      const selectedCodeLines = mb.querySelectorAll('span.ag-code-line')\n      const value = Array.from(selectedCodeLines).map(codeLine => codeLine.textContent).join('\\n')\n      let pre\n      switch (functionType) {\n        case 'multiplemath':\n          pre = document.createElement('pre')\n          pre.classList.add('multiple-math')\n          pre.textContent = value\n          mb.replaceWith(pre)\n          break\n        case 'mermaid':\n        case 'flowchart':\n        case 'sequence':\n        case 'vega-lite':\n          pre = document.createElement('pre')\n          pre.innerHTML = `<code class=\"language-${functionType}\">${value}</code>`\n          mb.replaceWith(pre)\n          break\n      }\n    }\n\n    let htmlData = wrapper.innerHTML\n    const textData = this.htmlToMarkdown(htmlData)\n\n    htmlData = marked(textData)\n    return { html: htmlData, text: textData }\n  }\n\n  ContentState.prototype.copyHandler = function (event, type) {\n    event.preventDefault()\n\n    const { html, text } = this.getClipBoradData()\n\n    switch (type) {\n      case 'normal': {\n        event.clipboardData.setData('text/html', html)\n        event.clipboardData.setData('text/plain', text)\n        break\n      }\n      case 'copyAsMarkdown': {\n        event.clipboardData.setData('text/html', '')\n        event.clipboardData.setData('text/plain', text)\n        break\n      }\n      case 'copyAsHtml': {\n        event.clipboardData.setData('text/html', '')\n        event.clipboardData.setData('text/plain', getSanitizeHtml(text))\n        break\n      }\n      case 'copyTable': {\n        const table = this.getTableBlock()\n        if (!table) return\n        const listIndentation = this.listIndentation\n        const markdown = new ExportMarkdown([ table ], listIndentation).generate()\n        event.clipboardData.setData('text/html', '')\n        event.clipboardData.setData('text/plain', markdown)\n        break\n      }\n    }\n  }\n}\n\nexport default copyCutCtrl\n","import selection from '../selection'\nimport { PARAGRAPH_TYPES, DEFAULT_TURNDOWN_CONFIG } from '../config'\nimport ExportMarkdown from '../utils/exportMarkdown'\n\nconst LINE_BREAKS_REG = /\\n/\n\n// get header level\n//  eg: h1 => 1\n//      h2 => 2\nconst getCurrentLevel = type => {\n  if (/\\d/.test(type)) {\n    return Number(/\\d/.exec(type)[0])\n  } else {\n    return 0\n  }\n}\n\nconst paragraphCtrl = ContentState => {\n  ContentState.prototype.selectionChange = function (cursor) {\n    const { start, end } = cursor || selection.getCursorRange()\n    if (!start || !end) {\n      // TODO: Throw an exception and try to fix this later (GH#848).\n      throw new Error('selectionChange: expected cursor but cursor is null.')\n    }\n    const cursorCoords = selection.getCursorCoords()\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParents = this.getParents(startBlock)\n    const endParents = this.getParents(endBlock)\n    const affiliation = startParents\n      .filter(p => endParents.includes(p))\n      .filter(p => PARAGRAPH_TYPES.includes(p.type))\n\n    start.type = startBlock.type\n    start.block = startBlock\n    end.type = endBlock.type\n    end.block = endBlock\n\n    return {\n      start,\n      end,\n      affiliation,\n      cursorCoords\n    }\n  }\n\n  ContentState.prototype.getCommonParent = function () {\n    const { start, end, affiliation } = this.selectionChange()\n    const parent = affiliation.length ? affiliation[0] : null\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParentKeys = this.getParents(startBlock).map(b => b.key)\n    const endParentKeys = this.getParents(endBlock).map(b => b.key)\n    const children = parent ? parent.children : this.blocks\n    let startIndex\n    let endIndex\n    for (const child of children) {\n      if (startParentKeys.includes(child.key)) {\n        startIndex = children.indexOf(child)\n      }\n      if (endParentKeys.includes(child.key)) {\n        endIndex = children.indexOf(child)\n      }\n    }\n    return { parent, startIndex, endIndex }\n  }\n\n  ContentState.prototype.handleFrontMatter = function () {\n    const firstBlock = this.blocks[0]\n    if (firstBlock.type === 'pre' && firstBlock.functionType === 'frontmatter') return\n    const lang = 'yaml'\n    const frontMatter = this.createBlock('pre', {\n      functionType: 'frontmatter',\n      lang\n    })\n    const codeBlock = this.createBlock('code', {\n      lang\n    })\n    const emptyLine = this.createBlock('span', {\n      functionType: 'codeLine',\n      lang\n    })\n\n    this.appendChild(codeBlock, emptyLine)\n    this.appendChild(frontMatter, codeBlock)\n    this.insertBefore(frontMatter, firstBlock)\n    const { key } = emptyLine\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  ContentState.prototype.handleListMenu = function (paraType, insertMode) {\n    const { start, end, affiliation } = this.selectionChange(this.cursor)\n    const { orderListDelimiter, bulletListMarker, preferLooseListItem } = this.muya.options\n    const [blockType, listType] = paraType.split('-')\n    const isListed = affiliation.slice(0, 3).filter(b => /ul|ol/.test(b.type))\n\n    if (isListed.length && !insertMode) {\n      const listBlock = isListed[0]\n      if (listType === listBlock.listType) {\n        const listItems = listBlock.children\n        listItems.forEach(listItem => {\n          listItem.children.forEach(itemParagraph => {\n            if (itemParagraph.type !== 'input') {\n              this.insertBefore(itemParagraph, listBlock)\n            }\n          })\n        })\n        this.removeBlock(listBlock)\n        return\n      }\n      // if the old list block is task list, remove checkbox\n      if (listBlock.listType === 'task') {\n        const listItems = listBlock.children\n        listItems.forEach(item => {\n          const inputBlock = item.children[0]\n          inputBlock && this.removeBlock(inputBlock)\n        })\n      }\n      const oldListType = listBlock.listType\n      listBlock.type = blockType\n      listBlock.listType = listType\n      listBlock.children.forEach(b => (b.listItemType = listType))\n\n      if (listType === 'order') {\n        listBlock.start = listBlock.start || 1\n        listBlock.children.forEach(b => (b.bulletMarkerOrDelimiter = orderListDelimiter))\n      }\n      if (\n        (listType === 'bullet' && oldListType === 'order') ||\n        (listType === 'task' && oldListType === 'order')\n      ) {\n        delete listBlock.start\n        listBlock.children.forEach(b => (b.bulletMarkerOrDelimiter = bulletListMarker))\n      }\n\n      // if the new block is task list, add checkbox\n      if (listType === 'task') {\n        const listItems = listBlock.children\n        listItems.forEach(item => {\n          const checkbox = this.createBlock('input')\n          checkbox.checked = false\n          this.insertBefore(checkbox, item.children[0])\n        })\n      }\n    } else {\n      if (start.key === end.key || (start.block.parent && start.block.parent === end.block.parent)) {\n        const block = this.getBlock(start.key)\n        const paragraph = this.getBlock(block.parent)\n        if (listType === 'task') {\n          // 1. first update the block to bullet list\n          const listItemParagraph = this.updateList(paragraph, 'bullet', undefined, block)\n          // 2. second update bullet list to task list\n          setTimeout(() => {\n            this.updateTaskListItem(listItemParagraph, listType)\n            this.partialRender()\n          })\n        } else {\n          this.updateList(paragraph, listType, undefined, block)\n        }\n      } else {\n        const { parent, startIndex, endIndex } = this.getCommonParent()\n        const children = parent ? parent.children : this.blocks\n        const referBlock = children[endIndex]\n        const listWrapper = this.createBlock(listType === 'order' ? 'ol' : 'ul')\n        listWrapper.listType = listType\n        if (listType === 'order') listWrapper.start = 1\n\n        children.slice(startIndex, endIndex + 1).forEach(child => {\n          if (child !== referBlock) {\n            this.removeBlock(child, children)\n          } else {\n            this.insertAfter(listWrapper, child)\n            this.removeBlock(child, children)\n          }\n          const listItem = this.createBlock('li')\n          listItem.listItemType = listType\n          listItem.isLooseListItem = preferLooseListItem\n          this.appendChild(listWrapper, listItem)\n          if (listType === 'task') {\n            const checkbox = this.createBlock('input')\n            checkbox.checked = false\n            this.appendChild(listItem, checkbox)\n          }\n          this.appendChild(listItem, child)\n        })\n      }\n    }\n  }\n\n  ContentState.prototype.handleLooseListItem = function () {\n    const { affiliation } = this.selectionChange(this.cursor)\n    let listContainer = []\n    if (affiliation.length >= 1 && /ul|ol/.test(affiliation[0].type)) {\n      listContainer = affiliation[0].children\n    } else if (affiliation.length >= 3 && affiliation[1].type === 'li') {\n      listContainer = affiliation[2].children\n    }\n    if (listContainer.length > 0) {\n      for (const block of listContainer) {\n        block.isLooseListItem = !block.isLooseListItem\n      }\n      this.partialRender()\n    }\n  }\n\n  ContentState.prototype.handleCodeBlockMenu = function () {\n    const { start, end, affiliation } = this.selectionChange(this.cursor)\n    let startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startParents = this.getParents(startBlock)\n    const endParents = this.getParents(endBlock)\n    const hasFencedCodeBlockParent = () => {\n      return [...startParents, ...endParents].some(b => b.type === 'pre' && /code/.test(b.functionType))\n    }\n    // change fenced code block to p paragraph\n    if (affiliation.length && affiliation[0].type === 'pre' && /code/.test(affiliation[0].functionType)) {\n      const preBlock = affiliation[0]\n      const codeLines = preBlock.children[1].children\n      preBlock.type = 'p'\n      preBlock.children = []\n\n      const newParagraphBlock = this.createBlockP(codeLines.map(l => l.text).join('\\n'))\n      this.insertBefore(newParagraphBlock, preBlock)\n\n      this.removeBlock(preBlock)\n      const { start, end } = this.cursor\n\n      const key = newParagraphBlock.children[0].key\n      let startOffset = 0\n      let endOffset = 0\n      let startStop = false\n      let endStop = false\n      for (const line of codeLines) {\n        if (line.key !== start.key && !startStop) {\n          startOffset += line.text.length + 1\n        } else {\n          startOffset += start.offset\n          startStop = true\n        }\n        if (line.key !== end.key && !endStop) {\n          endOffset += line.text.length + 1\n        } else {\n          endOffset += end.offset\n          endStop = true\n        }\n      }\n\n      this.cursor = {\n        start: { key, offset: startOffset },\n        end: { key, offset: endOffset }\n      }\n    } else {\n      if (start.key === end.key) {\n        if (startBlock.type === 'span') {\n          const anchorBlock = this.getParent(startBlock)\n          const lang = ''\n          const preBlock = this.createBlock('pre', {\n            functionType: 'fencecode',\n            lang\n          })\n\n          const codeBlock = this.createBlock('code', {\n            lang: ''\n          })\n\n          const inputBlock = this.createBlock('span', {\n            functionType: 'languageInput'\n          })\n\n          const codes = startBlock.text.split('\\n')\n\n          for (const code of codes) {\n            const codeLine = this.createBlock('span', {\n              text: code,\n              functionType: 'codeLine',\n              lang\n            })\n            this.appendChild(codeBlock, codeLine)\n          }\n\n          this.appendChild(preBlock, inputBlock)\n          this.appendChild(preBlock, codeBlock)\n          this.insertBefore(preBlock, anchorBlock)\n\n          this.removeBlock(anchorBlock)\n\n          const { key } = inputBlock\n          const offset = 0\n\n          this.cursor = {\n            start: { key, offset },\n            end: { key, offset }\n          }\n        } else {\n          this.cursor = {\n            start: this.cursor.start,\n            end: this.cursor.end\n          }\n        }\n      } else if (!hasFencedCodeBlockParent()) {\n        const { parent, startIndex, endIndex } = this.getCommonParent()\n        const children = parent ? parent.children : this.blocks\n        const referBlock = children[endIndex]\n        const lang = ''\n        const preBlock = this.createBlock('pre', {\n          functionType: 'fencecode',\n          lang\n        })\n        const codeBlock = this.createBlock('code', {\n          lang\n        })\n\n        const listIndentation = this.listIndentation\n        const markdown = new ExportMarkdown(children.slice(startIndex, endIndex + 1), listIndentation).generate()\n\n        markdown.split(LINE_BREAKS_REG).forEach(text => {\n          const codeLine = this.createBlock('span', {\n            text,\n            lang,\n            functionType: 'codeLine'\n          })\n \n          this.appendChild(codeBlock, codeLine)\n        })\n        const inputBlock = this.createBlock('span', {\n          functionType: 'languageInput'\n        })\n\n        this.appendChild(preBlock, inputBlock)\n        this.appendChild(preBlock, codeBlock)\n        this.insertAfter(preBlock, referBlock)\n        let i\n        const removeCache = []\n        for (i = startIndex; i <= endIndex; i++) {\n          const child = children[i]\n          removeCache.push(child)\n        }\n        removeCache.forEach(b => this.removeBlock(b))\n        const key = inputBlock.key\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n      }\n    }\n  }\n\n  ContentState.prototype.handleQuoteMenu = function (insertMode) {\n    const { start, end, affiliation } = this.selectionChange(this.cursor)\n    let startBlock = this.getBlock(start.key)\n    const isBlockQuote = affiliation.slice(0, 2).filter(b => /blockquote/.test(b.type))\n    // change blockquote to paragraph\n    if (isBlockQuote.length && !insertMode) {\n      const quoteBlock = isBlockQuote[0]\n      const children = quoteBlock.children\n      for (const child of children) {\n        this.insertBefore(child, quoteBlock)\n      }\n      this.removeBlock(quoteBlock)\n    // change paragraph to blockquote\n    } else {\n      if (start.key === end.key) {\n        if (startBlock.type === 'span') {\n          startBlock = this.getParent(startBlock)\n        }\n        const quoteBlock = this.createBlock('blockquote')\n        this.insertAfter(quoteBlock, startBlock)\n        this.removeBlock(startBlock)\n        this.appendChild(quoteBlock, startBlock)\n      } else {\n        const { parent, startIndex, endIndex } = this.getCommonParent()\n        const children = parent ? parent.children : this.blocks\n        const referBlock = children[endIndex]\n        const quoteBlock = this.createBlock('blockquote')\n\n        children.slice(startIndex, endIndex + 1).forEach(child => {\n          if (child !== referBlock) {\n            this.removeBlock(child, children)\n          } else {\n            this.insertAfter(quoteBlock, child)\n            this.removeBlock(child, children)\n          }\n          this.appendChild(quoteBlock, child)\n        })\n      }\n    }\n  }\n\n  ContentState.prototype.insertContainerBlock = function (functionType, block) {\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const value = block.type === 'p'\n      ? block.children.map(child => child.text).join('\\n').trim()\n      : block.text\n\n    const containerBlock = this.createContainerBlock(functionType, value)\n    this.insertAfter(containerBlock, block)\n    this.removeBlock(block)\n\n    const cursorBlock = containerBlock.children[0].children[0].children[0]\n    const { key } = cursorBlock\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  ContentState.prototype.showTablePicker = function () {\n    const { eventCenter } = this.muya\n    const reference = this.getPositionReference()\n\n    const handler = (rows, columns) => {\n      this.createTable({ rows: rows + 1, columns: columns + 1 })\n    }\n    eventCenter.dispatch('muya-table-picker', { row: -1, column: -1 }, reference, handler.bind(this))\n  }\n\n  ContentState.prototype.insertHtmlBlock = function (block) {\n    if (block.type === 'span') {\n      block = this.getParent(block)\n    }\n    const preBlock = this.initHtmlBlock(block)\n    const key = preBlock.children[0].children[1]\n      ? preBlock.children[0].children[1].key\n      : preBlock.children[0].children[0].key\n\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  ContentState.prototype.updateParagraph = function (paraType, insertMode = false) {\n    const { start, end } = this.cursor\n    const block = this.getBlock(start.key)\n    const { text } = block\n\n    switch (paraType) {\n      case 'front-matter': {\n        this.handleFrontMatter()\n        break\n      }\n      case 'ul-bullet':\n      case 'ul-task':\n      case 'ol-order': {\n        this.handleListMenu(paraType, insertMode)\n        break\n      }\n      case 'loose-list-item': {\n        this.handleLooseListItem()\n        break\n      }\n      case 'pre': {\n        this.handleCodeBlockMenu()\n        break\n      }\n      case 'blockquote': {\n        this.handleQuoteMenu(insertMode)\n        break\n      }\n      case 'mathblock': {\n        this.insertContainerBlock('multiplemath', block)\n        break\n      }\n      case 'table': {\n        this.showTablePicker()\n        break\n      }\n      case 'html': {\n        this.insertHtmlBlock(block)\n        break\n      }\n      case 'flowchart':\n      case 'sequence':\n      case 'mermaid':\n      case 'vega-lite':\n        this.insertContainerBlock(paraType, block)\n        break\n      case 'heading 1':\n      case 'heading 2':\n      case 'heading 3':\n      case 'heading 4':\n      case 'heading 5':\n      case 'heading 6':\n      case 'upgrade heading':\n      case 'degrade heading':\n      case 'paragraph': {\n        if (start.key !== end.key) return\n        const headingStyle = DEFAULT_TURNDOWN_CONFIG.headingStyle\n        const parent = this.getParent(block)\n        // \\u00A0 is &nbsp;\n        const [, hash, partText] = /(^ {0,3}#*[ \\u00A0]*)([\\s\\S]*)/.exec(text)\n        let newLevel = 0 // 1, 2, 3, 4, 5, 6\n        let newType = 'p'\n        let key\n\n        if (/\\d/.test(paraType)) {\n          newLevel = Number(paraType.split(/\\s/)[1])\n          newType = `h${newLevel}`\n        } else if (paraType === 'upgrade heading' || paraType === 'degrade heading') {\n          const currentLevel = getCurrentLevel(parent.type)\n          newLevel = currentLevel\n          if (paraType === 'upgrade heading' && currentLevel !== 1) {\n            if (currentLevel === 0) newLevel = 6\n            else newLevel = currentLevel - 1\n          } else if (paraType === 'degrade heading' && currentLevel !== 0) {\n            if (currentLevel === 6) newLevel = 0\n            else newLevel = currentLevel + 1\n          }\n          newType = newLevel === 0 ? 'p' : `h${newLevel}`\n        }\n\n        const startOffset = newLevel > 0\n          ? start.offset + newLevel - hash.length + 1\n          : start.offset - hash.length // no need to add `1`, because we didn't add `String.fromCharCode(160)` to text paragraph\n        const endOffset = newLevel > 0\n          ? end.offset + newLevel - hash.length + 1\n          : end.offset - hash.length\n        const newText = newLevel > 0\n          ? '#'.repeat(newLevel) + `${String.fromCharCode(160)}${partText}` // &nbsp; code: 160\n          : partText\n\n        // No change\n        if (newType === 'p' && parent.type === newType) {\n          return\n        }\n        // No change\n        if (newType !== 'p' && parent.type === newType && parent.headingStyle === headingStyle) {\n          return\n        }\n\n        if (newType !== 'p') {\n          const header = this.createBlock(newType, {\n            headingStyle\n          })\n          const headerContent = this.createBlock('span', {\n            text: headingStyle === 'atx'? newText.replace(/\\n/g, ' ') : newText,\n            functionType: headingStyle === 'atx'? 'atxLine' : 'paragraphContent'\n          })\n          this.appendChild(header, headerContent)\n          key = headerContent.key\n          \n          this.insertBefore(header, parent)\n          this.removeBlock(parent)\n        } else {\n          const pBlock = this.createBlockP(newText)\n          key = pBlock.children[0].key\n          this.insertAfter(pBlock, parent)\n          this.removeBlock(parent)\n        }\n\n        this.cursor = {\n          start: { key, offset: startOffset },\n          end: { key, offset: endOffset }\n        }\n        break\n      }\n      case 'hr': {\n        const pBlock = this.createBlockP()\n        const archor = block.type === 'span' ? this.getParent(block) : block\n        const hrBlock = this.createBlock('hr')\n        const thematicContent = this.createBlock('span', {\n          functionType: 'thematicBreakLine',\n          text: '---'\n        })\n        this.appendChild(hrBlock, thematicContent)\n        this.insertAfter(hrBlock, archor)\n        this.insertAfter(pBlock, hrBlock)\n        if (!text) {\n          if (block.type === 'span' && this.isOnlyChild(block)) {\n            this.removeBlock(archor)\n          } else {\n            this.removeBlock(block)\n          }\n        }\n        const { key } = pBlock.children[0]\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        break\n      }\n    }\n    if (paraType === 'front-matter') {\n      this.render()\n    } else {\n      this.partialRender()\n    }\n    // update menu status\n    const selectionChanges = this.selectionChange(this.cursor)\n    this.muya.eventCenter.dispatch('selectionChange', selectionChanges)\n    // emit change event\n    this.muya.eventCenter.dispatch('stateChange')\n  }\n\n  ContentState.prototype.insertParagraph = function (location, text = '', outMost = false) {\n    const { start, end } = this.cursor\n    // if cursor is not in one line or paragraph, can not insert paragraph\n    if (start.key !== end.key) return\n    const block = this.getBlock(start.key)\n    let anchor = null\n    if (outMost) {\n      anchor = this.findOutMostBlock(block)\n    } else {\n      anchor = this.getAnchor(block)\n    }\n    // You can not insert paragraph before frontmatter\n    if (!anchor || anchor && anchor.functionType === 'frontmatter' && location === 'before') {\n      return\n    }\n\n    const newBlock = this.createBlockP(text)\n    if (location === 'before') {\n      this.insertBefore(newBlock, anchor)\n    } else {\n      this.insertAfter(newBlock, anchor)\n    }\n    const { key } = newBlock.children[0]\n    const offset = text.length\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n    this.muya.eventCenter.dispatch('stateChange')\n  }\n\n  ContentState.prototype.getPreBlock = function (block) {\n    const { children } = block\n    if (!children || !children.length) return null\n    for (const child of children) {\n      if (child.type === 'pre') {\n        return child\n      } else {\n        return this.getPreBlock(child)\n      }\n    }\n    return null\n  }\n\n  // make a dulication of the current block\n  ContentState.prototype.duplicate = function () {\n    const { start, end } = this.cursor\n    const startOutmostBlock = this.findOutMostBlock(this.getBlock(start.key))\n    const endOutmostBlock = this.findOutMostBlock(this.getBlock(end.key))\n    if (startOutmostBlock !== endOutmostBlock) {\n      // if the cursor is not in one paragraph, just return\n      return\n    }\n    // if copied block has pre block: html, multiplemath, vega-light, mermaid, flowchart, sequence...\n    const copiedBlock = this.copyBlock(startOutmostBlock)\n    this.insertAfter(copiedBlock, startOutmostBlock)\n\n    const cursorBlock = this.firstInDescendant(copiedBlock)\n    // set cursor at the end of the first descendant of the duplicated block.\n    const { key, text } = cursorBlock\n    const offset = text.length\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n    return this.muya.eventCenter.dispatch('stateChange')\n  }\n  // delete current paragraph\n  ContentState.prototype.deleteParagraph = function () {\n    const { start, end } = this.cursor\n    const startOutmostBlock = this.findOutMostBlock(this.getBlock(start.key))\n    const endOutmostBlock = this.findOutMostBlock(this.getBlock(end.key))\n    if (startOutmostBlock !== endOutmostBlock) {\n      // if the cursor is not in one paragraph, just return\n      return\n    }\n    const preBlock = this.getBlock(startOutmostBlock.preSibling)\n    const nextBlock = this.getBlock(startOutmostBlock.nextSibling)\n    let cursorBlock = null\n    if (nextBlock) {\n      cursorBlock = this.firstInDescendant(nextBlock)\n    } else if (preBlock) {\n      cursorBlock = this.lastInDescendant(preBlock)\n    } else {\n      const newBlock = this.createBlockP()\n      this.insertAfter(newBlock, startOutmostBlock)\n      cursorBlock = this.firstInDescendant(newBlock)\n    }\n    this.removeBlock(startOutmostBlock)\n    const { key, text } = cursorBlock\n    const offset = text.length\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n    return this.muya.eventCenter.dispatch('stateChange')\n  }\n\n  ContentState.prototype.selectAll = function () {\n    const { start } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    // const endBlock = this.getBlock(end.key)\n    // handle selectAll in table. only select the startBlock cell...\n    if (/th|td/.test(startBlock.type)) {\n      const { key } = start\n      const textLength = startBlock.text.length\n      this.cursor = {\n        start: {\n          key,\n          offset: 0\n        },\n        end: {\n          key,\n          offset: textLength\n        }\n      }\n      return this.partialRender()\n    }\n    // Handler selectAll in code block. only select all the code block conent.\n    // `code block` here is Math, HTML, BLOCK CODE, Mermaid, vega-lite, flowchart, front-matter etc...\n    if (startBlock.type === 'span' && startBlock.functionType === 'codeLine') {\n      const codeBlock = this.getParent(startBlock)\n      const firstCodeLine = this.firstInDescendant(codeBlock)\n      const lastCodeLine = this.lastInDescendant(codeBlock)\n      this.cursor = {\n        start: {\n          key: firstCodeLine.key,\n          offset: 0\n        },\n        end: {\n          key: lastCodeLine.key,\n          offset: lastCodeLine.text.length\n        }\n      }\n      return this.partialRender()\n    }\n    // Handler language input, only select language info only...\n    if (startBlock.type === 'span' && startBlock.functionType === 'languageInput') {\n      this.cursor = {\n        start: {\n          key: startBlock.key,\n          offset: 0\n        },\n        end: {\n          key: startBlock.key,\n          offset: startBlock.text.length\n        }\n      }\n      return this.partialRender()\n    }\n    const firstTextBlock = this.getFirstBlock()\n    const lastTextBlock = this.getLastBlock()\n    this.cursor = {\n      start: {\n        key: firstTextBlock.key,\n        offset: 0\n      },\n      end: {\n        key: lastTextBlock.key,\n        offset: lastTextBlock.text.length\n      }\n    }\n    this.render()\n  }\n}\n\nexport default paragraphCtrl\n","import selection from '../selection'\nimport { HTML_TAGS, VOID_HTML_TAGS, HAS_TEXT_BLOCK_REG } from '../config'\nimport { tokenizer } from '../parser'\n\n/**\n * parseSelector\n * div#id.className => {tag: 'div', id: 'id', className: 'className', isVoid: false}\n */\n\nconst parseSelector = (str = '') => {\n  const REG_EXP = /(#|\\.)([^#.]+)/\n  let tag = ''\n  let id = ''\n  let className = ''\n  let isVoid = false\n  let cap\n  for (const tagName of HTML_TAGS) {\n    if (str.startsWith(tagName) && (!str[tagName.length] || /#|\\./.test(str[tagName.length]))) {\n      tag = tagName\n      if (VOID_HTML_TAGS.indexOf(tagName) > -1) isVoid = true\n      str = str.substring(tagName.length)\n    }\n  }\n  if (tag !== '') {\n    cap = REG_EXP.exec(str)\n    while (cap && str.length) {\n      if (cap[1] === '#') {\n        id = cap[2]\n      } else {\n        className = cap[2]\n      }\n      str = str.substring(cap[0].length)\n      cap = REG_EXP.exec(str)\n    }\n  }\n  return { tag, id, className, isVoid }\n}\n\nconst BOTH_SIDES_FORMATS = ['strong', 'em', 'inline_code', 'image', 'link', 'reference_image', 'reference_link', 'emoji', 'del', 'html_tag', 'inline_math']\n\nconst tabCtrl = ContentState => {\n  ContentState.prototype.findNextCell = function (block) {\n    if (!(/td|th/.test(block.type))) {\n      throw new Error('only th and td can have next cell')\n    }\n    const nextSibling = this.getBlock(block.nextSibling)\n    const parent = this.getBlock(block.parent)\n    const tbOrTh = this.getBlock(parent.parent)\n    if (nextSibling) {\n      return nextSibling\n    } else {\n      if (parent.nextSibling) {\n        const nextRow = this.getBlock(parent.nextSibling)\n        return nextRow.children[0]\n      } else if (tbOrTh.type === 'thead') {\n        const tBody = this.getBlock(tbOrTh.nextSibling)\n        if (tBody.children.length) {\n          return tBody.children[0].children[0]\n        }\n      }\n    }\n    return false\n  }\n\n  ContentState.prototype.isUnindentableListItem = function (block) {\n    const parent = this.getParent(block)\n    const listItem = this.getParent(parent)\n    const list = this.getParent(listItem)\n    const listParent = this.getParent(list)\n    if (!this.isCollapse()) return false\n    if (listParent && listParent.type === 'li') {\n      return !list.preSibling ? 'REPLACEMENT' : 'INDENT'\n    }\n    return false\n  }\n\n  ContentState.prototype.isIndentableListItem = function () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const parent = this.getParent(startBlock)\n    if (parent.type !== 'p' || !parent.parent) {\n      return false\n    }\n\n    const listItem = this.getParent(parent)\n    if (listItem.type !== 'li' || start.key !== end.key || start.offset !== end.offset) {\n      return false\n    }\n\n    // Now we know it's a list item. Check whether we can indent the list item.\n    const list = this.getParent(listItem)\n    return list && /ol|ul/.test(list.type) && listItem.preSibling\n  }\n\n  ContentState.prototype.unindentListItem = function (block, type) {\n    const pBlock = this.getParent(block)\n    const listItem = this.getParent(pBlock)\n    const list = this.getParent(listItem)\n    const listParent = this.getParent(list)\n    if (type === 'REPLACEMENT') {\n      this.insertBefore(pBlock, list)\n      if (this.isOnlyChild(listItem)) {\n        this.removeBlock(list)\n      } else {\n        this.removeBlock(listItem)\n      }\n    } else if (type === 'INDENT') {\n      if (list.children.length === 1) {\n        this.removeBlock(list)\n      } else {\n        const newList = this.createBlock(list.type)\n        let target = this.getNextSibling(listItem)\n        while (target) {\n          this.appendChild(newList, target)\n          let temp = target\n          target = this.getNextSibling(target)\n          this.removeBlock(temp, list)\n        }\n\n        if (newList.children.length) this.appendChild(listItem, newList)\n        this.removeBlock(listItem, list)\n        if (!list.children.length) {\n          this.removeBlock(list)\n        }\n      }\n      this.insertAfter(listItem, listParent)\n      let target = this.getNextSibling(list)\n      while (target) {\n        this.appendChild(listItem, target)\n        this.removeBlock(target, listParent)\n        target = this.getNextSibling(target)\n      }\n    }\n\n    return this.partialRender()\n  }\n\n  ContentState.prototype.indentListItem = function () {\n    const { start } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const parent = this.getParent(startBlock)\n    const listItem = this.getParent(parent)\n    const list = this.getParent(listItem)\n    const prevListItem = this.getPreSibling(listItem)\n\n    this.removeBlock(listItem)\n\n    // Search for a list in previous block\n    let newList = this.getLastChild(prevListItem)\n    if (!newList || !/ol|ul/.test(newList.type)) {\n      newList = this.createBlock(list.type)\n      this.appendChild(prevListItem, newList)\n    }\n\n    // Update item type only if we insert into an existing list\n    if (newList.children.length !== 0) {\n      listItem.isLooseListItem = newList.children[0].isLooseListItem\n    }\n\n    this.appendChild(newList, listItem)\n    return this.partialRender()\n  }\n\n  ContentState.prototype.insertTab = function () {\n    const tabSize = this.tabSize\n    const tabCharacter = String.fromCharCode(160).repeat(tabSize)\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    if (start.key === end.key && start.offset === end.offset) {\n      startBlock.text = startBlock.text.substring(0, start.offset) +\n        tabCharacter + endBlock.text.substring(end.offset)\n      const key = start.key\n      const offset = start.offset + tabCharacter.length\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n  }\n\n  ContentState.prototype.checkCursorAtEndFormat = function (text, offset) {\n    const { labels } = this.stateRender\n    const tokens = tokenizer(text, [], false, labels)\n    let result = null\n    const walkTokens = tkns => {\n\n      for (const token of tkns) {\n        const { marker, type, range, children, srcAndTitle, hrefAndTitle, backlash, closeTag, isFullLink, label } = token\n        const { start, end } = range\n        if (BOTH_SIDES_FORMATS.includes(type) && offset > start && offset < end) {\n          switch (type) {\n            case 'strong':\n            case 'em':\n            case 'inline_code':\n            case 'emoji':\n            case 'del':\n            case 'inline_math': {\n              if (marker && offset === end - marker.length) {\n                result = {\n                  offset: marker.length\n                }\n                return\n              }\n              break\n            }\n            case 'image':\n            case 'link': {\n              const linkTitleLen = (srcAndTitle || hrefAndTitle).length\n              const secondLashLen = backlash && backlash.second ? backlash.second.length : 0\n              if (offset === end - 3 - (linkTitleLen + secondLashLen)) {\n                result = {\n                  offset: 2\n                }\n                return\n              } else if (offset === end - 1) {\n                result = {\n                  offset: 1\n                }\n                return\n              }\n              break\n            }\n            case 'reference_image':\n            case 'reference_link': {\n              const labelLen = label ? label.length : 0\n              const secondLashLen = backlash && backlash.second ? backlash.second.length : 0\n              if (isFullLink) {\n                if (offset === end - 3 - labelLen - secondLashLen) {\n                  result = {\n                    offset: 2\n                  }\n                  return\n                } else if (offset === end - 1) {\n                  result = {\n                    offset: 1\n                  }\n                  return\n                }\n              } else if (offset === end - 1) {\n                result = {\n                  offset: 1\n                }\n                return\n              }\n              break\n            }\n            case 'html_tag': {\n              if (closeTag && offset === end - closeTag.length) {\n                result = {\n                  offset: closeTag.length\n                }\n                return\n              }\n              break\n            }\n            default:\n              break\n          }\n        }\n        if (children && children.length) {\n          walkTokens(children)\n        }\n      }\n    }\n    walkTokens(tokens)\n\n    return result\n  }\n\n  ContentState.prototype.tabHandler = function (event) {\n    // disable tab focus\n    event.preventDefault()\n\n    const { start, end } = selection.getCursorRange()\n    if (!start || !end) {\n      return\n    }\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n\n    if (event.shiftKey) {\n      const unindentType = this.isUnindentableListItem(startBlock)\n      if (unindentType) {\n        this.unindentListItem(startBlock, unindentType)\n      }\n      return\n    }\n\n    // Handle `tab` to jump to the end of format when the cursor is at the end of format content.\n    if (\n      start.key === end.key &&\n      start.offset === end.offset &&\n      HAS_TEXT_BLOCK_REG.test(startBlock.type) &&\n      startBlock.functionType !== 'codeLine' && // code line has no inline syntax\n      startBlock.functionType !== 'languageInput' // language input textarea has no inline syntax\n    ) {\n      const { text, key } = startBlock\n      const { offset } = start\n      const atEnd = this.checkCursorAtEndFormat(text, offset)\n      if (atEnd) {\n        this.cursor = {\n          start: { key, offset: offset + atEnd.offset },\n          end: { key, offset: offset + atEnd.offset }\n        }\n        return this.partialRender()\n      }\n    }\n\n    // Auto-complete of inline html tag and html block and `html` code block.\n    if (\n      start.key === end.key &&\n      start.offset === end.offset &&\n      startBlock.type === 'span' &&\n      (!startBlock.functionType || startBlock.functionType === 'codeLine' && /markup|html|xml|svg|mathml/.test(startBlock.lang))\n    ) {\n      const { text } = startBlock\n      const lastWordBeforeCursor = text.substring(0, start.offset).split(/\\s+/).pop()\n      const { tag, isVoid, id, className } = parseSelector(lastWordBeforeCursor)\n\n      if (tag) {\n        const preText = text.substring(0, start.offset - lastWordBeforeCursor.length)\n        const postText = text.substring(end.offset)\n        if (!tag) return\n        let html = `<${tag}`\n        const key = startBlock.key\n        let startOffset = 0\n        let endOffset = 0\n        switch (tag) {\n          case 'img':\n            html += ` alt=\"\" src=\"\"`\n            startOffset = endOffset = html.length - 1\n            break\n          case 'input':\n            html += ` type=\"text\"`\n            startOffset = html.length - 5\n            endOffset = html.length - 1\n            break\n          case 'a':\n            html += ` href=\"\"`\n            startOffset = endOffset = html.length - 1\n            break\n          case 'link':\n            html += ` rel=\"stylesheet\" href=\"\"`\n            startOffset = endOffset = html.length - 1\n            break\n        }\n        if (id) {\n          html += ` id=\"${id}\"`\n        }\n        if (className) {\n          html += ` class=\"${className}\"`\n        }\n        html += '>'\n        if (startOffset === 0 && endOffset === 0) {\n          startOffset = endOffset = html.length\n        }\n        if (!isVoid) {\n          html += `</${tag}>`\n        }\n        startBlock.text = preText + html + postText\n        this.cursor = {\n          start: { key, offset: startOffset + preText.length },\n          end: { key, offset: endOffset + preText.length }\n        }\n        return this.partialRender()\n      }\n    }\n\n    // Handle `tab` key in table cell.\n    let nextCell\n    if (start.key === end.key && /th|td/.test(startBlock.type)) {\n      nextCell = this.findNextCell(startBlock)\n    } else if (/th|td/.test(endBlock.type)) {\n      nextCell = endBlock\n    }\n    if (nextCell) {\n      const key = nextCell.key\n      this.cursor = {\n        start: { key, offset: 0 },\n        end: { key, offset: 0 }\n      }\n\n      return this.partialRender()\n    }\n\n    if (this.isIndentableListItem()) {\n      return this.indentListItem()\n    }\n    return this.insertTab()\n  }\n}\n\nexport default tabCtrl\n","import selection from '../selection'\nimport { tokenizer, generator } from '../parser/'\nimport { FORMAT_MARKER_MAP, FORMAT_TYPES } from '../config'\nimport { getImageInfo } from '../utils/getImageInfo'\n\nconst getOffset = (offset, { range: { start, end }, type, tag, anchor, alt }) => {\n  const dis = offset - start\n  const len = end - start\n  switch (type) {\n    case 'strong':\n    case 'del':\n    case 'em':\n    case 'inline_code':\n    case 'inline_math': {\n      const MARKER_LEN = (type === 'strong' || type === 'del') ? 2 : 1\n      if (dis < 0) return 0\n      if (dis >= 0 && dis < MARKER_LEN) return -dis\n      if (dis >= MARKER_LEN && dis <= len - MARKER_LEN) return -MARKER_LEN\n      if (dis > len - MARKER_LEN && dis <= len) return len - dis - 2 * MARKER_LEN\n      if (dis > len) return -2 * MARKER_LEN\n      break\n    }\n    case 'html_tag': { // handle underline, sup, sub\n      const OPEN_MARKER_LEN = FORMAT_MARKER_MAP[tag].open.length\n      const CLOSE_MARKER_LEN = FORMAT_MARKER_MAP[tag].close.length\n      if (dis < 0) return 0\n      if (dis >= 0 && dis < OPEN_MARKER_LEN) return -dis\n      if (dis >= OPEN_MARKER_LEN && dis <= len - CLOSE_MARKER_LEN) return -OPEN_MARKER_LEN\n      if (dis > len - CLOSE_MARKER_LEN && dis <= len) return len - dis - OPEN_MARKER_LEN - CLOSE_MARKER_LEN\n      if (dis > len) return - OPEN_MARKER_LEN - CLOSE_MARKER_LEN\n      break\n    }\n    case 'link': {\n      const MARKER_LEN = 1\n      if (dis < MARKER_LEN) return 0\n      if (dis >= MARKER_LEN && dis <= MARKER_LEN + anchor.length) return -1\n      if (dis > MARKER_LEN + anchor.length) return anchor.length - dis\n      break\n    }\n    case 'image': {\n      const MARKER_LEN = 1\n      if (dis < MARKER_LEN) return 0\n      if (dis >= MARKER_LEN && dis < MARKER_LEN * 2) return -1\n      if (dis >= MARKER_LEN * 2 && dis <= MARKER_LEN * 2 + alt.length) return -2\n      if (dis > MARKER_LEN * 2 + alt.length) return alt.length - dis\n      break\n    }\n  }\n}\n\nconst clearFormat = (token, { start, end }) => {\n  if (start) {\n    const deltaStart = getOffset(start.offset, token)\n    start.delata += deltaStart\n  }\n  if (end) {\n    const delataEnd = getOffset(end.offset, token)\n    end.delata += delataEnd\n  }\n  switch (token.type) {\n    case 'strong':\n    case 'del':\n    case 'em':\n    case 'link':\n    case 'html_tag': { // underline, sub, sup\n      const { parent } = token\n      const index = parent.indexOf(token)\n      parent.splice(index, 1, ...token.children)\n      break\n    }\n    case 'image': {\n      token.type = 'text'\n      token.raw = token.alt\n      delete token.marker\n      delete token.src\n      break\n    }\n    case 'inline_math':\n    case 'inline_code': {\n      token.type = 'text'\n      token.raw = token.content\n      delete token.marker\n      break\n    }\n  }\n}\n\nconst addFormat = (type, block, { start, end }) => {\n  if (block.type === 'pre') return false\n  switch (type) {\n    case 'em':\n    case 'del':\n    case 'inline_code':\n    case 'strong':\n    case 'inline_math': {\n      const MARKER = FORMAT_MARKER_MAP[type]\n      const oldText = block.text\n      block.text = oldText.substring(0, start.offset) +\n        MARKER + oldText.substring(start.offset, end.offset) +\n        MARKER + oldText.substring(end.offset)\n      start.offset += MARKER.length\n      end.offset += MARKER.length\n      break\n    }\n    case 'sub':\n    case 'sup':\n    case 'u': {\n      const MARKER = FORMAT_MARKER_MAP[type]\n      const oldText = block.text\n      block.text = oldText.substring(0, start.offset) +\n        MARKER.open + oldText.substring(start.offset, end.offset) +\n        MARKER.close + oldText.substring(end.offset)\n      start.offset += MARKER.open.length\n      end.offset += MARKER.open.length\n      break\n    }\n    case 'link':\n    case 'image': {\n      const oldText = block.text\n      const anchorTextLen = end.offset - start.offset\n      block.text = oldText.substring(0, start.offset) +\n        (type === 'link' ? '[' : '![') +\n        oldText.substring(start.offset, end.offset) + ']()' +\n        oldText.substring(end.offset)\n      // put cursor between `()`\n      start.offset += type === 'link' ? 3 + anchorTextLen : 4 + anchorTextLen\n      end.offset = start.offset\n      break\n    }\n  }\n}\n\nconst checkTokenIsInlineFormat = token => {\n  const { type, tag } = token\n  if (FORMAT_TYPES.includes(type)) return true\n  if (type === 'html_tag' && /^(?:u|sub|sup)$/i.test(tag)) return true\n  return false\n}\n\nconst formatCtrl = ContentState => {\n  ContentState.prototype.selectionFormats = function ({ start, end } = selection.getCursorRange()) {\n    if (!start || !end) {\n      return { formats: [], tokens: [], neighbors: [] }\n    }\n    const startBlock = this.getBlock(start.key)\n    const formats = []\n    const neighbors = []\n    let tokens = []\n    if (start.key === end.key) {\n      const { text } = startBlock\n      tokens = tokenizer(text)\n      ;(function iterator (tks) {\n        for (const token of tks) {\n          if (\n            checkTokenIsInlineFormat(token) &&\n            start.offset >= token.range.start &&\n            end.offset <= token.range.end\n          ) {\n            formats.push(token)\n          }\n          if (\n            checkTokenIsInlineFormat(token) &&\n            ((start.offset >= token.range.start && start.offset <= token.range.end) ||\n            (end.offset >= token.range.start && end.offset <= token.range.end) ||\n            (start.offset <= token.range.start && token.range.end <= end.offset))\n          ) {\n            neighbors.push(token)\n          }\n          if (token.children && token.children.length) {\n            iterator(token.children)\n          }\n        }\n      })(tokens)\n    }\n\n    return { formats, tokens, neighbors }\n  }\n\n  ContentState.prototype.clearBlockFormat = function (block, { start, end } = selection.getCursorRange(), type) {\n    if (!start || !end) {\n      return\n    }\n    if (block.type === 'pre') return false\n    const { key } = block\n    let tokens\n    let neighbors\n    if (start.key === end.key && start.key === key) {\n      ({ tokens, neighbors } = this.selectionFormats({ start, end }))\n    } else if (start.key !== end.key && start.key === key) {\n      ({ tokens, neighbors } = this.selectionFormats({ start, end: { key: start.key, offset: block.text.length } }))\n    } else if (start.key !== end.key && end.key === key) {\n      ({ tokens, neighbors } = this.selectionFormats({\n        start: {\n          key: end.key,\n          offset: 0\n        },\n        end\n      }))\n    } else {\n      ({ tokens, neighbors } = this.selectionFormats({\n        start: {\n          key,\n          offset: 0\n        },\n        end: {\n          key,\n          offset: block.text.length\n        }\n      }))\n    }\n\n    neighbors = type ? neighbors.filter(n => {\n      return n.type === type ||\n      n.type === 'html_tag' && n.tag === type\n    }) : neighbors\n\n    for (const neighbor of neighbors) {\n      clearFormat(neighbor, { start, end })\n    }\n    start.offset += start.delata\n    end.offset += end.delata\n    block.text = generator(tokens)\n  }\n\n  ContentState.prototype.format = function (type) {\n    const { start, end } = selection.getCursorRange()\n    if (!start || !end) {\n      return\n    }\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    start.delata = end.delata = 0\n    if (start.key === end.key) {\n      const { formats, tokens, neighbors } = this.selectionFormats()\n      const currentFormats = formats.filter(format => {\n        return format.type === type ||\n          format.type === 'html_tag' && format.tag === type\n      }).reverse()\n      const currentNeightbors = neighbors.filter(format => {\n        return format.type === type ||\n        format.type === 'html_tag' && format.tag === type\n      }).reverse()\n      // cache delata\n      if (type === 'clear') {\n        for (const neighbor of neighbors) {\n          clearFormat(neighbor, { start, end })\n        }\n        start.offset += start.delata\n        end.offset += end.delata\n        startBlock.text = generator(tokens)\n      } else if (currentFormats.length) {\n        for (const token of currentFormats) {\n          clearFormat(token, { start, end })\n        }\n        start.offset += start.delata\n        end.offset += end.delata\n        startBlock.text = generator(tokens)\n      } else {\n        if (currentNeightbors.length) {\n          for (const neighbor of currentNeightbors) {\n            clearFormat(neighbor, { start, end })\n          }\n        }\n        start.offset += start.delata\n        end.offset += end.delata\n        startBlock.text = generator(tokens)\n        addFormat(type, startBlock, { start, end })\n        if (type === 'image') {\n          // Show image selector when create a inline image by menu/shortcut/or just input `![]()`\n          requestAnimationFrame(() => {\n            const startNode = selection.getSelectionStart()\n            if (startNode) {\n              const imageWrapper = startNode.closest('.ag-inline-image')\n              if (imageWrapper && imageWrapper.classList.contains('ag-empty-image')) {\n                const imageInfo = getImageInfo(imageWrapper)\n                this.muya.eventCenter.dispatch('muya-image-selector', {\n                  reference: imageWrapper,\n                  imageInfo,\n                  cb: () => {}\n                })\n              }\n            }\n          })\n        }\n      }\n      this.cursor = { start, end }\n      this.partialRender()\n    } else {\n      let nextBlock = startBlock\n      const formatType = type !== 'clear' ? type : undefined\n      while (nextBlock && nextBlock !== endBlock) {\n        this.clearBlockFormat(nextBlock, { start, end }, formatType)\n        nextBlock = this.findNextBlockInLocation(nextBlock)\n      }\n      this.clearBlockFormat(endBlock, { start, end }, formatType)\n\n      if (type !== 'clear') {\n        addFormat(type, startBlock, {\n          start,\n          end: { offset: startBlock.text.length }\n        })\n        nextBlock = this.findNextBlockInLocation(startBlock)\n        while (nextBlock && nextBlock !== endBlock) {\n          addFormat(type, nextBlock, {\n            start: { offset: 0 },\n            end: { offset: nextBlock.text.length }\n          })\n          nextBlock = this.findNextBlockInLocation(nextBlock)\n        }\n        addFormat(type, endBlock, {\n          start: { offset: 0 },\n          end\n        })\n      }\n\n      this.cursor = { start, end }\n      this.partialRender()\n    }\n  }\n}\n\nexport default formatCtrl\n","const defaultSearchOption = {\n  caseSensitive: false,\n  selectHighlight: false,\n  highlightIndex: -1\n}\n\nconst searchCtrl = ContentState => {\n  ContentState.prototype.replaceOne = function (match, value) {\n    const {\n      start,\n      end,\n      key\n    } = match\n    const block = this.getBlock(key)\n    const {\n      text\n    } = block\n\n    block.text = text.substring(0, start) + value + text.substring(end)\n  }\n\n  ContentState.prototype.replace = function (replaceValue, opt = { isSingle: true }) {\n    const { isSingle, caseSensitive } = opt\n    const { matches, value, index } = this.searchMatches\n    if (matches.length) {\n      if (isSingle) {\n        this.replaceOne(matches[index], replaceValue)\n      } else {\n        // replace all\n        for (const match of matches) {\n          this.replaceOne(match, replaceValue)\n        }\n      }\n      const highlightIndex = index < matches.length - 1 ? index : index - 1\n      this.search(value, { caseSensitive, highlightIndex: isSingle ? highlightIndex : -1 })\n    }\n  }\n\n  ContentState.prototype.setCursorToHighlight = function () {\n    const { matches, index } = this.searchMatches\n    const match = matches[index]\n\n    if (!match) return\n    const { key, start, end } = match\n\n    this.cursor = {\n      noHistory: true,\n      start: {\n        key,\n        offset: start\n      },\n      end: {\n        key,\n        offset: end\n      }\n    }\n  }\n\n  ContentState.prototype.find = function (action/* prev next */) {\n    let { matches, index } = this.searchMatches\n    const len = matches.length\n    if (!len) return\n    index = action === 'next' ? index + 1 : index - 1\n    if (index < 0) index = len - 1\n    if (index >= len) index = 0\n    this.searchMatches.index = index\n\n    this.setCursorToHighlight()\n  }\n\n  ContentState.prototype.search = function (value, opt = {}) {\n    value = value.trim()\n    let matches = []\n    const { caseSensitive, highlightIndex } = Object.assign(defaultSearchOption, opt)\n    const { blocks } = this\n    const search = blocks => {\n      for (const block of blocks) {\n        let { text, key } = block\n        if (!caseSensitive) {\n          text = text.toLowerCase()\n          value = value.toLowerCase()\n        }\n        if (text) {\n          let i = text.indexOf(value)\n          while (i > -1) {\n            matches.push({\n              key,\n              start: i,\n              end: i + value.length\n            })\n            i = text.indexOf(value, i + value.length)\n          }\n        }\n        if (block.children.length) {\n          search(block.children)\n        }\n      }\n    }\n    if (value) search(blocks)\n    let index = -1\n    if (highlightIndex !== -1) {\n      index = highlightIndex // If set the highlight index, then highlight the highlighIndex\n    } else if (matches.length) {\n      index = 0 // highlight the first word that matches.\n    }\n    Object.assign(this.searchMatches, { value, matches, index })\n    if (value) this.setCursorToHighlight()\n    return matches\n  }\n}\n\nexport default searchCtrl\n","const LINE_BREAKS_REG = /\\n/\nconst FUNCTION_TYPE_LANG = {\n  'multiplemath': 'latex',\n  'flowchart': 'yaml',\n  'mermaid': 'yaml',\n  'sequence': 'yaml',\n  'vega-lite': 'yaml',\n  'html': 'markup'\n}\n\nconst containerCtrl = ContentState => {\n  ContentState.prototype.createContainerBlock = function (functionType, value = '') {\n    const figureBlock = this.createBlock('figure', {\n      functionType\n    })\n\n    const { preBlock, preview } = this.createPreAndPreview(functionType, value)\n    this.appendChild(figureBlock, preBlock)\n    this.appendChild(figureBlock, preview)\n    return figureBlock\n  }\n\n  ContentState.prototype.createPreAndPreview = function (functionType, value = '') {\n    const lang = FUNCTION_TYPE_LANG[functionType]\n    const preBlock = this.createBlock('pre', {\n      functionType,\n      lang\n    })\n    const codeBlock = this.createBlock('code', {\n      lang\n    })\n\n    this.appendChild(preBlock, codeBlock)\n\n    if (typeof value === 'string' && value) {\n      value.replace(/^\\s+/, '').split(LINE_BREAKS_REG).forEach(line => {\n        const codeLine = this.createBlock('span', {\n          text: line,\n          functionType: 'codeLine',\n          lang\n        })\n\n        this.appendChild(codeBlock, codeLine)\n      })\n    } else {\n      const emptyLine = this.createBlock('span', {\n        functionType: 'codeLine',\n        lang\n      })\n\n      this.appendChild(codeBlock, emptyLine)\n    }\n\n    const preview = this.createBlock('div', {\n      editable: false,\n      functionType\n    })\n\n    return { preBlock, preview }\n  }\n\n  ContentState.prototype.initContainerBlock = function (functionType, block) { // p block\n    block.type = 'figure'\n    block.functionType = functionType\n    block.children = []\n\n    const { preBlock, preview } = this.createPreAndPreview(functionType)\n\n    this.appendChild(block, preBlock)\n    this.appendChild(block, preview)\n    return preBlock.children[0].children[0]\n  }\n\n  ContentState.prototype.handleContainerBlockClick = function (figure) {\n    const { id } = figure\n    const mathBlock = this.getBlock(id)\n    const preBlock = mathBlock.children[0]\n    const firstLine = preBlock.children[0].children[0]\n\n    const { key } = firstLine\n    const offset = 0\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    this.partialRender()\n  }\n\n  ContentState.prototype.updateMathBlock = function (block) {\n    const { type } = block\n    if (type !== 'p') return false\n    const { text } = block.children[0]\n    const functionType = 'multiplemath'\n    return text.trim() === '$$' ? this.initContainerBlock(functionType, block) : false\n  }\n}\n\nexport default containerCtrl\n","import { VOID_HTML_TAGS, HTML_TAGS } from '../config'\nimport { inlineRules } from '../parser/rules'\n\nconst HTML_BLOCK_REG = /^<([a-zA-Z\\d-]+)(?=\\s|>)[^<>]*?>$/\n\nconst htmlBlock = ContentState => {\n  ContentState.prototype.createHtmlBlock = function (code) {\n    const block = this.createBlock('figure')\n    block.functionType = 'html'\n    const { preBlock, preview } = this.createPreAndPreview('html', code)\n    this.appendChild(block, preBlock)\n    this.appendChild(block, preview)\n    return block\n  }\n\n  ContentState.prototype.initHtmlBlock = function (block) {\n    let htmlContent = ''\n    const text = block.children[0].text\n    const matches = inlineRules.html_tag.exec(text)\n    if (matches) {\n      const tag = matches[3]\n      const content = matches[4] || ''\n      const openTag = matches[2]\n      const closeTag = matches[5]\n      const isVoidTag = VOID_HTML_TAGS.indexOf(tag) > -1\n      if (closeTag) {\n        htmlContent = text\n      } else if (isVoidTag) {\n        htmlContent = text\n        if (content) {\n          // TODO: @jocs notice user that the html is not valid.\n          console.warn('Invalid html content.')\n        }\n      } else {\n        htmlContent = `${openTag}\\n${content}\\n</${tag}>`\n      }\n    } else {\n      htmlContent = `<div>\\n${text}\\n</div>`\n    }\n\n    block.type = 'figure'\n    block.functionType = 'html'\n    block.text = htmlContent\n    block.children = []\n    const { preBlock, preview } = this.createPreAndPreview('html', htmlContent)\n    this.appendChild(block, preBlock)\n    this.appendChild(block, preview)\n\n    return preBlock // preBlock\n  }\n\n  ContentState.prototype.updateHtmlBlock = function (block) {\n    const { type } = block\n    if (type !== 'li' && type !== 'p') return false\n    const { text } = block.children[0]\n    const match = HTML_BLOCK_REG.exec(text)\n    const tagName = match && match[1] && HTML_TAGS.find(t => t === match[1])\n    return VOID_HTML_TAGS.indexOf(tagName) === -1 && tagName ? this.initHtmlBlock(block) : false\n  }\n}\n\nexport default htmlBlock\n","import selection from '../selection'\nimport { isMuyaEditorElement } from '../selection/dom'\nimport { HAS_TEXT_BLOCK_REG } from '../config'\n\nconst clickCtrl = ContentState => {\n  ContentState.prototype.clickHandler = function (event) {\n    const { eventCenter } = this.muya\n    const { target } = event\n    if (isMuyaEditorElement(target)) {\n      const lastBlock = this.getLastBlock()\n      const archor = this.findOutMostBlock(lastBlock)\n      const archorParagraph = document.querySelector(`#${archor.key}`)\n      const rect = archorParagraph.getBoundingClientRect()\n      // If click below the last paragraph\n      // and the last paragraph is not empty, create a new empty paragraph\n      if (event.clientY > rect.top + rect.height) {\n        let needToInsertNewParagraph = false\n        if (lastBlock.type === 'span') {\n          if (/atxLine|paragraphContent/.test(lastBlock.functionType) && /\\S/.test(lastBlock.text)) {\n            needToInsertNewParagraph = true\n          }\n          if (!/atxLine|paragraphContent/.test(lastBlock.functionType)) {\n            needToInsertNewParagraph = true\n          }\n        } else {\n          needToInsertNewParagraph = true\n        }\n\n        if (needToInsertNewParagraph) {\n          const paragraphBlock = this.createBlockP()\n          this.insertAfter(paragraphBlock, archor)\n          const key = paragraphBlock.key\n          const offset = 0\n          this.cursor = {\n            start: { key, offset },\n            end: { key, offset }\n          }\n\n          return this.partialRender()\n        }\n      }\n    }\n    // handle front menu click\n    const { start: oldStart, end: oldEnd } = this.cursor\n    if (oldStart && oldEnd) {\n      let hasSameParent = false\n      const startBlock = this.getBlock(oldStart.key)\n      const endBlock = this.getBlock(oldEnd.key)\n      if (startBlock && endBlock) {\n        const startOutBlock = this.findOutMostBlock(startBlock)\n        const endOutBlock = this.findOutMostBlock(endBlock)\n        hasSameParent = startOutBlock === endOutBlock\n      }\n      // show the muya-front-menu only when the cursor in the same paragraph\n      if (target.closest('.ag-front-icon') && hasSameParent) {\n        const currentBlock = this.findOutMostBlock(startBlock)\n        const frontIcon = target.closest('.ag-front-icon')\n        const rect = frontIcon.getBoundingClientRect()\n        const reference = {\n          getBoundingClientRect () {\n            return rect\n          },\n          clientWidth: rect.width,\n          clientHeight: rect.height,\n          id: currentBlock.key\n        }\n        this.selectedBlock = currentBlock\n        eventCenter.dispatch('muya-front-menu', { reference, outmostBlock: currentBlock, startBlock, endBlock })\n        return this.partialRender()\n      }\n    }\n    const { start, end } = selection.getCursorRange()\n    // fix #625, the selection maybe not in edit area.\n    if (!start || !end) {\n      return\n    }\n    // format-click\n    const node = selection.getSelectionStart()\n    const inlineNode = node ? node.closest('.ag-inline-rule') : null\n    if (inlineNode) {\n      let formatType = null\n      let data = null\n      switch (inlineNode.tagName) {\n        case 'SPAN': {\n          if (inlineNode.hasAttribute('data-emoji')) {\n            formatType = 'emoji'\n            data = inlineNode.getAttribute('data-emoji')\n          } else if (inlineNode.classList.contains('ag-math-text')) {\n            formatType = 'inline_math'\n            data = inlineNode.textContent\n          }\n          break\n        }\n        case 'A': {\n          formatType = 'link' // auto link or []() link\n          data = {\n            text: inlineNode.textContent,\n            href: inlineNode.getAttribute('href')\n          }\n          break\n        }\n        case 'STRONG': {\n          formatType = 'strong'\n          data = inlineNode.textContent\n          break\n        }\n        case 'EM': {\n          formatType = 'em'\n          data = inlineNode.textContent\n          break\n        }\n        case 'DEL': {\n          formatType = 'del'\n          data = inlineNode.textContent\n          break\n        }\n        case 'CODE': {\n          formatType = 'inline_code'\n          data = inlineNode.textContent\n          break\n        }\n      }\n      if (formatType) {\n        eventCenter.dispatch('format-click', {\n          event,\n          formatType,\n          data,\n        })\n      }\n    }\n    const block = this.getBlock(start.key)\n    let needRender = false\n    // is show format float box?\n    if (\n      start.key === end.key &&\n      start.offset !== end.offset &&\n      HAS_TEXT_BLOCK_REG.test(block.type) &&\n      block.functionType !== 'codeLine' &&\n      block.functionType !== 'languageInput'\n    ) {\n      const reference = this.getPositionReference()\n      const { formats } = this.selectionFormats()\n      eventCenter.dispatch('muya-format-picker', { reference, formats })\n    }\n\n    // update '```xxx' to code block when you click other place or use press arrow key.\n    if (block && start.key !== this.cursor.start.key) {\n      const oldBlock = this.getBlock(this.cursor.start.key)\n      if (oldBlock) {\n        needRender = needRender || this.codeBlockUpdate(oldBlock)\n      }\n    }\n\n    // change active status when paragraph changed\n    if (\n      start.key !== this.cursor.start.key ||\n      end.key !== this.cursor.end.key\n    ) {\n      needRender = true\n    }\n\n    const needMarkedUpdate = this.checkNeedRender(this.cursor) || this.checkNeedRender({ start, end })\n\n    if (needRender) {\n      this.cursor = { start, end }\n      return this.partialRender()\n    } else if (needMarkedUpdate) {\n      // Fix: whole select can not be canceled #613\n      requestAnimationFrame(() => {\n        const cursor = selection.getCursorRange()\n        if (!cursor.start || !cursor.end) {\n          return\n        }\n        this.cursor = cursor\n\n        return this.partialRender()\n      })\n    } else {\n      this.cursor = { start, end }\n    }\n  }\n}\n\nexport default clickCtrl\n","import selection from '../selection'\nimport { getTextContent } from '../selection/dom'\nimport { beginRules } from '../parser/rules'\nimport { tokenizer } from '../parser/'\nimport { CLASS_OR_ID } from '../config'\n\nconst BRACKET_HASH = {\n  '{': '}',\n  '[': ']',\n  '(': ')',\n  '*': '*',\n  '_': '_',\n  '\"': '\"',\n  '\\'': '\\'',\n  '$': '$',\n  '~': '~'\n}\n\nconst BACK_HASH = {\n  '}': '{',\n  ']': '[',\n  ')': '(',\n  '*': '*',\n  '_': '_',\n  '\"': '\"',\n  '\\'': '\\'',\n  '$': '$',\n  '~': '~'\n}\n\nconst inputCtrl = ContentState => {\n  // Input @ to quick insert paragraph\n  ContentState.prototype.checkQuickInsert = function (block) {\n    const { type, text, functionType } = block\n    if (type !== 'span' || functionType !== 'paragraphContent') return false\n    return /^@\\S*$/.test(text)\n  }\n\n  ContentState.prototype.checkCursorInInlineMath = function (text, offset) {\n    const tokens = tokenizer(text, [], false)\n    return tokens.filter(t => t.type === 'inline_math').some(t => offset >= t.range.start && offset <= t.range.end)\n  }\n\n  ContentState.prototype.checkNotSameToken = function (oldText, text) {\n    const oldTokens = tokenizer(oldText)\n    const tokens = tokenizer(text)\n\n    const oldCache = {}\n    const cache = {}\n\n    for (const { type } of oldTokens) {\n      if (oldCache[type]) {\n        oldCache[type]++\n      } else {\n        oldCache[type] = 1\n      }\n    }\n\n    for (const { type } of tokens) {\n      if (cache[type]) {\n        cache[type]++\n      } else {\n        cache[type] = 1\n      }\n    }\n\n    if (Object.keys(oldCache).length !== Object.keys(cache).length) {\n      return true\n    }\n\n    for (const key of Object.keys(oldCache)) {\n      if (!cache[key] || oldCache[key] !== cache[key]) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  ContentState.prototype.inputHandler = function (event) {\n    const { start, end } = selection.getCursorRange()\n    if (!start || !end) {\n      return\n    }\n    const { start: oldStart, end: oldEnd } = this.cursor\n    const key = start.key\n    const block = this.getBlock(key)\n    const paragraph = document.querySelector(`#${key}`)\n    let text = getTextContent(paragraph, [ CLASS_OR_ID['AG_MATH_RENDER'], CLASS_OR_ID['AG_RUBY_RENDER'] ])\n\n    let needRender = false\n    let needRenderAll = false\n    if (oldStart.key !== oldEnd.key) {\n      const startBlock = this.getBlock(oldStart.key)\n      const startOutmostBlock = this.findOutMostBlock(startBlock)\n      const endBlock = this.getBlock(oldEnd.key)\n      const endOutmostBlock = this.findOutMostBlock(endBlock)\n      if (\n        // fix #918.\n        startBlock.functionType === 'languageInput'\n      ) {\n        if (startOutmostBlock === endOutmostBlock && !endBlock.nextSibling) {\n          this.removeBlocks(startBlock, endBlock, false)\n          endBlock.text = ''\n        } else if (startOutmostBlock !== endOutmostBlock) {\n          const preBlock = this.getParent(startBlock)\n          const pBlock = this.createBlock('p')\n          this.removeBlocks(startBlock, endBlock)\n          delete startBlock.functionType\n          this.appendChild(pBlock, startBlock)\n          this.insertBefore(pBlock, preBlock)\n          this.removeBlock(preBlock)\n        } else {\n          this.removeBlocks(startBlock, endBlock)\n        }\n      } else {\n        this.removeBlocks(startBlock, endBlock)\n      }\n      if (this.blocks.length === 1) {\n        needRenderAll = true\n      }\n      needRender = true\n    }\n\n    // auto pair (not need to auto pair in math block)\n    if (block && block.text !== text) {\n      if (\n        start.key === end.key &&\n        start.offset === end.offset &&\n        event.type === 'input'\n      ) {\n        const { offset } = start\n        const { autoPairBracket, autoPairMarkdownSyntax, autoPairQuote } = this.muya.options\n        const inputChar = text.charAt(+offset - 1)\n        const preInputChar = text.charAt(+offset - 2)\n        const prePreInputChar = text.charAt(+offset - 3)\n        const postInputChar = text.charAt(+offset)\n\n        if (/^delete/.test(event.inputType)) {\n          // handle `deleteContentBackward` or `deleteContentForward`\n          const deletedChar = block.text[offset]\n          if (event.inputType === 'deleteContentBackward' && postInputChar === BRACKET_HASH[deletedChar]) {\n            needRender = true\n            text = text.substring(0, offset) + text.substring(offset + 1)\n          }\n          if (event.inputType === 'deleteContentForward' && inputChar === BACK_HASH[deletedChar]) {\n            needRender = true\n            start.offset -= 1\n            end.offset -= 1\n            text = text.substring(0, offset - 1) + text.substring(offset)\n          }\n          /* eslint-disable no-useless-escape */\n        } else if (\n          (event.inputType.indexOf('delete') === -1) &&\n          (inputChar === postInputChar) &&\n          (\n            (autoPairQuote && /[']{1}/.test(inputChar)) ||\n            (autoPairQuote && /[\"]{1}/.test(inputChar)) ||\n            (autoPairBracket && /[\\}\\]\\)]{1}/.test(inputChar)) ||\n            (autoPairMarkdownSyntax && /[$]{1}/.test(inputChar)) ||\n            (autoPairMarkdownSyntax && /[*$`~_]{1}/.test(inputChar)) && /[_*~]{1}/.test(prePreInputChar)\n          )\n        ) {\n          needRender = true\n          text = text.substring(0, offset) + text.substring(offset + 1)\n        } else {\n          /* eslint-disable no-useless-escape */\n          // Not Unicode aware, since things like \\p{Alphabetic} or \\p{L} are not supported yet\n          const isInInlineMath = this.checkCursorInInlineMath(text, offset)\n          if (\n            !/\\\\/.test(preInputChar) &&\n            ((autoPairQuote && /[']{1}/.test(inputChar) && !(/[a-zA-Z\\d]{1}/.test(preInputChar))) ||\n            (autoPairQuote && /[\"]{1}/.test(inputChar)) ||\n            (autoPairBracket && /[\\{\\[\\(]{1}/.test(inputChar)) ||\n            (block.functionType !== 'codeLine' && !isInInlineMath && autoPairMarkdownSyntax && /[*$`~_]{1}/.test(inputChar)))\n          ) {\n            needRender = true\n            text = BRACKET_HASH[event.data]\n              ? text.substring(0, offset) + BRACKET_HASH[inputChar] + text.substring(offset)\n              : text\n          }\n          /* eslint-enable no-useless-escape */\n          // Delete the last `*` of `**` when you insert one space between `**` to create a bullet list.\n          if (\n            /\\s/.test(event.data) &&\n            /^\\* /.test(text) &&\n            preInputChar === '*' &&\n            postInputChar === '*'\n            ) {\n            text = text.substring(0, offset) + text.substring(offset + 1)\n            needRender = true\n          }\n        }\n      }\n\n      if (this.checkNotSameToken(block.text, text)) {\n        needRender = true\n      }\n      // Just work for `Shift + Enter` to create a soft and hard line break.\n      if (\n        block.text.endsWith('\\n') &&\n        start.offset === text.length &&\n        (event.inputType === 'insertText' || event.type === 'compositionend')\n      ) {\n        block.text += event.data\n        start.offset++\n        end.offset++\n      } else if (\n        block.text.length === oldStart.offset &&\n        block.text[oldStart.offset - 2] === '\\n' &&\n        event.inputType === 'deleteContentBackward'\n      ) {\n        block.text = block.text.substring(0, oldStart.offset - 1)\n        start.offset = block.text.length\n        end.offset = block.text.length\n      } else {\n        block.text = text\n      }\n      if (beginRules['reference_definition'].test(text)) {\n        needRenderAll = true\n      }\n    }\n\n    // show quick insert\n    const rect = paragraph.getBoundingClientRect()\n    const checkQuickInsert = this.checkQuickInsert(block)\n    const reference = this.getPositionReference()\n    reference.getBoundingClientRect = function () {\n      const { x, y, left, top, height, bottom } = rect\n\n      return Object.assign({}, {\n        left,\n        x,\n        top,\n        y,\n        bottom,\n        height,\n        width: 0,\n        right: left\n      })\n    }\n\n    this.muya.eventCenter.dispatch('muya-quick-insert', reference, block, !!checkQuickInsert)\n\n    // Update preview content of math block\n    if (block && block.type === 'span' && block.functionType === 'codeLine') {\n      needRender = true\n    }\n\n    this.cursor = { start, end }\n    const checkMarkedUpdate = this.checkNeedRender()\n    const inlineUpdatedBlock = this.isCollapse() && this.checkInlineUpdate(block)\n    // just for fix #707,need render All if in combines pre list and next list into one list.\n    if (inlineUpdatedBlock) {\n      const liBlock = this.getParent(inlineUpdatedBlock)\n      if (liBlock && liBlock.type === 'li' && liBlock.preSibling && liBlock.nextSibling) {\n        needRenderAll = true\n      }\n    }\n    if (checkMarkedUpdate || inlineUpdatedBlock || needRender) {\n      return needRenderAll ? this.render() : this.partialRender()\n    }\n  }\n}\n\nexport default inputCtrl\n","const tocCtrl = ContentState => {\n  ContentState.prototype.getTOC = function () {\n    const { blocks } = this\n    const toc = []\n\n    for (const block of blocks) {\n      if (/^h\\d$/.test(block.type)) {\n        const { headingStyle, key, type } = block\n        const { text } = block.children[0]\n        const content = headingStyle === 'setext' ? text.trim() : text.replace(/^ *#{1,6} {1,}/, '').trim()\n        const lvl = +type.substring(1)\n        const slug = key\n        toc.push({\n          content,\n          lvl,\n          slug\n        })\n      }\n    }\n\n    return toc\n  }\n}\n\nexport default tocCtrl\n","import { tokenizer, generator } from '../parser/'\n\nconst emojiCtrl = ContentState => {\n  ContentState.prototype.setEmoji = function (item) {\n    let { key, offset } = this.cursor.start\n    const startBlock = this.getBlock(key)\n    const { text } = startBlock\n    const tokens = tokenizer(text)\n    let delta = 0\n\n    const findEmojiToken = (tokens, offset) => {\n      for (const token of tokens) {\n        const { start, end } = token.range\n        if (offset >= start && offset <= end) {\n          delta = end - offset\n          return token.children && Array.isArray(token.children) && token.children.length\n            ? findEmojiToken(token.children, offset)\n            : token \n        }\n      }\n    }\n\n    const token = findEmojiToken(tokens, offset)\n    if (token && token.type === 'emoji') {\n      const emojiText = item.aliases[0]\n      offset += delta + emojiText.length - token.content.length\n      token.content = emojiText\n      token.raw = `:${emojiText}:`\n      startBlock.text = generator(tokens)\n      this.cursor = {\n        start: { key, offset },\n        end: { key, offset }\n      }\n      return this.partialRender()\n    }\n  }\n}\n\nexport default emojiCtrl\n","import { URL_REG } from '../config'\n\nconst imageCtrl = ContentState => {\n  /**\n   * insert inline image at the cursor position.\n   */\n  ContentState.prototype.insertImage = function ({ alt = '', src = '', title = '' }) {\n    const match = /(?:\\/|\\\\)?([^./\\\\]+)\\.[a-z]+$/.exec(src)\n    if (!alt) {\n      alt = match && match[1] ? match[1] : ''\n    }\n\n    const { start, end } = this.cursor\n    const { formats } = this.selectionFormats({ start, end })\n    const { key, offset: startOffset } = start\n    const { offset: endOffset } = end\n    const block = this.getBlock(key)\n    if (\n      block.type === 'span' &&\n      (\n        block.functionType === 'codeLine' ||\n        block.functionType === 'languageInput' ||\n        block.functionType === 'thematicBreakLine'\n      )\n    ) {\n      // You can not insert image into code block or language input...\n      return\n    }\n    const { text } = block\n    const imageFormat = formats.filter(f => f.type === 'image')\n    // Only encode URLs but not local paths or data URLs\n    let imgUrl\n    if (URL_REG.test(src)) {\n      imgUrl = encodeURI(src)\n    } else {\n      imgUrl = src\n    }\n\n    let srcAndTitle = imgUrl\n\n    if (srcAndTitle && title) {\n      srcAndTitle += ` \"${title}\"`\n    }\n\n    if (\n      imageFormat.length === 1 &&\n      imageFormat[0].range.start !== startOffset &&\n      imageFormat[0].range.end !== endOffset\n    ) {\n      // Replace already existing image\n      let imageAlt = alt\n\n      // Extract alt from image if there isn't an image source already (GH#562). E.g: ![old-alt]()\n      if (imageFormat[0].alt && !imageFormat[0].src) {\n        imageAlt = imageFormat[0].alt\n      }\n\n      const { start, end } = imageFormat[0].range\n      block.text = text.substring(0, start) +\n        `![${imageAlt}](${srcAndTitle})` +\n        text.substring(end)\n\n      this.cursor = {\n        start: { key, offset: start + 2 },\n        end: { key, offset: start + 2 + imageAlt.length }\n      }\n    } else if (key !== end.key) {\n      // Replace multi-line text\n      const endBlock = this.getBlock(end.key)\n      const { text } = endBlock\n      endBlock.text = text.substring(0, endOffset) + `![${alt}](${srcAndTitle})` + text.substring(endOffset)\n      const offset = endOffset + 2\n      this.cursor = {\n        start: { key: end.key, offset },\n        end: { key: end.key, offset: offset + alt.length }\n      }\n    } else {\n      // Replace single-line text\n      const imageAlt = startOffset !== endOffset ? text.substring(startOffset, endOffset) : alt\n      block.text = text.substring(0, start.offset) +\n        `![${imageAlt}](${srcAndTitle})` +\n        text.substring(end.offset)\n\n      this.cursor = {\n        start: {\n          key,\n          offset: startOffset + 2\n        },\n        end: {\n          key,\n          offset: startOffset + 2 + imageAlt.length\n        }\n      }\n    }\n    this.partialRender()\n  }\n\n  ContentState.prototype.replaceImage = function ({ key, token }, { alt = '', src = '', title = '' }) {\n    const block = this.getBlock(key)\n    const { start, end } = token.range\n    const oldText = block.text\n    let imageText = '!['\n    if (alt) {\n      imageText += alt\n    }\n    imageText += ']('\n    if (src) {\n      imageText += src\n    }\n    if (title) {\n      imageText += ` \"${title}\"`\n    }\n    imageText += ')'\n    block.text = oldText.substring(0, start) + imageText + oldText.substring(end)\n    return this.singleRender(block)\n  }\n  \n  ContentState.prototype.deleteImage = function ({ key, token }) {\n    const block = this.getBlock(key)\n    const oldText = block.text\n    const { start, end } = token.range\n    block.text = oldText.substring(0, start) + oldText.substring(end)\n\n    this.cursor = {\n      start: { key, offset: start },\n      end: { key, offset: start }\n    }\n    return this.singleRender(block)\n  }\n\n  ContentState.prototype.selectImage = function (imageInfo) {\n    this.selectedImage = imageInfo\n    const block = this.getBlock(imageInfo.key)\n    return this.singleRender(block, false)\n  }\n}\n\nexport default imageCtrl\n","import { findNearestParagraph, findOutMostParagraph } from '../selection/dom'\nimport { verticalPositionInRect, getUniqueId, getImageInfo as getImageSrc, checkImageContentType } from '../utils'\nimport { getImageInfo } from '../utils/getImageInfo'\nimport { URL_REG, IMAGE_EXT_REG } from '../config'\n\nconst GHOST_ID = 'mu-dragover-ghost'\nconst GHOST_HEIGHT = 3\n\nconst dragDropCtrl = ContentState => {\n  ContentState.prototype.hideGhost = function () {\n    this.dropAnchor = null\n    const ghost = document.querySelector(`#${GHOST_ID}`)\n    ghost && ghost.remove()\n  }\n  /**\n   * create the ghost element.\n   */\n  ContentState.prototype.createGhost = function (event) {\n    const target = event.target\n    let ghost = null\n    const nearestParagraph = findNearestParagraph(target)\n    const outmostParagraph = findOutMostParagraph(target)\n\n    if (!outmostParagraph) {\n      return this.hideGhost()\n    }\n\n    const block = this.getBlock(nearestParagraph.id)\n    let anchor = this.getAnchor(block)\n\n    // dragover preview container\n    if (!anchor && outmostParagraph) {\n      anchor = this.getBlock(outmostParagraph.id)\n    }\n\n    if (anchor) {\n      const anchorParagraph = this.muya.container.querySelector(`#${anchor.key}`)\n      const rect = anchorParagraph.getBoundingClientRect()\n      const position = verticalPositionInRect(event, rect)\n      this.dropAnchor = {\n        position,\n        anchor\n      }\n      // create ghost\n      ghost = document.querySelector(`#${GHOST_ID}`)\n      if (!ghost) {\n        ghost = document.createElement('div')\n        ghost.id = GHOST_ID\n        document.body.appendChild(ghost)\n      }\n\n      Object.assign(ghost.style, {\n        width: `${rect.width}px`,\n        left: `${rect.left}px`,\n        top: position === 'up' ? `${rect.top - GHOST_HEIGHT}px` : `${rect.top + rect.height}px`\n      })\n    }\n  }\n\n  ContentState.prototype.dragoverHandler = function (event) {\n    // Cancel to allow tab drag&drop.\n    if (!event.dataTransfer.types.length) {\n      return event.dataTransfer.dropEffect = 'none'\n    }\n\n    if (event.dataTransfer.types.includes('text/uri-list')) {\n      const items = Array.from(event.dataTransfer.items)\n      const hasUriItem = items.some(i => i.type === 'text/uri-list')\n      const hasTextItem = items.some(i => i.type === 'text/plain')\n      const hasHtmlItem = items.some(i => i.type === 'text/html')\n      if (hasUriItem && hasHtmlItem && !hasTextItem) {\n        this.createGhost(event)\n        event.dataTransfer.dropEffect = 'copy'\n      }\n    }\n\n    if (event.dataTransfer.types.indexOf('Files') >= 0) {\n      if (event.dataTransfer.items.length === 1 && event.dataTransfer.items[0].type.indexOf('image') > -1) {\n        event.preventDefault()\n        this.createGhost(event)\n        event.dataTransfer.dropEffect = 'copy'\n      }\n    } else {\n      event.stopPropagation()\n      event.dataTransfer.dropEffect = 'none'\n    }\n  }\n\n  ContentState.prototype.dragleaveHandler = function (event) {\n    return this.hideGhost()\n  }\n\n  ContentState.prototype.dropHandler = async function (event) {\n    event.preventDefault()\n    const { dropAnchor } = this\n    this.hideGhost()\n    // handle drag/drop web link image.\n    if (event.dataTransfer.items.length) {\n      for (const item of event.dataTransfer.items) {\n        if (item.kind === 'string' && item.type === 'text/uri-list') {\n          item.getAsString(async str => {\n            if (URL_REG.test(str) && dropAnchor) {\n              let isImage = false\n              if (IMAGE_EXT_REG.test(str)) {\n                isImage = true\n              }\n              if (!isImage) {\n                isImage = await checkImageContentType(str)\n              }\n              if (!isImage) return\n              const text = `![](${str})`\n              const imageBlock = this.createBlockP(text)\n              const { anchor, position } = dropAnchor\n              if (position === 'up') {\n                this.insertBefore(imageBlock, anchor)\n              } else {\n                this.insertAfter(imageBlock, anchor)\n              }\n\n              const key = imageBlock.children[0].key\n              const offset = 0\n              this.cursor = {\n                start: { key, offset },\n                end: { key, offset }\n              }\n              this.render()\n              this.muya.eventCenter.dispatch('stateChange')\n            }\n          })\n        }\n      }\n    }\n\n    if (event.dataTransfer.files) {\n      const fileList = []\n      for (const file of event.dataTransfer.files) {\n        fileList.push(file)\n      }\n      const image = fileList.find(file => /image/.test(file.type))\n      if (image && dropAnchor) {\n        const { name, path } = image\n        const id = `loading-${getUniqueId()}`\n        const text = `![${id}](${path})`\n        const imageBlock = this.createBlockP(text)\n        const { anchor, position } = dropAnchor\n        if (position === 'up') {\n          this.insertBefore(imageBlock, anchor)\n        } else {\n          this.insertAfter(imageBlock, anchor)\n        }\n\n        const key = imageBlock.children[0].key\n        const offset = 0\n        this.cursor = {\n          start: { key, offset },\n          end: { key, offset }\n        }\n        this.render()\n\n        const nSrc = await this.muya.options.imageAction(path)\n        const { src } = getImageSrc(path)\n        if (src) {\n          this.stateRender.urlMap.set(nSrc, src)\n        }\n        const imageWrapper = this.muya.container.querySelector(`span[data-id=${id}]`)\n  \n        if (imageWrapper) {\n          const imageInfo = getImageInfo(imageWrapper)\n          this.replaceImage(imageInfo, {\n            alt: name,\n            src: nSrc\n          })\n        }\n      }\n      this.muya.eventCenter.dispatch('stateChange')\n    }\n  }\n}\n\nexport default dragDropCtrl\n","import TurndownService from 'turndown'\nimport { CLASS_OR_ID, LINE_BREAK } from '../config'\nimport { identity } from './index'\n\nconst turndownPluginGfm = require('turndown-plugin-gfm')\n\nexport const usePluginAddRules = turndownService => {\n  // Use the gfm plugin\n  const { gfm } = turndownPluginGfm\n  turndownService.use(gfm)\n  // because the strikethrough rule in gfm is single `~`, So need rewrite the strikethrough rule.\n  turndownService.addRule('strikethrough', {\n    filter: ['del', 's', 'strike'],\n    replacement (content) {\n      return '~~' + content + '~~'\n    }\n  })\n\n  // handle multiple lines math\n  turndownService.addRule('multiplemath', {\n    filter (node, options) {\n      return node.nodeName === 'PRE' && node.classList.contains('multiple-math')\n    },\n    replacement (content, node, options) {\n      return `$$\\n${content}\\n$$`\n    }\n  })\n\n  // handle `line break` in code block\n  // add `LINE_BREAK` to the end of every code line but not the last line.\n  turndownService.addRule('codeLineBreak', {\n    filter (node, options) {\n      return (\n        node.nodeName === 'SPAN' && node.classList.contains(CLASS_OR_ID['AG_CODE_LINE']) && node.nextElementSibling\n      )\n    },\n    replacement (content, node, options) {\n      return content + LINE_BREAK\n    }\n  })\n\n  turndownService.escape = identity\n}\n\nexport default TurndownService\n","/**\n * translate markdown format to content state used by Mark Text\n * there is some difference when parse loose list item and tight lsit item.\n * Both of them add a p block in li block, use the CSS style to distinguish loose and tight.\n */\nimport { Lexer } from '../parser/marked'\nimport ExportMarkdown from './exportMarkdown'\nimport TurndownService, { usePluginAddRules } from './turndownService'\nimport { loadLanguage } from '../prism/index'\n\n// To be disabled rules when parse markdown, Because content state don't need to parse inline rules\nimport { CURSOR_ANCHOR_DNA, CURSOR_FOCUS_DNA } from '../config'\n\nconst LINE_BREAKS_REG = /\\n/\n\n// Just because turndown change `\\n`(soft line break) to space, So we add `span.ag-soft-line-break` to workaround.\nconst turnSoftBreakToSpan = html => {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(\n    `<x-mt id=\"turn-root\">${html}</x-mt>`,\n    'text/html'\n  )\n  const root = doc.querySelector(`#turn-root`)\n  const travel = childNodes => {\n    for (const node of childNodes) {\n      if (node.nodeType === 3) {\n        let startLen = 0\n        let endLen = 0\n        const text = node.nodeValue.replace(/^(\\n+)/, (_, p) => {\n          startLen = p.length\n          return ''\n        }).replace(/(\\n+)$/, (_, p) => {\n          endLen = p.length\n          return ''\n        })\n        if (/\\n/.test(text)) {\n          const tokens = text.split('\\n')\n          const params = []\n          let i = 0\n          const len = tokens.length\n          for (; i< len; i++) {\n            let text = tokens[i]\n            if (i === 0 && startLen !== 0) {\n              text = '\\n'.repeat(startLen) + text\n            } else if (i === len - 1 && endLen !== 0) {\n              text = text + '\\n'.repeat(endLen)\n            } \n            params.push(document.createTextNode(text))\n            if (i !== len - 1) {\n              const softBreak = document.createElement('span')\n              softBreak.classList.add('ag-soft-line-break')\n              params.push(softBreak)\n            }\n          }\n          node.replaceWith(...params)\n        }\n      } else if (node.nodeType === 1) {\n        travel(node.childNodes)\n      }\n    }\n  }\n  travel(root.childNodes)\n  return root.innerHTML.trim()\n}\n\nconst importRegister = ContentState => {\n  // turn markdown to blocks\n  ContentState.prototype.markdownToState = function (markdown) {\n    // mock a root block...\n    const rootState = {\n      key: null,\n      type: 'root',\n      text: '',\n      parent: null,\n      preSibling: null,\n      nextSibling: null,\n      children: []\n    }\n    const tokens = new Lexer({ disableInline: true }).lex(markdown)\n\n    let token\n    let block\n    let value\n    let parentList = [ rootState ]\n    const languageLoaded = new Set()\n\n    while ((token = tokens.shift())) {\n      switch (token.type) {\n        case 'frontmatter': {\n          const lang = 'yaml'\n          value = token.text\n          block = this.createBlock('pre', {\n            functionType: token.type,\n            lang\n          })\n          const codeBlock = this.createBlock('code', {\n            lang\n          })\n          value\n            .replace(/^\\s+/, '')\n            .replace(/\\s$/, '')\n            .split(LINE_BREAKS_REG).forEach(line => {\n              const codeLine = this.createBlock('span', {\n                text: line,\n                lang,\n                functionType: 'codeLine'\n              })\n\n              this.appendChild(codeBlock, codeLine)\n            })\n\n          this.appendChild(block, codeBlock)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'hr': {\n          value = token.marker\n          block = this.createBlock('hr')\n          const thematicBreakContent = this.createBlock('span', {\n            text: value,\n            functionType: 'thematicBreakLine'\n          })\n          this.appendChild(block, thematicBreakContent)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'heading': {\n          const { headingStyle, depth, text, marker } = token\n          value = headingStyle === 'atx' ? '#'.repeat(+depth) + ` ${text}` : text\n          block = this.createBlock(`h${depth}`, {\n            headingStyle\n          })\n\n          const headingContent = this.createBlock('span', {\n            text: value,\n            functionType: headingStyle === 'atx'? 'atxLine' : 'paragraphContent'\n          })\n\n          this.appendChild(block, headingContent)\n\n          if (marker) {\n            block.marker = marker\n          }\n\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'multiplemath': {\n          value = token.text\n          block = this.createContainerBlock(token.type, value)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'code': {\n          const { codeBlockStyle, text, lang: infostring = '' } = token\n\n          // GH#697, markedjs#1387\n          const lang = (infostring || '').match(/\\S*/)[0]\n\n          value = text\n          if (value.endsWith('\\n')) {\n            value = value.replace(/\\n+$/, '')\n          }\n          if (/mermaid|flowchart|vega-lite|sequence/.test(lang)) {\n            block = this.createContainerBlock(lang, value)\n            this.appendChild(parentList[0], block)\n          } else {\n            block = this.createBlock('pre', {\n              functionType: codeBlockStyle === 'fenced' ? 'fencecode' : 'indentcode',\n              lang\n            })\n            const codeBlock = this.createBlock('code', {\n              lang\n            })\n            value.split(LINE_BREAKS_REG).forEach(line => {\n              const codeLine = this.createBlock('span', {\n                text: line\n              })\n              codeLine.lang = lang\n              codeLine.functionType = 'codeLine'\n              this.appendChild(codeBlock, codeLine)\n            })\n            const inputBlock = this.createBlock('span', {\n              text: lang,\n              functionType: 'languageInput'\n            })\n            if (lang && !languageLoaded.has(lang)) {\n              languageLoaded.add(lang)\n              loadLanguage(lang)\n                .then(infoList => {\n                  if (!Array.isArray(infoList)) return\n                  // There are three status `loaded`, `noexist` and `cached`.\n                  // if the status is `loaded`, indicated that it's a new loaded language\n                  const needRender = infoList.some(({ status }) => status === 'loaded')\n                  if (needRender) {\n                    this.render()\n                  }\n                })\n                .catch(err => {\n                  // if no parameter provided, will cause error.\n                  console.warn(err)\n                })\n            }\n\n            this.appendChild(block, inputBlock)\n            this.appendChild(block, codeBlock)\n            this.appendChild(parentList[0], block)\n          }\n          break\n        }\n        case 'table': {\n          const { header, align, cells } = token\n          const table = this.createBlock('table')\n          const thead = this.createBlock('thead')\n          const tbody = this.createBlock('tbody')\n          const theadRow = this.createBlock('tr')\n          const restoreTableEscapeCharacters = text => {\n            // NOTE: markedjs replaces all escaped \"|\" (\"\\|\") characters inside a cell with \"|\".\n            //       We have to re-escape the chraracter to not break the table.\n            return text.replace(/\\|/g, '\\\\|')\n          }\n          for (const headText of header) {\n            const i = header.indexOf(headText)\n            const th = this.createBlock('th', {\n              text: restoreTableEscapeCharacters(headText)\n            })\n            Object.assign(th, { align: align[i] || '', column: i })\n            this.appendChild(theadRow, th)\n          }\n          for (const row of cells) {\n            const rowBlock = this.createBlock('tr')\n            for (const cell of row) {\n              const i = row.indexOf(cell)\n              const td = this.createBlock('td', {\n                text: restoreTableEscapeCharacters(cell)\n              })\n              Object.assign(td, { align: align[i] || '', column: i })\n              this.appendChild(rowBlock, td)\n            }\n            this.appendChild(tbody, rowBlock)\n          }\n          Object.assign(table, { row: cells.length, column: header.length - 1 }) // set row and column\n          block = this.createBlock('figure')\n          block.functionType = 'table'\n          this.appendChild(thead, theadRow)\n          this.appendChild(block, table)\n          this.appendChild(table, thead)\n          this.appendChild(table, tbody)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'html': {\n          const { text } = token\n          block = this.createHtmlBlock(text.trim())\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'text': {\n          value = token.text\n          while (tokens[0].type === 'text') {\n            token = tokens.shift()\n            value += `\\n${token.text}`\n          }\n          block = this.createBlock('p')\n          const contentBlock = this.createBlock('span', {\n            text: value\n          })\n          this.appendChild(block, contentBlock)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'paragraph': {\n          value = token.text\n          block = this.createBlock('p')\n          const contentBlock = this.createBlock('span', {\n            text: value\n          })\n          this.appendChild(block, contentBlock)\n          this.appendChild(parentList[0], block)\n          break\n        }\n        case 'blockquote_start': {\n          block = this.createBlock('blockquote')\n          this.appendChild(parentList[0], block)\n          parentList.unshift(block)\n          break\n        }\n        case 'blockquote_end': {\n          parentList.shift()\n          break\n        }\n        case 'list_start': {\n          const { ordered, listType, start } = token\n          block = this.createBlock(ordered === true ? 'ol' : 'ul')\n          block.listType = listType\n          if (listType === 'order') {\n            block.start = /^\\d+$/.test(start) ? start : 1\n          }\n          this.appendChild(parentList[0], block)\n          parentList.unshift(block)\n          break\n        }\n        case 'list_end': {\n          parentList.shift()\n          break\n        }\n        case 'loose_item_start':\n        case 'list_item_start': {\n          const { listItemType, bulletMarkerOrDelimiter, checked, type } = token\n          block = this.createBlock('li', {\n            listItemType: checked !== undefined ? 'task' : listItemType,\n            bulletMarkerOrDelimiter,\n            isLooseListItem: type === 'loose_item_start'\n          })\n\n          if (checked !== undefined) {\n            const input = this.createBlock('input', {\n              checked\n            })\n\n            this.appendChild(block, input)\n          }\n          this.appendChild(parentList[0], block)\n          parentList.unshift(block)\n          break\n        }\n        case 'list_item_end': {\n          parentList.shift()\n          break\n        }\n        case 'space': {\n          break\n        }\n        default:\n          console.warn(`Unknown type ${token.type}`)\n          break\n      }\n    }\n    languageLoaded.clear()\n    return rootState.children.length ? rootState.children : [this.createBlockP()]\n  }\n\n  ContentState.prototype.htmlToMarkdown = function (html) {\n    // turn html to markdown\n    const { turndownConfig } = this\n    const turndownService = new TurndownService(turndownConfig)\n    usePluginAddRules(turndownService)\n    // fix #752, but I don't know why the &nbsp; vanlished.\n    html = html.replace(/<span>&nbsp;<\\/span>/g, ' ')\n    html = turnSoftBreakToSpan(html)\n    const markdown = turndownService.turndown(html)\n    return markdown\n  }\n\n  // turn html to blocks\n  ContentState.prototype.html2State = function (html) {\n    const markdown = this.htmlToMarkdown(html)\n    return this.markdownToState(markdown)\n  }\n\n  ContentState.prototype.getCodeMirrorCursor = function () {\n    const blocks = this.getBlocks()\n    const { anchor, focus } = this.cursor\n    const anchorBlock = this.getBlock(anchor.key)\n    const focusBlock = this.getBlock(focus.key)\n    let { text: anchorText } = anchorBlock\n    let { text: focusText } = focusBlock\n    if (anchor.key === focus.key) {\n      const minOffset = Math.min(anchor.offset, focus.offset)\n      const maxOffset = Math.max(anchor.offset, focus.offset)\n      const firstTextPart = anchorText.substring(0, minOffset)\n      const secondTextPart = anchorText.substring(minOffset, maxOffset)\n      const thirdTextPart = anchorText.substring(maxOffset)\n      anchorBlock.text = firstTextPart +\n        (anchor.offset <= focus.offset ? CURSOR_ANCHOR_DNA : CURSOR_FOCUS_DNA) +\n        secondTextPart +\n        (anchor.offset <= focus.offset ? CURSOR_FOCUS_DNA : CURSOR_ANCHOR_DNA) +\n        thirdTextPart\n    } else {\n      anchorBlock.text = anchorText.substring(0, anchor.offset) + CURSOR_ANCHOR_DNA + anchorText.substring(anchor.offset)\n      focusBlock.text = focusText.substring(0, focus.offset) + CURSOR_FOCUS_DNA + focusText.substring(focus.offset)\n    }\n\n    const listIndentation = this.listIndentation\n    const markdown = new ExportMarkdown(blocks, listIndentation).generate()\n    const cursor = markdown.split('\\n').reduce((acc, line, index) => {\n      const ach = line.indexOf(CURSOR_ANCHOR_DNA)\n      const fch = line.indexOf(CURSOR_FOCUS_DNA)\n      if (ach > -1 && fch > -1) {\n        if (ach <= fch) {\n          Object.assign(acc.anchor, { line: index, ch: ach })\n          Object.assign(acc.focus, { line: index, ch: fch - CURSOR_ANCHOR_DNA.length })\n        } else {\n          Object.assign(acc.focus, { line: index, ch: fch })\n          Object.assign(acc.anchor, { line: index, ch: ach - CURSOR_FOCUS_DNA.length })\n        }\n      } else if (ach > -1) {\n        Object.assign(acc.anchor, { line: index, ch: ach })\n      } else if (fch > -1) {\n        Object.assign(acc.focus, { line: index, ch: fch })\n      }\n      return acc\n    }, {\n      anchor: {\n        line: 0,\n        ch: 0\n      },\n      focus: {\n        line: 0,\n        ch: 0\n      }\n    })\n    // remove CURSOR_FOCUS_DNA and CURSOR_ANCHOR_DNA\n    anchorBlock.text = anchorText\n    focusBlock.text = focusText\n    return cursor\n  }\n\n  ContentState.prototype.addCursorToMarkdown = function (markdown, cursor) {\n    const { anchor, focus } = cursor\n    const lines = markdown.split('\\n')\n    const anchorText = lines[anchor.line]\n    const focusText = lines[focus.line]\n\n    if (anchor.line === focus.line) {\n      const minOffset = Math.min(anchor.ch, focus.ch)\n      const maxOffset = Math.max(anchor.ch, focus.ch)\n      const firstTextPart = anchorText.substring(0, minOffset)\n      const secondTextPart = anchorText.substring(minOffset, maxOffset)\n      const thirdTextPart = anchorText.substring(maxOffset)\n      lines[anchor.line] = firstTextPart +\n        (anchor.ch <= focus.ch ? CURSOR_ANCHOR_DNA : CURSOR_FOCUS_DNA) +\n        secondTextPart +\n        (anchor.ch <= focus.ch ? CURSOR_FOCUS_DNA : CURSOR_ANCHOR_DNA) +\n        thirdTextPart\n    } else {\n      lines[anchor.line] = anchorText.substring(0, anchor.ch) + CURSOR_ANCHOR_DNA + anchorText.substring(anchor.ch)\n      lines[focus.line] = focusText.substring(0, focus.ch) + CURSOR_FOCUS_DNA + focusText.substring(focus.ch)\n    }\n\n    return lines.join('\\n')\n  }\n\n  ContentState.prototype.importCursor = function (hasCursor) {\n    // set cursor\n    const cursor = {\n      anchor: null,\n      focus: null\n    }\n\n    let count = 0\n\n    const travel = blocks => {\n      for (const block of blocks) {\n        let { key, text, children, editable } = block\n        if (text) {\n          const offset = text.indexOf(CURSOR_ANCHOR_DNA)\n          if (offset > -1) {\n            block.text = text.substring(0, offset) + text.substring(offset + CURSOR_ANCHOR_DNA.length)\n            text = block.text\n            count++\n            if (editable) {\n              cursor.anchor = { key, offset }\n            }\n          }\n          const focusOffset = text.indexOf(CURSOR_FOCUS_DNA)\n          if (focusOffset > -1) {\n            block.text = text.substring(0, focusOffset) + text.substring(focusOffset + CURSOR_FOCUS_DNA.length)\n            count++\n            if (editable) {\n              cursor.focus = { key, offset: focusOffset }\n            }\n          }\n          if (count === 2) {\n            break\n          }\n        } else if (children.length) {\n          travel(children)\n        }\n      }\n    }\n    if (hasCursor) {\n      travel(this.blocks)\n    } else {\n      const lastBlock = this.getLastBlock()\n      const key = lastBlock.key\n      const offset = lastBlock.text.length\n      cursor.anchor = { key, offset }\n      cursor.focus = { key, offset }\n    }\n    if (cursor.anchor && cursor.focus) {\n      this.cursor = cursor\n    }\n  }\n\n  ContentState.prototype.importMarkdown = function (markdown) {\n    this.blocks = this.markdownToState(markdown)\n  }\n}\n\nexport default importRegister\n","import { HAS_TEXT_BLOCK_REG, DEFAULT_TURNDOWN_CONFIG } from '../config'\nimport { getUniqueId, deepCopy } from '../utils'\nimport selection from '../selection'\nimport StateRender from '../parser/render'\nimport enterCtrl from './enterCtrl'\nimport updateCtrl from './updateCtrl'\nimport backspaceCtrl from './backspaceCtrl'\nimport deleteCtrl from './deleteCtrl'\nimport codeBlockCtrl from './codeBlockCtrl'\nimport tableBlockCtrl from './tableBlockCtrl'\nimport selectionCtrl from './selectionCtrl'\nimport History from './history'\nimport arrowCtrl from './arrowCtrl'\nimport pasteCtrl from './pasteCtrl'\nimport copyCutCtrl from './copyCutCtrl'\nimport paragraphCtrl from './paragraphCtrl'\nimport tabCtrl from './tabCtrl'\nimport formatCtrl from './formatCtrl'\nimport searchCtrl from './searchCtrl'\nimport containerCtrl from './containerCtrl'\nimport htmlBlockCtrl from './htmlBlock'\nimport clickCtrl from './clickCtrl'\nimport inputCtrl from './inputCtrl'\nimport tocCtrl from './tocCtrl'\nimport emojiCtrl from './emojiCtrl'\nimport imageCtrl from './imageCtrl'\nimport dragDropCtrl from './dragDropCtrl'\nimport importMarkdown from '../utils/importMarkdown'\nimport Cursor from '../selection/cursor'\n\nconst prototypes = [\n  tabCtrl,\n  enterCtrl,\n  selectionCtrl,\n  updateCtrl,\n  backspaceCtrl,\n  deleteCtrl,\n  codeBlockCtrl,\n  arrowCtrl,\n  pasteCtrl,\n  copyCutCtrl,\n  tableBlockCtrl,\n  paragraphCtrl,\n  formatCtrl,\n  searchCtrl,\n  containerCtrl,\n  htmlBlockCtrl,\n  clickCtrl,\n  inputCtrl,\n  tocCtrl,\n  emojiCtrl,\n  imageCtrl,\n  dragDropCtrl,\n  importMarkdown\n]\n\nclass ContentState {\n  constructor (muya, options) {\n    const { bulletListMarker } = options\n\n    this.muya = muya\n    Object.assign(this, options)\n\n    // Use to cache the keys which you don't want to remove.\n    this.exemption = new Set()\n    this.blocks = [ this.createBlockP() ]\n    this.stateRender = new StateRender(muya)\n    this.renderRange = [ null, null ]\n    this.currentCursor = null\n    // you'll select the outmost block of current cursor when you click the front icon.\n    this.selectedBlock = null\n    this._selectedImage = null\n    this.dropAnchor = null\n    this.prevCursor = null\n    this.historyTimer = null\n    this.history = new History(this)\n    this.turndownConfig = Object.assign(DEFAULT_TURNDOWN_CONFIG, { bulletListMarker })\n    this.fontSize = 16\n    this.lineHeight = 1.6\n    this.init()\n  }\n\n  set selectedImage (image) {\n    const oldSelectedImage = this._selectedImage\n    // if there is no selected image, remove selected status of current selected image.\n    if (!image && oldSelectedImage) {\n      const selectedImages = this.muya.container.querySelectorAll('.ag-inline-image-selected')\n      for (const img of selectedImages) {\n        img.classList.remove('ag-inline-image-selected')\n      }\n    }\n    this._selectedImage = image\n  }\n\n  get selectedImage () {\n    return this._selectedImage\n  }\n\n  set cursor (cursor) {\n    if (!(cursor instanceof Cursor)) {\n      cursor = new Cursor(cursor)\n    }\n    const handler = () => {\n      const { blocks, renderRange, currentCursor } = this\n      this.history.push({\n        blocks,\n        renderRange,\n        cursor: currentCursor\n      })\n    }\n    this.prevCursor = this.currentCursor\n    this.currentCursor = cursor\n\n    if (!cursor.noHistory) {\n      if (\n        this.prevCursor &&\n        (\n          this.prevCursor.start.key !== cursor.start.key ||\n          this.prevCursor.end.key !== cursor.end.key\n        )\n      ) {\n        handler()\n      } else {\n        if (this.historyTimer) clearTimeout(this.historyTimer)\n        this.historyTimer = setTimeout(handler, 2000)\n      }\n    }\n  }\n\n  get cursor () {\n    return this.currentCursor\n  }\n\n  init () {\n    const lastBlock = this.getLastBlock()\n    const { key, text } = lastBlock\n    const offset = text.length\n    this.searchMatches = {\n      value: '', // the search value\n      matches: [], // matches\n      index: -1 // active match\n    }\n    this.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n  }\n\n  getHistory () {\n    const { stack, index } = this.history\n    return { stack, index }\n  }\n\n  setHistory ({ stack, index }) {\n    Object.assign(this.history, { stack, index })\n  }\n\n  setCursor () {\n    selection.setCursorRange(this.cursor)\n  }\n\n  setNextRenderRange () {\n    const { start, end } = this.cursor\n    const startBlock = this.getBlock(start.key)\n    const endBlock = this.getBlock(end.key)\n    const startOutMostBlock = this.findOutMostBlock(startBlock)\n    const endOutMostBlock = this.findOutMostBlock(endBlock)\n\n    this.renderRange = [ startOutMostBlock.preSibling, endOutMostBlock.nextSibling ]\n  }\n\n  postRender () {\n    // do nothing.\n  }\n\n  render (isRenderCursor = true) {\n    const { blocks, searchMatches: { matches, index } } = this\n    const activeBlocks = this.getActiveBlocks()\n    matches.forEach((m, i) => {\n      m.active = i === index\n    })\n    this.setNextRenderRange()\n    this.stateRender.collectLabels(blocks)\n    this.stateRender.render(blocks, activeBlocks, matches)\n    if (isRenderCursor) {\n      this.setCursor()\n    } else {\n      this.muya.blur()\n    }\n    this.postRender()\n  }\n\n  partialRender (isRenderCursor = true) {\n    const { blocks, searchMatches: { matches, index } } = this\n    const activeBlocks = this.getActiveBlocks()\n    const [ startKey, endKey ] = this.renderRange\n    matches.forEach((m, i) => {\n      m.active = i === index\n    })\n    const startIndex = startKey ? blocks.findIndex(block => block.key === startKey) : 0\n    const endIndex = endKey ? blocks.findIndex(block => block.key === endKey) + 1 : blocks.length\n    const needRenderBlocks = blocks.slice(startIndex, endIndex)\n\n    this.setNextRenderRange()\n    this.stateRender.collectLabels(blocks)\n    this.stateRender.partialRender(needRenderBlocks, activeBlocks, matches, startKey, endKey)\n    if (isRenderCursor) {\n      this.setCursor()\n    } else {\n      this.muya.blur()\n    }\n    this.postRender()\n  }\n\n  singleRender (block, isRenderCursor = true) {\n    const { blocks, searchMatches: { matches, index } } = this\n    const activeBlocks = this.getActiveBlocks()\n    matches.forEach((m, i) => {\n      m.active = i === index\n    })\n    this.setNextRenderRange()\n    this.stateRender.collectLabels(blocks)\n    this.stateRender.singleRender(block, activeBlocks, matches)\n    if (isRenderCursor) {\n      this.setCursor()\n    } else {\n      this.muya.blur()\n    }\n    this.postRender()\n  }\n\n  /**\n   * A block in Mark Text present a paragraph(block syntax in GFM) or a line in paragraph.\n   * a `span` block must in a `p block` or `pre block` and `p block`'s children must be `span` blocks.\n   */\n  createBlock (type = 'span', extras = {}) {\n    const key = getUniqueId()\n    const blockData = {\n      key,\n      text: '',\n      type,\n      editable: true,\n      parent: null,\n      preSibling: null,\n      nextSibling: null,\n      children: []\n    }\n\n    // give span block a default functionType `paragraphContent`\n    if (type === 'span' && !extras.functionType) {\n      blockData.functionType = 'paragraphContent'\n    }\n\n    Object.assign(blockData, extras)\n    return blockData\n  }\n\n  createBlockP (text = '') {\n    const pBlock = this.createBlock('p')\n    const contentBlock = this.createBlock('span', { text })\n    this.appendChild(pBlock, contentBlock)\n    return pBlock\n  }\n\n  isCollapse (cursor = this.cursor) {\n    const { start, end } = cursor\n    return start.key === end.key && start.offset === end.offset\n  }\n\n  // getBlocks\n  getBlocks () {\n    return this.blocks\n  }\n\n  getCursor () {\n    return this.cursor\n  }\n\n  getBlock (key) {\n    if (!key) return null\n    let result = null\n    const travel = blocks => {\n      for (const block of blocks) {\n        if (block.key === key) {\n          result = block\n          return\n        }\n        const { children } = block\n        if (children.length) {\n          travel(children)\n        }\n      }\n    }\n    travel(this.blocks)\n    return result\n  }\n\n  copyBlock (origin) {\n    const copiedBlock = deepCopy(origin)\n    const travel = (block, parent, preBlock, nextBlock) => {\n      const key = getUniqueId()\n      block.key = key\n      block.parent = parent ? parent.key : null\n      block.preSibling = preBlock ? preBlock.key : null\n      block.nextSibling = nextBlock ? nextBlock.key : null\n      const { children } = block\n      const len = children.length\n      if (children && len) {\n        let i\n        for (i = 0; i < len; i++) {\n          const b = children[i]\n          const preB = i >= 1 ? children[i - 1] : null\n          const nextB = i < len - 1 ? children[i + 1] : null\n          travel(b, block, preB, nextB)\n        }\n      }\n    }\n\n    travel(copiedBlock, null, null, null)\n    return copiedBlock\n  }\n\n  getParent (block) {\n    if (block && block.parent) {\n      return this.getBlock(block.parent)\n    }\n    return null\n  }\n  // return block and its parents\n  getParents (block) {\n    const result = []\n    result.push(block)\n    let parent = this.getParent(block)\n    while (parent) {\n      result.push(parent)\n      parent = this.getParent(parent)\n    }\n    return result\n  }\n\n  getPreSibling (block) {\n    return block.preSibling ? this.getBlock(block.preSibling) : null\n  }\n\n  getNextSibling (block) {\n    return block.nextSibling ? this.getBlock(block.nextSibling) : null\n  }\n\n  /**\n   * if target is descendant of parent return true, else return false\n   * @param  {[type]}  parent [description]\n   * @param  {[type]}  target [description]\n   * @return {Boolean}        [description]\n   */\n  isInclude (parent, target) {\n    const children = parent.children\n    if (children.length === 0) {\n      return false\n    } else {\n      if (children.some(child => child.key === target.key)) {\n        return true\n      } else {\n        return children.some(child => this.isInclude(child, target))\n      }\n    }\n  }\n\n  removeTextOrBlock (block) {\n    if (block.functionType === 'languageInput') return\n    const checkerIn = block => {\n      if (this.exemption.has(block.key)) {\n        return true\n      } else {\n        const parent = this.getBlock(block.parent)\n        return parent ? checkerIn(parent) : false\n      }\n    }\n\n    const checkerOut = block => {\n      const children = block.children\n      if (children.length) {\n        if (children.some(child => this.exemption.has(child.key))) {\n          return true\n        } else {\n          return children.some(child => checkerOut(child))\n        }\n      } else {\n        return false\n      }\n    }\n\n    if (checkerIn(block) || checkerOut(block)) {\n      block.text = ''\n      const { children } = block\n      if (children.length) {\n        children.forEach(child => this.removeTextOrBlock(child))\n      }\n    } else if (block.editable) {\n      this.removeBlock(block)\n    }\n  }\n  // help func in removeBlocks\n  findFigure (block) {\n    if (block.type === 'figure') {\n      return block.key\n    } else {\n      const parent = this.getBlock(block.parent)\n      return this.findFigure(parent)\n    }\n  }\n\n  /**\n   * remove blocks between before and after, and includes after block.\n   */\n  removeBlocks (before, after, isRemoveAfter = true, isRecursion = false) {\n    if (!isRecursion) {\n      if (/td|th/.test(before.type)) {\n        this.exemption.add(this.findFigure(before))\n      }\n      if (/td|th/.test(after.type)) {\n        this.exemption.add(this.findFigure(after))\n      }\n    }\n    let nextSibling = this.getBlock(before.nextSibling)\n    let beforeEnd = false\n    while (nextSibling) {\n      if (nextSibling.key === after.key || this.isInclude(nextSibling, after)) {\n        beforeEnd = true\n        break\n      }\n      this.removeTextOrBlock(nextSibling)\n      nextSibling = this.getBlock(nextSibling.nextSibling)\n    }\n    if (!beforeEnd) {\n      const parent = this.getParent(before)\n      if (parent) {\n        this.removeBlocks(parent, after, false, true)\n      }\n    }\n    let preSibling = this.getBlock(after.preSibling)\n    let afterEnd = false\n    while (preSibling) {\n      if (preSibling.key === before.key || this.isInclude(preSibling, before)) {\n        afterEnd = true\n        break\n      }\n      this.removeTextOrBlock(preSibling)\n      preSibling = this.getBlock(preSibling.preSibling)\n    }\n    if (!afterEnd) {\n      const parent = this.getParent(after)\n      if (parent) {\n        const removeAfter = isRemoveAfter && (this.isOnlyRemoveableChild(after))\n        this.removeBlocks(before, parent, removeAfter, true)\n      }\n    }\n    if (isRemoveAfter) {\n      this.removeTextOrBlock(after)\n    }\n    if (!isRecursion) {\n      this.exemption.clear()\n    }\n  }\n\n  removeBlock (block, fromBlocks = this.blocks) {\n    const remove = (blocks, block) => {\n      const len = blocks.length\n      let i\n      for (i = 0; i < len; i++) {\n        if (blocks[i].key === block.key) {\n          const preSibling = this.getBlock(block.preSibling)\n          const nextSibling = this.getBlock(block.nextSibling)\n\n          if (preSibling) {\n            preSibling.nextSibling = nextSibling ? nextSibling.key : null\n          }\n          if (nextSibling) {\n            nextSibling.preSibling = preSibling ? preSibling.key : null\n          }\n\n          return blocks.splice(i, 1)\n        } else {\n          if (blocks[i].children.length) {\n            remove(blocks[i].children, block)\n          }\n        }\n      }\n    }\n    remove(Array.isArray(fromBlocks) ? fromBlocks : fromBlocks.children, block)\n  }\n\n  getActiveBlocks () {\n    let result = []\n    let block = this.getBlock(this.cursor.start.key)\n    if (block) result.push(block)\n    while (block && block.parent) {\n      block = this.getBlock(block.parent)\n      result.push(block)\n    }\n    return result\n  }\n\n  insertAfter (newBlock, oldBlock) {\n    const siblings = oldBlock.parent ? this.getBlock(oldBlock.parent).children : this.blocks\n    const oldNextSibling = this.getBlock(oldBlock.nextSibling)\n    const index = this.findIndex(siblings, oldBlock)\n    siblings.splice(index + 1, 0, newBlock)\n    oldBlock.nextSibling = newBlock.key\n    newBlock.parent = oldBlock.parent\n    newBlock.preSibling = oldBlock.key\n    if (oldNextSibling) {\n      newBlock.nextSibling = oldNextSibling.key\n      oldNextSibling.preSibling = newBlock.key\n    }\n  }\n\n  insertBefore (newBlock, oldBlock) {\n    const siblings = oldBlock.parent ? this.getBlock(oldBlock.parent).children : this.blocks\n    const oldPreSibling = this.getBlock(oldBlock.preSibling)\n    const index = this.findIndex(siblings, oldBlock)\n    siblings.splice(index, 0, newBlock)\n    oldBlock.preSibling = newBlock.key\n    newBlock.parent = oldBlock.parent\n    newBlock.nextSibling = oldBlock.key\n    newBlock.preSibling = null\n\n    if (oldPreSibling) {\n      oldPreSibling.nextSibling = newBlock.key\n      newBlock.preSibling = oldPreSibling.key\n    }\n  }\n\n  findOutMostBlock (block) {\n    const parent = this.getBlock(block.parent)\n    return parent ? this.findOutMostBlock(parent) : block\n  }\n\n  findIndex (children, block) {\n    return children.findIndex(child => child === block)\n  }\n\n  prependChild (parent, block) {\n    block.parent = parent.key\n    block.preSibling = null\n    if (parent.children.length) {\n      block.nextSibling = parent.children[0].key\n    }\n    parent.children.unshift(block)\n  }\n\n  appendChild (parent, block) {\n    const len = parent.children.length\n    const lastChild = parent.children[len - 1]\n    parent.children.push(block)\n    block.parent = parent.key\n    if (lastChild) {\n      lastChild.nextSibling = block.key\n      block.preSibling = lastChild.key\n    } else {\n      block.preSibling = null\n    }\n    block.nextSibling = null\n  }\n\n  replaceBlock (newBlock, oldBlock) {\n    const blockList = oldBlock.parent ? this.getParent(oldBlock).children : this.blocks\n    const index = this.findIndex(blockList, oldBlock)\n\n    blockList.splice(index, 1, newBlock)\n    newBlock.parent = oldBlock.parent\n    newBlock.preSibling = oldBlock.preSibling\n    newBlock.nextSibling = oldBlock.nextSibling\n  }\n\n  canInserFrontMatter (block) {\n    if (!block) return true\n    const parent = this.getParent(block)\n    return block.type === 'span' &&\n      !block.preSibling &&\n      !parent.preSibling &&\n      !parent.parent\n  }\n\n  isFirstChild (block) {\n    return !block.preSibling\n  }\n\n  isLastChild (block) {\n    return !block.nextSibling\n  }\n\n  isOnlyChild (block) {\n    return !block.nextSibling && !block.preSibling\n  }\n\n  isOnlyRemoveableChild (block) {\n    if (block.editable === false) return false\n    const parent = this.getParent(block)\n    return (parent ? parent.children : this.blocks).filter(child => child.editable && child.functionType !== 'languageInput').length === 1\n  }\n\n  getLastChild (block) {\n    if (block) {\n      const len = block.children.length\n      if (len) {\n        return block.children[len - 1]\n      }\n    }\n    return null\n  }\n\n  firstInDescendant (block) {\n    const children = block.children\n    if (block.children.length === 0 && HAS_TEXT_BLOCK_REG.test(block.type)) {\n      return block\n    } else if (children.length) {\n      if (\n        children[0].type === 'input' ||\n        (children[0].type === 'div' && children[0].editable === false)\n      ) { // handle task item\n        return this.firstInDescendant(children[1])\n      } else {\n        return this.firstInDescendant(children[0])\n      }\n    }\n  }\n\n  lastInDescendant (block) {\n    if (block.children.length === 0 && HAS_TEXT_BLOCK_REG.test(block.type)) {\n      return block\n    } else if (block.children.length) {\n      const children = block.children\n      let lastChild = children[children.length - 1]\n      while (lastChild.editable === false) {\n        lastChild = this.getPreSibling(lastChild)\n      }\n      return this.lastInDescendant(lastChild)\n    }\n  }\n\n  findPreBlockInLocation (block) {\n    const parent = this.getParent(block)\n    const preBlock = this.getPreSibling(block)\n    if (\n      block.preSibling &&\n      preBlock.type !== 'input' &&\n      preBlock.type !== 'div' &&\n      preBlock.editable !== false\n    ) { // handle task item and table\n      return this.lastInDescendant(preBlock)\n    } else if (parent) {\n      return this.findPreBlockInLocation(parent)\n    } else {\n      return null\n    }\n  }\n\n  findNextBlockInLocation (block) {\n    const parent = this.getParent(block)\n    const nextBlock = this.getNextSibling(block)\n\n    if (\n      nextBlock && nextBlock.editable !== false\n    ) {\n      return this.firstInDescendant(nextBlock)\n    } else if (parent) {\n      return this.findNextBlockInLocation(parent)\n    } else {\n      return null\n    }\n  }\n\n  getPositionReference () {\n    const { fontSize, lineHeight } = this\n    const { start } = this.cursor\n    const block = this.getBlock(start.key)\n    const { x, y } = selection.getCursorCoords()\n    const height = fontSize * lineHeight\n    const width = 0\n    const bottom = y + height\n    const right = x + width\n    const left = x\n    const top = y\n    return {\n      getBoundingClientRect () {\n        return { x, y, top, left, right, bottom, height, width }\n      },\n      clientWidth: width,\n      clientHeight: height,\n      id: block ? block.key : null\n    }\n  }\n\n  getFirstBlock () {\n    return this.firstInDescendant(this.blocks[0])\n  }\n\n  getLastBlock () {\n    const { blocks } = this\n    const len = blocks.length\n    return this.lastInDescendant(blocks[len - 1])\n  }\n\n  clear () {\n    this.history.clearHistory()\n  }\n}\n\nprototypes.forEach(ctrl => ctrl(ContentState))\n\nexport default ContentState\n","import { getUniqueId } from '../utils'\n\nclass EventCenter {\n  constructor () {\n    this.events = []\n    this.listeners = {}\n  }\n  /**\n   * [attachDOMEvent] bind event listener to target, and return a unique ID,\n   * this ID\n   */\n  attachDOMEvent (target, event, listener, capture) {\n    if (this.checkHasBind(target, event, listener, capture)) return false\n    const eventId = getUniqueId()\n    target.addEventListener(event, listener, capture)\n    this.events.push({\n      eventId,\n      target,\n      event,\n      listener,\n      capture\n    })\n    return eventId\n  }\n  /**\n   * [detachDOMEvent removeEventListener]\n   * @param  {[type]} eventId [unique eventId]\n   */\n  detachDOMEvent (eventId) {\n    if (!eventId) return false\n    const removeEvent = this.events.filter(e => e.eventId === eventId)[0]\n    if (removeEvent) {\n      const { target, event, listener, capture } = removeEvent\n      target.removeEventListener(event, listener, capture)\n    }\n  }\n  /**\n   * [detachAllDomEvents remove all the DOM events handler]\n   */\n  detachAllDomEvents () {\n    this.events.forEach(event => this.detachDOMEvent(event.eventId))\n  }\n  /**\n   * inner method for subscribe and subscribeOnce\n   */\n  _subscribe (event, listener, once = false) {\n    const listeners = this.listeners[event]\n    const handler = { listener, once }\n    if (listeners && Array.isArray(listeners)) {\n      listeners.push(handler)\n    } else {\n      this.listeners[event] = [ handler ]\n    }\n  }\n  /**\n   * [subscribe] subscribe custom event\n   */\n  subscribe (event, listener) {\n    this._subscribe(event, listener)\n  }\n  /**\n   * [unsubscribe] unsubscribe custom event\n   */\n  unsubscribe (event, listener) {\n    const listeners = this.listeners[event]\n    if (Array.isArray(listeners) && listeners.find(l => l.listener === listener)) {\n      const index = listeners.findIndex(l => l.listener === listener)\n      listeners.splice(index, 1)\n    }\n  }\n  /**\n   * [subscribeOnce] usbscribe event and listen once\n   */\n  subscribeOnce (event, listener) {\n    this._subscribe(event, listener, true)\n  }\n  /**\n   * dispatch custom event\n   */\n  dispatch (event, ...data) {\n    const eventListener = this.listeners[event]\n    if (eventListener && Array.isArray(eventListener)) {\n      eventListener.forEach(({ listener, once }) => {\n        listener(...data)\n        if (once) {\n          this.unsubscribe(event, listener)\n        }\n      })\n    }\n  }\n  // Determine whether the event has been bind\n  checkHasBind (cTarget, cEvent, cListener, cCapture) {\n    for (const { target, event, listener, capture } of this.events) {\n      if (target === cTarget && event === cEvent && listener === cListener && capture === cCapture) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nexport default EventCenter\n","class Clipboard {\n  constructor (muya) {\n    this.muya = muya\n    this._copyType = 'normal' // `normal` or `copyAsMarkdown` or `copyAsHtml`\n    this._pasteType = 'normal' // `normal` or `pasteAsPlainText`\n    this.listen()\n  }\n\n  listen () {\n    const { container, eventCenter, contentState } = this.muya\n    const docPasteHandler = event => {\n      contentState.docPasteHandler(event)\n    }\n    const copyCutHandler = event => {\n      contentState.copyHandler(event, this._copyType)\n      if (event.type === 'cut') {\n        // when user use `cut` function, the dom has been deleted by default.\n        // But should update content state manually.\n        contentState.cutHandler()\n      }\n      this._copyType = 'normal'\n    }\n    const pasteHandler = event => {\n      contentState.pasteHandler(event, this._pasteType)\n      this._pasteType = 'normal'\n      this.muya.dispatchChange()\n    }\n\n    eventCenter.attachDOMEvent(document, 'paste', docPasteHandler)\n    eventCenter.attachDOMEvent(container, 'paste', pasteHandler)\n    eventCenter.attachDOMEvent(container, 'cut', copyCutHandler)\n    eventCenter.attachDOMEvent(container, 'copy', copyCutHandler)\n  }\n\n  copyAsMarkdown () {\n    this._copyType = 'copyAsMarkdown'\n    document.execCommand('copy')\n  }\n\n  copyAsHtml () {\n    this._copyType = 'copyAsHtml'\n    document.execCommand('copy')\n  }\n\n  pasteAsPlainText () {\n    this._pasteType = 'pasteAsPlainText'\n    document.execCommand('paste')\n  }\n\n  copy (name) {\n    switch (name) {\n      case 'table':\n        this._copyType = 'copyTable'\n        document.execCommand('copy')\n        break\n      default:\n        break\n    }\n  }\n}\n\nexport default Clipboard\n","import { EVENT_KEYS } from '../config'\nimport selection from '../selection'\nimport { findNearestParagraph } from '../selection/dom'\nimport { getParagraphReference, getImageInfo } from '../utils'\nimport { checkEditEmoji } from '../ui/emojis'\n\nclass Keyboard {\n  constructor (muya) {\n    this.muya = muya\n    this.isComposed = false\n    this.shownFloat = new Set()\n    this.recordIsComposed()\n    this.dispatchEditorState()\n    this.keydownBinding()\n    this.keyupBinding()\n    this.inputBinding()\n    this.listen()\n  }\n\n  listen () {\n    // cache shown float box\n    this.muya.eventCenter.subscribe('muya-float', (tool, status) => {\n      status ? this.shownFloat.add(tool) : this.shownFloat.delete(tool)\n      if (tool.name === 'ag-front-menu' && !status) {\n        const seletedParagraph = this.muya.container.querySelector('.ag-selected')\n        if (seletedParagraph) {\n          this.muya.contentState.selectedBlock = null\n          // prevent rerender, so change the class manually.\n          seletedParagraph.classList.toggle('ag-selected')\n        }\n      }\n    })\n  }\n\n  hideAllFloatTools () {\n    for (const tool of this.shownFloat) {\n      tool.hide()\n    }\n  }\n\n  recordIsComposed () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      if (event.type === 'compositionstart') {\n        this.isComposed = true\n      } else if (event.type === 'compositionend') {\n        this.isComposed = false\n        // Because the compose event will not cause `input` event, So need call `inputHandler` by ourself\n        contentState.inputHandler(event)\n        eventCenter.dispatch('stateChange')\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'compositionend', handler)\n    // eventCenter.attachDOMEvent(container, 'compositionupdate', handler)\n    eventCenter.attachDOMEvent(container, 'compositionstart', handler)\n  }\n\n  dispatchEditorState () {\n    const { container, eventCenter, contentState } = this.muya\n\n    let timer = null\n    const changeHandler = event => {\n      if (\n        event.type === 'keyup' &&\n        (event.key === EVENT_KEYS.ArrowUp || event.key === EVENT_KEYS.ArrowDown) &&\n        this.shownFloat.size > 0\n      ) {\n        return\n      }\n\n      // Cursor outside editor area or over not editable elements.\n      if (event.target.closest('[contenteditable=false]')) {\n        return\n      }\n\n      // We need check cursor is null, because we may copy the html preview content,\n      // and no need to dispatch change.\n      const { start, end } = selection.getCursorRange()\n      if (!start || !end) {\n        return\n      }\n\n      if (timer) clearTimeout(timer)\n      timer = setTimeout(() => {\n        const selectionChanges = contentState.selectionChange()\n        const { formats } = contentState.selectionFormats()\n        eventCenter.dispatch('selectionChange', selectionChanges)\n        eventCenter.dispatch('selectionFormats', formats)\n        if (!this.isComposed && event.type === 'click') {\n          this.muya.dispatchChange()\n        }\n      })\n    }\n\n    eventCenter.attachDOMEvent(container, 'click', changeHandler)\n    eventCenter.attachDOMEvent(container, 'keyup', changeHandler)\n  }\n\n  keydownBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const docHandler = event => {\n      switch (event.code) {\n        case EVENT_KEYS.Enter:\n          return contentState.docEnterHandler(event)\n        case EVENT_KEYS.Space: {\n          if (contentState.selectedImage) {\n            const { src } = getImageInfo(contentState.selectedImage.token.src)\n            if (src) {\n              eventCenter.dispatch('preview-image', {\n                data: src\n              })\n            }\n          }\n          break\n        }\n        case EVENT_KEYS.Backspace: {\n          return contentState.docBackspaceHandler(event)\n        }\n        case EVENT_KEYS.ArrowUp: // fallthrough\n        case EVENT_KEYS.ArrowDown: // fallthrough\n        case EVENT_KEYS.ArrowLeft: // fallthrough\n        case EVENT_KEYS.ArrowRight: // fallthrough\n          return contentState.docArrowHandler(event)\n      }\n    }\n\n    const handler = event => {\n      if (event.metaKey || event.ctrlKey) {\n        container.classList.add('ag-meta-or-ctrl')\n      }\n      if (\n        this.shownFloat.size > 0 &&\n        (\n          event.key === EVENT_KEYS.Enter ||\n          event.key === EVENT_KEYS.Escape ||\n          event.key === EVENT_KEYS.Tab ||\n          event.key === EVENT_KEYS.ArrowUp ||\n          event.key === EVENT_KEYS.ArrowDown\n        )\n      ) {\n        let needPreventDefault = false\n\n        for (const tool of this.shownFloat) {\n          if (tool.name === 'ag-format-picker' || tool.name === 'ag-table-picker') {\n            needPreventDefault = true\n            break\n          }\n        }\n        if (needPreventDefault) {\n          event.preventDefault()\n        }\n        event.stopPropagation()\n        return\n      }\n      switch (event.key) {\n        case EVENT_KEYS.Backspace:\n          contentState.backspaceHandler(event)\n          break\n        case EVENT_KEYS.Delete:\n          contentState.deleteHandler(event)\n          break\n        case EVENT_KEYS.Enter:\n          if (!this.isComposed) {\n            contentState.enterHandler(event)\n          }\n          break\n        case 'a':\n          if (event.ctrlKey) {\n            contentState.tableCellHandler(event)\n          }\n          break\n        case EVENT_KEYS.ArrowUp: // fallthrough\n        case EVENT_KEYS.ArrowDown: // fallthrough\n        case EVENT_KEYS.ArrowLeft: // fallthrough\n        case EVENT_KEYS.ArrowRight: // fallthrough\n          if (!this.isComposed) {\n            contentState.arrowHandler(event)\n          }\n          break\n        case EVENT_KEYS.Tab:\n          contentState.tabHandler(event)\n          break\n        default:\n          break\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'keydown', handler)\n    eventCenter.attachDOMEvent(document, 'keydown', docHandler)\n  }\n\n  inputBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const inputHandler = event => {\n      if (!this.isComposed) {\n        contentState.inputHandler(event)\n        this.muya.dispatchChange()\n      }\n\n      const { lang, paragraph } = contentState.checkEditLanguage()\n      if (lang) {\n        eventCenter.dispatch('muya-code-picker', {\n          reference: getParagraphReference(paragraph, paragraph.id),\n          lang,\n          cb: item => {\n            contentState.selectLanguage(paragraph, item.name)\n          }\n        })\n      } else {\n        // hide code picker float box\n        eventCenter.dispatch('muya-code-picker', { reference: null })\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'input', inputHandler)\n  }\n\n  keyupBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      container.classList.remove('ag-meta-or-ctrl')\n      // check if edit emoji\n      const node = selection.getSelectionStart()\n      const paragraph = findNearestParagraph(node)\n      const emojiNode = checkEditEmoji(node)\n      contentState.selectedImage = null\n      if (\n        paragraph &&\n        emojiNode &&\n        event.key !== EVENT_KEYS.Enter &&\n        event.key !== EVENT_KEYS.ArrowDown &&\n        event.key !== EVENT_KEYS.ArrowUp &&\n        event.key !== EVENT_KEYS.Tab &&\n        event.key !== EVENT_KEYS.Escape\n      ) {\n        const reference = getParagraphReference(emojiNode, paragraph.id)\n        eventCenter.dispatch('muya-emoji-picker', {\n          reference,\n          emojiNode\n        })\n      }\n      if (!emojiNode) {\n        eventCenter.dispatch('muya-emoji-picker', {\n          emojiNode\n        })\n      }\n\n      const { anchor, focus, start, end } = selection.getCursorRange()\n      if (!anchor || !focus) {\n        return\n      }\n      if (\n        !this.isComposed\n      ) {\n        const { anchor: oldAnchor, focus: oldFocus } = contentState.cursor\n        if (\n          anchor.key !== oldAnchor.key ||\n          anchor.offset !== oldAnchor.offset ||\n          focus.key !== oldFocus.key ||\n          focus.offset !== oldFocus.offset\n        ) {\n          const needRender = contentState.checkNeedRender(contentState.cursor) || contentState.checkNeedRender({ start, end })\n          contentState.cursor = { anchor, focus }\n          if (needRender) {\n            return contentState.partialRender()\n          }\n        }\n      }\n\n      const block = contentState.getBlock(anchor.key)\n      if (anchor.key === focus.key && anchor.offset !== focus.offset && block.functionType !== 'codeLine') {\n        const reference = contentState.getPositionReference()\n        const { formats } = contentState.selectionFormats()\n        eventCenter.dispatch('muya-format-picker', { reference, formats })\n      } else {\n        eventCenter.dispatch('muya-format-picker', { reference: null })\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'keyup', handler) // temp use input event\n  }\n}\n\nexport default Keyboard\n","class DragDrop {\n  constructor (muya) {\n    this.muya = muya\n    this.dragOverBinding()\n    this.dropBinding()\n    this.dragendBinding()\n  }\n\n  dragOverBinding () {\n    const { container, eventCenter, contentState } = this.muya\n\n    const dragoverHandler = event => {\n      contentState.dragoverHandler(event)\n    }\n\n    eventCenter.attachDOMEvent(container, 'dragover', dragoverHandler)\n  }\n\n  dropBinding () {\n    const { container, eventCenter, contentState } = this.muya\n\n    const dropHandler = event => {\n      contentState.dropHandler(event)\n    }\n\n    eventCenter.attachDOMEvent(container, 'drop', dropHandler)\n  }\n\n  dragendBinding () {\n    const { eventCenter, contentState } = this.muya\n\n    const dragleaveHandler = event => {\n      contentState.dragleaveHandler(event)\n    }\n\n    eventCenter.attachDOMEvent(window, 'dragleave', dragleaveHandler)\n  }\n}\n\nexport default DragDrop\n","import { operateClassName } from '../utils/domManipulate'\nimport { getImageInfo } from '../utils/getImageInfo'\nimport { CLASS_OR_ID } from '../config'\nimport selection from '../selection'\n\nclass ClickEvent {\n  constructor (muya) {\n    this.muya = muya\n    this.clickBinding()\n    this.contextClickBingding()\n  }\n\n  contextClickBingding () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      event.preventDefault()\n      event.stopPropagation()\n\n      // Hide format box\n      eventCenter.dispatch('muya-format-picker', { reference: null })\n\n      const { start, end } = selection.getCursorRange()\n\n      // Cursor out of editor\n      if (!start || !end) {\n        return\n      }\n      const startBlock = contentState.getBlock(start.key)\n      const nextTextBlock = contentState.findNextBlockInLocation(startBlock)\n\n      if (\n        nextTextBlock && nextTextBlock.key === end.key &&\n        end.offset === 0 &&\n        start.offset === startBlock.text.length\n      ) {\n        // Set cursor at the end of start block and reset cursor\n        // Because if you right click at the end of one text block, the cursor.start will at the end of\n        // start block and the cursor.end will at the next text block beginning. So we reset the cursor\n        // at the end of start block.\n        contentState.cursor = {\n          start,\n          end: start\n        }\n        selection.setCursorRange(contentState.cursor)\n      } else {\n        // Commit native cursor position because right-clicking doesn't update the cursor postion.\n        contentState.cursor = {\n          start,\n          end\n        }\n      }\n\n      const sectionChanges = contentState.selectionChange(contentState.cursor)\n      eventCenter.dispatch('contextmenu', event, sectionChanges)\n    }\n    eventCenter.attachDOMEvent(container, 'contextmenu', handler)\n  }\n\n  clickBinding () {\n    const { container, eventCenter, contentState } = this.muya\n    const handler = event => {\n      const { target } = event\n      // handler table click\n      const toolItem = getToolItem(target)\n      contentState.selectedImage = null\n      if (toolItem) {\n        event.preventDefault()\n        event.stopPropagation()\n        const type = toolItem.getAttribute('data-label')\n        const grandPa = toolItem.parentNode.parentNode\n        if (grandPa.classList.contains('ag-tool-table')) {\n          contentState.tableToolBarClick(type)\n        }\n      }\n      // handler image and inline math preview click\n      const markedImageText = target.previousElementSibling\n      const mathRender = target.closest(`.${CLASS_OR_ID['AG_MATH_RENDER']}`)\n      const rubyRender = target.closest(`.${CLASS_OR_ID['AG_RUBY_RENDER']}`)\n      const imageWrapper = target.closest(`.${CLASS_OR_ID['AG_INLINE_IMAGE']}`)\n      const imageTurnInto = target.closest('.ag-image-icon-turninto')\n      const imageDelete = target.closest('.ag-image-icon-delete') || target.closest('.ag-image-icon-close')\n      const mathText = mathRender && mathRender.previousElementSibling\n      const rubyText = rubyRender && rubyRender.previousElementSibling\n      if (markedImageText && markedImageText.classList.contains(CLASS_OR_ID['AG_IMAGE_MARKED_TEXT'])) {\n        eventCenter.dispatch('format-click', {\n          event,\n          formatType: 'image',\n          data: event.target.getAttribute('src')\n        })\n        selectionText(markedImageText)\n      } else if (mathText) {\n        selectionText(mathText)\n      } else if (rubyText) {\n        selectionText(rubyText)\n      }\n      // Handle delete inline iamge by click delete icon.\n      if (imageDelete && imageWrapper) {\n        const imageInfo = getImageInfo(imageWrapper)\n        event.preventDefault()\n        event.stopPropagation()\n        // hide image selector if needed.\n        eventCenter.dispatch('muya-image-selector', { reference: null })\n        return contentState.deleteImage(imageInfo)\n      }\n\n      // Handle image click, to select the current image\n      if (target.tagName === 'IMG' && imageWrapper) {\n        // Handle select image\n        const imageInfo = getImageInfo(imageWrapper)\n        event.preventDefault()\n        eventCenter.dispatch('select-image', imageInfo)\n        return contentState.selectImage(imageInfo)\n      }\n\n      // Handle click imagewrapper when it's empty or image load failed.\n      if (\n        (imageTurnInto && imageWrapper) ||\n        (imageWrapper &&\n        (\n          imageWrapper.classList.contains('ag-empty-image') ||\n          imageWrapper.classList.contains('ag-image-fail')\n        ))\n      ) {\n        const rect = imageWrapper.getBoundingClientRect()\n        const reference = {\n          getBoundingClientRect () {\n            if (imageTurnInto) {\n              rect.height = 0\n            }\n            return rect\n          }\n        }\n        const imageInfo = getImageInfo(imageWrapper)\n        eventCenter.dispatch('muya-image-selector', {\n          reference,\n          imageInfo,\n          cb: () => {}\n        })\n        event.preventDefault()\n        return event.stopPropagation()\n      }\n      if (target.closest('div.ag-container-preview') || target.closest('div.ag-html-preview')) {\n        return event.stopPropagation()\n      }\n      // handler container preview click\n      const editIcon = target.closest(`.ag-container-icon`)\n      if (editIcon) {\n        event.preventDefault()\n        event.stopPropagation()\n        if (editIcon.parentNode.classList.contains('ag-container-block')) {\n          contentState.handleContainerBlockClick(editIcon.parentNode)\n        }\n      }\n\n      // handler to-do checkbox click\n      if (target.tagName === 'INPUT' && target.classList.contains(CLASS_OR_ID['AG_TASK_LIST_ITEM_CHECKBOX'])) {\n        contentState.listItemCheckBoxClick(target)\n      }\n      contentState.clickHandler(event)\n    }\n\n    eventCenter.attachDOMEvent(container, 'click', handler)\n  }\n}\n\nfunction getToolItem (target) {\n  return target.closest('[data-label]')\n}\n\nfunction selectionText (node) {\n  const textLen = node.textContent.length\n  operateClassName(node, 'remove', CLASS_OR_ID['AG_HIDE'])\n  operateClassName(node, 'add', CLASS_OR_ID['AG_GRAY'])\n  selection.importSelection({\n    start: textLen,\n    end: textLen\n  }, node)\n}\n\nexport default ClickEvent\n","import './index.css'\n\nconst position = (source, ele) => {\n  const rect = source.getBoundingClientRect()\n  const { top, right, height } = rect\n\n  Object.assign(ele.style, {\n    top: `${top + height + 20}px`,\n    left: `${right - ele.offsetWidth / 2 - 10}px`\n  })\n}\n\nclass Tooltip {\n  constructor (muya) {\n    this.muya = muya\n    this.cache = new WeakMap()\n    const { container, eventCenter } = this.muya\n\n    eventCenter.attachDOMEvent(container, 'mouseover', this.mouseOver.bind(this))\n  }\n\n  mouseOver (event) {\n    const { target } = event\n    const toolTipTarget = target.closest('[data-tooltip]')\n    const { eventCenter } = this.muya\n    if (toolTipTarget && !this.cache.has(toolTipTarget)) {\n      const tooltip = toolTipTarget.getAttribute('data-tooltip')\n      const tooltipEle = document.createElement('div')\n      tooltipEle.textContent = tooltip\n      tooltipEle.classList.add('ag-tooltip')\n      document.body.appendChild(tooltipEle)\n      position(toolTipTarget, tooltipEle)\n\n      this.cache.set(toolTipTarget, tooltipEle)\n\n      setTimeout(() => {\n        tooltipEle.classList.add('active')\n      })\n\n      const timer = setInterval(() => {\n        if (!document.body.contains(toolTipTarget)) {\n          this.mouseLeave({ target: toolTipTarget })\n          clearInterval(timer)\n        }\n      }, 300)\n\n      eventCenter.attachDOMEvent(toolTipTarget, 'mouseleave', this.mouseLeave.bind(this))\n    }\n  }\n\n  mouseLeave (event) {\n    const { target } = event\n    if (this.cache.has(target)) {\n      const tooltipEle = this.cache.get(target)\n      tooltipEle.remove()\n      this.cache.delete(target)\n    }\n  }\n}\n\nexport default Tooltip\n","import ContentState from './contentState'\nimport EventCenter from './eventHandler/event'\nimport Clipboard from './eventHandler/clipboard'\nimport Keyboard from './eventHandler/keyboard'\nimport DragDrop from './eventHandler/dragDrop'\nimport ClickEvent from './eventHandler/clickEvent'\nimport { CLASS_OR_ID, MUYA_DEFAULT_OPTION } from './config'\nimport { wordCount } from './utils'\nimport ExportMarkdown from './utils/exportMarkdown'\nimport ExportHtml from './utils/exportHtml'\nimport ToolTip from './ui/tooltip'\nimport './assets/styles/index.css'\n\nclass Muya {\n  static plugins = []\n  static use (plugin) {\n    this.plugins.push(plugin)\n  }\n  constructor (container, options) {\n    this.options = Object.assign({}, MUYA_DEFAULT_OPTION, options)\n    const { markdown } = this.options\n    this.markdown = markdown\n    this.container = getContainer(container, this.options)\n    this.eventCenter = new EventCenter()\n    this.tooltip = new ToolTip(this)\n    // UI plugins\n    if (Muya.plugins.length) {\n      for (const Plugin of Muya.plugins) {\n        this[Plugin.pluginName] = new Plugin(this)\n      }\n    }\n\n    this.contentState = new ContentState(this, this.options)\n    this.clipboard = new Clipboard(this)\n    this.clickEvent = new ClickEvent(this)\n    this.keyboard = new Keyboard(this)\n    this.dragdrop = new DragDrop(this)\n    this.init()\n  }\n\n  init () {\n    const { container, contentState, eventCenter } = this\n    contentState.stateRender.setContainer(container.children[0])\n    eventCenter.subscribe('stateChange', this.dispatchChange)\n    const { markdown } = this\n    const { focusMode } = this.options\n    this.setMarkdown(markdown)\n    this.setFocusMode(focusMode)\n    this.mutationObserver()\n    eventCenter.attachDOMEvent(container, 'focus', () => {\n      eventCenter.dispatch('focus')\n    })\n    eventCenter.attachDOMEvent(container, 'blur', () => {\n      eventCenter.dispatch('blur')\n    })\n  }\n\n  mutationObserver () {\n    // Select the node that will be observed for mutations\n    const { container } = this\n\n    // Options for the observer (which mutations to observe)\n    const config = { childList: true, subtree: true }\n\n    // Callback function to execute when mutations are observed\n    const callback = (mutationsList, observer) => {\n      for(const mutation of mutationsList) {\n        if (mutation.type === 'childList') {\n          const { removedNodes, target } = mutation\n          // If the code executes any of the following `if` statements, the editor has gone wrong.\n          // need to report bugs.\n          if (removedNodes && removedNodes.length) {\n            const hasTable = Array.from(removedNodes).some(node => node.nodeType === 1 && node.closest('table.ag-paragraph'))\n            if (hasTable) {\n              console.warn('There was a problem with the table deletion.')\n            }\n            const lineRemovedUnExpected = Array.from(removedNodes).some(node => node.nodeType === 1 && node.classList.contains('ag-paragraph-content'))\n              && this.keyboard.isComposed\n            if (lineRemovedUnExpected) {\n              this.contentState.partialRender()\n            }\n          }\n\n          if (target.getAttribute('id') === 'ag-editor-id' && target.childElementCount === 0) {\n            // TODO: the editor can not be input any more. report bugs and recoveryr...\n            console.warn('editor crashed, and can not be input any more.')\n          }\n        }\n      }\n    }\n\n    // Create an observer instance linked to the callback function\n    const observer = new MutationObserver(callback)\n\n    // Start observing the target node for configured mutations\n    observer.observe(container, config)\n  }\n\n  dispatchChange = () => {\n    const { eventCenter } = this\n    const markdown = this.markdown = this.getMarkdown()\n    const wordCount = this.getWordCount(markdown)\n    const cursor = this.getCursor()\n    const history = this.getHistory()\n    const toc = this.getTOC()\n    eventCenter.dispatch('change', { markdown, wordCount, cursor, history, toc })\n  }\n\n  getMarkdown () {\n    const blocks = this.contentState.getBlocks()\n    const listIndentation = this.contentState.listIndentation\n    return new ExportMarkdown(blocks, listIndentation).generate()\n  }\n\n  getHistory () {\n    return this.contentState.getHistory()\n  }\n\n  getTOC () {\n    return this.contentState.getTOC()\n  }\n\n  setHistory (history) {\n    return this.contentState.setHistory(history)\n  }\n\n  clearHistory () {\n    return this.contentState.history.clearHistory()\n  }\n\n  exportStyledHTML (title = '', printOptimization = false) {\n    const { markdown } = this\n    return new ExportHtml(markdown, this).generate(title, printOptimization)\n  }\n\n  exportHtml () {\n    const { markdown } = this\n    return new ExportHtml(markdown, this).renderHtml()\n  }\n\n  getWordCount (markdown) {\n    return wordCount(markdown)\n  }\n\n  getCursor () {\n    return this.contentState.getCodeMirrorCursor()\n  }\n\n  setMarkdown (markdown, cursor, isRenderCursor = true) {\n    let newMarkdown = markdown\n    if (cursor) {\n      newMarkdown = this.contentState.addCursorToMarkdown(markdown, cursor)\n    }\n    this.contentState.importMarkdown(newMarkdown)\n    this.contentState.importCursor(cursor)\n    this.contentState.render(isRenderCursor)\n    setTimeout(() => {\n      this.dispatchChange()\n    }, 0)\n  }\n\n  setCursor (cursor) {\n    const markdown = this.getMarkdown()\n    const isRenderCursor = true\n\n    return this.setMarkdown(markdown, cursor, isRenderCursor)\n  }\n\n  createTable (tableChecker) {\n    return this.contentState.createTable(tableChecker)\n  }\n\n  getSelection () {\n    return this.contentState.selectionChange()\n  }\n\n  setFocusMode (bool) {\n    const { container } = this\n    const { focusMode } = this.options\n    if (bool && !focusMode) {\n      container.classList.add(CLASS_OR_ID['AG_FOCUS_MODE'])\n    } else {\n      container.classList.remove(CLASS_OR_ID['AG_FOCUS_MODE'])\n    }\n    this.options.focusMode = bool\n  }\n\n  setFont ({ fontSize, lineHeight }) {\n    if (fontSize) this.contentState.fontSize = parseInt(fontSize, 10)\n    if (lineHeight) this.contentState.lineHeight = lineHeight\n  }\n\n  setTabSize (tabSize) {\n    if (!tabSize || typeof tabSize !== 'number') {\n      tabSize = 4\n    } else if (tabSize < 1) {\n      tabSize = 1\n    } else if (tabSize > 4) {\n      tabSize = 4\n    }\n    this.contentState.tabSize = tabSize\n  }\n\n  setListIndentation (listIndentation) {\n    if (typeof listIndentation === 'number') {\n      if (listIndentation < 1 || listIndentation > 4) {\n        listIndentation = 1\n      }\n    } else if (listIndentation !== 'dfm') {\n      listIndentation = 1\n    }\n    this.contentState.listIndentation = listIndentation\n  }\n\n  updateParagraph (type) {\n    this.contentState.updateParagraph(type)\n  }\n\n  duplicate () {\n    this.contentState.duplicate()\n  }\n\n  deleteParagraph () {\n    this.contentState.deleteParagraph()\n  }\n\n  insertParagraph (location/* before or after */, text = '', outMost = false) {\n    this.contentState.insertParagraph(location, text, outMost)\n  }\n\n  editTable (data) {\n    this.contentState.editTable(data)\n  }\n\n  hasFocus () {\n    return document.activeElement === this.container\n  }\n\n  focus () {\n    this.contentState.setCursor()\n    this.container.focus()\n  }\n\n  blur () {\n    this.container.blur()\n  }\n\n  format (type) {\n    this.contentState.format(type)\n  }\n\n  insertImage (imageInfo) {\n    this.contentState.insertImage(imageInfo)\n  }\n\n  search (value, opt) {\n    const { selectHighlight } = opt\n    this.contentState.search(value, opt)\n    this.contentState.render(!!selectHighlight)\n    return this.contentState.searchMatches\n  }\n\n  replace (value, opt) {\n    this.contentState.replace(value, opt)\n    this.contentState.render(false)\n    return this.contentState.searchMatches\n  }\n\n  find (action/* pre or next */) {\n    this.contentState.find(action)\n    this.contentState.render(false)\n    return this.contentState.searchMatches\n  }\n\n  on (event, listener) {\n    this.eventCenter.subscribe(event, listener)\n  }\n\n  off (event, listener) {\n    this.eventCenter.unsubscribe(event, listener)\n  }\n\n  once (event, listener) {\n    this.eventCenter.subscribeOnce(event, listener)\n  }\n\n  undo () {\n    this.contentState.history.undo()\n  }\n\n  redo () {\n    this.contentState.history.redo()\n  }\n\n  selectAll () {\n    if (this.hasFocus()) {\n      this.contentState.selectAll()\n    }\n    const activeElement = document.activeElement\n    if (activeElement.nodeName === 'INPUT') {\n      activeElement.select()\n    }\n  }\n\n  copyAsMarkdown () {\n    this.clipboard.copyAsMarkdown()\n  }\n\n  copyAsHtml () {\n    this.clipboard.copyAsHtml()\n  }\n\n  pasteAsPlainText () {\n    this.clipboard.pasteAsPlainText()\n  }\n\n  copy (name) {\n    this.clipboard.copy(name)\n  }\n\n  setOptions (options, needRender = false) {\n    Object.assign(this.options, options)\n    if (needRender) {\n      this.contentState.render()\n    }\n\n    // Set quick insert hint visibility\n    const hideQuickInsertHint = options['hideQuickInsertHint']\n    if (typeof hideQuickInsertHint !== 'undefined') {\n      const hasClass = this.container.classList.contains('ag-show-quick-insert-hint')\n      if (hideQuickInsertHint && hasClass) {\n        this.container.classList.remove('ag-show-quick-insert-hint')\n      } else if (!hideQuickInsertHint && !hasClass) {\n        this.container.classList.add('ag-show-quick-insert-hint')\n      }\n    }\n\n    if (options.bulletListMarker) {\n      this.contentState.turndownConfig.bulletListMarker = options.bulletListMarker\n    }\n  }\n\n  hideAllFloatTools () {\n    return this.keyboard.hideAllFloatTools()\n  }\n\n  destroy () {\n    this.contentState.clear()\n    this.quickInsert.destroy()\n    this.codePicker.destroy()\n    this.tablePicker.destroy()\n    this.emojiPicker.destroy()\n    this.imagePathPicker.destroy()\n    this.eventCenter.detachAllDomEvents()\n  }\n}\n\n/**\n  * [ensureContainerDiv ensure container element is div]\n  */\nfunction getContainer (originContainer, options) {\n  const { hideQuickInsertHint } = options\n  const container = document.createElement('div')\n  const rootDom = document.createElement('div')\n  const attrs = originContainer.attributes\n  // copy attrs from origin container to new div element\n  Array.from(attrs).forEach(attr => {\n    container.setAttribute(attr.name, attr.value)\n  })\n\n  if (!hideQuickInsertHint) {\n    container.classList.add('ag-show-quick-insert-hint')\n  }\n\n  container.setAttribute('contenteditable', true)\n  container.setAttribute('autocorrect', false)\n  container.setAttribute('autocomplete', 'off')\n  container.setAttribute('spellcheck', false)\n  container.appendChild(rootDom)\n  originContainer.replaceWith(container)\n  return container\n}\n\nexport default Muya\n","import Popper from 'popper.js/dist/esm/popper'\nimport resezeDetector from 'element-resize-detector'\nimport { noop } from '../../utils'\nimport { EVENT_KEYS } from '../../config'\nimport './index.css'\n\nconst defaultOptions = {\n  placement: 'bottom-start',\n  modifiers: {\n    offset: {\n      offset: '0, 12'\n    }\n  },\n  showArrow: true\n}\n\nclass BaseFloat {\n  constructor (muya, name, options = {}) {\n    this.name = name\n    this.muya = muya\n    this.options = Object.assign({}, defaultOptions, options)\n    this.status = false\n    this.floatBox = null\n    this.container = null\n    this.popper = null\n    this.lastScrollTop = null\n    this.cb = noop\n    this.init()\n  }\n\n  init () {\n    const { showArrow } = this.options\n    const floatBox = document.createElement('div')\n    const container = document.createElement('div')\n    // Use to remember whick float container is shown.\n    container.classList.add(this.name)\n    container.classList.add('ag-float-container')\n    floatBox.classList.add('ag-float-wrapper')\n\n    if (showArrow) {\n      const arrow = document.createElement('div')\n      arrow.setAttribute('x-arrow', '')\n      arrow.classList.add('ag-popper-arrow')\n      floatBox.appendChild(arrow)\n    }\n\n    floatBox.appendChild(container)\n    document.body.appendChild(floatBox)\n    const erd = resezeDetector({\n      strategy: 'scroll'\n    })\n\n    // use polyfill\n    erd.listenTo(container, ele => {\n      const { offsetWidth, offsetHeight } = ele\n      Object.assign(floatBox.style, { width: `${offsetWidth}px`, height: `${offsetHeight}px` })\n      this.popper && this.popper.update()\n    })\n\n    // const ro = new ResizeObserver(entries => {\n    //   for (const entry of entries) {\n    //     const { offsetWidth, offsetHeight } = entry.target\n    //     Object.assign(floatBox.style, { width: `${offsetWidth + 2}px`, height: `${offsetHeight + 2}px` })\n    //     this.popper && this.popper.update()\n    //   }\n    // })\n    // ro.observe(container)\n    this.floatBox = floatBox\n    this.container = container\n  }\n\n  listen () {\n    const { eventCenter, container } = this.muya\n    const { floatBox } = this\n    const keydownHandler = event => {\n      if (event.key === EVENT_KEYS.Escape) {\n        this.hide()\n      }\n    }\n    const scrollHandler = event => {\n      if (typeof this.lastScrollTop !== 'number') {\n        this.lastScrollTop = event.target.scrollTop\n        return\n      }\n      // only when scoll distance great than 50px, then hide the float box.\n      if (this.status && Math.abs(event.target.scrollTop - this.lastScrollTop) > 50) {\n        this.hide()\n      }\n    }\n\n    eventCenter.attachDOMEvent(document, 'click', this.hide.bind(this))\n    eventCenter.attachDOMEvent(floatBox, 'click', event => {\n      event.stopPropagation()\n      event.preventDefault()\n    })\n    eventCenter.attachDOMEvent(container, 'keydown', keydownHandler)\n    eventCenter.attachDOMEvent(container, 'scroll', scrollHandler)\n  }\n\n  hide () {\n    const { eventCenter } = this.muya\n    if (!this.status) return\n    this.status = false\n    if (this.popper && this.popper.destroy) {\n      this.popper.destroy()\n    }\n    this.cb = noop\n    eventCenter.dispatch('muya-float', this, false)\n    this.lastScrollTop = null\n  }\n\n  show (reference, cb = noop) {\n    const { floatBox } = this\n    const { eventCenter } = this.muya\n    const { placement, modifiers } = this.options\n    if (this.popper && this.popper.destroy) {\n      this.popper.destroy()\n    }\n    this.cb = cb\n    this.popper = new Popper(reference, floatBox, {\n      placement,\n      modifiers\n    })\n    this.status = true\n    eventCenter.dispatch('muya-float', this, true)\n  }\n\n  destroy () {\n    if (this.popper && this.popper.destroy) {\n      this.popper.destroy()\n    }\n    this.floatBox.remove()\n  }\n}\n\nexport default BaseFloat\n","import BaseFloat from '../baseFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport './index.css'\nimport { EVENT_KEYS } from '../../config'\n\nclass TablePicker extends BaseFloat {\n  static pluginName = 'tablePicker'\n  constructor (muya) {\n    const name = 'ag-table-picker'\n    super(muya, name)\n    this.checkerCount = {\n      row: 6,\n      column: 8\n    }\n    this.oldVnode = null\n    this.current = null\n    this.select = null\n    const tableContainer = this.tableContainer = document.createElement('div')\n    this.container.appendChild(tableContainer)\n    this.listen()\n  }\n\n  listen () {\n    const { eventCenter } = this.muya\n    super.listen()\n    eventCenter.subscribe('muya-table-picker', (data, reference, cb) => {\n      if (!this.status) {\n        this.show(data, reference, cb)\n        this.render()\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { row, column } = this.checkerCount\n    const { row: cRow, column: cColumn } = this.current\n    const { row: sRow, column: sColumn } = this.select\n    const { tableContainer, oldVnode } = this\n    const tableRows = []\n    let i\n    let j\n    for (i = 0; i < row; i++) {\n      let rowSelector = 'div.ag-table-picker-row'\n      if (i === 0) {\n        rowSelector += '.ag-table-picker-header'\n      }\n      const cells = []\n      for (j = 0; j < column; j++) {\n        let cellSelector = 'span.ag-table-picker-cell'\n        if (i <= cRow && j <= cColumn) {\n          cellSelector += '.current'\n        }\n        if (i <= sRow && j <= sColumn) {\n          cellSelector += '.selected'\n        }\n        cells.push(h(cellSelector, {\n          key: j.toString(),\n          dataset: {\n            row: i.toString(),\n            column: j.toString()\n          },\n          on: {\n            mouseenter: event => {\n              const { target } = event\n              const r = target.getAttribute('data-row')\n              const c = target.getAttribute('data-column')\n              this.select = { row: r, column: c }\n              this.render()\n            },\n            click: _ => {\n              this.selectItem()\n            }\n          }\n        }))\n      }\n\n      tableRows.push(h(rowSelector, cells))\n    }\n\n    const tableFooter = h('div.footer', [\n      h('input.row-input', {\n        props: {\n          type: 'text',\n          value: +this.select.row + 1\n        },\n        on: {\n          keyup: event => {\n            this.keyupHandler(event, 'row')\n          }\n        }\n      }),\n      'x',\n      h('input.column-input', {\n        props: {\n          type: 'text',\n          value: +this.select.column + 1\n        },\n        on: {\n          keyup: event => {\n            this.keyupHandler(event, 'column')\n          }\n        }\n      }),\n      h('button', {\n        on: {\n          click: _ => {\n            this.selectItem()\n          }\n        }\n      }, 'OK')\n    ])\n\n    const vnode = h('div', [h('div.checker', tableRows), tableFooter])\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(tableContainer, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  keyupHandler (event, type) {\n    let number = +this.select[type]\n    let value = +event.target.value\n    if (event.key === EVENT_KEYS.ArrowUp) {\n      number++\n    } else if (event.key === EVENT_KEYS.ArrowDown) {\n      number--\n    } else if (event.key === EVENT_KEYS.Enter) {\n      this.selectItem()\n    } else if (typeof value === 'number') {\n      number = value - 1\n    }\n    if (number !== +this.select[type]) {\n      this.select[type] = Math.max(number, 0)\n      this.render()\n    }\n  }\n\n  show (current, reference, cb) { // current { row, column } zero base\n    this.current = this.select = current\n    super.show(reference, cb)\n  }\n\n  selectItem () {\n    const { cb } = this\n    const { row, column } = this.select\n    cb(Math.max(row, 1), Math.max(column, 1))\n    this.hide()\n  }\n}\n\nexport default TablePicker\n","import BaseFloat from '../baseFloat'\nimport { EVENT_KEYS } from '../../config'\n\nclass BaseScrollFloat extends BaseFloat {\n  constructor (muya, name) {\n    super(muya, name)\n    this.scrollElement = null\n    this.reference = null\n    this.activeItem = null\n    this.createScrollElement()\n  }\n\n  createScrollElement () {\n    const { container } = this\n    const scrollElement = document.createElement('div')\n    container.appendChild(scrollElement)\n    this.scrollElement = scrollElement\n  }\n\n  activeEleScrollIntoView (ele) {\n    if (ele) {\n      ele.scrollIntoView({\n        behavior: 'auto'\n      })\n    }\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter, container } = this.muya\n    const handler = event => {\n      if (!this.status) return\n      switch (event.key) {\n        case EVENT_KEYS.ArrowUp:\n          this.step('previous')\n          break\n        case EVENT_KEYS.ArrowDown:\n        case EVENT_KEYS.Tab:\n          this.step('next')\n          break\n        case EVENT_KEYS.Enter:\n          this.selectItem(this.activeItem)\n          break\n        default:\n          break\n      }\n    }\n\n    eventCenter.attachDOMEvent(container, 'keydown', handler)\n  }\n\n  hide () {\n    super.hide()\n    this.reference = null\n  }\n\n  show (reference, cb) {\n    this.cb = cb\n    if (reference instanceof HTMLElement) {\n      if (this.reference && this.reference === reference && this.status) return\n    } else {\n      if (this.reference && this.reference.id === reference.id && this.status) return\n    }\n\n    this.reference = reference\n    super.show(reference, cb)\n  }\n\n  step (direction) {\n    let index = this.renderArray.findIndex(item => {\n      return item === this.activeItem\n    })\n    index = direction === 'next' ? index + 1 : index - 1\n    if (index < 0 || index >= this.renderArray.length) {\n      return\n    }\n    this.activeItem = this.renderArray[index]\n    this.render()\n    const activeEle = this.getItemElement(this.activeItem)\n    this.activeEleScrollIntoView(activeEle)\n  }\n\n  selectItem (item) {\n    const { cb } = this\n    cb(item)\n    // delay hide to avoid dispatch enter hander\n    setTimeout(this.hide.bind(this))\n  }\n\n  getItemElement () {}\n}\n\nexport default BaseScrollFloat\n","import paragraphIcon from '../../assets/pngicon/paragraph/2.png'\nimport htmlIcon from '../../assets/pngicon/html/2.png'\nimport hrIcon from '../../assets/pngicon/horizontal_line/2.png'\nimport frontMatterIcon from '../../assets/pngicon/front_matter/2.png'\nimport header1Icon from '../../assets/pngicon/heading_1/2.png'\nimport header2Icon from '../../assets/pngicon/heading_2/2.png'\nimport header3Icon from '../../assets/pngicon/heading_3/2.png'\nimport header4Icon from '../../assets/pngicon/heading_4/2.png'\nimport header5Icon from '../../assets/pngicon/heading_5/2.png'\nimport header6Icon from '../../assets/pngicon/heading_6/2.png'\nimport newTableIcon from '../../assets/pngicon/new_table/2.png'\nimport bulletListIcon from '../../assets/pngicon/bullet_list/2.png'\nimport codeIcon from '../../assets/pngicon/code/2.png'\nimport quoteIcon from '../../assets/pngicon/quote_block/2.png'\nimport todoListIcon from '../../assets/pngicon/todolist/2.png'\nimport mathblockIcon from '../../assets/pngicon/math/2.png'\nimport orderListIcon from '../../assets/pngicon/order_list/2.png'\nimport flowchartIcon from '../../assets/pngicon/flowchart/2.png'\nimport sequenceIcon from '../../assets/pngicon/sequence/2.png'\nimport mermaidIcon from '../../assets/pngicon/mermaid/2.png'\nimport vegaIcon from '../../assets/pngicon/chart/2.png'\nimport { isOsx } from '../../config'\n\nconst COMMAND_KEY = isOsx ? '⌘' : '⌃'\n\n// Command (or Cmd) ⌘\n// Shift ⇧\n// Option (or Alt) ⌥\n// Control (or Ctrl) ⌃\n// Caps Lock ⇪\n// Fn\n\n\n// Command (or Cmd) ⌘\n// Shift ⇧\n// Option (or Alt) ⌥\n// Control (or Ctrl) ⌃\n// Caps Lock ⇪\n// Fn\n\n\nexport const quicInsertObj = {\n  'basic block': [{\n    title: 'Paragraph',\n    subTitle: 'Lorem Ipsum is simply dummy text',\n    label: 'paragraph',\n    shortCut: `${COMMAND_KEY}0`,\n    icon: paragraphIcon\n  }, {\n    title: 'Horizontal Line',\n    subTitle: '---',\n    label: 'hr',\n    shortCut: `⌥${COMMAND_KEY}-`,\n    icon: hrIcon\n  }, {\n    title: 'Front Matter',\n    subTitle: '--- Lorem Ipsum ---',\n    label: 'front-matter',\n    shortCut: `⌥${COMMAND_KEY}Y`,\n    icon: frontMatterIcon\n  }],\n  'header': [{\n    title: 'Header 1',\n    subTitle: '# Lorem Ipsum is simply ...',\n    label: 'heading 1',\n    shortCut: `${COMMAND_KEY}1`,\n    icon: header1Icon\n  }, {\n    title: 'Header 2',\n    subTitle: '## Lorem Ipsum is simply ...',\n    label: 'heading 2',\n    shortCut: `${COMMAND_KEY}2`,\n    icon: header2Icon\n  }, {\n    title: 'Header 3',\n    subTitle: '### Lorem Ipsum is simply ...',\n    label: 'heading 3',\n    shortCut: `${COMMAND_KEY}3`,\n    icon: header3Icon\n  }, {\n    title: 'Header 4',\n    subTitle: '#### Lorem Ipsum is simply ...',\n    label: 'heading 4',\n    shortCut: `${COMMAND_KEY}4`,\n    icon: header4Icon\n  }, {\n    title: 'Header 5',\n    subTitle: '##### Lorem Ipsum is simply ...',\n    label: 'heading 5',\n    shortCut: `${COMMAND_KEY}5`,\n    icon: header5Icon\n  }, {\n    title: 'Header 6',\n    subTitle: '###### Lorem Ipsum is simply ...',\n    label: 'heading 6',\n    shortCut: `${COMMAND_KEY}6`,\n    icon: header6Icon\n  }],\n  'advanced block': [{\n    title: 'Table Block',\n    subTitle: '|Lorem | Ipsum is simply |',\n    label: 'table',\n    shortCut: `${COMMAND_KEY}T`,\n    icon: newTableIcon\n  }, {\n    title: 'Math Formula',\n    subTitle: '$$ Lorem Ipsum is simply $$',\n    label: 'mathblock',\n    shortCut: `⌥${COMMAND_KEY}M`,\n    icon: mathblockIcon\n  }, {\n    title: 'HTML Block',\n    subTitle: '<div> Lorem Ipsum is simply </div>',\n    label: 'html',\n    shortCut: `⌥${COMMAND_KEY}J`,\n    icon: htmlIcon\n  }, {\n    title: 'Code Block',\n    subTitle: '```java Lorem Ipsum is simply ```',\n    label: 'pre',\n    shortCut: `⌥${COMMAND_KEY}C`,\n    icon: codeIcon\n  }, {\n    title: 'Quote Block',\n    subTitle: '>Lorem Ipsum is simply ...',\n    label: 'blockquote',\n    shortCut: `⌥${COMMAND_KEY}Q`,\n    icon: quoteIcon\n  }],\n  'list block': [{\n    title: 'Order List',\n    subTitle: '1. Lorem Ipsum is simply ...',\n    label: 'ol-order',\n    shortCut: `⌥${COMMAND_KEY}O`,\n    icon: orderListIcon\n  }, {\n    title: 'Bullet List',\n    subTitle: '- Lorem Ipsum is simply ...',\n    label: 'ul-bullet',\n    shortCut: `⌥${COMMAND_KEY}U`,\n    icon: bulletListIcon\n  }, {\n    title: 'To-do List',\n    subTitle: '- [x] Lorem Ipsum is simply ...',\n    label: 'ul-task',\n    shortCut: `⌥${COMMAND_KEY}X`,\n    icon: todoListIcon\n  }],\n  'diagram': [{\n    title: 'Vega Chart',\n    subTitle: 'Render flow chart by vega-lite.js.',\n    label: 'vega-lite',\n    icon: vegaIcon\n  }, {\n    title: 'Flow Chart',\n    subTitle: 'Render flow chart by flowchart.js.',\n    label: 'flowchart',\n    icon: flowchartIcon\n  }, {\n    title: 'Sequence Diagram',\n    subTitle: 'Render sequence diagram by js-sequence.',\n    label: 'sequence',\n    icon: sequenceIcon\n  }, {\n    title: 'Mermaid',\n    subTitle: 'Render Diagram by mermaid.',\n    label: 'mermaid',\n    icon: mermaidIcon\n  }]\n}\n","import { filter } from 'fuzzaldrin'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport { deepCopy } from '../../utils'\nimport BaseScrollFloat from '../baseScrollFloat'\nimport { quicInsertObj } from './config'\nimport './index.css'\n\nclass QuickInsert extends BaseScrollFloat {\n  static pluginName = 'quickInsert'\n  constructor (muya) {\n    const name = 'ag-quick-insert'\n    super(muya, name)\n    this.reference = null\n    this.oldVnode = null\n    this._renderObj = null\n    this.renderArray = null\n    this.activeItem = null\n    this.block = null\n    this.renderObj = quicInsertObj\n    this.render()\n    this.listen()\n  }\n\n  set renderObj (obj) {\n    this._renderObj = obj\n    const renderArray = []\n    Object.keys(obj).forEach(key => {\n      renderArray.push(...obj[key])\n    })\n    this.renderArray = renderArray\n    if (this.renderArray.length > 0) {\n      this.activeItem = this.renderArray[0]\n      const activeEle = this.getItemElement(this.activeItem)\n      this.activeEleScrollIntoView(activeEle)\n    }\n  }\n\n  render () {\n    const { scrollElement, activeItem, _renderObj } = this\n    let children = Object.keys(_renderObj).filter(key => {\n      return _renderObj[key].length !== 0\n    })\n      .map(key => {\n        const titleVnode = h('div.title', key.toUpperCase())\n        const items = []\n        for (const item of _renderObj[key]) {\n          const { title, subTitle, label, icon, shortCut } = item\n          const iconVnode = h('div.icon-container', h('i.icon', h(`i.icon-${label.replace(/\\s/g, '-')}`, {\n            style: {\n              background: `url(${icon}) no-repeat`,\n              'background-size': '100%'\n            }\n          }, '')))\n\n          const description = h('div.description', [\n            h('div.big-title', title),\n            h('div.sub-title', subTitle)\n          ])\n          const shortCutVnode = h('div.short-cut', [\n            h('span', shortCut)\n          ])\n          const selector = activeItem.label === label ? 'div.item.active' : 'div.item'\n          items.push(h(selector, {\n            dataset: { label },\n            on: {\n              click: () => {\n                this.selectItem(item)\n              }\n            }\n          }, [iconVnode, description, shortCutVnode]))\n        }\n\n        return h('section', [titleVnode, ...items])\n      })\n\n    if (children.length === 0) {\n      children = h('div.no-result', 'No result')\n    }\n    const vnode = h('div', children)\n\n    if (this.oldVnode) {\n      patch(this.oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-quick-insert', (reference, block, status) => {\n      if (status) {\n        this.block = block\n        this.show(reference)\n        this.search(block.text.substring(1)) // remove `@` char\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  search (text) {\n    const { contentState } = this.muya\n    const canInserFrontMatter = contentState.canInserFrontMatter(this.block)\n    const obj = deepCopy(quicInsertObj)\n    if (!canInserFrontMatter) {\n      obj['basic block'].splice(2, 1)\n    }\n    let result = obj\n    if (text !== '') {\n      result = {}\n      Object.keys(obj).forEach(key => {\n        result[key] = filter(obj[key], text, { key: 'title' })\n      })\n    }\n    this.renderObj = result\n    this.render()\n  }\n\n  selectItem (item) {\n    const { contentState } = this.muya\n    this.block.text = ''\n    let { key } = this.block\n    let offset = 0\n    contentState.cursor = {\n      start: { key, offset },\n      end: { key, offset }\n    }\n    switch (item.label) {\n      case 'paragraph':\n        contentState.partialRender()\n        break\n      default:\n        contentState.updateParagraph(item.label, true)\n        break\n    }\n    // delay hide to avoid dispatch enter hander\n    setTimeout(this.hide.bind(this))\n  }\n\n  getItemElement (item) {\n    const { label } = item\n    return this.scrollElement.querySelector(`[data-label=\"${label}\"]`)\n  }\n}\n\nexport default QuickInsert\n","// Because the sidebar also use the file icons, So I put this file out of floatBox directory.\nimport 'file-icons-js/css/style.css'\nimport fileIcons from 'file-icons-js'\n\nexport default fileIcons\n","import BaseScrollFloat from '../baseScrollFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport { search } from '../../prism/index'\nimport fileIcons from '../fileIcons'\n\nimport './index.css'\n\nclass CodePicker extends BaseScrollFloat {\n  static pluginName = 'codePicker'\n  constructor (muya) {\n    const name = 'ag-list-picker'\n    super(muya, name)\n    this.renderArray = []\n    this.oldVnode = null\n    this.activeItem = null\n    this.listen()\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-code-picker', ({ reference, lang, cb }) => {\n      const modes = search(lang)\n      if (modes.length && reference) {\n        this.show(reference, cb)\n        this.renderArray = modes\n        this.activeItem = modes[0]\n        this.render()\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { renderArray, oldVnode, scrollElement, activeItem } = this\n    let children = renderArray.map(item => {\n      let iconClassNames\n      if (item.ext && Array.isArray(item.ext)) {\n        for (const ext of item.ext) {\n          iconClassNames = fileIcons.getClassWithColor(`fackname.${ext}`)\n          if (iconClassNames) break\n        }\n      } else if (item.name) {\n        iconClassNames = fileIcons.getClassWithColor(item.name)\n      }\n\n      // Because `markdown mode in Codemirror` don't have extensions.\n      // if still can not get the className, add a common className 'atom-icon light-cyan'\n      if (!iconClassNames) {\n        iconClassNames = item.name === 'markdown' ? fileIcons.getClassWithColor('fackname.md') : 'atom-icon light-cyan'\n      }\n      const iconSelector = 'span' + iconClassNames.split(/\\s/).map(s => `.${s}`).join('')\n      const icon = h('div.icon-wrapper', h(iconSelector))\n      const text = h('div.language', item.name)\n      const selector = activeItem === item ? 'li.item.active' : 'li.item'\n      return h(selector, {\n        dataset: {\n          label: item.name\n        },\n        on: {\n          click: () => {\n            this.selectItem(item)\n          }\n        }\n      }, [icon, text])\n    })\n\n    if (children.length === 0) {\n      children = h('div.no-result', 'No result')\n    }\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  getItemElement (item) {\n    const { name } = item\n    return this.floatBox.querySelector(`[data-label=\"${name}\"]`)\n  }\n}\n\nexport default CodePicker\n","import BaseScrollFloat from '../baseScrollFloat'\nimport Emoji from '../emojis'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport './index.css'\n\nclass EmojiPicker extends BaseScrollFloat {\n  static pluginName = 'emojiPicker'\n  constructor (muya) {\n    const name = 'ag-emoji-picker'\n    super(muya, name)\n    this._renderObj = null\n    this.renderArray = null\n    this.activeItem = null\n    this.oldVnode = null\n    this.emoji = new Emoji()\n    this.listen()\n  }\n\n  set renderObj (obj) {\n    this._renderObj = obj\n    const renderArray = []\n    Object.keys(obj).forEach(key => {\n      renderArray.push(...obj[key])\n    })\n    this.renderArray = renderArray\n    if (this.renderArray.length > 0) {\n      this.activeItem = this.renderArray[0]\n      const activeEle = this.getItemElement(this.activeItem)\n      this.activeEleScrollIntoView(activeEle)\n    }\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-emoji-picker', ({ reference, emojiNode }) => {\n      if (!emojiNode) return this.hide()\n      const text = emojiNode.textContent.trim()\n      if (text) {\n        const renderObj = this.emoji.search(text)\n        this.renderObj = renderObj\n        const cb = item => {\n          this.muya.contentState.setEmoji(item)\n        }\n        if (this.renderArray.length) {\n          this.show(reference, cb)\n          this.render()\n        } else {\n          this.hide()\n        }\n      }\n    })\n  }\n\n  render () {\n    const { scrollElement, _renderObj, activeItem, oldVnode } = this\n    const children = Object.keys(_renderObj).map(category => {\n      const title = h('div.title', category)\n      const emojis = _renderObj[category].map(e => {\n        const selector = activeItem === e ? 'div.item.active' : 'div.item'\n        return h(selector, {\n          dataset: { label: e.aliases[0] },\n          props: { title: e.description },\n          on: {\n            click: () => {\n              this.selectItem(e)\n            }\n          }\n        }, h('span', e.emoji))\n      })\n\n      return h('section', [title, h('div.emoji-wrapper', emojis)])\n    })\n\n    const vnode = h('div', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  getItemElement (item) {\n    const label = item.aliases[0]\n    return this.floatBox.querySelector(`[data-label=\"${label}\"]`)\n  }\n\n  destroy () {\n    super.destroy()\n    this.emoji.destroy()\n  }\n}\n\nexport default EmojiPicker\n","export default {\n      id: \"folder-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#folder-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"image-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#image-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","export default {\n      id: \"upload-usage\",\n      viewBox: \"0 0 1024 1024\",\n      url: \"/\" + \"sprite.svg#upload-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }","import BaseScrollFloat from '../baseScrollFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport FolderIcon from '../../assets/icons/folder.svg'\nimport ImageIcon from '../../assets/icons/image.svg'\nimport UploadIcon from '../../assets/icons/upload.svg'\n\nimport './index.css'\n\nconst iconhash = {\n  'icon-image': ImageIcon,\n  'icon-folder': FolderIcon,\n  'icon-upload': UploadIcon\n}\n\nclass ImagePathPicker extends BaseScrollFloat {\n  static pluginName = 'imagePathPicker'\n  constructor (muya) {\n    const name = 'ag-list-picker'\n    super(muya, name)\n    this.renderArray = []\n    this.oldVnode = null\n    this.activeItem = null\n    this.floatBox.classList.add('ag-image-picker-wrapper')\n    this.listen()\n  }\n\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-image-picker', ({ reference, list, cb }) => {\n      if (list.length) {\n        this.show(reference, cb)\n        this.renderArray = list\n        this.activeItem = list[0]\n        this.render()\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { renderArray, oldVnode, scrollElement, activeItem } = this\n    let children = renderArray.map((item) => {\n      const { text, iconClass } = item\n      const icon = h('div.icon-wrapper', h('svg', {\n        attrs: {\n          viewBox: iconhash[iconClass].viewBox,\n          'aria-hidden': 'true'\n        },\n        hook: {\n          prepatch (oldvnode, vnode) {\n            // cheat snabbdom that the pre block is changed!!!\n            oldvnode.children = []\n            oldvnode.elm.innerHTML = ''\n          }\n        }\n      }, h('use', {\n        attrs: {\n          'xlink:href': iconhash[iconClass].url\n        }\n      }))\n    )\n      const textEle = h('div.language', text)\n      const selector = activeItem === item ? 'li.item.active' : 'li.item'\n      return h(selector, {\n        dataset: {\n          label: item.text\n        },\n        on: {\n          click: () => {\n            this.selectItem(item)\n          }\n        }\n      }, [icon, textEle])\n    })\n\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(scrollElement, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  getItemElement (item) {\n    const { text } = item\n    return this.floatBox.querySelector(`[data-label=\"${text}\"]`)\n  }\n}\n\nexport default ImagePathPicker\n","import BaseFloat from '../baseFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport { EVENT_KEYS, URL_REG } from '../../config'\nimport { getUniqueId, getImageInfo as getImageSrc } from '../../utils'\nimport { getImageInfo } from '../../utils/getImageInfo'\n\nimport './index.css'\n\nclass ImageSelector extends BaseFloat {\n  static pluginName = 'imageSelector'\n  constructor (muya) {\n    const name = 'ag-image-selector'\n    const options = {\n      placement: 'bottom-center',\n      modifiers: {\n        offset: {\n          offset: '0, 0'\n        }\n      },\n      showArrow: false\n    }\n    super(muya, name, options)\n    this.renderArray = []\n    this.oldVnode = null\n    this.imageInfo = null\n    this.tab = 'link' // select or link\n    this.isFullMode = false // is show title and alt input\n    this.state = {\n      alt: '',\n      src: '',\n      title: ''\n    }\n    const imageSelectorContainer = this.imageSelectorContainer = document.createElement('div')\n    this.container.appendChild(imageSelectorContainer)\n    this.floatBox.classList.add('ag-image-selector-wrapper')\n    this.listen()\n  }\n  listen () {\n    super.listen()\n    const { eventCenter } = this.muya\n    eventCenter.subscribe('muya-image-selector', ({ reference, cb, imageInfo }) => {\n      if (reference) {\n        let { alt, backlash, src, title } = imageInfo.token\n        alt += encodeURI(backlash.first)\n        Object.assign(this.state, { alt, title, src })\n        this.imageInfo = imageInfo\n        this.show(reference, cb)\n        this.render()\n        // Auto focus and select all content of the `src.input` element.\n        const input = this.imageSelectorContainer.querySelector('input.src')\n        if (input) {\n          input.focus()\n          input.select()\n        }\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  tabClick (event, tab) {\n    const { value } = tab\n    this.tab = value\n    return this.render()\n  }\n\n  toggleMode () {\n    this.isFullMode = !this.isFullMode\n    return this.render()\n  }\n\n  inputHandler (event, type) {\n    const value = event.target.value\n    this.state[type] = value\n  }\n\n  handleKeyDown (event) {\n    if (event.key === EVENT_KEYS.Enter) {\n      event.stopPropagation()\n      this.handleLinkButtonClick()\n    }\n  }\n\n  srcInputKeyDown (event) {\n    const { imagePathPicker } = this.muya\n    if (!imagePathPicker.status) {\n      if (event.key === EVENT_KEYS.Enter) {\n        event.stopPropagation()\n        this.handleLinkButtonClick()\n      }\n      return\n    }\n    switch (event.key) {\n      case EVENT_KEYS.ArrowUp:\n        event.preventDefault()\n        imagePathPicker.step('previous')\n        break\n      case EVENT_KEYS.ArrowDown:\n      case EVENT_KEYS.Tab:\n        event.preventDefault()\n        imagePathPicker.step('next')\n        break\n      case EVENT_KEYS.Enter:\n        event.preventDefault()\n        imagePathPicker.selectItem(imagePathPicker.activeItem)\n        break\n      default:\n        break\n    }\n  }\n\n  async handleKeyUp (event) {\n    const { key } = event\n    if (\n      key === EVENT_KEYS.ArrowUp ||\n      key === EVENT_KEYS.ArrowDown ||\n      key === EVENT_KEYS.Tab ||\n      key === EVENT_KEYS.Enter\n    ) {\n      return\n    }\n    const value = event.target.value\n    const { eventCenter } = this.muya\n    const reference = this.imageSelectorContainer.querySelector('input.src')\n    const cb = item => {\n      const { text } = item\n      const newValue = value.replace(/(\\/)([^/]+)$/, (m, p1, p2) => {\n        return p1\n      }) + text\n      const len = newValue.length\n      reference.value = newValue\n      this.state.src = newValue\n      reference.focus()\n      reference.setSelectionRange(\n        len,\n        len\n      )\n    }\n\n    let list\n    if (!value) {\n      list = []\n    } else {\n      list = await this.muya.options.imagePathAutoComplete(value)\n    }\n    eventCenter.dispatch('muya-image-picker', { reference, list, cb })\n  }\n\n  handleLinkButtonClick () {\n    return this.replaceImageAsync(this.state)\n  }\n\n  async replaceImageAsync ({ alt, src, title }) {\n    if (!this.muya.options.imageAction || URL_REG.test(src)) {\n      const { alt: oldAlt, src: oldSrc, title: oldTitle } = this.imageInfo.token\n      if (alt !== oldAlt || src !== oldSrc || title !== oldTitle) {\n        this.muya.contentState.replaceImage(this.imageInfo, { alt, src, title })\n      }\n      this.hide()\n    } else {\n      if (src) {\n        const id = `loading-${getUniqueId()}`\n        this.muya.contentState.replaceImage(this.imageInfo, {\n          alt: id,\n          src,\n          title\n        })\n        this.hide()\n        const nSrc = await this.muya.options.imageAction(src)\n        const { src: localPath } = getImageSrc(src)\n        if (localPath) {\n          this.muya.contentState.stateRender.urlMap.set(nSrc, localPath)\n        }\n        const imageWrapper = this.muya.container.querySelector(`span[data-id=${id}]`)\n\n        if (imageWrapper) {\n          const imageInfo = getImageInfo(imageWrapper)\n          this.muya.contentState.replaceImage(imageInfo, {\n            alt,\n            src: nSrc,\n            title\n          })\n        }\n      } else {\n        this.hide()\n      }\n    }\n    this.muya.eventCenter.dispatch('stateChange')\n  }\n\n  async handleSelectButtonClick  () {\n    if (!this.muya.options.imagePathPicker) {\n      console.warn('You need to add a imagePathPicker option')\n      return\n    }\n    const path = await this.muya.options.imagePathPicker()\n    const { alt, title } = this.state\n    return this.replaceImageAsync({\n      alt,\n      title,\n      src: path\n    })\n  }\n\n  renderHeader () {\n    const tabs = [{\n      label: 'Select',\n      value: 'select'\n    }, {\n      label: 'Embed link',\n      value: 'link'\n    }]\n    const children = tabs.map(tab => {\n      const itemSelector = this.tab === tab.value ? 'li.active' : 'li'\n      return h(itemSelector, h('span', {\n        on: {\n          click: event => {\n            this.tabClick(event, tab)\n          }\n        }\n      }, tab.label))\n    })\n\n    return h('ul.header', children)\n  }\n\n  renderBody () {\n    const { tab, state, isFullMode } = this\n    const { alt, title, src } = state\n    let bodyContent = null\n    if (tab === 'select') {\n      bodyContent = [\n        h('button.muya-button.role-button.select', {\n          on: {\n            click: event => {\n              this.handleSelectButtonClick()\n            }\n          }\n        }, 'Choose an Image'),\n        h('span.description', 'Choose image from you computer.')\n      ]\n    } else {\n      const altInput = h('input.alt', {\n        props: {\n          placeholder: 'Alt text',\n          value: alt\n        },\n        on: {\n          input: event => {\n            this.inputHandler(event, 'alt')\n          },\n          paste: event => {\n            this.inputHandler(event, 'alt')\n          },\n          keydown: event => {\n            this.handleKeyDown(event)\n          }\n        }\n      })\n      const srcInput = h('input.src', {\n        props: {\n          placeholder: 'Image link or local path',\n          value: src\n        },\n        on: {\n          input: event => {\n            this.inputHandler(event, 'src')\n          },\n          paste: event => {\n            this.inputHandler(event, 'src')\n          },\n          keydown: event => {\n            this.srcInputKeyDown(event)\n          },\n          keyup: event => {\n            this.handleKeyUp(event)\n          }\n        }\n      })\n      const titleInput = h('input.title', {\n        props: {\n          placeholder: 'Image title',\n          value: title\n        },\n        on: {\n          input: event => {\n            this.inputHandler(event, 'title')\n          },\n          paste: event => {\n            this.inputHandler(event, 'title')\n          },\n          keydown: event => {\n            this.handleKeyDown(event)\n          }\n        }\n      })\n\n      const inputWrapper = isFullMode\n        ? h('div.input-container', [altInput, srcInput, titleInput])\n        : h('div.input-container', [srcInput])\n\n      const embedButton = h('button.muya-button.role-button.link', {\n        on: {\n          click: event => {\n            this.handleLinkButtonClick()\n          }\n        }\n      }, 'Embed Image')\n      const bottomDes = h('span.description', [\n        h('span', 'Paste web image or local image path, '),\n        h('a', {\n          on: {\n            click: event => {\n              this.toggleMode()\n            }\n          }\n        }, `${isFullMode ? 'simple mode' : 'full mode'}`)\n      ])\n      bodyContent = [inputWrapper, embedButton, bottomDes]\n    }\n\n    return h('div.image-select-body', bodyContent)\n  }\n\n  render () {\n    const { oldVnode, imageSelectorContainer } = this\n    const selector = 'div'\n    const vnode = h(selector, [this.renderHeader(), this.renderBody()])\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(imageSelectorContainer, vnode)\n    }\n    this.oldVnode = vnode\n  }\n}\n\nexport default ImageSelector\n","import strongIcon from '../../assets/pngicon/format_strong/2.png'\nimport emphasisIcon from '../../assets/pngicon/format_emphasis/2.png'\nimport underlineIcon from '../../assets/pngicon/format_underline/2.png'\nimport codeIcon from '../../assets/pngicon/code/2.png'\nimport imageIcon from '../../assets/pngicon/format_image/2.png'\nimport linkIcon from '../../assets/pngicon/format_link/2.png'\nimport strikeIcon from '../../assets/pngicon/format_strike/2.png'\nimport mathIcon from '../../assets/pngicon/format_math/2.png'\nimport clearIcon from '../../assets/pngicon/format_clear/2.png'\n\nconst icons = [\n  {\n    type: 'strong',\n    icon: strongIcon\n  }, {\n    type: 'em',\n    icon: emphasisIcon\n  }, {\n    type: 'u',\n    icon: underlineIcon\n  }, {\n    type: 'del',\n    icon: strikeIcon\n  }, {\n    type: 'inline_code',\n    icon: codeIcon\n  }, {\n    type: 'inline_math',\n    icon: mathIcon\n  }, {\n    type: 'link',\n    icon: linkIcon\n  }, {\n    type: 'image',\n    icon: imageIcon\n  }, {\n    type: 'clear',\n    icon: clearIcon\n  }\n]\n\nexport default icons\n","import BaseFloat from '../baseFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport icons from './config'\n\nimport './index.css'\n\nconst defaultOptions = {\n  placement: 'top',\n  modifiers: {\n    offset: {\n      offset: '20, 5'\n    }\n  },\n  showArrow: false\n}\n\nclass FormatPicker extends BaseFloat {\n  static pluginName = 'formatPicker'\n  constructor (muya, options = {}) {\n    const name = 'ag-format-picker'\n    const opts = Object.assign({}, defaultOptions, options)\n    super(muya, name, opts)\n    this.oldVnode = null\n    this.formats = null\n    this.options = opts\n    this.icons = icons\n    const formatContainer = this.formatContainer = document.createElement('div')\n    this.container.appendChild(formatContainer)\n    this.listen()\n  }\n\n  listen () {\n    const { eventCenter } = this.muya\n    super.listen()\n    eventCenter.subscribe('muya-format-picker', ({ reference, formats }) => {\n      if (reference) {\n        this.formats = formats\n        setTimeout(() => {\n          this.show(reference)\n          this.render()\n        }, 0)\n      } else {\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    const { icons, oldVnode, formatContainer, formats } = this\n    const children = icons.map(i => {\n      let icon\n      let iconWrapperSelector\n      if (i.icon) {\n        // SVG icon Asset\n        iconWrapperSelector = 'div.icon-wrapper'\n        icon = h('i.icon', h(`i.icon-inner`, {\n          style: {\n            background: `url(${i.icon}) no-repeat`,\n            'background-size': '100%'\n          }\n        }, ''))\n      }\n      const iconWrapper = h(iconWrapperSelector, icon)\n      let itemSelector = `li.item.${i.type}`\n      if (formats.some(f => f.type === i.type || f.type === 'html_tag' && f.tag === i.type)) {\n        itemSelector += '.active'\n      }\n      return h(itemSelector, {\n        on: {\n          click: event => {\n            this.selectItem(event, i)\n          }\n        }\n      }, iconWrapper)\n    })\n\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(formatContainer, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  selectItem (event, item) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { contentState } = this.muya\n    contentState.render()\n    contentState.format(item.type)\n    if (/link|image/.test(item.type)) {\n      this.hide()\n    } else {\n      const { formats } = contentState.selectionFormats()\n      this.formats = formats\n      this.render()\n    }\n  }\n}\n\nexport default FormatPicker\n","import copyIcon from '../../assets/pngicon/copy/2.png'\nimport newIcon from '../../assets/pngicon/paragraph/2.png'\nimport deleteIcon from '../../assets/pngicon/delete/delete@2x.png'\nimport turnIcon from '../../assets/pngicon/turninto/2.png'\nimport { isOsx } from '../../config'\nimport { quicInsertObj } from '../quickInsert/config'\n\nconst wholeSubMenu = Object.keys(quicInsertObj).reduce((acc, key) => {\n  const items = quicInsertObj[key]\n  return [...acc, ...items]\n}, [])\n\nconst COMMAND_KEY = isOsx ? '⌘' : '⌃'\n\nexport const menu = [{\n  icon: copyIcon,\n  label: 'duplicate',\n  text: 'Duplicate',\n  shortCut: `⇧${COMMAND_KEY}P`\n}, {\n  icon: turnIcon,\n  label: 'turnInto',\n  text: 'Turn Into'\n}, {\n  icon: newIcon,\n  label: 'new',\n  text: 'Create Paragraph',\n  shortCut: `⇧${COMMAND_KEY}N`\n}, {\n  icon: deleteIcon,\n  label: 'delete',\n  text: 'Delete',\n  shortCut: `⇧${COMMAND_KEY}D`\n}]\n\nexport const getLabel = block => {\n  const { type, functionType, listType } = block\n  let label = ''\n  switch (type) {\n    case 'p': {\n      label = 'paragraph'\n      break\n    }\n    case 'figure': {\n      if (functionType === 'table') {\n        label = 'table'\n      } else if (functionType === 'html') {\n        label = 'html'\n      } else if (functionType === 'multiplemath') {\n        label = 'mathblock'\n      }\n      break\n    }\n    case 'pre': {\n      if (functionType === 'fencecode' || functionType === 'indentcode') {\n        label = 'pre'\n      } else if (functionType === 'frontmatter') {\n        label = 'front-matter'\n      }\n      break\n    }\n    case 'ul': {\n      if (listType === 'task') {\n        label = 'ul-task'\n      } else {\n        label = 'ul-bullet'\n      }\n      break\n    }\n    case 'ol': {\n      label = 'ol-order'\n      break\n    }\n    case 'blockquote': {\n      label = 'blockquote'\n      break\n    }\n    case 'h1': {\n      label = 'heading 1'\n      break\n    }\n    case 'h2': {\n      label = 'heading 2'\n      break\n    }\n    case 'h3': {\n      label = 'heading 3'\n      break\n    }\n    case 'h4': {\n      label = 'heading 4'\n      break\n    }\n    case 'h5': {\n      label = 'heading 5'\n      break\n    }\n    case 'h6': {\n      label = 'heading 6'\n      break\n    }\n    case 'hr': {\n      label = 'hr'\n      break\n    }\n    default:\n      label = 'paragraph'\n      break\n  }\n  return label\n}\n\nexport const getSubMenu = (block, startBlock, endBlock) => {\n  const { type } = block\n  switch (type) {\n    case 'p': {\n      return wholeSubMenu.filter(menuItem => {\n        const REG_EXP = startBlock.key === endBlock.key\n          ? /front-matter|hr|table/\n          : /front-matter|hr|table|heading/\n\n        return !REG_EXP.test(menuItem.label)\n      })\n    }\n    case 'h1':\n    case 'h2':\n    case 'h3':\n    case 'h4':\n    case 'h5':\n    case 'h6': {\n      return wholeSubMenu.filter(menuItem => {\n        return /heading|paragraph/.test(menuItem.label)\n      })\n    }\n    case 'ul':\n    case 'ol': {\n      return wholeSubMenu.filter(menuItem => {\n        return /ul|ol/.test(menuItem.label)\n      })\n    }\n    default:\n      return []\n  }\n}\n","import BaseFloat from '../baseFloat'\nimport { patch, h } from '../../parser/render/snabbdom'\nimport { menu, getSubMenu, getLabel } from './config'\n\nimport './index.css'\n\nconst MAX_SUBMENU_HEIGHT = 400\nconst ITEM_HEIGHT = 36\nconst PADDING = 10\n\nconst defaultOptions = {\n  placement: 'left',\n  modifiers: {\n    offset: {\n      offset: '20, 20'\n    }\n  },\n  showArrow: false\n}\n\nclass FrontMenu extends BaseFloat {\n  static pluginName = 'frontMenu'\n  constructor (muya, options = {}) {\n    const name = 'ag-front-menu'\n    const opts = Object.assign({}, defaultOptions, options)\n    super(muya, name, opts)\n    this.oldVnode = null\n    this.outmostBlock = null\n    this.startBlock = null\n    this.endBlock = null\n    this.options = opts\n    this.reference = null\n    const frontMenuContainer = this.frontMenuContainer = document.createElement('div')\n    Object.assign(this.container.parentNode.style, {\n      overflow: 'visible'\n    })\n    this.container.appendChild(frontMenuContainer)\n    this.listen()\n  }\n\n  listen () {\n    const { eventCenter } = this.muya\n    super.listen()\n    eventCenter.subscribe('muya-front-menu', ({ reference, outmostBlock, startBlock, endBlock }) => {\n      if (reference) {\n        this.outmostBlock = outmostBlock\n        this.startBlock = startBlock\n        this.endBlock = endBlock\n        this.reference = reference\n        setTimeout(() => {\n          this.show(reference)\n          this.render()\n        }, 0)\n      } else {\n        this.hide()\n        this.reference = null\n      }\n    })\n  }\n\n  renderSubMenu (subMenu) {\n    const { reference } = this\n    const rect = reference.getBoundingClientRect()\n    const windowHeight = document.documentElement.clientHeight\n    const children = subMenu.map(menuItem => {\n      const { icon, title, label, shortCut } = menuItem\n      const iconWrapperSelector = 'div.icon-wrapper'\n      const iconWrapper = h(iconWrapperSelector, h('i.icon', h(`i.icon-${label.replace(/\\s/g, '-')}`, {\n        style: {\n          background: `url(${icon}) no-repeat`,\n          'background-size': '100%'\n        }\n      }, '')))\n\n      const textWrapper = h('span', title)\n      const shortCutWrapper = h('div.short-cut', [\n        h('span', shortCut)\n      ])\n      let itemSelector = `li.item.${label}`\n      if (label === getLabel(this.outmostBlock)) {\n        itemSelector += `.active`\n      }\n      return h(itemSelector, {\n        on: {\n          click: event => {\n            this.selectItem(event, { label })\n          }\n        }\n      }, [iconWrapper, textWrapper, shortCutWrapper])\n    })\n    let subMenuSelector = 'div.submenu'\n    if (windowHeight - rect.bottom < MAX_SUBMENU_HEIGHT - (ITEM_HEIGHT + PADDING)) {\n      subMenuSelector += '.align-bottom'\n    }\n    return h(subMenuSelector, h('ul', children))\n  }\n\n  render () {\n    const { oldVnode, frontMenuContainer, outmostBlock, startBlock, endBlock } = this\n    const { type, functionType } = outmostBlock\n    const children = menu.map(({ icon, label, text, shortCut }) => {\n      const subMenu = getSubMenu(outmostBlock, startBlock, endBlock)\n      const iconWrapperSelector = 'div.icon-wrapper'\n      const iconWrapper = h(iconWrapperSelector, h('i.icon', h(`i.icon-${label.replace(/\\s/g, '-')}`, {\n        style: {\n          background: `url(${icon}) no-repeat`,\n          'background-size': '100%'\n        }\n      }, '')))\n      const textWrapper = h('span', text)\n      const shortCutWrapper = h('div.short-cut', [\n        h('span', shortCut)\n      ])\n      let itemSelector = `li.item.${label}`\n      const itemChildren = [iconWrapper, textWrapper, shortCutWrapper]\n      if (label === 'turnInto' && subMenu.length !== 0) {\n        itemChildren.push(this.renderSubMenu(subMenu))\n      }\n      if (label === 'turnInto' && subMenu.length === 0) {\n        itemSelector += `.disabled`\n      }\n      // front matter can not be duplicated.\n      if (label === 'duplicate' && type === 'pre' && functionType === 'frontmatter') {\n        itemSelector += `.disabled`\n      }\n      return h(itemSelector, {\n        on: {\n          click: event => {\n            this.selectItem(event, { label })\n          }\n        }\n      }, itemChildren)\n    })\n\n    const vnode = h('ul', children)\n\n    if (oldVnode) {\n      patch(oldVnode, vnode)\n    } else {\n      patch(frontMenuContainer, vnode)\n    }\n    this.oldVnode = vnode\n  }\n\n  selectItem (event, { label }) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { type, functionType } = this.outmostBlock\n    // front matter can not be duplicated.\n    if (label === 'duplicate' && type === 'pre' && functionType === 'frontmatter') {\n      return\n    }\n    const { contentState } = this.muya\n    contentState.selectedBlock = null\n    switch (label) {\n      case 'duplicate': {\n        contentState.duplicate()\n        break\n      }\n      case 'delete': {\n        contentState.deleteParagraph()\n        break\n      }\n      case 'new': {\n        contentState.insertParagraph('after', '', true)\n        break\n      }\n      case 'turnInto':\n        // do nothing, do not hide float box.\n        return\n      default:\n        contentState.updateParagraph(label)\n        break\n    }\n    // delay hide to avoid dispatch enter hander\n    setTimeout(this.hide.bind(this))\n  }\n}\n\nexport default FrontMenu\n","<template>\n  <div id=\"app\">\n    <div ref=\"editor\" id=\"edit\"></div>\n  </div>\n</template>\n\n<script>\n  import Muya from './muya/lib'\n  import TablePicker from './muya/lib/ui/tablePicker'\n  import QuickInsert from './muya/lib/ui/quickInsert'\n  import CodePicker from './muya/lib/ui/codePicker'\n  import EmojiPicker from './muya/lib/ui/emojiPicker'\n  import ImagePathPicker from './muya/lib/ui/imagePicker'\n  import ImageSelector from './muya/lib/ui/imageSelector'\n  import FormatPicker from './muya/lib/ui/formatPicker'\n  import FrontMenu from './muya/lib/ui/frontMenu'\n  import './muya/themes/default.css'\n  import './assets/index.css'\n\n  export default {\n    name: 'app',\n    created () {\n      this.$nextTick(() => {\n        const ele = this.$refs.editor\n\n        Muya.use(TablePicker)\n        Muya.use(QuickInsert)\n        Muya.use(CodePicker)\n        Muya.use(EmojiPicker)\n        Muya.use(ImagePathPicker)\n        Muya.use(ImageSelector)\n        Muya.use(FormatPicker)\n        Muya.use(FrontMenu)\n\n        this.editor = new Muya(ele, {\n          markdown: 'Welcome to use muya...'\n        })\n        this.editor.on('change', changes => {\n          console.log(changes)\n          var content = this.getContent()\n          window.webkit.messageHandlers.TextContentDidChange.postMessage(content);\n        })\n\n        this.init()\n        window.webkit.messageHandlers.EditorIsReady.postMessage(null);\n      })\n    },\n    methods: {\n      init() {\n        const that = this;\n        \n        //声明全局函数\n        window.GetContent = function(){\n          return that.editor.getMarkdown()\n        }\n        window.SetContent = function(content) {\n          var text = that.getStringFromHex(content);\n          that.editor.setMarkdown(text)\n        }\n        window.geteditor = function () {\n          console.log(\"geteditor...\")\n          console.log(that.editor);\n          //在全局函数里面调用当前实例的函数方法\n        }\n      },\n      getContent() {\n          return this.editor.getMarkdown()\n      },\n      getStringFromHex(content) {\n          return decodeURIComponent(content.replace(/\\s+/g, '').replace(/[0-9a-f]{2}/g, '%$&'));\n      }\n    }\n  }\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: var(--editorColor);\n  /* margin-top: 60px; */\n  overflow-y: scroll; \n  height: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c9252176&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n    render: h => h(App),\n}).$mount('#app')","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABV1JREFUWAntWGtsFFUUvmdmtmtL1whufdTGNsH4ikKMKTWi7UpiwGokRqxgiUkT/pBSrPYB0kKXlhYLFLCtmkqMQWiMjYlaQ6oErEIo2oY/lvgHDAWaCkITQ190OzPXc7bO9s7szs62XdEfnWRzzz33PL45955zzyxjc89cBP7bCMBM3be1tcknu8+u4KC9xDk8gXbSgfP5nMEEMD7AAAYY478xWW73Jkqdfr8/MBNf0wZYUlKRflOS1jFdL0CH98XiFBjc4MBak0Cp3r3bfyUWHUNGNginkWOYBoe1tzXGvmacL0P52510hHU30pkq09cveTrntqzVq7q6OzrQlPMTUwSLt9Teq46PHuSMPe9s0lkCnf6cKLleiSWajgCLyioX6px1YdTusrrGrfuLAT/MJDiucKWPzWN9dzCmXhtnqRDQFwLTX8StXYnRTwvTBehnMuQ219f0WtfEeVSAmzfvnD+kjpxGcA+JSpgAfyKvPMXj+gIP/03TmmVCyfRTT28BJtB2BJoqLgOCTAQlM1okbQG2tLS4es9dPopGfWajrENOSCp4v67iqsh3osvL6z2j2tBhzvjLoixtN6Tf7WvauHFc5Bu0bZJkPLK4nHO2zhCkEY193NxQu+aXkz+MiPxY6FOnjgVyly9rGwvwBSifJeiksRujvLvrRKfAC5FSiLISHB4UWbgdR70eV6HImy6Nx0H3epRiPLvtZl3+TlmZ/x4zb3JmCxAL7gGM2BiJocEzkKy8hg7USEamwyOQSbJnLb4wFvLJB3dq3ihXtxlzcbQ9gyRU9G5dij4x9kBKstwTD3Ci48KyrVTsDxg8KuYY3RT0Y7pxogI0lP+NkbL7RPevfWIJAkVe0Vxf/b3oL+IWbyjd+gb9RMF403l5eRpw9o3JrqaZMpzWwgBuKK30c6630o9ok4E4TziTjphNwqPmebByTLEmwfGqKQ4KAGxv3rPDL/JmSxeVVK7CevgZXp2JkWxRcuKZfLOpYceXoQhGAkfKeEaq4h1JDpBgBy7oE4GTDNHBQk3nDYE0EsPm8WUt9Z3DYhr13rTRDWOTnaylOZSgvrBFZPyza020Fowg3pMBCmskYeIFQ44ydusz4dOxISBWXeuRorcwPbidnRhNn8EEJuc2N1R3GPN4j+LRsoIjX6EzOOUY23ThoZZJmMadnIyklA8g5UdKxvAIbtq2nKvadwYSfKv+7CWLMqhuGbxbOYZFkD5w6NoxQOB2p1E/Z8xv9RgWQQJQWFr5IdaX9QYYjOJAkuR5eNeuTUMGbzYj3rfS4Ii2Fjv1BcyVeOiDnVsG7eyFRZAE6esLgIV6PoxiKjWbZNjOUKx8uoOvD6utuq4fZFzfB4HR49F0IzqcbMFhr6hInfC14Yl9swGJLwrYIHyC42rDNtpdbNcLkkzELaaFosZGN7949Ues+E/R3HjwfLZTPzfd7abWjU+MfIS936uGLRrR3pmmPTWZeIzQVfhjC5BE6c3GuNpDiSKq0pnEq6gqJ/PxT52ym75tzp7vX6PrvAEvTq9oB+nzLndS9v66ij8s/NA0KkCSeqvUv0hj6hErSFqjEkQtE3UlPEH6PcXNBvC0SzDM7tdAzcAb6gUUex2jdifJmx6Ai243f3Zvbe1lE98ycQRI8sFI6hNfWbfbYivmKb7YaRSmwnzBSSlikliVKGno0xAN14jZbZVzmpMuSFDsTVaeiQUc2YspgqJjiiZ94ODW5mMGxvb/DMAVBPe5IiuN+9/z94n2nOhpAzQMYrlJuD6mP8eCbTp2wlgr8UswFQ3q+HfIJaQvSZxd4Ir0bfaTjx1zSibD7tw4F4H/WwT+BhPGFuRSH4XAAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAi9JREFUWAntmM1Kw0AQx2eTVvx6BMGX8AO0h1x9EU+9iD2qhGLBz6rYky/i0byHiuIXglAUURTarLPFLbOr2GR3ij00UDKTbGZ++9/JZrsAw2OowP8qILjSl1c3lkCkJ1LKqb9iCiHuQAbLjf3q6V/t9L1AG97nDHAqR6cD2DZrPj7ArBlztuMDxGHrDF8PAD3EPZp1b7PVYDciGuXKWhWHcl1fQ6ibxt7mtPbznPkUNLNGpgtnlp/ZZQdcqdfHMPs8JUAFE+rnsdkB24/PCzi8IxQiDMMBApQyonBoXx9uxdfWtcwuu4KQ/gBMMtP80pAVUNWfEDBH8wRB4PyCqDisgK2H5qJdf0HgXn/sgBIgUkH1gW/v1dF2fKN9lzOrgggQUQhU02t4VSw2wDiOxxHIqL8QIKHALjYb4NN7uogARQpRGB0gQGib0wvW32W9VrulwC42m4K40ossgMTynVwWwEpldwIBZ00C9+8vjcMC+CleftSf8Jz/NCQLoJQQ6YDf54vjnfjOuubksgBi5ohmx6AJ9X1sb0BVfzj/zRgQ4QABfoSvJYQz57/iWGIAezjeCkLLnF5w/js/qK3dezAZj/oDQhoZERnrT8X1AsTv7yQIYdSfEP4LBNphL8DmW6uEL0iBBgyL4wn1fe3c/4utPRhcAkJqQeAiBlDYfHswVoyum19Bcw9GdVAB0V8nOCo7pTaTupkcjfyAjolcH8sP2Kc9GNcODJ8bKtBvBb4AYZOat9aOUdIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAONJREFUWAntljEOgkAQRXc4hxfyIlZ29hb2dlZexAt5DteVOAl88gOB3UXip4Elw8znbcIjBB0iIALbJmAs/vF03gd73WOMO1aT876ZPUNsDrfr5dHt23QXveuK4T5zWxBpZi9DWvCAWLnSmgdMuFvslYL5FlcapzEiIAIisBkC1MX+Buhk/6CiM3PX+XxuEq8AJzNn4o/F4rrv/PGAHnSl83hAcLJv8SBv7rrBAN0QAREQgf8kQF2Mbi2NxwWAjucmAQeXDsjczQOWTjSxPw8Ibp3Yb3aZb/HsBnpQBETgRwm8AeMyfRZbHsrFAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAPhJREFUWAntlDEOwjAMRZOegwtxESY2dgZ2NiYuwoU4B6FU8vIj17WwS5F+t9SJ/f0tv1L40QE68N8OVEv+8XTel/q6t9Z21l1PvNb6LG043K6Xx9y7YS44xRLEffJODY+5rfq2QCtDctwWOI5hGkewEBlxcFqmowPhDqgczOIfdiDLovFQ3+Ik/qFAi4e6QMz0o7MuMIl/2KeMGP/zTAe24oDKQRQYxUVZCo17WFffYrwZxEWLe1h2uUB8udJ5ucAgLsqIV+qPZejA1w50HIzinVeZLA/ysd/iIN55BWp87AV6Myff7wUG8c6rW0bsfcf7dIAObN2BNzMQZB0+snkeAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAPFJREFUWAntlDESgkAMRXc5BxfyIlZ29hT2dlZexAt5DldgJs3+2SGRZNWZTwf8DT8/5KXEiwkwgf9OINf2T+fpkPLrXkoZ63eW+5zzM5XheLteHpZztXaoH3iYW2quDc6NQn3jAzRoLBAtR4PzWNbx7PyyjHhnGR5nAl9PIIyD2s5kmVq8xC12gLTW3KLb4iUatFTvoEWDThzUepcRa/XUMYHeCYRxUH7+Ft+0jeIWO3Fwi2+fG9Se7KTDBJ04KCPu1Ac/wwTCEgjjoNWxLFXNTdxiJw5aDba4iQatlYP1aNCJg1bfMmLrOeqZABP49QTeQJtkHYVGC0MAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA7lJREFUWAntVk1oE0EUntnG+tMoltqKUulRhIqn6sGTYMEeVEQQERRFENQ0LSRNhCYhNK3Yn1BqUhBPRRBLDoqCFemp4sWrehFBVMTaQ3upB63pPt/bZpbZ32STtCJkYJiZ9/vtN/NmlrFaq4wBXpm7s3cymaxf/JkfAIBLZMU5f9Dk9yVQvuLsZdX4rKLqSAicChAV0RBoFGW0vCVkpYxKKUbl2AjmZF87may3m68bQNzUrTYJPefz7GCT1CIKhuPngMEOswLwJPYmkzvNcrd11QEGw4nTKoOHmFTBCnyFfR77AvZFxqDlz3L+eTg82uAGStah31qrRtUF+2InVGBP8azVI77bk+lUv4jfHUm2qmr+NQNow6SzvG33yUww+FvonUadQVF1wNge6lSBJHNyNMuDkcQxVYXHBI4rfFwGR7aZkeS3ep/vOO7yD4zfCV8XHuVyuTpzHPNaZzAQ6v9OwGQDVM5n00N7ZZndPNAXP8pAfQnAGrjC7mVHh67b2ZEsEI0fhFV1jgFrxPjvUdREcqd7UmeQjKyNb7bKjJKeULyDqTBD4FAzlRkZvGG0MK6yw6l3PqZ0IaQVJKSdSKHutGM6QPoCYyg80gwab4bjvWa5WHdH44fyHJnDikX/6ebtm67iiPnc28RY6g3jsGy2srsndYD0DCmcD9O2ap3DnBYA1PFAKHYXi0i3JXlvJHYAt2pW2yrOnuzy+y6ijWpO6rTGzyjpyUMszg3ZO89BnUJKcKvhmaIoH0GFC3hg6vBrt6GnH+czzX7fGa9vbHc4dkd+CgkFEZQZGzQ8hQZWzFAnx1LTXFE6OeNLeGZOYZWGtDMD0KKBY+wzgjvrFRzlMe8YgSOZGYMrg8K4JxLbn18FqjjDzwV+3XzGVOWBUKKLcfW+5gvKtWx64IWIU87oyqAIODEy+AG/BF8CY7OtBgSH299KXQdqdPO0MjDi5onVOYVJ9d8nsrWtfAJWaBpIsSiMXhkuGSCdD/qfw6SGH1BT/uLLAsNkyNeOwj43JwvAUKi/7Rdj2mHdwthAOj30hQIUCoEqzFBlbsHtdDKr8tzOlmQWgPh651B+mJQ4b8fhCM3/VbMUCR78DgFGngvZRo8WgAhAvnrk+UZj0/JZtrgYCq9VWCxeMb1ngHS3icNdShUWA1BMb7fFrj4CHBnJc1enCpSeAVaQqyzXGsCyaJOcagxKZJQ1tWPwkxRJnguxLJPn1dKLONpoAYgX4xV8S95Sx1/8ywZrXKy33pyvtq4xUGPgf2fgLzQye+oN4RgEAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAsZJREFUWAntWEFrE1EQntmNFfHgrSe9eBREKvZaz/6BFFTwFg+NigSsEJWiBqwQBE0P9iZowfyBnu1Noy0qeBQP/gEPIm2Sfc73srN5brOQJfFVYRc2b97OvJmPeTPfvg1RcRUZONgMsIav1u5dII7W7dwElVbz/qbq8ozT8qMxSyoAnDHmOOY8AHoi0eURpuUnjhlobAWHuSurftzRXevK465P2yUA04p/ZV4AnHQnigwWGZw0A5OuHxL1pJ5yrG+32+GbzpczHPXPYZkJwvfn5099LJfL/bQb701SXb57euvtpw5F3Q+Goue4IeMZdGmAybt4qVY3aeU05mvNRhLDAuhFHQl0eJRvMdylUjDfWn3wWfXeMohtpZ55kYBj+iGA1nGTyABkdWJjbWOE3gCi5gyZORtXAM2UDp1tNRtXcUMegjRzsI3xkTeA2hAIzIZeP3m08lVBQMYznbu2mV3s1o4uHGfMqmUOo58m7lEOaWufL2aWY9S+x94y+HT14UYQ0mXckF0kN2+vnJTtL+sz0I7KmRlUg2mNkiCk5xX8CUC+dqt+KYrMDTbBbLfXnZUOOQIdE+8sCCeuYSKXN4CDcIPf68t3LkZ9egk4kjnbvtBIR+9Ria+4hO1ti12AmbIgTF8HAjCpx4DfCaBv0h6/AEx6ZAZc6fKgty2W7xPG1sYZ2nj2uIF6tDWJJtnrdbdlt4+BK2Me3Iattwxq3aH2HKAWr+VB4radyI/Lg94Amn5wVAEIHy6onIyS4kR2BH8AHW4zTIvYVsVheVCe6XwkDwpPfdfvWMhqnHfM8oPznhypduz7WGoNNVet1e3rTeRF1B9ipXlwmEH5uwPOLTiR8wJL7DP8WG4TjhMm2bW2tiGoIvtaGYLDcetPHhzBPEmovyIMzoQ4dsUnmzgKMgdw7lkQKu8AETTPkR/2xVVkoMjA/5yB35WuOK++n0NOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABOZJREFUWAntV+1PW1UYP+e+tEB5mxCCWbZJJEF5aQdlkG4zdslmQgySOQsxKpMvxM/+Bf0D/AMMJjYEHQuQLJkxbESzxuFKgctLKTAUZcyhQ63jpaOll97jc4iXnd3e9lJWPpjQL+d5nvOc5/n1d57nnHMROvodMXDEwP+bAawH326/WBCV1y4RhbyiIJKr55MpmyDwQ8GpsXvJ4vHaCQpuKxb6RCHoOEHIpJ3PpM5x6PvZaelHt9vNrYbCTa+W2VZXVha32Rwcq1B5lzmCs7X2TOuiKNyeC0zcdblcfN/AzfcIURrCkb/e0uZJAEi3VeuUaZ0X+G9nJkd9TrdbmFlYalUQqqQ5IPcpbS5Ba9DWHMYkznHcncLcrGnquxaO2hRFuUAITigPbSwdnWAOfzM7NTbR2dkpDg/cbAOfctUPcuepsjomAFQn1JGCgzoZVnUYh6tsdhSPk4uMbT8iEUzijeCEPwDbavphRHofFpUZLUzYYu0ClTnWrmdj5xNkjBWO5wcouKamJvPs/OKHSCGG4GgcQ4AJydI00BIRTahvbnps1uFwZS89Wm1XED653zCGAGnNaYPp2bQ+VAdwO5yY1TsjSfftzc0565uLVxEcX3q+yWyGNUgbgtacuq1qk0D6ZDF37ZhDsojEa4EJ35LT6cxdXf69nSBcknKRzqQhQNqttCFC6xGmKVKDA/DbWbz52uTkveXGxsb8x6GNdmCuWCe/oclwiw0jaB0wiZosQg8Fd9rpLNyI7HQcFBwNnVGAGKMtiym3O+D3P3I4HC9thzY64PA9pv0P6egZAwg195TPEbsl6e4fdruz+MlmtIMQVJAOGD3fDAEkmzlivifo969az54t2ZI3OqAOtbcC3CLoFubIb3pAktleGCBs6/qxvCyPJHn/ttvfeFnejH5MFGRhE9KONnHc9fnAxIhgFu6wc0byCwGEe/WJuSjf4/P5/rHZHMefxsJXYVtz2KQcwsCu5ctAYHyB2mfGxn7lEHnI+qSSDwwQkoTys0s8U17vmt1+/uR2PAZHCc5ik4HP4zxLyRe0Llk7ny14WT2VfCCAwNyfJcUFHr9/cMNqbSjbkrc+gseSmU3EYfTzqROluz6sncrpsJg2QMrKidKibq/XG66qc5TLRP4Aak5kQWDMjbZeead3cHDwudcx67NfFg1vEjYo3G4rBbnlXw0N9Ues1voKWY62at6FtFNvzwfGR9wz488t1SqUxcrq2odGD4d9M0iPh9Ki/B6frz9SVdtYGSOkjQUHgWJqp2rBJNMFTjTs6H0B5DF6UF1R3gPbGq2uq7PGZdmFCGHWks1ss8WjdmoyQFp7IDC6BLW6rLWzOpOENT+TMU9+Oeeo/7q/vz9Waauv3YmhyzC791qgNVlgKU3o1GcRUksCFrypPFIC5Dluoe1yS29XV5dcdfrMGSWutECwPXA8xj8l69RUSdk5IxaTAoSJucqKsj74Zt2pqWlwxHfib7OBaae6rjRfT9WprH8qORWLe2yoAV6rqf0Uam7Z9W7LDQCnwGP1/AE+kNRwaY1w64TngtJn7KKEY4YXTLdcLU33/wN3AcC9yS44TBkugAfa+AkMqg6vV9dfIkg5p+qHPcL3SyTHVPS5JH23zubSrUH6gQMLCukDlHU+DJluKzRjUA/cYeQ7innEQLoM/AvWAuY7S2Mk5AAAAABJRU5ErkJggg==\"","/** js sequence diagrams 2.0.1\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  @license Simplified BSD license.\n */\nimport _ from 'underscore'\nimport './raphael'\nimport './webFontLoader'\n\nfunction Diagram() {\n  this.title   = undefined;\n  this.actors  = [];\n  this.signals = [];\n}\n/*\n * Return an existing actor with this alias, or creates a new one with alias and name.\n */\nDiagram.prototype.getActor = function(alias, name) {\n  alias = alias.trim();\n\n  var i;\n  var actors = this.actors;\n  for (i in actors) {\n    if (actors[i].alias == alias) {\n      return actors[i];\n    }\n  }\n  i = actors.push(new Diagram.Actor(alias, (name || alias), actors.length));\n  return actors[ i - 1 ];\n};\n\n/*\n * Parses the input as either a alias, or a \"name as alias\", and returns the corresponding actor.\n */\nDiagram.prototype.getActorWithAlias = function(input) {\n  input = input.trim();\n\n  // We are lazy and do some of the parsing in javascript :(. TODO move into the .jison file.\n  var s = /([\\s\\S]+) as (\\S+)$/im.exec(input);\n  var alias;\n  var name;\n  if (s) {\n    name  = s[1].trim();\n    alias = s[2].trim();\n  } else {\n    name = alias = input;\n  }\n  return this.getActor(alias, name);\n};\n\nDiagram.prototype.setTitle = function(title) {\n  this.title = title;\n};\n\nDiagram.prototype.addSignal = function(signal) {\n  this.signals.push(signal);\n};\n\nDiagram.Actor = function(alias, name, index) {\n  this.alias = alias;\n  this.name  = name;\n  this.index = index;\n};\n\nDiagram.Signal = function(actorA, signaltype, actorB, message) {\n  this.type       = 'Signal';\n  this.actorA     = actorA;\n  this.actorB     = actorB;\n  this.linetype   = signaltype & 3;\n  this.arrowtype  = (signaltype >> 2) & 3;\n  this.message    = message;\n};\n\nDiagram.Signal.prototype.isSelf = function() {\n  return this.actorA.index == this.actorB.index;\n};\n\nDiagram.Note = function(actor, placement, message) {\n  this.type      = 'Note';\n  this.actor     = actor;\n  this.placement = placement;\n  this.message   = message;\n\n  if (this.hasManyActors() && actor[0] == actor[1]) {\n    throw new Error('Note should be over two different actors');\n  }\n};\n\nDiagram.Note.prototype.hasManyActors = function() {\n  return _.isArray(this.actor);\n};\n\nDiagram.unescape = function(s) {\n  // Turn \"\\\\n\" into \"\\n\"\n  return s.trim().replace(/^\"(.*)\"$/m, '$1').replace(/\\\\n/gm, '\\n');\n};\n\nDiagram.LINETYPE = {\n  SOLID: 0,\n  DOTTED: 1\n};\n\nDiagram.ARROWTYPE = {\n  FILLED: 0,\n  OPEN: 1\n};\n\nDiagram.PLACEMENT = {\n  LEFTOF: 0,\n  RIGHTOF: 1,\n  OVER: 2\n};\n\n// Some older browsers don't have getPrototypeOf, thus we polyfill it\n// https://github.com/bramp/js-sequence-diagrams/issues/57\n// https://github.com/zaach/jison/issues/194\n// Taken from http://ejohn.org/blog/objectgetprototypeof/\nif (typeof Object.getPrototypeOf !== 'function') {\n  /* jshint -W103 */\n  if (typeof 'test'.__proto__ === 'object') {\n    Object.getPrototypeOf = function(object) {\n      return object.__proto__;\n    };\n  } else {\n    Object.getPrototypeOf = function(object) {\n      // May break if the constructor has been tampered with\n      return object.constructor.prototype;\n    };\n  }\n  /* jshint +W103 */\n}\n\n/** The following is included by preprocessor */\n/* parser generated by jison 0.4.15 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = function() {\n    function Parser() {\n        this.yy = {};\n    }\n    var o = function(k, v, o, l) {\n        for (o = o || {}, l = k.length; l--; o[k[l]] = v) ;\n        return o;\n    }, $V0 = [ 5, 8, 9, 13, 15, 24 ], $V1 = [ 1, 13 ], $V2 = [ 1, 17 ], $V3 = [ 24, 29, 30 ], parser = {\n        trace: function() {},\n        yy: {},\n        symbols_: {\n            error: 2,\n            start: 3,\n            document: 4,\n            EOF: 5,\n            line: 6,\n            statement: 7,\n            NL: 8,\n            participant: 9,\n            actor_alias: 10,\n            signal: 11,\n            note_statement: 12,\n            title: 13,\n            message: 14,\n            note: 15,\n            placement: 16,\n            actor: 17,\n            over: 18,\n            actor_pair: 19,\n            \",\": 20,\n            left_of: 21,\n            right_of: 22,\n            signaltype: 23,\n            ACTOR: 24,\n            linetype: 25,\n            arrowtype: 26,\n            LINE: 27,\n            DOTLINE: 28,\n            ARROW: 29,\n            OPENARROW: 30,\n            MESSAGE: 31,\n            $accept: 0,\n            $end: 1\n        },\n        terminals_: {\n            2: \"error\",\n            5: \"EOF\",\n            8: \"NL\",\n            9: \"participant\",\n            13: \"title\",\n            15: \"note\",\n            18: \"over\",\n            20: \",\",\n            21: \"left_of\",\n            22: \"right_of\",\n            24: \"ACTOR\",\n            27: \"LINE\",\n            28: \"DOTLINE\",\n            29: \"ARROW\",\n            30: \"OPENARROW\",\n            31: \"MESSAGE\"\n        },\n        productions_: [ 0, [ 3, 2 ], [ 4, 0 ], [ 4, 2 ], [ 6, 1 ], [ 6, 1 ], [ 7, 2 ], [ 7, 1 ], [ 7, 1 ], [ 7, 2 ], [ 12, 4 ], [ 12, 4 ], [ 19, 1 ], [ 19, 3 ], [ 16, 1 ], [ 16, 1 ], [ 11, 4 ], [ 17, 1 ], [ 10, 1 ], [ 23, 2 ], [ 23, 1 ], [ 25, 1 ], [ 25, 1 ], [ 26, 1 ], [ 26, 1 ], [ 14, 1 ] ],\n        performAction: function(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n            /* this == yyval */\n            var $0 = $$.length - 1;\n            switch (yystate) {\n              case 1:\n                return yy.parser.yy;\n\n              case 4:\n                break;\n\n              case 6:\n                $$[$0];\n                break;\n\n              case 7:\n              case 8:\n                yy.parser.yy.addSignal($$[$0]);\n                break;\n\n              case 9:\n                yy.parser.yy.setTitle($$[$0]);\n                break;\n\n              case 10:\n                this.$ = new Diagram.Note($$[$0 - 1], $$[$0 - 2], $$[$0]);\n                break;\n\n              case 11:\n                this.$ = new Diagram.Note($$[$0 - 1], Diagram.PLACEMENT.OVER, $$[$0]);\n                break;\n\n              case 12:\n              case 20:\n                this.$ = $$[$0];\n                break;\n\n              case 13:\n                this.$ = [ $$[$0 - 2], $$[$0] ];\n                break;\n\n              case 14:\n                this.$ = Diagram.PLACEMENT.LEFTOF;\n                break;\n\n              case 15:\n                this.$ = Diagram.PLACEMENT.RIGHTOF;\n                break;\n\n              case 16:\n                this.$ = new Diagram.Signal($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0]);\n                break;\n\n              case 17:\n                this.$ = yy.parser.yy.getActor(Diagram.unescape($$[$0]));\n                break;\n\n              case 18:\n                this.$ = yy.parser.yy.getActorWithAlias(Diagram.unescape($$[$0]));\n                break;\n\n              case 19:\n                this.$ = $$[$0 - 1] | $$[$0] << 2;\n                break;\n\n              case 21:\n                this.$ = Diagram.LINETYPE.SOLID;\n                break;\n\n              case 22:\n                this.$ = Diagram.LINETYPE.DOTTED;\n                break;\n\n              case 23:\n                this.$ = Diagram.ARROWTYPE.FILLED;\n                break;\n\n              case 24:\n                this.$ = Diagram.ARROWTYPE.OPEN;\n                break;\n\n              case 25:\n                this.$ = Diagram.unescape($$[$0].substring(1));\n            }\n        },\n        table: [ o($V0, [ 2, 2 ], {\n            3: 1,\n            4: 2\n        }), {\n            1: [ 3 ]\n        }, {\n            5: [ 1, 3 ],\n            6: 4,\n            7: 5,\n            8: [ 1, 6 ],\n            9: [ 1, 7 ],\n            11: 8,\n            12: 9,\n            13: [ 1, 10 ],\n            15: [ 1, 12 ],\n            17: 11,\n            24: $V1\n        }, {\n            1: [ 2, 1 ]\n        }, o($V0, [ 2, 3 ]), o($V0, [ 2, 4 ]), o($V0, [ 2, 5 ]), {\n            10: 14,\n            24: [ 1, 15 ]\n        }, o($V0, [ 2, 7 ]), o($V0, [ 2, 8 ]), {\n            14: 16,\n            31: $V2\n        }, {\n            23: 18,\n            25: 19,\n            27: [ 1, 20 ],\n            28: [ 1, 21 ]\n        }, {\n            16: 22,\n            18: [ 1, 23 ],\n            21: [ 1, 24 ],\n            22: [ 1, 25 ]\n        }, o([ 20, 27, 28, 31 ], [ 2, 17 ]), o($V0, [ 2, 6 ]), o($V0, [ 2, 18 ]), o($V0, [ 2, 9 ]), o($V0, [ 2, 25 ]), {\n            17: 26,\n            24: $V1\n        }, {\n            24: [ 2, 20 ],\n            26: 27,\n            29: [ 1, 28 ],\n            30: [ 1, 29 ]\n        }, o($V3, [ 2, 21 ]), o($V3, [ 2, 22 ]), {\n            17: 30,\n            24: $V1\n        }, {\n            17: 32,\n            19: 31,\n            24: $V1\n        }, {\n            24: [ 2, 14 ]\n        }, {\n            24: [ 2, 15 ]\n        }, {\n            14: 33,\n            31: $V2\n        }, {\n            24: [ 2, 19 ]\n        }, {\n            24: [ 2, 23 ]\n        }, {\n            24: [ 2, 24 ]\n        }, {\n            14: 34,\n            31: $V2\n        }, {\n            14: 35,\n            31: $V2\n        }, {\n            20: [ 1, 36 ],\n            31: [ 2, 12 ]\n        }, o($V0, [ 2, 16 ]), o($V0, [ 2, 10 ]), o($V0, [ 2, 11 ]), {\n            17: 37,\n            24: $V1\n        }, {\n            31: [ 2, 13 ]\n        } ],\n        defaultActions: {\n            3: [ 2, 1 ],\n            24: [ 2, 14 ],\n            25: [ 2, 15 ],\n            27: [ 2, 19 ],\n            28: [ 2, 23 ],\n            29: [ 2, 24 ],\n            37: [ 2, 13 ]\n        },\n        parseError: function(str, hash) {\n            if (!hash.recoverable) throw new Error(str);\n            this.trace(str);\n        },\n        parse: function(input) {\n            function lex() {\n                var token;\n                return token = lexer.lex() || EOF, \"number\" != typeof token && (token = self.symbols_[token] || token), \n                token;\n            }\n            var self = this, stack = [ 0 ], vstack = [ null ], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1, args = lstack.slice.call(arguments, 1), lexer = Object.create(this.lexer), sharedState = {\n                yy: {}\n            };\n            for (var k in this.yy) Object.prototype.hasOwnProperty.call(this.yy, k) && (sharedState.yy[k] = this.yy[k]);\n            lexer.setInput(input, sharedState.yy), sharedState.yy.lexer = lexer, sharedState.yy.parser = this, \n            \"undefined\" == typeof lexer.yylloc && (lexer.yylloc = {});\n            var yyloc = lexer.yylloc;\n            lstack.push(yyloc);\n            var ranges = lexer.options && lexer.options.ranges;\n            \"function\" == typeof sharedState.yy.parseError ? this.parseError = sharedState.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError;\n            for (var symbol, preErrorSymbol, state, action, r, p, len, newState, expected, yyval = {}; ;) {\n                if (state = stack[stack.length - 1], this.defaultActions[state] ? action = this.defaultActions[state] : (null !== symbol && \"undefined\" != typeof symbol || (symbol = lex()), \n                action = table[state] && table[state][symbol]), \"undefined\" == typeof action || !action.length || !action[0]) {\n                    var errStr = \"\";\n                    expected = [];\n                    for (p in table[state]) this.terminals_[p] && p > TERROR && expected.push(\"'\" + this.terminals_[p] + \"'\");\n                    errStr = lexer.showPosition ? \"Parse error on line \" + (yylineno + 1) + \":\\n\" + lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\" : \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\"), \n                    this.parseError(errStr, {\n                        text: lexer.match,\n                        token: this.terminals_[symbol] || symbol,\n                        line: lexer.yylineno,\n                        loc: yyloc,\n                        expected: expected\n                    });\n                }\n                if (action[0] instanceof Array && action.length > 1) throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol), vstack.push(lexer.yytext), lstack.push(lexer.yylloc), stack.push(action[1]), \n                    symbol = null, preErrorSymbol ? (symbol = preErrorSymbol, preErrorSymbol = null) : (yyleng = lexer.yyleng, \n                    yytext = lexer.yytext, yylineno = lexer.yylineno, yyloc = lexer.yylloc, recovering > 0 && recovering--);\n                    break;\n\n                  case 2:\n                    if (len = this.productions_[action[1]][1], yyval.$ = vstack[vstack.length - len], \n                    yyval._$ = {\n                        first_line: lstack[lstack.length - (len || 1)].first_line,\n                        last_line: lstack[lstack.length - 1].last_line,\n                        first_column: lstack[lstack.length - (len || 1)].first_column,\n                        last_column: lstack[lstack.length - 1].last_column\n                    }, ranges && (yyval._$.range = [ lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1] ]), \n                    r = this.performAction.apply(yyval, [ yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack ].concat(args)), \n                    \"undefined\" != typeof r) return r;\n                    len && (stack = stack.slice(0, -1 * len * 2), vstack = vstack.slice(0, -1 * len), \n                    lstack = lstack.slice(0, -1 * len)), stack.push(this.productions_[action[1]][0]), \n                    vstack.push(yyval.$), lstack.push(yyval._$), newState = table[stack[stack.length - 2]][stack[stack.length - 1]], \n                    stack.push(newState);\n                    break;\n\n                  case 3:\n                    return !0;\n                }\n            }\n            return !0;\n        }\n    }, lexer = function() {\n        var lexer = {\n            EOF: 1,\n            parseError: function(str, hash) {\n                if (!this.yy.parser) throw new Error(str);\n                this.yy.parser.parseError(str, hash);\n            },\n            // resets the lexer, sets new input\n            setInput: function(input, yy) {\n                return this.yy = yy || this.yy || {}, this._input = input, this._more = this._backtrack = this.done = !1, \n                this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = \"\", this.conditionStack = [ \"INITIAL\" ], \n                this.yylloc = {\n                    first_line: 1,\n                    first_column: 0,\n                    last_line: 1,\n                    last_column: 0\n                }, this.options.ranges && (this.yylloc.range = [ 0, 0 ]), this.offset = 0, this;\n            },\n            // consumes and returns one char from the input\n            input: function() {\n                var ch = this._input[0];\n                this.yytext += ch, this.yyleng++, this.offset++, this.match += ch, this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                return lines ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, \n                this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), \n                ch;\n            },\n            // unshifts one char (or a string) into the input\n            unput: function(ch) {\n                var len = ch.length, lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - len), \n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), \n                lines.length - 1 && (this.yylineno -= lines.length - 1);\n                var r = this.yylloc.range;\n                return this.yylloc = {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.yylineno + 1,\n                    first_column: this.yylloc.first_column,\n                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                }, this.options.ranges && (this.yylloc.range = [ r[0], r[0] + this.yyleng - len ]), \n                this.yyleng = this.yytext.length, this;\n            },\n            // When called from action, caches matched text and appends it on next action\n            more: function() {\n                return this._more = !0, this;\n            },\n            // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n            reject: function() {\n                return this.options.backtrack_lexer ? (this._backtrack = !0, this) : this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n\" + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                });\n            },\n            // retain first n characters of the match\n            less: function(n) {\n                this.unput(this.match.slice(n));\n            },\n            // displays already matched input, i.e. for error messages\n            pastInput: function() {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? \"...\" : \"\") + past.substr(-20).replace(/\\n/g, \"\");\n            },\n            // displays upcoming input, i.e. for error messages\n            upcomingInput: function() {\n                var next = this.match;\n                return next.length < 20 && (next += this._input.substr(0, 20 - next.length)), (next.substr(0, 20) + (next.length > 20 ? \"...\" : \"\")).replace(/\\n/g, \"\");\n            },\n            // displays the character position where the lexing error occurred, i.e. for error messages\n            showPosition: function() {\n                var pre = this.pastInput(), c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n            },\n            // test the lexed token: return FALSE when not a match, otherwise return token\n            test_match: function(match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer && (// save context\n                backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                        first_line: this.yylloc.first_line,\n                        last_line: this.last_line,\n                        first_column: this.yylloc.first_column,\n                        last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                }, this.options.ranges && (backup.yylloc.range = this.yylloc.range.slice(0))), lines = match[0].match(/(?:\\r\\n?|\\n).*/g), \n                lines && (this.yylineno += lines.length), this.yylloc = {\n                    first_line: this.yylloc.last_line,\n                    last_line: this.yylineno + 1,\n                    first_column: this.yylloc.last_column,\n                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                }, this.yytext += match[0], this.match += match[0], this.matches = match, this.yyleng = this.yytext.length, \n                this.options.ranges && (this.yylloc.range = [ this.offset, this.offset += this.yyleng ]), \n                this._more = !1, this._backtrack = !1, this._input = this._input.slice(match[0].length), \n                this.matched += match[0], token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]), \n                this.done && this._input && (this.done = !1), token) return token;\n                if (this._backtrack) {\n                    // recover context\n                    for (var k in backup) this[k] = backup[k];\n                    return !1;\n                }\n                return !1;\n            },\n            // return next match in input\n            next: function() {\n                if (this.done) return this.EOF;\n                this._input || (this.done = !0);\n                var token, match, tempMatch, index;\n                this._more || (this.yytext = \"\", this.match = \"\");\n                for (var rules = this._currentRules(), i = 0; i < rules.length; i++) if (tempMatch = this._input.match(this.rules[rules[i]]), \n                tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    if (match = tempMatch, index = i, this.options.backtrack_lexer) {\n                        if (token = this.test_match(tempMatch, rules[i]), token !== !1) return token;\n                        if (this._backtrack) {\n                            match = !1;\n                            continue;\n                        }\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return !1;\n                    }\n                    if (!this.options.flex) break;\n                }\n                return match ? (token = this.test_match(match, rules[index]), token !== !1 && token) : \"\" === this._input ? this.EOF : this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". Unrecognized text.\\n\" + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                });\n            },\n            // return next match that has a token\n            lex: function() {\n                var r = this.next();\n                return r ? r : this.lex();\n            },\n            // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n            begin: function(condition) {\n                this.conditionStack.push(condition);\n            },\n            // pop the previously active lexer condition state off the condition stack\n            popState: function() {\n                var n = this.conditionStack.length - 1;\n                return n > 0 ? this.conditionStack.pop() : this.conditionStack[0];\n            },\n            // produce the lexer rule set which is active for the currently active lexer condition state\n            _currentRules: function() {\n                return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;\n            },\n            // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n            topState: function(n) {\n                return n = this.conditionStack.length - 1 - Math.abs(n || 0), n >= 0 ? this.conditionStack[n] : \"INITIAL\";\n            },\n            // alias for begin(condition)\n            pushState: function(condition) {\n                this.begin(condition);\n            },\n            // return the number of states currently on the stack\n            stateStackSize: function() {\n                return this.conditionStack.length;\n            },\n            options: {\n                \"case-insensitive\": !0\n            },\n            performAction: function(yy, yy_, $avoiding_name_collisions, YY_START) {\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    return 8;\n\n                  case 1:\n                    /* skip whitespace */\n                    break;\n\n                  case 2:\n                    /* skip comments */\n                    break;\n\n                  case 3:\n                    return 9;\n\n                  case 4:\n                    return 21;\n\n                  case 5:\n                    return 22;\n\n                  case 6:\n                    return 18;\n\n                  case 7:\n                    return 15;\n\n                  case 8:\n                    return 13;\n\n                  case 9:\n                    return 20;\n\n                  case 10:\n                    return 24;\n\n                  case 11:\n                    return 24;\n\n                  case 12:\n                    return 28;\n\n                  case 13:\n                    return 27;\n\n                  case 14:\n                    return 30;\n\n                  case 15:\n                    return 29;\n\n                  case 16:\n                    return 31;\n\n                  case 17:\n                    return 5;\n\n                  case 18:\n                    return \"INVALID\";\n                }\n            },\n            rules: [ /^(?:[\\r\\n]+)/i, /^(?:\\s+)/i, /^(?:#[^\\r\\n]*)/i, /^(?:participant\\b)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:over\\b)/i, /^(?:note\\b)/i, /^(?:title\\b)/i, /^(?:,)/i, /^(?:[^\\->:,\\r\\n\"]+)/i, /^(?:\"[^\"]+\")/i, /^(?:--)/i, /^(?:-)/i, /^(?:>>)/i, /^(?:>)/i, /^(?:[^\\r\\n]+)/i, /^(?:$)/i, /^(?:.)/i ],\n            conditions: {\n                INITIAL: {\n                    rules: [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 ],\n                    inclusive: !0\n                }\n            }\n        };\n        return lexer;\n    }();\n    return parser.lexer = lexer, Parser.prototype = parser, parser.Parser = Parser, \n    new Parser();\n}();\n\n\"undefined\" != typeof require && \"undefined\" != typeof exports && (exports.parser = parser, \nexports.Parser = parser.Parser, exports.parse = function() {\n    return parser.parse.apply(parser, arguments);\n}, exports.main = function(args) {\n    args[1] || (console.log(\"Usage: \" + args[0] + \" FILE\"), process.exit(1));\n    var source = require(\"fs\").readFileSync(require(\"path\").normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n}, \"undefined\" != typeof module && require.main === module && exports.main(process.argv.slice(1)));\n/**\n * jison doesn't have a good exception, so we make one.\n * This is brittle as it depends on jison internals\n */\nfunction ParseError(message, hash) {\n  _.extend(this, hash);\n\n  this.name = 'ParseError';\n  this.message = (message || '');\n}\nParseError.prototype = new Error();\nDiagram.ParseError = ParseError;\n\nDiagram.parse = function(input) {\n  // TODO jison v0.4.17 changed their API slightly, so parser is no longer defined:\n\n  // Create the object to track state and deal with errors\n  parser.yy = new Diagram();\n  parser.yy.parseError = function(message, hash) {\n    throw new ParseError(message, hash);\n  };\n\n  // Parse\n  var diagram = parser.parse(input);\n\n  // Then clean up the parseError key that a user won't care about\n  delete diagram.parseError;\n  return diagram;\n};\n\n\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, _ */\n\n// Following the CSS convention\n// Margin is the gap outside the box\n// Padding is the gap inside the box\n// Each object has x/y/width/height properties\n// The x/y should be top left corner\n// width/height is with both margin and padding\n\n// TODO\n// Image width is wrong, when there is a note in the right hand col\n// Title box could look better\n// Note box could look better\n\nvar DIAGRAM_MARGIN = 10;\n\nvar ACTOR_MARGIN   = 10; // Margin around a actor\nvar ACTOR_PADDING  = 10; // Padding inside a actor\n\nvar SIGNAL_MARGIN  = 5; // Margin around a signal\nvar SIGNAL_PADDING = 5; // Padding inside a signal\n\nvar NOTE_MARGIN   = 10; // Margin around a note\nvar NOTE_PADDING  = 5; // Padding inside a note\nvar NOTE_OVERLAP  = 15; // Overlap when using a \"note over A,B\"\n\nvar TITLE_MARGIN   = 0;\nvar TITLE_PADDING  = 5;\n\nvar SELF_SIGNAL_WIDTH = 20; // How far out a self signal goes\n\nvar PLACEMENT = Diagram.PLACEMENT;\nvar LINETYPE  = Diagram.LINETYPE;\nvar ARROWTYPE = Diagram.ARROWTYPE;\n\nvar ALIGN_LEFT   = 0;\nvar ALIGN_CENTER = 1;\n\nfunction AssertException(message) { this.message = message; }\nAssertException.prototype.toString = function() {\n  return 'AssertException: ' + this.message;\n};\n\nfunction assert(exp, message) {\n  if (!exp) {\n    throw new AssertException(message);\n  }\n}\n\nif (!String.prototype.trim) {\n  String.prototype.trim = function() {\n    return this.replace(/^\\s+|\\s+$/g, '');\n  };\n}\n\nDiagram.themes = {};\nfunction registerTheme(name, theme) {\n  Diagram.themes[name] = theme;\n}\n\n/******************\n * Drawing extras\n ******************/\n\nfunction getCenterX(box) {\n  return box.x + box.width / 2;\n}\n\nfunction getCenterY(box) {\n  return box.y + box.height / 2;\n}\n\n/******************\n * SVG Path extras\n ******************/\n\nfunction clamp(x, min, max) {\n  if (x < min) {\n    return min;\n  }\n  if (x > max) {\n    return max;\n  }\n  return x;\n}\n\nfunction wobble(x1, y1, x2, y2) {\n  assert(_.every([x1,x2,y1,y2], _.isFinite), 'x1,x2,y1,y2 must be numeric');\n\n  // Wobble no more than 1/25 of the line length\n  var factor = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1)) / 25;\n\n  // Distance along line where the control points are\n  // Clamp between 20% and 80% so any arrow heads aren't angled too much\n  var r1 = clamp(Math.random(), 0.2, 0.8);\n  var r2 = clamp(Math.random(), 0.2, 0.8);\n\n  var xfactor = Math.random() > 0.5 ? factor : -factor;\n  var yfactor = Math.random() > 0.5 ? factor : -factor;\n\n  var p1 = {\n    x: (x2 - x1) * r1 + x1 + xfactor,\n    y: (y2 - y1) * r1 + y1 + yfactor\n  };\n\n  var p2 = {\n    x: (x2 - x1) * r2 + x1 - xfactor,\n    y: (y2 - y1) * r2 + y1 - yfactor\n  };\n\n  return 'C' + p1.x.toFixed(1) + ',' + p1.y.toFixed(1) + // start control point\n         ' ' + p2.x.toFixed(1) + ',' + p2.y.toFixed(1) + // end control point\n         ' ' + x2.toFixed(1) + ',' + y2.toFixed(1);      // end point\n}\n\n/**\n * Draws a wobbly (hand drawn) rect\n */\nfunction handRect(x, y, w, h) {\n  assert(_.every([x, y, w, h], _.isFinite), 'x, y, w, h must be numeric');\n  return 'M' + x + ',' + y +\n   wobble(x, y, x + w, y) +\n   wobble(x + w, y, x + w, y + h) +\n   wobble(x + w, y + h, x, y + h) +\n   wobble(x, y + h, x, y);\n}\n\n/**\n * Draws a wobbly (hand drawn) line\n */\nfunction handLine(x1, y1, x2, y2) {\n  assert(_.every([x1,x2,y1,y2], _.isFinite), 'x1,x2,y1,y2 must be numeric');\n  return 'M' + x1.toFixed(1) + ',' + y1.toFixed(1) + wobble(x1, y1, x2, y2);\n}\n\n/******************\n * BaseTheme\n ******************/\n\nvar BaseTheme = function(diagram, options) {\n  this.init(diagram, options);\n};\n\n_.extend(BaseTheme.prototype, {\n\n  // Init called while creating the Theme\n  init: function(diagram, options) {\n    this.diagram = diagram;\n\n    this.actorsHeight_  = 0;\n    this.signalsHeight_ = 0;\n    this.title_ = undefined; // hack - This should be somewhere better\n  },\n\n  setupPaper: function(container) {},\n\n  draw: function(container) {\n    this.setupPaper(container);\n\n    this.layout();\n\n    var titleHeight = this.title_ ? this.title_.height : 0;\n    var y = DIAGRAM_MARGIN + titleHeight;\n\n    this.drawTitle();\n    this.drawActors(y);\n    this.drawSignals(y + this.actorsHeight_);\n  },\n\n  layout: function() {\n    // Local copies\n    var diagram = this.diagram;\n    var font    = this.font_;\n    var actors  = diagram.actors;\n    var signals = diagram.signals;\n\n    diagram.width  = 0; // min width\n    diagram.height = 0; // min height\n\n    // Setup some layout stuff\n    if (diagram.title) {\n      var title = this.title_ = {};\n      var bb = this.textBBox(diagram.title, font);\n      title.textBB = bb;\n      title.message = diagram.title;\n\n      title.width  = bb.width  + (TITLE_PADDING + TITLE_MARGIN) * 2;\n      title.height = bb.height + (TITLE_PADDING + TITLE_MARGIN) * 2;\n      title.x = DIAGRAM_MARGIN;\n      title.y = DIAGRAM_MARGIN;\n\n      diagram.width  += title.width;\n      diagram.height += title.height;\n    }\n\n    _.each(actors, _.bind(function(a) {\n      var bb = this.textBBox(a.name, font);\n      a.textBB = bb;\n\n      a.x = 0; a.y = 0;\n      a.width  = bb.width  + (ACTOR_PADDING + ACTOR_MARGIN) * 2;\n      a.height = bb.height + (ACTOR_PADDING + ACTOR_MARGIN) * 2;\n\n      a.distances = [];\n      a.paddingRight = 0;\n      this.actorsHeight_ = Math.max(a.height, this.actorsHeight_);\n    }, this));\n\n    function actorEnsureDistance(a, b, d) {\n      assert(a < b, 'a must be less than or equal to b');\n\n      if (a < 0) {\n        // Ensure b has left margin\n        b = actors[b];\n        b.x = Math.max(d - b.width / 2, b.x);\n      } else if (b >= actors.length) {\n        // Ensure a has right margin\n        a = actors[a];\n        a.paddingRight = Math.max(d, a.paddingRight);\n      } else {\n        a = actors[a];\n        a.distances[b] = Math.max(d, a.distances[b] ? a.distances[b] : 0);\n      }\n    }\n\n    _.each(signals, _.bind(function(s) {\n      // Indexes of the left and right actors involved\n      var a;\n      var b;\n\n      var bb = this.textBBox(s.message, font);\n\n      s.textBB = bb;\n      s.width   = bb.width;\n      s.height  = bb.height;\n\n      var extraWidth = 0;\n\n      if (s.type == 'Signal') {\n\n        s.width  += (SIGNAL_MARGIN + SIGNAL_PADDING) * 2;\n        s.height += (SIGNAL_MARGIN + SIGNAL_PADDING) * 2;\n\n        if (s.isSelf()) {\n          // TODO Self signals need a min height\n          a = s.actorA.index;\n          b = a + 1;\n          s.width += SELF_SIGNAL_WIDTH;\n        } else {\n          a = Math.min(s.actorA.index, s.actorB.index);\n          b = Math.max(s.actorA.index, s.actorB.index);\n        }\n\n      } else if (s.type == 'Note') {\n        s.width  += (NOTE_MARGIN + NOTE_PADDING) * 2;\n        s.height += (NOTE_MARGIN + NOTE_PADDING) * 2;\n\n        // HACK lets include the actor's padding\n        extraWidth = 2 * ACTOR_MARGIN;\n\n        if (s.placement == PLACEMENT.LEFTOF) {\n          b = s.actor.index;\n          a = b - 1;\n        } else if (s.placement == PLACEMENT.RIGHTOF) {\n          a = s.actor.index;\n          b = a + 1;\n        } else if (s.placement == PLACEMENT.OVER && s.hasManyActors()) {\n          // Over multiple actors\n          a = Math.min(s.actor[0].index, s.actor[1].index);\n          b = Math.max(s.actor[0].index, s.actor[1].index);\n\n          // We don't need our padding, and we want to overlap\n          extraWidth = -(NOTE_PADDING * 2 + NOTE_OVERLAP * 2);\n\n        } else if (s.placement == PLACEMENT.OVER) {\n          // Over single actor\n          a = s.actor.index;\n          actorEnsureDistance(a - 1, a, s.width / 2);\n          actorEnsureDistance(a, a + 1, s.width / 2);\n          this.signalsHeight_ += s.height;\n\n          return; // Bail out early\n        }\n      } else {\n        throw new Error('Unhandled signal type:' + s.type);\n      }\n\n      actorEnsureDistance(a, b, s.width + extraWidth);\n      this.signalsHeight_ += s.height;\n    }, this));\n\n    // Re-jig the positions\n    var actorsX = 0;\n    _.each(actors, function(a) {\n      a.x = Math.max(actorsX, a.x);\n\n      // TODO This only works if we loop in sequence, 0, 1, 2, etc\n      _.each(a.distances, function(distance, b) {\n        // lodash (and possibly others) do not like sparse arrays\n        // so sometimes they return undefined\n        if (typeof distance == 'undefined') {\n          return;\n        }\n\n        b = actors[b];\n        distance = Math.max(distance, a.width / 2, b.width / 2);\n        b.x = Math.max(b.x, a.x + a.width / 2 + distance - b.width / 2);\n      });\n\n      actorsX = a.x + a.width + a.paddingRight;\n    });\n\n    diagram.width = Math.max(actorsX, diagram.width);\n\n    // TODO Refactor a little\n    diagram.width  += 2 * DIAGRAM_MARGIN;\n    diagram.height += 2 * DIAGRAM_MARGIN + 2 * this.actorsHeight_ + this.signalsHeight_;\n\n    return this;\n  },\n\n  // TODO Instead of one textBBox function, create a function for each element type, e.g\n  //      layout_title, layout_actor, etc that returns it's bounding box\n  textBBox: function(text, font) {},\n\n  drawTitle: function() {\n    var title = this.title_;\n    if (title) {\n      this.drawTextBox(title, title.message, TITLE_MARGIN, TITLE_PADDING, this.font_, ALIGN_LEFT);\n    }\n  },\n\n  drawActors: function(offsetY) {\n    var y = offsetY;\n    _.each(this.diagram.actors, _.bind(function(a) {\n      // Top box\n      this.drawActor(a, y, this.actorsHeight_);\n\n      // Bottom box\n      this.drawActor(a, y + this.actorsHeight_ + this.signalsHeight_, this.actorsHeight_);\n\n      // Veritical line\n      var aX = getCenterX(a);\n      this.drawLine(\n       aX, y + this.actorsHeight_ - ACTOR_MARGIN,\n       aX, y + this.actorsHeight_ + ACTOR_MARGIN + this.signalsHeight_);\n    }, this));\n  },\n\n  drawActor: function(actor, offsetY, height) {\n    actor.y      = offsetY;\n    actor.height = height;\n    this.drawTextBox(actor, actor.name, ACTOR_MARGIN, ACTOR_PADDING, this.font_, ALIGN_CENTER);\n  },\n\n  drawSignals: function(offsetY) {\n    var y = offsetY;\n    _.each(this.diagram.signals, _.bind(function(s) {\n      // TODO Add debug mode, that draws padding/margin box\n      if (s.type == 'Signal') {\n        if (s.isSelf()) {\n          this.drawSelfSignal(s, y);\n        } else {\n          this.drawSignal(s, y);\n        }\n\n      } else if (s.type == 'Note') {\n        this.drawNote(s, y);\n      }\n\n      y += s.height;\n    }, this));\n  },\n\n  drawSelfSignal: function(signal, offsetY) {\n      assert(signal.isSelf(), 'signal must be a self signal');\n\n      var textBB = signal.textBB;\n      var aX = getCenterX(signal.actorA);\n\n      var x = aX + SELF_SIGNAL_WIDTH + SIGNAL_PADDING;\n      var y = offsetY + SIGNAL_PADDING + signal.height / 2 + textBB.y;\n\n      this.drawText(x, y, signal.message, this.font_, ALIGN_LEFT);\n\n      var y1 = offsetY + SIGNAL_MARGIN + SIGNAL_PADDING;\n      var y2 = y1 + signal.height - 2 * SIGNAL_MARGIN - SIGNAL_PADDING;\n\n      // Draw three lines, the last one with a arrow\n      this.drawLine(aX, y1, aX + SELF_SIGNAL_WIDTH, y1, signal.linetype);\n      this.drawLine(aX + SELF_SIGNAL_WIDTH, y1, aX + SELF_SIGNAL_WIDTH, y2, signal.linetype);\n      this.drawLine(aX + SELF_SIGNAL_WIDTH, y2, aX, y2, signal.linetype, signal.arrowtype);\n    },\n\n  drawSignal: function(signal, offsetY) {\n    var aX = getCenterX(signal.actorA);\n    var bX = getCenterX(signal.actorB);\n\n    // Mid point between actors\n    var x = (bX - aX) / 2 + aX;\n    var y = offsetY + SIGNAL_MARGIN + 2 * SIGNAL_PADDING;\n\n    // Draw the text in the middle of the signal\n    this.drawText(x, y, signal.message, this.font_, ALIGN_CENTER);\n\n    // Draw the line along the bottom of the signal\n    y = offsetY + signal.height - SIGNAL_MARGIN - SIGNAL_PADDING;\n    this.drawLine(aX, y, bX, y, signal.linetype, signal.arrowtype);\n  },\n\n  drawNote: function(note, offsetY) {\n    note.y = offsetY;\n    var actorA = note.hasManyActors() ? note.actor[0] : note.actor;\n    var aX = getCenterX(actorA);\n    switch (note.placement) {\n    case PLACEMENT.RIGHTOF:\n      note.x = aX + ACTOR_MARGIN;\n    break;\n    case PLACEMENT.LEFTOF:\n      note.x = aX - ACTOR_MARGIN - note.width;\n    break;\n    case PLACEMENT.OVER:\n      if (note.hasManyActors()) {\n        var bX = getCenterX(note.actor[1]);\n        var overlap = NOTE_OVERLAP + NOTE_PADDING;\n        note.x = Math.min(aX, bX) - overlap;\n        note.width = (Math.max(aX, bX) + overlap) - note.x;\n      } else {\n        note.x = aX - note.width / 2;\n      }\n    break;\n    default:\n      throw new Error('Unhandled note placement: ' + note.placement);\n  }\n    return this.drawTextBox(note, note.message, NOTE_MARGIN, NOTE_PADDING, this.font_, ALIGN_LEFT);\n  },\n\n  /**\n   * Draw text surrounded by a box\n   */\n  drawTextBox: function(box, text, margin, padding, font, align) {\n    var x = box.x + margin;\n    var y = box.y + margin;\n    var w = box.width  - 2 * margin;\n    var h = box.height - 2 * margin;\n\n    // Draw inner box\n    this.drawRect(x, y, w, h);\n\n    // Draw text (in the center)\n    if (align == ALIGN_CENTER) {\n      x = getCenterX(box);\n      y = getCenterY(box);\n    } else {\n      x += padding;\n      y += padding;\n    }\n\n    return this.drawText(x, y, text, font, align);\n  }\n});\n\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, Snap, WebFont _ */\n// TODO Move defintion of font onto the <svg>, so it can easily be override at each level\nif (typeof Snap != 'undefined') {\n\n  var xmlns = 'http://www.w3.org/2000/svg';\n\n  var LINE = {\n    'stroke': '#000000',\n    'stroke-width': 2, // BUG TODO This gets set as a style, not as a attribute. Look at  eve.on(\"snap.util.attr\"...\n    'fill': 'none'\n  };\n\n  var RECT = {\n        'stroke': '#000000',\n        'stroke-width': 2,\n        'fill': '#fff'\n      };\n\n  var LOADED_FONTS = {};\n\n  /******************\n   * SnapTheme\n   ******************/\n\n  var SnapTheme = function(diagram, options, resume) {\n        _.defaults(options, {\n            'css-class': 'simple',\n            'font-size': 16,\n            'font-family': 'Andale Mono, monospace'\n          });\n\n        this.init(diagram, options, resume);\n      };\n\n  _.extend(SnapTheme.prototype, BaseTheme.prototype, {\n\n    init: function(diagram, options, resume) {\n            BaseTheme.prototype.init.call(this, diagram);\n\n            this.paper_  = undefined;\n            this.cssClass_ = options['css-class'] || undefined;\n            this.font_ = {\n                'font-size': options['font-size'],\n                'font-family': options['font-family']\n              };\n\n            var a = this.arrowTypes_ = {};\n            a[ARROWTYPE.FILLED] = 'Block';\n            a[ARROWTYPE.OPEN]   = 'Open';\n\n            var l = this.lineTypes_ = {};\n            l[LINETYPE.SOLID]  = '';\n            l[LINETYPE.DOTTED] = '6,2';\n\n            var that = this;\n            this.waitForFont(function() {\n              resume(that);\n            });\n          },\n\n    // Wait for loading of the font\n    waitForFont: function(callback) {\n      var fontFamily = this.font_['font-family'];\n\n      if (typeof WebFont == 'undefined') {\n        throw new Error('WebFont is required (https://github.com/typekit/webfontloader).');\n      }\n\n      if (LOADED_FONTS[fontFamily]) {\n        // If already loaded, just return instantly.\n        callback();\n        return;\n      }\n\n      WebFont.load({\n          custom: {\n              families: [fontFamily] // TODO replace this with something that reads the css\n            },\n          classes: false, // No need to place classes on the DOM, just use JS Events\n          active: function() {\n              LOADED_FONTS[fontFamily] = true;\n              callback();\n            },\n          inactive: function() {\n              // If we fail to fetch the font, still continue.\n              LOADED_FONTS[fontFamily] = true;\n              callback();\n            }\n        });\n    },\n\n    addDescription: function(svg, description) {\n          var desc = document.createElementNS(xmlns, 'desc');\n          desc.appendChild(document.createTextNode(description));\n          svg.appendChild(desc);\n        },\n\n    setupPaper: function(container) {\n      // Container must be a SVG element. We assume it's a div, so lets create a SVG and insert\n      var svg = document.createElementNS(xmlns, 'svg');\n      container.appendChild(svg);\n\n      this.addDescription(svg, this.diagram.title || '');\n\n      this.paper_ = Snap(svg);\n      this.paper_.addClass('sequence');\n\n      if (this.cssClass_) {\n        this.paper_.addClass(this.cssClass_);\n      }\n\n      this.beginGroup();\n\n      // TODO Perhaps only include the markers if we actually use them.\n      var a = this.arrowMarkers_ = {};\n      var arrow = this.paper_.path('M 0 0 L 5 2.5 L 0 5 z');\n      a[ARROWTYPE.FILLED] = arrow.marker(0, 0, 5, 5, 5, 2.5)\n       .attr({id: 'markerArrowBlock'});\n\n      arrow = this.paper_.path('M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z');\n      a[ARROWTYPE.OPEN] = arrow.marker(0, 0, 9.6, 16, 9.6, 8)\n       .attr({markerWidth: '4', id: 'markerArrowOpen'});\n    },\n\n    layout: function() {\n      BaseTheme.prototype.layout.call(this);\n      this.paper_.attr({\n        width:  this.diagram.width + 'px',\n        height: this.diagram.height + 'px'\n      });\n    },\n\n    textBBox: function(text, font) {\n      // TODO getBBox will return the bounds with any whitespace/kerning. This makes some of our aligments screwed up\n      var t = this.createText(text, font);\n      var bb = t.getBBox();\n      t.remove();\n      return bb;\n    },\n\n    // For each drawn element, push onto the stack, so it can be wrapped in a single outer element\n    pushToStack: function(element) {\n      this._stack.push(element);\n      return element;\n    },\n\n    // Begin a group of elements\n    beginGroup: function() {\n      this._stack = [];\n    },\n\n    // Finishes the group, and returns the <group> element\n    finishGroup: function() {\n      var g = this.paper_.group.apply(this.paper_, this._stack);\n      this.beginGroup(); // Reset the group\n      return g;\n    },\n\n    createText: function(text, font) {\n      text = text.split('\\n').map(function(x) {\n          return x.trim();\n      });\n      var t = this.paper_.text(0, 0, text);\n      t.attr(font || {});\n      if (text.length > 1) {\n        // Every row after the first, set tspan to be 1.2em below the previous line\n        t.selectAll('tspan:nth-child(n+2)').attr({\n          dy: '1.2em',\n          x: 0\n        });\n      }\n\n      return t;\n    },\n\n    drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n      var line = this.paper_.line(x1, y1, x2, y2).attr(LINE);\n      if (linetype !== undefined) {\n        line.attr('strokeDasharray', this.lineTypes_[linetype]);\n      }\n      if (arrowhead !== undefined) {\n        line.attr('markerEnd', this.arrowMarkers_[arrowhead]);\n      }\n      return this.pushToStack(line);\n    },\n\n    drawRect: function(x, y, w, h) {\n      var rect = this.paper_.rect(x, y, w, h).attr(RECT);\n      return this.pushToStack(rect);\n    },\n\n    /**\n     * Draws text with a optional white background\n     * x,y (int) x,y top left point of the text, or the center of the text (depending on align param)\n     * text (string) text to print\n     * font (Object)\n     * align (string) ALIGN_LEFT or ALIGN_CENTER\n     */\n    drawText: function(x, y, text, font, align) {\n      var t = this.createText(text, font);\n      var bb = t.getBBox();\n\n      if (align == ALIGN_CENTER) {\n        x = x - bb.width / 2;\n        y = y - bb.height / 2;\n      }\n\n      // Now move the text into place\n      // `y - bb.y` because text(..) is positioned from the baseline, so this moves it down.\n      t.attr({x: x - bb.x, y: y - bb.y});\n      t.selectAll('tspan').attr({x: x});\n\n      this.pushToStack(t);\n      return t;\n    },\n\n    drawTitle: function() {\n      this.beginGroup();\n      BaseTheme.prototype.drawTitle.call(this);\n      return this.finishGroup().addClass('title');\n    },\n\n    drawActor: function(actor, offsetY, height) {\n      this.beginGroup();\n      BaseTheme.prototype.drawActor.call(this, actor, offsetY, height);\n      return this.finishGroup().addClass('actor');\n    },\n\n    drawSignal: function(signal, offsetY) {\n      this.beginGroup();\n      BaseTheme.prototype.drawSignal.call(this, signal, offsetY);\n      return this.finishGroup().addClass('signal');\n    },\n\n    drawSelfSignal: function(signal, offsetY) {\n      this.beginGroup();\n      BaseTheme.prototype.drawSelfSignal.call(this, signal, offsetY);\n      return this.finishGroup().addClass('signal');\n    },\n\n    drawNote: function(note, offsetY) {\n      this.beginGroup();\n      BaseTheme.prototype.drawNote.call(this, note, offsetY);\n      return this.finishGroup().addClass('note');\n    },\n  });\n\n  /******************\n   * SnapHandTheme\n   ******************/\n\n  var SnapHandTheme = function(diagram, options, resume) {\n        _.defaults(options, {\n            'css-class': 'hand',\n            'font-size': 16,\n            'font-family': 'danielbd'\n          });\n\n        this.init(diagram, options, resume);\n      };\n\n  // Take the standard SnapTheme and make all the lines wobbly\n  _.extend(SnapHandTheme.prototype, SnapTheme.prototype, {\n    drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n      var line = this.paper_.path(handLine(x1, y1, x2, y2)).attr(LINE);\n      if (linetype !== undefined) {\n        line.attr('strokeDasharray', this.lineTypes_[linetype]);\n      }\n      if (arrowhead !== undefined) {\n        line.attr('markerEnd', this.arrowMarkers_[arrowhead]);\n      }\n      return this.pushToStack(line);\n    },\n\n    drawRect: function(x, y, w, h) {\n      var rect = this.paper_.path(handRect(x, y, w, h)).attr(RECT);\n      return this.pushToStack(rect);\n    }\n  });\n\n  registerTheme('snapSimple', SnapTheme);\n  registerTheme('snapHand',   SnapHandTheme);\n}\n\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, Raphael, _ */\n\nif (typeof Raphael != 'undefined') {\n\n  var LINE = {\n    'stroke': '#000000',\n    'stroke-width': 2,\n    'fill': 'none'\n  };\n\n  var RECT = {\n        'stroke': '#000000',\n        'stroke-width': 2,\n        'fill': '#fff'\n      };\n\n  /******************\n   * Raphaël extras\n   ******************/\n  Raphael.fn.line = function(x1, y1, x2, y2) {\n    assert(_.every([x1,x2,y1,y2], _.isFinite), 'x1,x2,y1,y2 must be numeric');\n    return this.path('M{0},{1} L{2},{3}', x1, y1, x2, y2);\n  };\n\n  /******************\n   * RaphaelTheme\n   ******************/\n\n  var RaphaelTheme = function(diagram, options, resume) {\n        this.init(diagram, _.defaults(options, {\n            'font-size': 16,\n            'font-family': 'Andale Mono, monospace'\n          }), resume);\n      };\n\n  _.extend(RaphaelTheme.prototype, BaseTheme.prototype, {\n\n    init: function(diagram, options, resume) {\n      BaseTheme.prototype.init.call(this, diagram);\n\n      this.paper_  = undefined;\n      this.font_   = {\n                  'font-size': options['font-size'],\n                  'font-family': options['font-family']\n                };\n\n      var a = this.arrowTypes_ = {};\n      a[ARROWTYPE.FILLED] = 'block';\n      a[ARROWTYPE.OPEN]   = 'open';\n\n      var l = this.lineTypes_ = {};\n      l[LINETYPE.SOLID]  = '';\n      l[LINETYPE.DOTTED] = '-';\n\n      resume(this);\n    },\n\n    setupPaper: function(container) {\n      this.paper_ = new Raphael(container, 320, 200);\n      this.paper_.setStart();\n    },\n\n    draw: function(container) {\n      BaseTheme.prototype.draw.call(this, container);\n      this.paper_.setFinish();\n    },\n\n    layout: function() {\n      BaseTheme.prototype.layout.call(this);\n      this.paper_.setSize(\n       this.diagram.width,\n       this.diagram.height\n      );\n    },\n\n    /**\n     * Strip whitespace from each newline\n     */\n    cleanText: function(text) {\n      return text.split('\\n').map(function(x) {\n        return x.trim();\n      }).join('\\n');\n    },\n\n    /**\n     * Returns the text's bounding box\n     */\n    textBBox: function(text, font) {\n      text = this.cleanText(text);\n      font = font || {};\n      var p;\n      if (font.obj_) {\n        p = this.paper_.print(0, 0, text, font.obj_, font['font-size']);\n      } else {\n        p = this.paper_.text(0, 0, text);\n        p.attr(font);\n      }\n\n      var bb = p.getBBox();\n      p.remove();\n\n      return bb;\n    },\n\n    drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n      var line = this.paper_.line(x1, y1, x2, y2).attr(LINE);\n      if (arrowhead !== undefined) {\n        line.attr('arrow-end', this.arrowTypes_[arrowhead] + '-wide-long');\n      }\n      if (arrowhead !== undefined) {\n        line.attr('stroke-dasharray', this.lineTypes_[linetype]);\n      }\n      return line;\n    },\n\n    drawRect: function(x, y, w, h) {\n      return this.paper_.rect(x, y, w, h).attr(RECT);\n    },\n\n    /**\n     * Draws text with a optional white background\n     * x,y (int) x,y top left point of the text, or the center of the text (depending on align param)\n     * text (string) text to print\n     * font (Object)\n     * align (string) ALIGN_LEFT or ALIGN_CENTER\n     */\n    drawText: function(x, y, text, font, align) {\n      text = this.cleanText(text);\n      font = font || {};\n      align = align || ALIGN_LEFT;\n\n      var paper = this.paper_;\n      var bb = this.textBBox(text, font);\n\n      if (align == ALIGN_CENTER) {\n        x = x - bb.width / 2;\n        y = y - bb.height / 2;\n      }\n\n      var t;\n      if (font.obj_) {\n        // When using a font, we have to use .print(..)\n        t = paper.print(x - bb.x, y - bb.y, text, font.obj_, font['font-size']);\n      } else {\n        t = paper.text(x - bb.x - bb.width / 2, y - bb.y, text);\n        t.attr(font);\n        t.attr({'text-anchor': 'start'});\n      }\n\n      return t;\n    }\n  });\n\n  /******************\n   * RaphaelHandTheme\n   ******************/\n\n  var RaphaelHandTheme = function(diagram, options, resume) {\n    this.init(diagram, _.defaults(options, {\n              'font-size': 16,\n              'font-family': 'daniel'\n            }), resume);\n  };\n\n  // Take the standard RaphaelTheme and make all the lines wobbly\n  _.extend(RaphaelHandTheme.prototype, RaphaelTheme.prototype, {\n        setupPaper: function(container) {\n            RaphaelTheme.prototype.setupPaper.call(this, container);\n            this.font_.obj_ = this.paper_.getFont('daniel');\n          },\n\n        drawLine: function(x1, y1, x2, y2, linetype, arrowhead) {\n          var line = this.paper_.path(handLine(x1, y1, x2, y2)).attr(LINE);\n          if (arrowhead !== undefined) {\n            line.attr('arrow-end', this.arrowTypes_[arrowhead] + '-wide-long');\n          }\n          if (arrowhead !== undefined) {\n            line.attr('stroke-dasharray', this.lineTypes_[linetype]);\n          }\n          return line;\n        },\n\n        drawRect: function(x, y, w, h) {\n          return this.paper_.path(handRect(x, y, w, h)).attr(RECT);\n        }\n      });\n\n  registerTheme('raphaelSimple', RaphaelTheme);\n  registerTheme('raphaelHand',   RaphaelHandTheme);\n}\n/*!\n * The following copyright notice may not be removed under any circumstances.\n * \n * Copyright:\n * Copyright (c) 2011 by Daniel Midgley. All rights reserved.\n * \n * Trademark:\n * Please refer to the Copyright section for the font trademark attribution\n * notices.\n * \n * Full name:\n * Daniel-Bold\n * \n * Description:\n * Daniel Bold is a font by Daniel Midgley.\n * \n * Designer:\n * Daniel Midgley\n * \n * Vendor URL:\n * http://goodreasonblog.blogspot.com/p/fontery.html\n * \n * License information:\n * http://creativecommons.org/licenses/by-nd/3.0/\n */\nif (typeof Raphael != 'undefined') {\nRaphael.registerFont({\n    \"w\": 209,\n    \"face\": {\n        \"font-family\": \"Daniel\",\n        \"font-weight\": 700,\n        \"font-stretch\": \"normal\",\n        \"units-per-em\": \"360\",\n        \"panose-1\": \"2 11 8 0 0 0 0 0 0 0\",\n        \"ascent\": \"288\",\n        \"descent\": \"-72\",\n        \"x-height\": \"7\",\n        \"bbox\": \"-92.0373 -310.134 519 184.967\",\n        \"underline-thickness\": \"3.51562\",\n        \"underline-position\": \"-25.1367\",\n        \"unicode-range\": \"U+0009-U+F002\"\n    },\n    \"glyphs\": {\n        \" \": {\n            \"w\": 179\n        },\n        \"\\t\": {\n            \"w\": 179\n        },\n        \"\\r\": {\n            \"w\": 179\n        },\n        \"!\": {\n            \"d\": \"66,-306v9,3,18,11,19,24v-18,73,-20,111,-37,194v0,10,2,34,-12,34v-12,0,-18,-9,-18,-28v0,-85,23,-136,38,-214v1,-7,4,-10,10,-10xm25,-30v15,-1,28,34,5,35v-11,-1,-38,-36,-5,-35\",\n            \"w\": 115\n        },\n        \"\\\"\": {\n            \"d\": \"91,-214v-32,3,-25,-40,-20,-68v3,-16,7,-25,12,-27v35,13,14,56,8,95xm8,-231v4,-31,1,-40,18,-75v37,7,11,51,11,79v-3,3,-4,8,-5,13v-17,4,-16,-10,-24,-17\",\n            \"w\": 117\n        },\n        \"#\": {\n            \"d\": \"271,-64v-30,26,-96,-7,-102,51v-6,2,-13,2,-24,-2v-2,-11,10,-21,2,-28v-14,5,-48,0,-48,22v0,23,-11,14,-29,10v-7,-6,6,-19,-1,-24r-32,4v-19,-8,-15,-24,5,-28r33,-6v4,0,24,-23,11,-27v-26,0,-63,14,-74,-10v3,-1,9,-17,16,-10v15,-8,81,4,89,-30v8,-14,16,-34,24,-38v23,9,24,38,5,49v37,24,55,-38,72,-43v19,10,20,23,-1,45v2,8,23,1,29,4v3,3,6,6,10,11v-14,13,-20,12,-45,12v-17,0,-16,17,-19,29v18,-7,49,3,67,-2v4,0,8,4,12,11xm161,-104v-30,-1,-44,10,-44,37v14,1,24,0,40,-5v0,-1,3,-10,8,-26v0,-4,-1,-6,-4,-6\",\n            \"w\": 285\n        },\n        \"$\": {\n            \"d\": \"164,-257v29,4,1,42,-3,50v5,5,38,13,41,24v8,4,6,15,-2,21v-18,3,-36,-17,-49,-17v-17,1,-31,40,-28,48v5,4,8,8,9,10v13,1,35,37,28,44v-10,21,-36,20,-65,28v-10,10,-12,40,-17,51v-9,-3,-28,1,-18,-17v0,-13,5,-24,-1,-35v-18,1,-59,-10,-42,-29v21,0,56,16,55,-16v5,-4,9,-18,9,-26v-14,-15,-55,-41,-53,-65v2,-33,56,-19,98,-26v10,-14,31,-43,38,-45xm93,-152v11,-10,15,-15,14,-29v-17,-3,-37,1,-43,6v10,12,20,19,29,23xm111,-103v-8,1,-11,12,-10,22v10,0,28,2,27,-8v0,-4,-13,-15,-17,-14\",\n            \"w\": 225\n        },\n        \"%\": {\n            \"d\": \"181,-96v24,-7,67,-13,104,1v14,18,21,19,22,44v-13,43,-99,61,-146,36v-9,-9,-22,-11,-32,-29v0,-27,24,-53,52,-52xm139,-185v-9,68,-138,73,-131,-5v0,-3,3,-9,9,-17v13,1,27,1,17,-16v5,-39,63,0,93,-6v36,1,80,-9,102,11v15,32,12,32,-8,56v-16,21,-103,78,-152,125r-14,28v-23,11,-25,-7,-29,-20v34,-71,133,-98,171,-162v-13,-12,-52,-5,-61,1v0,1,1,3,3,5xm38,-190v0,34,55,29,70,8v0,-14,-20,-11,-32,-14v-14,-3,-24,-9,-40,-10v1,0,5,11,2,16xm172,-53v12,27,90,18,102,-5v-18,-7,-32,-10,-40,-10v-29,3,-57,-4,-62,15\",\n            \"w\": 308\n        },\n        \"&\": {\n            \"d\": \"145,-82v17,-8,47,-15,71,-26v13,2,25,12,9,23v-23,7,-40,16,-53,27r0,6v13,8,30,21,36,38v0,8,-4,12,-11,12v-19,0,-43,-39,-59,-44v-30,12,-65,29,-97,32v-32,3,-45,-41,-23,-63v21,-20,52,-26,70,-48v-4,-31,-12,-47,9,-73v13,-16,20,-29,23,-39v15,-15,32,-22,51,-22v30,9,62,64,32,96v-2,3,-47,42,-69,48v-15,8,-11,9,0,22v6,7,10,11,11,11xm114,-138v25,-13,62,-38,74,-62v0,-9,-10,-31,-20,-29v-28,7,-60,42,-60,75v0,10,2,15,6,16xm99,-91v-18,10,-54,18,-59,45v26,5,61,-12,77,-22v-1,-5,-13,-23,-18,-23\",\n            \"w\": 253\n        },\n        \"'\": {\n            \"d\": \"36,-182v-36,7,-34,-61,-17,-80v15,1,21,19,21,20r-1,-1v0,0,-1,12,-5,35v1,5,3,17,2,26\",\n            \"w\": 63\n        },\n        \"(\": {\n            \"d\": \"130,-306v13,2,23,43,-1,43v-49,43,-77,77,-90,148v5,49,27,67,64,101v4,14,5,6,2,19r-15,0v-35,-17,-79,-58,-79,-120v0,-58,66,-176,119,-191\",\n            \"w\": 120\n        },\n        \")\": {\n            \"d\": \"108,-138v-2,73,-48,120,-98,153v-17,-5,-16,-20,-6,-31v52,-64,73,-62,74,-135v1,-42,-40,-98,-58,-128v0,-5,-1,-12,-2,-22v18,-18,25,0,42,27v25,39,50,66,48,136\",\n            \"w\": 120\n        },\n        \"*\": {\n            \"d\": \"121,-271v15,-5,36,-8,40,9v-5,10,-31,19,-47,31v0,11,34,43,14,53v-18,8,-24,-24,-34,-20v-4,10,-4,19,-12,41v-25,7,-15,-30,-17,-47v-13,-1,-17,9,-46,30r-10,0v-20,-32,37,-43,54,-64v-10,-11,-36,-33,-16,-51v3,0,14,8,33,24v8,-10,26,-39,32,-42v14,7,15,23,9,36\",\n            \"w\": 177\n        },\n        \"+\": {\n            \"d\": \"163,-64v-7,22,-65,2,-77,21v-2,10,-6,21,-11,35v-20,4,-21,-12,-19,-29v3,-23,-44,6,-39,-27v-8,-22,36,-8,49,-18v8,-13,6,-36,24,-40v19,-4,14,32,11,39v18,3,19,2,54,8v2,1,5,5,8,11\",\n            \"w\": 170\n        },\n        \",\": {\n            \"d\": \"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102\",\n            \"w\": 97\n        },\n        \"-\": {\n            \"d\": \"57,-94v19,4,55,-5,54,17v-15,23,-54,20,-91,15v-4,2,-13,-10,-11,-16v-1,-22,28,-15,48,-16\",\n            \"w\": 124\n        },\n        \".\": {\n            \"d\": \"40,-48v21,20,21,44,-4,44v-33,0,-26,-24,-10,-44r14,0\",\n            \"w\": 67\n        },\n        \"\\/\": {\n            \"d\": \"21,20v-22,-45,21,-95,41,-126v38,-57,115,-158,193,-201v2,0,4,3,7,11v11,29,-15,34,-25,55v-81,56,-189,208,-197,261r-19,0\",\n            \"w\": 275\n        },\n        \"0\": {\n            \"d\": \"78,-237v70,-47,269,-41,270,59v0,34,-11,53,-29,76v-13,35,-30,32,-85,64v-6,2,-10,6,-7,8v-73,14,-98,38,-173,1v-7,-13,-52,-48,-46,-88v9,-57,27,-75,70,-120xm123,-38v100,0,202,-46,195,-153v-32,-55,-144,-73,-211,-35v-16,34,-68,54,-53,108v6,25,1,22,-3,39v6,24,41,41,72,41\",\n            \"w\": 353\n        },\n        \"1\": {\n            \"d\": \"39,-208v0,-14,6,-59,29,-39v3,4,6,13,10,24r-22,128r8,87v-4,6,-9,3,-16,2v-44,-38,-9,-137,-9,-202\",\n            \"w\": 93\n        },\n        \"2\": {\n            \"d\": \"88,-35v47,-10,119,-24,168,-9v0,12,-23,13,-35,16v1,1,3,1,5,1v-74,8,-118,23,-194,23v-14,0,-20,-13,-21,-28v55,-40,83,-61,123,-104v26,-13,65,-67,71,-102v-1,-9,-11,-16,-22,-16v-20,-1,-120,29,-156,49v-10,-2,-30,-20,-10,-28v50,-21,111,-51,178,-48v25,10,44,22,36,39v12,30,-19,64,-34,83v-39,48,-37,39,-115,109v0,5,-3,8,-8,11v4,3,8,4,14,4\",\n            \"w\": 265\n        },\n        \"3\": {\n            \"d\": \"188,-282v34,-10,74,25,47,51v-19,32,-55,50,-92,70v28,14,116,25,108,70v8,14,-49,40,-63,48v-29,9,-130,22,-168,42v-6,-5,-19,-7,-12,-22v56,-36,175,-21,210,-76v-9,-20,-88,-42,-97,-33v-20,-1,-41,2,-56,-7r5,-21v56,-25,103,-36,137,-78v1,-1,2,-5,4,-11v-15,-14,-56,7,-79,0v-10,9,-73,22,-92,31v-11,-4,-28,-23,-13,-30v50,-22,96,-26,154,-37v0,-1,8,3,7,3\",\n            \"w\": 260\n        },\n        \"4\": {\n            \"d\": \"79,-249v-7,17,-29,75,-33,96v0,6,3,8,8,8v43,-2,111,6,141,-6v17,-47,20,-100,63,-148v9,4,16,7,21,10v-17,31,-44,95,-51,141v7,4,24,-4,23,10v-1,16,-29,12,-31,23v-10,22,-9,69,-7,103v-3,2,-7,5,-10,9v-47,-11,-23,-74,-16,-114v0,-4,-2,-6,-7,-6v-65,2,-89,13,-162,4v-22,-22,-2,-53,5,-76v16,-15,17,-57,35,-70v6,-1,21,11,21,16\",\n            \"w\": 267\n        },\n        \"5\": {\n            \"d\": \"185,-272v30,7,45,-8,53,18v1,16,-17,18,-34,14v0,0,-95,-11,-129,1v-6,9,-24,33,-29,54v76,10,171,5,214,47v11,11,22,30,5,52v-14,12,-30,14,-34,27v-26,11,-141,63,-157,60v-16,-2,-25,-19,-4,-27v48,-18,128,-39,170,-86v4,-14,-65,-41,-85,-41r-92,0v-10,-4,-66,-1,-57,-23v0,-23,23,-51,35,-83v11,-28,133,-10,144,-13\",\n            \"w\": 284\n        },\n        \"6\": {\n            \"d\": \"70,-64v9,-51,63,-74,123,-71v43,2,109,3,111,41r-25,47v0,1,1,2,2,3v-5,0,-39,10,-41,20v-15,3,-22,4,-22,11v-39,1,-77,20,-119,13v-42,-7,-35,-9,-77,-46v-56,-118,94,-201,176,-229v7,0,21,8,20,15v-2,17,-23,15,-43,24v-69,31,-119,72,-134,145v-5,25,36,68,78,64v59,-6,128,-18,153,-61v-7,-14,-13,-9,-32,-21v-67,-15,-118,-5,-150,43r0,12v-13,4,-17,-3,-20,-10\",\n            \"w\": 310\n        },\n        \"7\": {\n            \"d\": \"37,-228v33,-14,173,-17,181,-19v28,-1,24,31,9,45v-17,15,-45,49,-59,69v-17,26,-55,67,-61,113v-10,13,-9,14,-14,20v-33,-13,-20,-25,-11,-53v16,-48,73,-115,109,-156v2,-7,5,-14,-10,-12v-26,4,-54,6,-76,13v-23,-5,-83,31,-94,-9v2,-8,18,-19,26,-11\",\n            \"w\": 245\n        },\n        \"8\": {\n            \"d\": \"57,-236v40,-50,166,-51,213,-10v22,28,10,63,-22,78r-35,17v8,5,54,24,53,44v-5,14,-4,33,-18,42v-13,13,-35,18,-44,34v-60,27,-190,49,-194,-42v7,-41,17,-54,59,-70r0,-4v-32,-9,-73,-62,-26,-85v4,0,8,-2,14,-4xm142,-160v24,-2,160,-31,99,-72v-28,-18,-108,-33,-146,-5v-16,12,-28,30,-33,59v24,12,37,20,80,18xm41,-62v30,65,189,6,199,-37v3,-14,-60,-30,-74,-30v-70,0,-118,10,-125,67\",\n            \"w\": 290\n        },\n        \"9\": {\n            \"d\": \"11,-192v15,-49,119,-61,161,-23v16,15,27,55,11,79v-20,62,-51,79,-96,118v-10,4,-45,27,-50,6v9,-15,66,-52,98,-99v-7,-7,-8,-3,-25,0v-49,-11,-96,-25,-99,-81xm145,-131v7,-5,13,-34,13,-41v-2,-51,-104,-38,-114,-6v-2,10,37,35,46,35v23,1,43,-1,55,12\",\n            \"w\": 198\n        },\n        \":\": {\n            \"d\": \"39,-125v15,-8,40,-1,40,15v0,15,-6,22,-19,22v-13,0,-29,-21,-21,-37xm66,-17v-8,27,-51,19,-46,-8v-1,-6,8,-22,14,-20v29,0,30,6,32,28\",\n            \"w\": 95\n        },\n        \";\": {\n            \"d\": \"56,-93v2,-30,37,-22,40,2v0,2,-1,7,-3,15v-13,8,-15,6,-27,4xm64,-44v11,-11,30,-4,32,14v-21,39,-63,71,-92,85v-5,0,-11,-2,-18,-8v11,-23,36,-36,50,-61v11,-7,19,-20,28,-30\",\n            \"w\": 107\n        },\n        \"<\": {\n            \"d\": \"166,-202v12,0,29,15,24,29v0,4,-119,64,-120,73v15,21,89,64,91,86v2,29,-18,12,-30,15v-27,-29,-59,-54,-95,-75v-18,-10,-25,-13,-24,-41\",\n            \"w\": 176\n        },\n        \"=\": {\n            \"d\": \"125,-121v18,7,55,-9,69,14v0,17,-45,26,-135,26v-18,0,-27,-7,-27,-21v-1,-37,60,-5,93,-19xm138,-71v20,0,48,-1,50,16v-13,24,-86,32,-131,29v-29,-2,-43,-10,-43,-24v-7,-23,36,-14,39,-17v27,6,57,-4,85,-4\",\n            \"w\": 196\n        },\n        \">\": {\n            \"d\": \"4,-14v20,-48,77,-59,118,-94v-16,-19,-58,-52,-81,-75v-11,-7,-15,-38,-1,-40v33,16,83,71,121,105v26,23,-6,35,-41,53v-29,16,-56,28,-73,54v-21,15,-16,20,-34,15v-3,0,-9,-16,-9,-18\",\n            \"w\": 174\n        },\n        \"?\": {\n            \"d\": \"105,-291v57,-13,107,-4,107,39v0,67,-136,85,-155,137v-1,6,10,23,-4,23v-23,1,-33,-35,-23,-57v31,-41,124,-60,149,-103v-8,-21,-72,-5,-88,-1v-23,6,-59,39,-71,8v0,0,-1,0,1,-17v10,-4,45,-20,84,-29xm80,-25v-6,4,-8,39,-24,22v-24,3,-22,-21,-13,-35v17,-7,29,5,37,13\",\n            \"w\": 216\n        },\n        \"@\": {\n            \"d\": \"218,-207v23,8,42,14,47,37v44,68,-27,137,-87,85r1,0v0,2,-59,19,-61,17v-35,0,-42,-47,-17,-68r0,-4v-19,-1,-45,37,-49,40v-37,76,58,72,121,62v11,-2,34,-13,36,3v-14,31,-69,31,-114,33v-51,2,-99,-41,-80,-92v2,-30,22,-40,42,-63v35,-20,91,-53,161,-50xm217,-101v23,0,35,-19,35,-41v0,-43,-75,-41,-102,-19v36,3,55,16,62,41v-6,5,-6,19,5,19xm127,-110v8,5,51,-15,28,-16v-4,0,-25,4,-28,16\",\n            \"w\": 291\n        },\n        \"A\": {\n            \"d\": \"97,-81v-23,-10,-39,38,-52,60v-8,6,-8,6,-22,18v-22,-7,-23,-37,-4,-49v7,-8,11,-15,15,-23r-1,1v-14,-26,23,-29,31,-40v1,-1,15,-29,26,-36v17,-31,39,-58,54,-92v16,-20,20,-51,41,-66v29,5,34,62,45,92v9,64,21,103,49,155v-3,25,-44,11,-54,0v-34,-12,-97,-29,-128,-20xm107,-118v20,6,80,10,111,17v6,-7,-4,-15,-7,-24v-11,-28,-9,-92,-30,-117v-9,9,-19,44,-34,55v-9,23,-27,40,-40,69\",\n            \"w\": 294\n        },\n        \"B\": {\n            \"d\": \"256,-179v41,10,115,34,91,91v-6,3,-14,12,-19,20v-37,19,-50,34,-63,25v-9,10,-12,11,-34,13r3,-3v-4,-4,-12,-4,-18,0v0,0,2,2,5,4v-21,14,-26,6,-44,15v-4,0,-7,-2,-8,-5v-6,11,-20,-5,-18,11v-36,4,-91,35,-114,4v-7,-62,-10,-138,4,-199v-1,-19,-37,2,-37,-27v0,-8,2,-13,6,-15v68,-31,231,-92,311,-39v8,12,12,20,12,25v-8,42,-32,49,-77,80xm79,-160v72,-17,135,-39,184,-70v20,-13,31,-23,31,-27v1,-6,-30,-13,-38,-12v-54,0,-116,13,-186,41v11,21,1,48,9,68xm262,-43v0,-4,3,-6,-4,-5v0,1,1,2,4,5xm211,-140v-34,7,-94,24,-139,15v-6,20,-4,56,-4,82v0,29,43,1,56,2v48,-11,108,-25,154,-48v20,-10,32,-17,32,-25v0,-18,-33,-26,-99,-26xm195,-20v6,1,6,-2,5,-7v-3,2,-7,2,-5,7\",\n            \"w\": 364\n        },\n        \"C\": {\n            \"d\": \"51,-114v-12,75,96,76,166,71r145,-10v9,2,9,5,9,18v-37,18,-85,28,-109,22v-18,10,-47,10,-71,10v-29,0,-68,1,-105,-11v-6,-1,-10,-3,-10,-8v-33,-13,-48,-33,-66,-59v-19,-114,146,-150,224,-177v35,0,88,-31,99,7v-1,29,-49,14,-76,28v-55,8,-115,35,-175,71v-13,8,-23,21,-31,38\",\n            \"w\": 376\n        },\n        \"D\": {\n            \"d\": \"312,-78v-2,1,-3,7,-10,5v6,-3,10,-4,10,-5xm4,-252v2,-27,83,-38,106,-39v130,-7,267,1,291,109v0,0,-2,8,-3,25v-5,9,-4,28,-23,34v-4,4,-2,5,-7,0v-3,3,-15,7,-5,10v0,0,-10,14,-13,2v-11,1,-8,5,-20,14v1,2,7,3,9,1v-4,13,-22,13,-11,4v0,-3,1,-6,-3,-5v-40,29,-103,38,-141,65v10,6,22,-7,34,-3v-41,20,-127,44,-171,46v-21,1,-47,-33,-11,-39v15,-2,43,-6,56,-11v-16,-101,-5,-130,9,-207v2,0,4,-1,6,-3v-16,-17,-91,38,-103,-3xm297,-69v-7,3,-17,8,-25,7v1,1,3,2,5,2v-4,2,-11,5,-23,9v4,-11,30,-21,43,-18xm240,-51v10,0,12,2,0,6r0,-6xm220,-36v-1,-3,4,-6,6,-3v0,1,-2,1,-6,3xm125,-48v16,6,137,-46,155,-53v29,-18,101,-44,82,-93v-21,-53,-84,-61,-168,-67v-20,7,-50,3,-77,8v33,54,-12,132,8,205xm159,-22v-4,-1,-15,-5,-15,2v7,-1,12,-2,15,-2\",\n            \"w\": 381\n        },\n        \"E\": {\n            \"d\": \"45,-219v-19,-36,34,-41,63,-36v44,-10,133,-8,194,-15v3,2,38,11,52,15v-73,19,-171,21,-246,38v-9,11,-16,32,-20,61v35,11,133,-6,183,3v1,6,2,7,3,14v-46,24,-118,16,-193,27v-15,13,-22,52,-22,66v60,1,121,-20,188,-20v22,10,53,-7,74,5v16,29,-23,26,-43,32v-73,4,-139,13,-216,27r-52,-10v-4,-22,23,-69,26,-98v-3,0,-10,-15,-12,-24v20,-12,34,-23,35,-67v2,-1,5,-5,5,-7v0,-4,-14,-11,-19,-11\",\n            \"w\": 353\n        },\n        \"F\": {\n            \"d\": \"270,-258v13,2,59,6,48,34v-78,-3,-143,1,-212,22v-10,16,-21,43,-24,69r145,-9v8,3,29,-3,16,21v-14,-1,-59,13,-60,7v-12,13,-67,18,-108,21v-2,1,-4,3,-7,6v-2,23,-8,43,-7,69v1,28,-30,11,-40,5r10,-80r-26,-14v5,-10,10,-33,28,-25v21,-3,15,-46,26,-59v-1,-3,-32,-13,-28,-24v2,-22,45,-16,59,-30v47,4,99,-14,151,-9v5,-3,25,-3,29,-4\",\n            \"w\": 236\n        },\n        \"G\": {\n            \"d\": \"311,-168v53,0,94,57,74,110v-31,37,-71,34,-136,52v-13,-7,-41,10,-57,7v-73,-1,-122,-17,-162,-59v-49,-51,-24,-80,5,-130v35,-61,138,-93,214,-106v16,4,42,-1,40,21v-5,40,-39,2,-73,21v-76,19,-162,65,-177,142v28,103,237,76,312,29v2,-3,3,-7,3,-13v-10,-35,-37,-43,-87,-45v-16,-13,-53,-9,-78,1v-4,-3,-5,-7,-5,-11v17,-29,73,-17,108,-24v12,4,18,5,19,5\",\n            \"w\": 391\n        },\n        \"H\": {\n            \"d\": \"300,-268v18,12,19,32,4,51v-35,44,-34,140,-46,217v-1,5,-5,13,-11,12v-6,1,-19,-14,-18,-27r7,-106v-28,7,-76,22,-116,14v-18,2,-36,6,-55,3v-43,-8,-14,53,-33,75v-29,1,-26,-67,-21,-97v5,-31,28,-73,43,-98v2,2,7,3,14,3v13,33,-11,48,-13,78v61,4,118,2,176,2v8,0,13,-6,15,-20v4,-47,21,-87,54,-107\",\n            \"w\": 288\n        },\n        \"I\": {\n            \"d\": \"63,-266v34,10,-4,105,-8,128r-24,126v-2,2,-3,1,-9,6v-12,-10,-12,-15,-12,-47v0,-93,9,-156,28,-188v10,-17,19,-25,25,-25\",\n            \"w\": 79\n        },\n        \"J\": {\n            \"d\": \"235,-291v26,11,31,104,31,142v0,37,-2,95,-32,126v-33,34,-121,26,-167,1v-18,-11,-54,-29,-59,-59v0,-3,5,-15,16,-14v31,36,90,57,162,51v63,-30,56,-148,32,-226v-1,-16,11,-13,17,-21\",\n            \"w\": 282\n        },\n        \"K\": {\n            \"d\": \"212,-219v17,-5,80,-60,80,-19v0,9,-2,14,-5,16r-132,78v-34,23,-54,32,-21,50v39,21,74,23,124,41v5,2,7,5,7,9v-4,24,-55,15,-79,8v-67,-19,-98,-36,-116,-83v9,-24,38,-35,66,-61v7,-4,49,-30,76,-39xm47,-194v11,-20,11,-45,31,-55v2,2,4,3,6,0v29,39,-21,96,-18,128v-17,24,-15,62,-29,113v-4,3,-10,7,-19,11v-12,-13,-10,-28,-8,-53v3,-31,17,-79,37,-144\",\n            \"w\": 270\n        },\n        \"L\": {\n            \"d\": \"84,-43v58,0,179,-27,242,-4v3,17,-29,24,-40,26v-85,-4,-202,46,-268,3v-24,-16,-2,-33,-4,-57v26,-76,38,-108,86,-191v14,-7,26,-50,45,-32v6,22,5,31,-12,46v-20,39,-50,82,-67,142v-7,6,-19,46,-19,54v0,9,12,13,37,13\",\n            \"w\": 331\n        },\n        \"M\": {\n            \"d\": \"174,-236v-1,52,-11,92,-7,143v10,5,15,-12,22,-18v42,-55,90,-130,136,-174r15,-18v42,2,32,53,11,80v-12,58,-54,143,-34,210v0,3,-3,12,-9,10v-31,-5,-32,-57,-27,-92v4,-27,12,-58,25,-93v-5,-10,5,-19,6,-30v-46,44,-66,110,-129,172v-11,10,-18,15,-22,15v-34,6,-28,-103,-28,-152v-28,22,-65,119,-96,170v-9,15,-34,3,-31,-19v30,-64,91,-177,139,-229v12,-1,29,13,29,25\",\n            \"w\": 343\n        },\n        \"N\": {\n            \"d\": \"248,-20v-3,17,-37,18,-43,3v-24,-35,-53,-145,-80,-203v-32,40,-55,120,-92,174v-13,3,-26,-13,-27,-22r87,-171v4,-13,20,-57,42,-32v42,48,46,139,82,198v29,-45,46,-88,65,-153v12,-19,23,-42,38,-60v27,-1,14,18,4,44v-6,46,-32,68,-37,121v-15,29,-33,69,-39,101\",\n            \"w\": 307\n        },\n        \"O\": {\n            \"d\": \"240,-268v85,1,163,29,150,125v13,7,-12,18,-5,26v-23,63,-133,112,-228,124v-80,-16,-171,-56,-148,-153v11,-47,20,-43,53,-83v17,-9,39,-22,73,-29v45,-10,81,-10,105,-10xm363,-156v16,-51,-62,-85,-111,-79v-25,-11,-50,8,-81,0v-15,10,-70,16,-85,31v6,20,-27,24,-39,45v-42,75,40,128,115,128v56,0,209,-71,201,-125\",\n            \"w\": 383\n        },\n        \"P\": {\n            \"d\": \"70,-225v-7,-12,-36,16,-49,19v-4,0,-9,-5,-14,-17v21,-47,114,-55,172,-59v41,-3,132,33,99,87v-21,34,-72,59,-144,80v-2,16,-79,3,-74,46v3,25,-5,47,-10,68v-22,-1,-23,-29,-22,-56v2,-25,-20,-32,-8,-50v21,-5,10,-35,25,-57v6,-28,14,-48,25,-61xm71,-229v47,14,-2,50,-1,99v41,-3,113,-37,173,-76v5,-9,8,-14,8,-15v-28,-47,-125,-29,-180,-8\",\n            \"w\": 252\n        },\n        \"Q\": {\n            \"d\": \"374,-217v20,59,-11,127,-48,156r30,38v-1,6,-8,16,-14,9v-3,0,-19,-9,-47,-26v-72,35,-173,75,-236,12v-70,-40,-67,-213,26,-217r8,5v24,-20,72,-48,112,-38v21,-4,22,-1,50,-2v66,-2,94,20,119,63xm296,-88v13,5,61,-49,63,-84v4,-62,-54,-78,-119,-76v-14,-6,-49,5,-71,3v-42,16,-89,41,-93,94v-9,11,1,25,-7,38v-12,-19,-7,-67,-1,-88v-56,30,-37,137,19,155v27,17,92,19,119,0v12,-2,29,-9,52,-20v2,-2,3,-3,3,-6v-11,-12,-46,-27,-54,-56v0,-13,3,-19,9,-19v18,1,60,52,80,59\",\n            \"w\": 379\n        },\n        \"R\": {\n            \"d\": \"100,-275v96,-23,196,-10,208,78v-3,18,-17,52,-49,62v-14,20,-54,23,-79,40v-2,0,-14,2,-36,6v-40,8,-30,14,-3,33v37,27,52,30,118,55v16,6,31,23,12,27v-58,-2,-104,-29,-143,-61v-14,-3,-16,-15,-39,-27v-23,-19,-28,-12,-15,-38v63,-19,111,-15,163,-53v27,-20,43,-36,43,-49v0,-64,-120,-62,-173,-38v-9,4,-38,9,-40,18v-10,32,-16,70,-13,116v-10,21,-8,47,-6,75v2,31,-9,29,-27,22v-9,-55,5,-140,15,-190v-8,-6,-24,10,-24,-11v0,-34,16,-34,42,-55v2,-1,17,-4,46,-10\",\n            \"w\": 297\n        },\n        \"S\": {\n            \"d\": \"13,-3v-7,-3,-22,-18,-5,-22v68,-15,119,-32,154,-45v51,-19,39,-34,3,-53v-46,-25,-82,-30,-121,-64v-33,-29,-50,-35,-25,-58v37,-20,119,-29,181,-29v29,0,44,6,44,18v-9,26,-62,6,-104,14v-17,2,-72,6,-92,16v37,53,132,58,180,111v8,9,11,20,11,30v-4,17,-23,35,-42,34v-21,16,-17,1,-49,17v-14,7,-41,9,-56,20v-25,-3,-49,10,-79,11\",\n            \"w\": 234\n        },\n        \"T\": {\n            \"d\": \"141,-3v-36,-6,1,-49,-3,-79v10,-19,6,-35,15,-64r26,-85v-51,-9,-100,10,-141,14v-16,2,-30,-26,-11,-32v26,-8,143,-8,179,-19r12,6v67,-2,142,-1,200,-1v8,0,14,3,19,10v-18,16,-74,3,-103,14v-48,-4,-60,4,-113,7v-42,22,-36,130,-58,187v1,12,-9,44,-22,42\",\n            \"w\": 277\n        },\n        \"U\": {\n            \"d\": \"365,-262v13,56,-22,104,-36,141v-19,22,-30,38,-57,56v-4,18,-60,35,-78,50v-53,28,-142,0,-161,-34v-31,-56,-37,-108,-11,-164v17,-33,29,-50,48,-29v-2,2,-3,7,-4,13v-44,36,-38,149,7,174v30,26,55,19,102,4v56,-17,66,-34,120,-76v12,-24,56,-68,46,-122r0,-16v0,1,-1,3,-1,6v4,-13,11,-10,25,-3\",\n            \"w\": 368\n        },\n        \"V\": {\n            \"d\": \"246,-258v21,-22,31,-26,44,-8v1,1,-12,22,-28,35v-15,25,-41,38,-56,69v-13,15,-20,31,-28,57v-15,13,-11,29,-27,72v3,21,-5,24,-27,27v-33,-45,-54,-118,-84,-167v-5,-26,-18,-50,-25,-76v-3,-12,24,-8,29,-5v8,13,18,52,26,70r52,115v9,-2,4,-9,10,-21r25,-47v25,-44,46,-76,89,-121\",\n            \"w\": 234\n        },\n        \"W\": {\n            \"d\": \"31,-213v16,46,17,106,41,151v31,-35,49,-89,76,-127v30,-15,39,27,52,56v10,22,21,48,35,67v2,0,4,-1,5,-3v16,-28,50,-76,79,-121v14,-21,40,-63,64,-83r5,8v-30,58,-76,110,-97,173v-18,28,-25,37,-33,63v-11,1,-16,25,-30,15v-21,-31,-44,-89,-62,-131v0,-2,-1,-3,-5,-5v-17,11,-16,36,-31,50v-20,33,-20,84,-68,94v-24,-19,-23,-81,-39,-111v-1,-15,-29,-94,-10,-108v9,2,12,5,18,12\",\n            \"w\": 331\n        },\n        \"X\": {\n            \"d\": \"143,-183v43,-25,69,-36,126,-62v22,-10,86,-10,56,21v-51,3,-158,61,-154,64v10,15,41,30,50,52v27,17,46,60,70,82v9,14,-6,30,-24,20v-35,-43,-75,-100,-116,-132v-48,13,-100,47,-118,94v-1,49,-26,34,-27,4v-1,-26,13,-27,17,-48v22,-27,68,-55,90,-77v-9,-12,-60,-39,-79,-57v-6,-10,-6,-25,12,-25\",\n            \"w\": 312\n        },\n        \"Y\": {\n            \"d\": \"216,-240v19,-14,42,10,22,26v-54,66,-121,109,-156,197v-8,21,-11,15,-30,4v3,-37,27,-61,33,-76v12,-12,15,-19,32,-42v-8,-6,-40,5,-45,5v-48,-6,-69,-65,-56,-113v14,0,13,-1,24,7v2,33,12,75,42,73v36,-2,102,-57,134,-81\",\n            \"w\": 189\n        },\n        \"Z\": {\n            \"d\": \"60,-255v66,12,200,-34,240,21v-13,42,-63,62,-98,89v-19,15,-47,33,-82,55v-25,16,-47,32,-66,47v58,24,129,-6,208,-6v23,0,36,12,13,19v-33,2,-53,5,-86,10v-32,18,-88,15,-135,15v-9,-1,-55,-1,-48,-29v1,-24,30,-24,40,-41v64,-50,151,-86,208,-147v-38,-17,-155,12,-198,-4v0,0,-11,-33,4,-29\",\n            \"w\": 310\n        },\n        \"[\": {\n            \"d\": \"72,-258r-15,250v30,4,55,-3,80,-6v7,-1,8,17,9,23v-28,15,-73,23,-121,21v-7,0,-10,-6,-10,-17v0,-60,25,-193,22,-288v0,-16,13,-20,33,-19v9,-3,34,-12,51,-12v16,0,15,16,19,29v-16,7,-48,10,-68,19\",\n            \"w\": 151\n        },\n        \"\\\\\": {\n            \"d\": \"236,38v20,-18,-8,-74,-13,-90v-44,-78,-112,-190,-200,-253v-2,0,-5,4,-7,12v-11,31,13,36,24,58v74,61,174,219,180,273r16,0\",\n            \"w\": 257\n        },\n        \"]\": {\n            \"d\": \"133,-258v-23,-13,-84,6,-85,-32v0,-10,5,-15,14,-15v0,0,30,2,90,7v10,1,15,13,15,36v2,7,-8,59,-13,112r-11,125v-9,48,9,90,-59,71v-20,-4,-39,-1,-59,-4v-5,-10,-25,-12,-14,-30v8,-3,61,-13,78,-8v14,1,8,-7,10,-17v15,-69,21,-166,34,-245\",\n            \"w\": 171\n        },\n        \"^\": {\n            \"d\": \"68,-306v20,15,47,36,58,60v-1,4,0,7,-9,7v-26,0,-47,-38,-49,-32v-15,9,-41,50,-54,30v-2,-31,17,-23,33,-51v8,-9,15,-14,21,-14\",\n            \"w\": 135\n        },\n        \"_\": {\n            \"d\": \"11,15v-8,33,18,45,50,34r205,2r197,-5v11,-5,14,-9,7,-28v-95,-21,-258,-10,-376,-10v-25,0,-72,-3,-83,7\",\n            \"w\": 485\n        },\n        \"`\": {\n            \"d\": \"75,-264v16,8,56,14,39,43v-30,-8,-65,-23,-105,-44v-1,-3,-3,-28,5,-25v16,5,44,17,61,26\",\n            \"w\": 129\n        },\n        \"a\": {\n            \"d\": \"124,-56v10,4,59,41,65,50v1,7,-6,17,-12,17r-60,-30v-22,2,-42,21,-65,19v-33,4,-68,-67,-15,-81v41,-27,96,-39,110,9v0,6,-4,12,-11,16v-33,-25,-67,-5,-88,12v10,16,61,-18,76,-12\",\n            \"w\": 196\n        },\n        \"b\": {\n            \"d\": \"80,-140v69,1,123,0,134,52v5,26,-71,71,-97,70v-11,11,-88,22,-94,22v-11,-3,-26,-18,-6,-24v19,-5,-2,-19,-1,-35v1,-18,11,-36,-5,-47v-6,-17,-6,-21,14,-32v6,-45,18,-89,28,-124v2,-7,8,-12,17,-15v5,3,10,11,16,28v-12,27,-13,63,-23,96v0,6,6,9,17,9xm87,-107v-40,-9,-31,31,-39,54v8,15,0,25,12,22v30,-8,60,-18,88,-32v39,-18,49,-33,-1,-42v-20,-4,-45,-7,-60,-2\",\n            \"w\": 217\n        },\n        \"c\": {\n            \"d\": \"128,-123v29,-7,37,29,12,33v-27,-4,-40,6,-79,25v-8,4,-13,11,-16,22v30,32,91,3,134,11v5,13,-8,26,-22,19v-51,25,-139,28,-150,-30v6,-50,69,-82,121,-80\",\n            \"w\": 194\n        },\n        \"d\": {\n            \"d\": \"224,-201v0,-35,-17,-111,24,-94v7,86,-2,119,0,197v-4,2,-8,21,-18,16v-62,-7,-154,-8,-185,29v6,17,28,26,51,26v16,0,100,-15,132,-18v7,5,-6,20,-10,22v-24,8,-122,42,-163,25v-32,-5,-62,-53,-36,-80v35,-37,118,-46,198,-43v1,-22,7,-49,7,-80\",\n            \"w\": 265\n        },\n        \"e\": {\n            \"d\": \"4,-57v0,-58,51,-71,110,-74v33,-1,45,16,59,35v1,14,2,39,-7,42v-24,-2,-73,13,-99,11v-2,2,-2,3,-2,3v0,3,12,8,37,15v21,0,69,9,31,22v-9,14,-34,6,-56,6v-27,-5,-73,-28,-73,-60xm123,-102v-22,2,-68,5,-65,26v24,-2,66,5,79,-6v-5,-13,-1,-13,-14,-20\",\n            \"w\": 182\n        },\n        \"f\": {\n            \"d\": \"6,-59v6,-29,53,-4,53,-43v0,-64,29,-118,84,-150v45,-25,167,-24,155,51v-1,2,-7,6,0,6r-10,2v-45,-58,-165,-39,-186,39v-7,26,-11,42,-9,62v44,8,95,-21,135,-7v-12,25,-39,21,-76,30v-19,5,-18,7,-54,19v-2,8,15,32,17,35v-6,25,-26,26,-40,-5r-15,-24v-41,10,-44,12,-54,-15\",\n            \"w\": 234\n        },\n        \"g\": {\n            \"d\": \"132,-97v30,27,21,75,30,117v-12,31,-11,66,-36,103v-32,46,-105,83,-167,39v-31,-21,-49,-29,-51,-75v-2,-37,77,-50,121,-57v37,-6,68,-10,95,-11v7,-6,3,-32,4,-46v0,0,-1,1,-1,2v0,-18,-5,-31,-14,-45v-44,5,-79,20,-94,-18v3,-54,73,-54,125,-50v12,7,12,13,4,25v-30,-11,-76,8,-90,20v23,3,50,-16,74,-4xm-34,121v60,53,168,1,159,-86v-47,-7,-93,24,-142,30v-12,7,-45,19,-42,29v0,10,8,19,25,27\",\n            \"w\": 188\n        },\n        \"h\": {\n            \"d\": \"100,-310v11,-2,10,19,11,20v-11,52,-40,133,-53,189v-6,30,-9,37,-9,47v27,0,113,-34,143,-34v42,0,31,47,39,79v0,4,-5,17,-16,16v4,2,11,3,4,6v-24,-1,-28,-34,-25,-64v-1,-1,-2,-3,-5,-5v-51,0,-110,38,-162,51v-9,1,-15,-15,-16,-23v17,-89,39,-141,71,-264v0,-9,6,-19,18,-18\",\n            \"w\": 251\n        },\n        \"i\": {\n            \"d\": \"62,-209v7,18,9,23,-5,38v-23,-6,-21,-18,-11,-36v2,0,8,-1,16,-2xm34,-7v-18,-21,-8,-73,-1,-106v7,-10,20,-8,23,6v-1,36,7,72,-2,104v-8,2,-8,0,-20,-4\",\n            \"w\": 80\n        },\n        \"j\": {\n            \"d\": \"88,-191v5,28,-18,40,-28,21v0,-20,12,-29,28,-21xm82,-99v28,-1,16,35,16,61v0,60,-19,150,-35,202v-12,8,-19,31,-35,16v-32,-7,-43,-19,-56,-44r2,-17v11,4,49,45,61,18v10,-55,27,-107,30,-171v0,-16,0,-59,17,-65\",\n            \"w\": 120\n        },\n        \"k\": {\n            \"d\": \"59,-66v33,26,114,37,155,62v8,-4,22,-2,19,-17v0,-4,-12,-11,-30,-24v-36,-25,-54,-22,-99,-33v14,-21,119,-13,103,-63r-16,-7r-123,47r25,-93v-3,-15,16,-49,18,-81v1,-15,-21,-14,-25,-3v-31,82,-49,168,-75,257v2,2,22,30,27,10v2,-5,4,-9,9,-11v4,-16,4,-15,12,-44\",\n            \"w\": 236\n        },\n        \"l\": {\n            \"d\": \"66,-300v21,-6,37,23,30,55v-10,51,-28,135,-28,208v0,11,6,36,-13,37v-29,-5,-30,-48,-25,-83r28,-177v-6,-17,1,-29,8,-40\",\n            \"w\": 102\n        },\n        \"m\": {\n            \"d\": \"348,-59v-2,21,0,57,3,73v-17,3,-30,-1,-32,-16v-8,-7,-5,-44,-13,-70v-35,3,-82,49,-111,70v-12,8,-40,4,-39,-15r2,-56v-1,-13,4,-28,-8,-29v-35,8,-79,72,-115,87v-6,2,-20,-18,-21,-22v1,-20,14,-105,39,-64r8,15v17,-14,72,-56,93,-54v27,3,49,40,43,80v24,-2,66,-55,124,-53v11,14,28,23,27,54\",\n            \"w\": 368\n        },\n        \"n\": {\n            \"d\": \"121,-136v37,6,62,54,62,111v0,32,-16,25,-31,17v-18,-30,-5,-45,-22,-85v-37,-13,-71,55,-92,65v-20,-3,-39,-39,-21,-62v2,-12,3,-15,11,-30v12,-8,20,11,29,12\",\n            \"w\": 194\n        },\n        \"o\": {\n            \"d\": \"108,-139v52,-24,104,18,104,63v0,59,-66,67,-114,83v-52,-2,-115,-50,-80,-105v23,-18,52,-35,90,-41xm45,-60v16,54,125,16,131,-23v-12,-59,-129,-8,-131,23\",\n            \"w\": 217\n        },\n        \"p\": {\n            \"d\": \"82,14v-10,12,-8,117,-24,142v-15,2,-19,0,-29,-13v0,-76,9,-113,22,-192v14,-27,35,-6,37,13v0,8,-3,21,-7,38v2,2,3,2,4,2v26,-9,116,-33,126,-72v-7,-17,-24,-33,-49,-31v-40,3,-116,13,-116,47v-5,7,-2,17,-16,20v-17,-12,-18,-20,-12,-38v8,-25,74,-61,110,-59v55,-15,113,15,118,70v-15,52,-84,79,-146,83v-5,0,-11,-4,-18,-10\",\n            \"w\": 251\n        },\n        \"q\": {\n            \"d\": \"144,-147v27,-8,89,-3,97,31v-9,29,-42,-4,-73,1v-32,6,-118,20,-111,49v0,7,13,13,21,13v21,0,78,-24,104,-34v2,0,9,8,22,21v1,1,1,2,1,5v-27,90,-22,70,-43,203v11,15,-15,54,-33,33v-6,-8,-10,-20,-3,-28v1,-72,5,-114,15,-172v-35,3,-35,10,-59,8v-41,-4,-98,-41,-56,-85v33,-34,59,-27,118,-45\",\n            \"w\": 248\n        },\n        \"r\": {\n            \"d\": \"242,-117v2,22,5,10,-14,23v-73,-7,-166,-23,-174,56v-8,6,-3,20,-8,36v-29,10,-40,-9,-33,-46v6,-31,7,-69,32,-55v58,-37,66,-42,175,-19v3,5,15,4,22,5\",\n            \"w\": 229\n        },\n        \"s\": {\n            \"d\": \"154,-151v19,1,27,24,13,32v-4,1,-22,4,-53,7v-16,8,-22,-2,-39,9v23,21,89,16,96,62v-13,24,-85,35,-124,42v-9,-3,-18,-3,-27,0v-6,-4,-21,-16,-8,-25v30,-6,83,-13,102,-24v-17,-16,-80,-33,-97,-48v-3,-2,-4,-7,-4,-15v-6,-6,3,-13,15,-18v22,-9,94,-23,126,-22\",\n            \"w\": 188\n        },\n        \"t\": {\n            \"d\": \"85,-150v10,-41,35,-126,65,-134v4,1,24,19,11,36v-17,22,-29,57,-36,104v26,8,50,-7,73,5v14,0,22,3,22,9v-1,19,-44,18,-57,23v-10,1,-46,0,-54,10v-10,24,-4,67,-20,98v-21,-3,-26,1,-26,-20v0,-9,2,-36,8,-81v-15,-13,-81,9,-77,-27v4,-38,71,6,91,-23\",\n            \"w\": 194\n        },\n        \"u\": {\n            \"d\": \"207,-136v-1,-2,11,-14,14,-13v6,0,10,7,10,22v-3,40,-23,56,-40,82v-13,19,-62,43,-93,43v-67,-2,-111,-75,-71,-133v26,-3,21,29,19,49v-1,27,26,44,57,42v41,-2,93,-55,104,-92\",\n            \"w\": 242\n        },\n        \"v\": {\n            \"d\": \"24,-127r52,71v42,-16,70,-54,124,-65v5,4,8,7,8,11v-8,19,-4,8,-33,32v0,1,-1,3,-1,5v-61,45,-93,68,-97,68v-40,-15,-50,-72,-68,-100v6,-14,10,-22,15,-22\",\n            \"w\": 214\n        },\n        \"w\": {\n            \"d\": \"15,-139v38,-2,27,57,45,86v30,2,67,-66,101,-78v26,6,36,69,60,78v47,-35,51,-54,119,-104v3,0,7,-2,15,-4v19,23,-9,28,-21,49v-33,28,-68,90,-107,109v-10,6,-52,-47,-72,-71v-20,17,-85,74,-97,73v-38,7,-41,-98,-52,-122v0,-1,3,-7,9,-16\",\n            \"w\": 325\n        },\n        \"x\": {\n            \"d\": \"95,-124v22,-13,78,-32,99,-31v16,0,23,6,23,18v0,22,-17,11,-49,21v-3,0,-45,20,-42,24v0,1,2,4,8,10v20,24,49,41,44,80v-35,3,-27,-9,-60,-44v-40,-43,-37,-26,-79,9v-1,1,-2,3,-3,8v-12,8,-28,10,-27,-11v-6,-8,45,-65,48,-65v-17,-21,-61,-52,-24,-68v9,0,48,37,62,49\",\n            \"w\": 223\n        },\n        \"y\": {\n            \"d\": \"44,-65v22,33,70,4,99,-8v5,-4,28,-15,41,-31r17,0v25,47,-26,70,-40,114v-5,4,-9,8,-10,21v-16,12,-11,33,-27,51v-5,18,-12,43,-23,71v-1,-1,-2,34,-18,29v-12,1,-22,-12,-22,-23v20,-70,24,-65,68,-177v-47,16,-111,8,-116,-39v-11,-13,-7,-62,8,-62v18,0,22,26,23,54\",\n            \"w\": 216\n        },\n        \"z\": {\n            \"d\": \"189,-43v9,-1,46,-6,41,12v0,7,-5,13,-15,14v-45,6,-148,24,-181,13v0,-3,-5,-8,-14,-15v5,-44,66,-46,90,-85v-15,-18,-84,21,-84,-14v0,-10,5,-17,14,-18v33,-3,79,-13,109,-3v4,-2,14,11,12,15v0,23,-26,51,-78,84v28,10,73,-3,106,-3\",\n            \"w\": 244\n        },\n        \"{\": {\n            \"d\": \"94,-303v27,-9,90,-14,79,26v-20,17,-55,-5,-87,13v-4,1,-6,4,-6,8v33,42,31,44,7,85v-6,10,-13,16,-13,13v5,6,17,17,15,31r-33,78v7,35,28,49,57,63r49,0v7,42,-51,41,-86,20v-43,-13,-51,-51,-56,-89v-2,-25,25,-54,27,-71v-3,-4,-46,-5,-41,-21v2,-10,-3,-29,11,-25v2,0,51,-17,52,-38v4,-3,-25,-23,-25,-49v0,-41,8,-30,50,-44\",\n            \"w\": 179\n        },\n        \"|\": {\n            \"d\": \"30,-308v26,5,14,50,15,80v5,78,-8,153,-3,225v-2,15,-1,31,-11,36v-8,-3,-25,-22,-25,-32r9,-183v0,-40,0,-78,1,-112v0,-4,9,-15,14,-14\",\n            \"w\": 63\n        },\n        \"}\": {\n            \"d\": \"47,-298v34,-17,118,-18,112,36v6,25,-76,98,-69,103v4,16,39,7,44,28v7,34,-34,17,-37,39v8,29,49,83,23,123v-15,23,-43,26,-73,46v-34,8,-43,11,-49,-17v1,-15,30,-15,33,-20v24,-12,70,-27,55,-61v-14,-33,-37,-68,-19,-103v-46,-50,46,-100,60,-141v-10,-16,-68,6,-77,-12\",\n            \"w\": 143\n        },\n        \"~\": {\n            \"d\": \"7,-254v2,-6,59,-50,67,-46v11,-1,35,19,46,26v5,0,27,-10,66,-31v21,8,-1,25,-7,38v-27,21,-48,31,-65,31v-24,-11,-37,-39,-65,-9v-7,7,-26,36,-42,11v3,-5,-3,-17,0,-20\",\n            \"w\": 199\n        },\n        \"\\u00a0\": {\n            \"w\": 179\n        },\n        \"\\u00a1\": {\n            \"d\": \"86,-197v8,16,-7,41,-24,25v-11,-11,-4,-16,-3,-29v13,0,15,-2,27,4xm46,-107v4,-8,11,-16,23,-7v19,26,-5,57,-6,87v-7,0,-5,18,-9,28v0,14,-17,52,-11,70v-2,7,-15,28,-25,12v-4,-6,-15,-7,-6,-16v2,-39,14,-96,34,-174\",\n            \"w\": 95\n        },\n        \"\\u00a2\": {\n            \"d\": \"105,-188v13,-12,14,-18,26,-15v7,23,7,15,-3,49v6,0,18,14,17,20v-3,5,-12,19,-26,13v-14,1,-14,5,-16,21v10,10,46,-13,38,18v-9,17,-23,16,-54,20v-17,16,-4,55,-29,60v-37,-10,19,-64,-24,-71v-20,-10,-37,-47,-6,-62v23,-20,73,-4,77,-53xm65,-101v4,-9,7,-8,3,-13v-14,4,-22,10,-3,13\",\n            \"w\": 154\n        },\n        \"\\u00a3\": {\n            \"d\": \"153,-170v3,22,62,0,49,39v-18,6,-31,12,-58,9v-12,-1,-17,30,-23,39v19,26,50,56,91,35v9,-2,27,-13,27,4v0,27,-27,39,-58,42v-32,-5,-59,-19,-78,-39v-6,1,-35,44,-57,39v-25,0,-37,-15,-37,-46v0,-41,43,-53,73,-50v4,1,12,-18,12,-21v-7,-15,-49,0,-44,-30v-2,-31,31,-16,60,-19v16,-30,25,-119,93,-113v16,2,75,16,50,44v-4,5,-7,7,-12,8v-18,-12,-32,-18,-41,-18v-35,-1,-38,52,-47,77xm43,-45v4,5,12,-2,11,-9v-1,2,-12,1,-11,9\",\n            \"w\": 242\n        },\n        \"\\u00a4\": {\n            \"d\": \"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30\",\n            \"w\": 312\n        },\n        \"\\u20ac\": {\n            \"d\": \"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30\",\n            \"w\": 312\n        },\n        \"\\u00a5\": {\n            \"d\": \"31,-248v30,-3,64,64,74,59v37,-22,77,-65,107,-82v20,-11,34,18,21,32v-28,19,-52,38,-70,57v-18,8,-40,21,-35,60v2,19,39,7,64,7v25,0,16,21,2,27v-36,16,-46,8,-68,18v6,11,101,-20,66,24v-21,11,-42,12,-75,20v-2,1,-5,6,-10,18v-8,3,-11,10,-24,8v-7,-17,-2,-18,-9,-26v-13,5,-39,3,-53,-2v-10,-17,-7,-27,0,-34v23,-1,45,1,64,-5v-11,-7,-28,-4,-64,-6v-13,-8,-15,-24,-6,-35v33,-2,102,9,76,-37v-14,-14,-33,-38,-60,-66v-10,-10,-8,-28,0,-37\",\n            \"w\": 219\n        },\n        \"\\u00a7\": {\n            \"d\": \"141,-115v12,10,29,36,28,56v-4,68,-129,69,-152,16v-1,-12,-10,-22,8,-23v17,3,47,21,67,23v16,1,40,-8,38,-21v-8,-49,-119,-30,-117,-85v1,-28,15,-45,-3,-64v-1,-53,55,-61,103,-62v15,-5,6,-5,20,-2v16,17,23,27,23,30v-1,26,-29,7,-45,7v-21,0,-51,2,-62,17v19,14,87,8,97,43v18,14,16,57,-5,65xm64,-147r57,17v10,-28,-22,-43,-47,-44v-25,-1,-35,19,-10,27\",\n            \"w\": 174\n        },\n        \"\\u00a8\": {\n            \"d\": \"124,-259v0,9,-4,13,-12,13v-18,0,-22,-21,-17,-35v19,-1,30,1,29,22xm23,-285v7,2,30,9,29,18v1,10,-9,19,-18,19v-19,0,-28,-26,-11,-37\",\n            \"w\": 136\n        },\n        \"\\u00a9\": {\n            \"d\": \"102,-29v-74,5,-124,-84,-70,-140v22,-22,53,-35,97,-38v46,-4,88,49,74,100v0,44,-51,75,-101,78xm96,-66v42,-3,75,-23,75,-69v0,-23,-4,-38,-44,-38v-16,0,-33,6,-49,20v36,-4,55,-12,62,20v-5,16,-49,1,-50,21v10,15,53,-14,54,11v0,18,-14,27,-42,27v-22,1,-46,-11,-46,-31v0,-25,7,-39,20,-44v-1,-1,-2,-2,-3,-2v-51,22,-32,89,23,85\",\n            \"w\": 217\n        },\n        \"\\u00aa\": {\n            \"d\": \"6,-265v1,-31,58,-53,80,-22v-11,14,25,28,25,36v-2,8,-15,12,-27,10v-22,-29,-68,19,-78,-24xm52,-281v-8,1,-24,10,-9,13v11,1,24,-10,9,-13\",\n            \"w\": 117\n        },\n        \"\\u00ab\": {\n            \"d\": \"191,-64v16,6,87,37,53,63v-39,-9,-71,-28,-107,-40v-14,-13,-13,-34,10,-47v27,-15,48,-55,84,-62v9,-2,21,10,21,18r-13,21v-16,5,-44,22,-51,41v0,4,1,6,3,6xm71,-65v17,6,87,35,55,62v-39,-8,-66,-27,-108,-40v-14,-13,-13,-36,10,-46v23,-18,50,-56,84,-63v9,-2,21,10,21,18r-13,22v-20,6,-32,17,-51,37v0,3,-1,11,2,10\",\n            \"w\": 265\n        },\n        \"\\u00ac\": {\n            \"d\": \"141,-99v47,7,103,-3,149,6v14,24,18,15,10,39v-10,34,-7,31,-26,76v-4,6,-15,8,-16,21v-4,2,-4,1,-13,5v-22,-33,-4,-33,16,-104v-5,-9,-28,-4,-38,-6r-183,4v-14,0,-41,-29,-17,-36v31,-9,82,5,118,-5\",\n            \"w\": 315\n        },\n        \"\\u00ae\": {\n            \"d\": \"75,-194v78,-29,116,9,130,84v-2,42,-22,47,-57,67v-74,20,-161,-19,-129,-110v6,-18,29,-34,57,-40xm46,-86v51,36,84,21,129,-15v7,-15,0,-39,-10,-49v-13,-37,-49,-26,-86,-18v-28,7,-49,46,-33,82xm72,-123v-5,-43,68,-57,75,-14v-17,26,-18,17,3,32v2,25,-25,18,-45,7r-4,-4v-1,8,-3,20,-12,24v-10,-3,-21,-34,-17,-45xm112,-135v-10,-1,-20,13,-9,14v6,-6,9,-11,9,-14\",\n            \"w\": 217\n        },\n        \"\\u00af\": {\n            \"d\": \"63,-295v28,-7,73,10,105,7v11,1,6,8,5,19v-37,21,-72,11,-136,11v-23,0,-31,-14,-27,-36v12,-15,40,0,53,-1\",\n            \"w\": 183\n        },\n        \"\\u00b0\": {\n            \"d\": \"106,-268v0,36,-35,38,-51,46v-48,5,-60,-58,-25,-78v33,-11,76,-9,76,32xm38,-257v16,7,39,2,38,-17v-13,-9,-28,-1,-32,11v-5,3,-7,0,-6,6\",\n            \"w\": 114\n        },\n        \"\\u00b1\": {\n            \"d\": \"93,-163v-7,46,76,-4,46,47v-14,6,-27,13,-38,8v-24,2,-14,28,-28,44r-14,0v-7,-12,-5,-15,-7,-33v-12,-7,-41,-1,-37,-24v2,-11,23,-17,36,-14r28,-38v4,0,9,4,14,10xm113,-27v-12,18,-58,27,-85,24v-16,2,-22,-23,-13,-36v28,-7,85,-11,98,12\",\n            \"w\": 151\n        },\n        \"\\u00b4\": {\n            \"d\": \"52,-284v29,-11,50,-34,62,-14v3,12,-86,54,-94,56v-14,0,-16,-12,-12,-23v11,-5,25,-11,44,-19\",\n            \"w\": 120\n        },\n        \"\\u00b6\": {\n            \"d\": \"121,-237v21,-9,44,-13,63,-1v-1,7,5,6,7,11r-4,190v-2,33,4,39,-15,40v-16,1,-10,-20,-10,-33r4,-161v0,-17,-1,-34,-16,-25v2,10,1,23,1,35v-9,46,-6,75,-15,156v-3,4,-7,5,-12,5v-17,-10,-3,-89,-10,-115v-43,14,-98,10,-101,-29v-4,-53,59,-63,104,-75v3,1,4,2,4,2xm95,-204v2,9,-30,50,1,50v35,0,23,-13,29,-43v0,-1,-2,-7,-4,-15v-12,-1,-14,2,-26,8\",\n            \"w\": 206\n        },\n        \"\\u00b8\": {\n            \"d\": \"74,16v32,2,49,14,55,36v-3,7,-14,31,-29,33v-28,4,-57,11,-88,14v-19,-6,-13,-31,8,-33v20,-1,59,-5,73,-14v-17,-14,-68,8,-53,-37v9,-10,2,-28,24,-30v8,8,13,17,10,31\",\n            \"w\": 129\n        },\n        \"\\u00ba\": {\n            \"d\": \"13,-273v1,-31,56,-41,83,-18v36,8,14,48,-9,52v-35,6,-64,-5,-74,-34xm81,-269v-7,-7,-20,-11,-29,-6v5,13,13,11,29,6\",\n            \"w\": 128\n        },\n        \"\\u00bb\": {\n            \"d\": \"120,-129v9,-33,48,-10,64,5v9,20,86,52,50,86v-36,11,-66,31,-107,40v-6,-7,-9,-13,-9,-17v-2,-13,50,-46,63,-46v11,-18,-33,-42,-48,-47xm1,-128v10,-33,46,-8,64,6v8,19,86,50,51,85v-40,13,-69,30,-108,40v-6,-7,-8,-12,-8,-16v-2,-14,50,-46,63,-47v7,-13,-9,-20,-19,-30v-10,-9,-20,-15,-30,-17\",\n            \"w\": 252\n        },\n        \"\\u00bf\": {\n            \"d\": \"181,-247v3,1,31,2,29,15v-4,22,-37,27,-41,4v1,-5,7,-20,12,-19xm161,-34v-45,-1,-105,19,-124,51v0,11,18,17,54,17v39,0,82,-13,112,4v-10,35,-58,31,-100,31v-47,0,-80,-10,-99,-31v-10,-56,22,-73,64,-90v8,-3,32,-9,74,-18v21,-15,7,-62,22,-92v-1,-5,-1,-11,4,-12v16,0,24,7,24,22v-8,30,-8,73,-17,111v-3,5,-7,7,-14,7\",\n            \"w\": 213\n        },\n        \"\\u00c0\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm150,-268v14,10,54,14,37,41v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,17,58,24\"\n        },\n        \"\\u00c1\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm84,-250v31,-5,83,-53,100,-31v0,5,-11,15,-35,28v-16,5,-51,28,-53,25v-14,1,-16,-11,-12,-22\"\n        },\n        \"\\u00c2\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm202,-219v-27,-6,-40,-26,-61,-37v-21,7,-39,46,-65,23v-2,-4,-3,-10,-4,-14v19,-4,43,-32,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-3,9,-11,9\"\n        },\n        \"\\u00c3\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm100,-285v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-9,22,-17,31,-12v3,11,-9,9,-7,21v-26,20,-46,30,-59,30v-3,3,-50,-26,-49,-29v-12,1,-31,35,-51,32v-3,-8,-5,-14,-5,-18v10,-9,16,-17,37,-33\"\n        },\n        \"\\u00c4\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm187,-259v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm90,-284v7,3,28,11,28,18v0,9,-9,18,-18,17v-17,0,-25,-24,-10,-35\"\n        },\n        \"\\u00c5\": {\n            \"d\": \"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm112,-239v-31,-17,-9,-61,29,-56v12,2,22,3,33,12v24,39,-30,62,-62,44xm119,-262v2,14,41,8,41,-4v0,-4,-8,-6,-24,-9v-10,-2,-17,10,-17,13\"\n        },\n        \"\\u00c6\": {\n            \"d\": \"335,-259v0,30,-102,12,-122,34v10,21,2,79,16,100v24,-6,59,-13,86,-16v23,-2,32,21,13,26r-103,29v-3,22,-4,38,8,43v28,-5,60,-6,86,-14v5,-1,14,7,14,11v6,16,-90,40,-107,40v-29,0,-39,-19,-32,-46v-2,-4,0,-26,-9,-28v-29,2,-58,6,-88,6v-31,0,-40,74,-82,73v-18,-23,4,-37,12,-50v40,-65,112,-126,165,-207v20,-17,69,-11,112,-13v21,0,31,4,31,12xm123,-111v28,1,44,-2,67,-10v-4,-22,5,-49,-7,-65v-3,6,-65,61,-60,75\",\n            \"w\": 348\n        },\n        \"\\u00c7\": {\n            \"d\": \"48,-108v-12,70,90,71,159,67r138,-9v9,-1,7,9,7,17v-37,16,-80,27,-103,21v-14,9,-40,3,-67,9v-30,0,-64,1,-100,-10v-6,-1,-10,-4,-10,-8v-32,-12,-46,-31,-63,-56v-16,-61,47,-103,83,-121v82,-42,118,-45,200,-60v21,-4,36,34,11,37v-90,11,-148,31,-225,77v-12,8,-23,20,-30,36xm172,18v29,4,47,14,53,35v-2,7,-14,31,-27,31v-28,7,-55,9,-84,14v-18,-5,-13,-32,7,-32v21,0,55,-5,69,-13v-16,-14,-63,10,-50,-35v9,-10,1,-27,23,-29v7,8,11,16,9,29\",\n            \"w\": 331\n        },\n        \"\\u00c8\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm184,-236v6,9,5,13,0,23v-28,-7,-62,-21,-100,-41v-3,-2,-3,-27,5,-23v34,11,60,25,95,41\",\n            \"w\": 252\n        },\n        \"\\u00c9\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm133,-248v27,-11,48,-32,59,-14v3,11,-79,52,-88,53v-14,1,-16,-11,-12,-21v10,-4,23,-11,41,-18\",\n            \"w\": 252\n        },\n        \"\\u00ca\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm199,-211v-27,-6,-39,-26,-60,-37v-21,7,-40,47,-65,22v-2,-7,-2,-7,-4,-13v18,-5,44,-31,61,-43v27,6,41,22,62,37v12,9,18,17,18,25v0,6,-4,9,-12,9\",\n            \"w\": 252\n        },\n        \"\\u00cb\": {\n            \"d\": \"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-17,41,-17,51v55,0,112,-21,169,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-3,-21,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm191,-236v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm95,-261v7,3,29,9,28,18v0,7,-9,17,-18,17v-18,0,-26,-25,-10,-35\",\n            \"w\": 252\n        },\n        \"\\u00cc\": {\n            \"d\": \"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm72,-247v7,6,55,15,36,40v-28,-7,-61,-21,-99,-41v-3,-2,-3,-27,5,-23v18,3,41,17,58,24\",\n            \"w\": 111\n        },\n        \"\\u00cd\": {\n            \"d\": \"26,-5v-9,-6,-9,-12,-9,-36v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76v-2,1,-2,0,-7,4xm6,-233v31,-6,83,-53,101,-31v2,11,-80,53,-89,53v-14,1,-14,-11,-12,-22\",\n            \"w\": 104\n        },\n        \"\\u00ce\": {\n            \"d\": \"53,-9v-15,7,-16,-3,-16,-32v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76xm137,-209v-27,-6,-40,-26,-61,-37v-8,0,-9,4,-13,10v-11,13,-50,37,-56,0v18,-5,43,-32,61,-43v28,5,40,21,62,36v12,9,18,17,18,25v0,6,-4,9,-11,9\",\n            \"w\": 144\n        },\n        \"\\u00cf\": {\n            \"d\": \"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm111,-222v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm15,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18\",\n            \"w\": 110\n        },\n        \"\\u00d1\": {\n            \"d\": \"224,-182v1,-17,15,-24,22,-38v20,0,13,10,3,33v-3,36,-25,52,-28,94v-10,24,-30,55,-29,82r-19,7v-32,-8,-36,-70,-58,-111v-2,-23,-7,-27,-19,-54v-28,36,-41,93,-71,133v-9,5,-20,-9,-20,-17r73,-149v9,-24,31,-5,36,7v19,41,31,98,53,139v22,-35,34,-69,50,-118v2,-3,3,-3,7,-8xm203,-257v22,-8,41,-24,65,-26v3,11,-8,9,-7,21v-26,20,-46,31,-59,31v-2,3,-49,-27,-49,-29v-11,0,-32,31,-46,32v-11,-2,-12,-21,-4,-23v4,-6,28,-30,48,-34v17,-4,43,28,52,28\",\n            \"w\": 219\n        },\n        \"\\u00d2\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm161,-262v14,10,52,13,37,41v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,17,58,24\",\n            \"w\": 273\n        },\n        \"\\u00d3\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm142,-250v27,-11,47,-32,59,-14v2,11,-80,53,-89,53v-13,1,-15,-11,-12,-21v10,-5,24,-11,42,-18\",\n            \"w\": 273\n        },\n        \"\\u00d4\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm157,-282v17,18,52,34,54,63v-24,12,-52,-36,-53,-29r-42,34v-23,-4,-6,-31,5,-34v1,1,27,-37,36,-34\",\n            \"w\": 273\n        },\n        \"\\u00d5\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm116,-270v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-10,22,-16,31,-12v3,11,-8,9,-7,21v-45,28,-47,42,-88,16v-29,-19,-12,-20,-43,2v-8,5,-12,18,-23,15v-13,-3,-12,-20,-4,-23v4,-6,14,-15,31,-28\",\n            \"w\": 273\n        },\n        \"\\u00d6\": {\n            \"d\": \"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm197,-229v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm101,-254v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35\",\n            \"w\": 273\n        },\n        \"\\u00d8\": {\n            \"d\": \"76,-211v41,-13,100,-22,140,-3v26,-19,40,-29,44,-29v10,0,15,7,15,20v0,15,-23,23,-30,35v23,39,29,114,-21,139v-36,19,-102,35,-147,18v-14,-5,-29,29,-46,35v-25,-13,-19,-24,3,-56v-9,-17,-28,-27,-28,-60v0,-38,23,-72,70,-99xm107,-66v55,15,125,-12,123,-70v0,-16,-5,-25,-13,-29r-110,95r0,4xm39,-108v-1,3,17,31,22,27v8,-6,109,-90,123,-106v-15,-11,-43,1,-63,2v-33,10,-80,35,-82,77\",\n            \"w\": 270\n        },\n        \"\\u00d9\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm151,-243v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-4,-25,4,-23v16,5,42,17,58,24\",\n            \"w\": 262\n        },\n        \"\\u00da\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm194,-265v3,-1,11,4,11,6v3,12,-81,52,-89,54v-14,0,-13,-9,-12,-22\",\n            \"w\": 262\n        },\n        \"\\u00db\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm150,-266v24,11,58,27,73,46v0,5,-3,6,-10,6v-28,2,-61,-30,-63,-25v-10,0,-57,40,-69,23v3,-10,-8,-15,8,-19v17,-1,34,-29,61,-31\",\n            \"w\": 262\n        },\n        \"\\u00dc\": {\n            \"d\": \"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-29,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm197,-227v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm101,-252v7,3,27,10,27,18v0,8,-9,18,-18,17v-18,-1,-24,-25,-9,-35\",\n            \"w\": 262\n        },\n        \"\\u00df\": {\n            \"d\": \"33,10v-29,4,-28,-32,-16,-70v18,-58,17,-137,56,-176v12,-24,46,-58,82,-43v20,8,47,24,47,54v0,30,-62,59,-67,90v33,23,56,33,63,63v-18,21,-22,36,-48,54v-24,17,-27,41,-53,16v-2,-19,7,-35,24,-42v15,-13,26,-22,34,-40v-13,-17,-78,-29,-56,-70v-3,-27,64,-54,66,-86v-8,-25,-41,-4,-52,8v-29,30,-47,83,-51,141v-17,25,-8,71,-29,101\"\n        },\n        \"\\u00e0\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm99,-137v7,6,56,14,37,40v-28,-7,-62,-21,-100,-41v-2,-3,-2,-26,5,-23v16,4,42,17,58,24\",\n            \"w\": 173\n        },\n        \"\\u00e1\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm32,-117v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-13,2,-14,-10,-12,-21\",\n            \"w\": 173\n        },\n        \"\\u00e2\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm147,-97v-27,-6,-39,-26,-60,-37v-21,7,-38,46,-65,23v-2,-5,-3,-10,-4,-14v18,-4,43,-31,61,-42v28,5,40,21,62,36v12,8,18,17,18,25v0,6,-4,9,-12,9\",\n            \"w\": 173\n        },\n        \"\\u00e3\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm114,-136v22,-8,41,-24,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-12,-32,8,-29,32,-51v24,-21,54,20,69,23\",\n            \"w\": 173\n        },\n        \"\\u00e4\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-32,5,-66,-64,-15,-77v39,-26,92,-36,104,9v0,6,-3,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm142,-119v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm46,-144v7,3,28,9,27,18v1,8,-9,18,-18,17v-18,-1,-25,-25,-9,-35\",\n            \"w\": 173\n        },\n        \"\\u00e5\": {\n            \"d\": \"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm54,-101v-37,-20,-9,-71,34,-65v13,1,25,3,38,13v27,45,-34,73,-72,52xm61,-128v4,20,48,7,49,-5v0,-5,-9,-7,-28,-10v-12,-2,-21,11,-21,15\",\n            \"w\": 173\n        },\n        \"\\u00e6\": {\n            \"d\": \"145,-44r33,7v2,42,-59,29,-85,16v-6,7,-35,24,-48,15v-19,2,-35,-21,-33,-37v2,-24,5,-19,28,-36v-6,-8,-45,3,-33,-21v21,-22,58,-12,85,-1v6,-5,35,-28,45,-15v20,-4,36,17,36,35v0,23,-4,21,-28,37xm111,-72v12,3,49,-16,19,-17v-5,0,-20,12,-19,17xm74,-50v-14,-4,-48,16,-19,17v4,1,19,-14,19,-17\",\n            \"w\": 184\n        },\n        \"\\u00e7\": {\n            \"d\": \"108,-118v30,-6,56,21,25,33v-24,-6,-39,5,-75,23v-7,4,-12,12,-15,22v31,28,86,3,128,9v3,28,-29,16,-44,28v-53,15,-106,10,-120,-37v0,-48,62,-70,101,-78xm92,18v23,4,45,12,48,32v-2,6,-12,28,-25,28v-24,6,-50,10,-77,13v-16,-4,-11,-28,7,-29v17,-1,51,-4,63,-12v-14,-15,-57,10,-46,-32v9,-8,0,-25,21,-26v6,6,12,14,9,26\",\n            \"w\": 171\n        },\n        \"\\u00e8\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm95,-166v7,6,54,14,37,40v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,18,58,25\",\n            \"w\": 161\n        },\n        \"\\u00e9\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm76,-169v26,-11,48,-32,59,-14v3,10,-80,53,-89,53v-14,1,-14,-10,-12,-21v15,-7,16,-7,42,-18\",\n            \"w\": 161\n        },\n        \"\\u00ea\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm145,-129v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-51,34,-56,0v17,-4,44,-32,61,-43v28,5,41,21,63,36v12,8,17,17,17,25v0,6,-3,9,-11,9\",\n            \"w\": 161\n        },\n        \"\\u00eb\": {\n            \"d\": \"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10r-3,3v0,3,12,7,36,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-67,-27,-71,-58v7,-52,48,-65,105,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm140,-144v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm44,-169v7,3,28,9,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35\",\n            \"w\": 161\n        },\n        \"\\u00ec\": {\n            \"d\": \"57,-98v22,5,13,50,11,95v-7,1,-11,2,-20,-4v1,-7,-12,-18,-10,-24v4,-22,-2,-64,19,-67xm70,-139v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-3,-25,5,-23v15,5,41,17,57,24\",\n            \"w\": 109\n        },\n        \"\\u00ed\": {\n            \"d\": \"59,-98v20,4,15,53,10,95v-6,1,-11,2,-19,-4v1,-7,-12,-18,-10,-24v4,-22,-4,-65,19,-67xm50,-139v27,-11,49,-32,59,-14v3,11,-80,53,-89,53v-14,1,-14,-12,-11,-22v15,-7,14,-6,41,-17\",\n            \"w\": 105\n        },\n        \"\\u00ee\": {\n            \"d\": \"72,-98v20,5,12,51,10,95v-6,2,-13,1,-20,-4v1,-8,-12,-18,-10,-24v4,-22,-3,-65,20,-67xm134,-94v-26,-7,-39,-25,-60,-37v-7,0,-9,4,-13,10v-14,15,-51,34,-56,-1v18,-4,45,-33,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-4,9,-12,9\",\n            \"w\": 143\n        },\n        \"\\u00ef\": {\n            \"d\": \"55,-97v19,5,15,53,10,95v-17,5,-26,-14,-30,-28v6,-20,-3,-65,20,-67xm110,-118v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm14,-143v6,3,28,8,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35\",\n            \"w\": 107\n        },\n        \"\\u00f1\": {\n            \"d\": \"115,-129v34,6,59,50,59,105v0,31,-15,24,-30,17v-15,-29,-5,-42,-20,-81v-35,-13,-68,52,-88,61v-20,-4,-38,-36,-19,-59v0,-12,3,-14,10,-28v11,-8,18,11,27,12xm117,-166v22,-7,41,-23,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-5,-12,-8,-16,0,-23v4,-6,28,-29,48,-33v17,-3,43,28,53,28\",\n            \"w\": 171\n        },\n        \"\\u00f2\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm115,-181v14,10,51,13,37,40v-28,-7,-62,-21,-100,-41v-3,-2,-3,-26,5,-23v16,5,42,17,58,24\",\n            \"w\": 191\n        },\n        \"\\u00f3\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm49,-154v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-14,0,-13,-8,-12,-21\",\n            \"w\": 191\n        },\n        \"\\u00f4\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm110,-177v-22,6,-38,45,-65,22v-2,-4,-3,-9,-4,-13v18,-4,43,-32,61,-43v27,6,40,21,62,36v12,9,18,17,18,25v1,11,-15,10,-23,7\",\n            \"w\": 191\n        },\n        \"\\u00f5\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm58,-199v26,-21,54,18,69,22v4,0,15,-5,34,-13v22,-9,21,-16,31,-13v3,11,-9,9,-7,22v-26,20,-46,30,-59,30v-2,4,-49,-28,-49,-29v-11,0,-32,31,-46,32v-12,-3,-13,-21,-4,-23v4,-6,14,-15,31,-28\",\n            \"w\": 191\n        },\n        \"\\u00f6\": {\n            \"d\": \"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm161,-160v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm65,-185v7,3,28,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35\",\n            \"w\": 191\n        },\n        \"\\u00f7\": {\n            \"d\": \"167,-158v-4,3,-7,9,-10,20v-23,4,-34,-8,-29,-31v14,-6,18,1,39,11xm78,-72v-53,11,-53,12,-69,-15v-1,-12,11,-17,22,-14v71,-13,151,-18,230,-24v11,1,21,16,23,28v-28,20,-90,11,-126,16v-36,5,-62,5,-80,9xm123,-40v19,-17,41,-1,41,17v0,13,-6,19,-17,19v-15,0,-29,-14,-24,-36\",\n            \"w\": 293\n        },\n        \"\\u00f8\": {\n            \"d\": \"76,-136v17,7,33,-8,51,0v9,-6,21,-13,36,-21v23,22,-13,31,3,50v11,13,4,21,14,35v-4,5,-1,14,-4,23v-14,23,-45,41,-84,39v-12,2,-29,28,-41,38v-2,-11,-34,-10,-15,-30v3,-7,5,-11,5,-11v-15,-24,-60,-54,-22,-89v23,-21,25,-32,57,-34xm102,-54v18,1,50,-19,30,-32v-12,7,-22,18,-30,32xm85,-92v-14,3,-26,8,-38,17v2,20,17,13,26,0v6,-8,12,-13,12,-17\",\n            \"w\": 188\n        },\n        \"\\u00f9\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm126,-166v7,6,56,14,37,40v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,18,58,25\",\n            \"w\": 213\n        },\n        \"\\u00fa\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm106,-174v26,-11,48,-32,59,-14v3,11,-81,53,-89,54v-13,1,-15,-12,-11,-22v15,-7,14,-7,41,-18\",\n            \"w\": 213\n        },\n        \"\\u00fb\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm172,-143v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-49,35,-56,0v17,-4,44,-32,61,-43v27,6,41,21,63,36v12,9,17,17,17,25v0,6,-3,9,-11,9\",\n            \"w\": 213\n        },\n        \"\\u00fc\": {\n            \"d\": \"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm168,-161v0,8,-3,13,-11,13v-17,0,-20,-19,-17,-34v18,-1,29,1,28,21xm72,-186v7,3,29,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35\",\n            \"w\": 213\n        },\n        \"\\u00ff\": {\n            \"d\": \"118,85v-11,11,-11,38,-22,61v-2,-1,-2,31,-17,27v-11,0,-21,-10,-21,-22v20,-66,23,-61,64,-168v-22,1,-38,16,-58,4v-22,4,-51,-16,-51,-42v-11,-13,-7,-59,7,-58v16,1,21,24,22,51v21,33,66,5,94,-7v4,-3,26,-14,38,-29r17,0v23,44,-23,59,-34,102v-6,9,-13,9,-13,26v-15,6,-12,33,-27,48v0,2,1,4,1,7xm158,-136v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,29,1,28,21xm62,-161v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35\",\n            \"w\": 190\n        },\n        \"\\u0131\": {\n            \"d\": \"43,-103v21,4,16,56,11,100v-7,2,-11,1,-20,-5v0,-7,-13,-18,-11,-25v4,-23,-3,-68,20,-70\",\n            \"w\": 80\n        },\n        \"\\u0152\": {\n            \"d\": \"247,-243v71,4,161,-7,245,-8v17,0,27,6,27,17v-8,27,-70,14,-104,23v-3,1,-52,0,-65,7r0,4v16,16,17,29,17,65v32,10,74,-14,99,16v-14,25,-76,17,-127,24v-17,18,-55,32,-75,51v85,0,128,-3,204,-11v15,-2,21,11,20,29v-78,24,-177,12,-270,24v-24,3,-24,-29,-48,-15v-46,7,-70,4,-105,-4v-19,-18,-42,-22,-52,-55v-10,-34,0,-47,12,-78v-18,-59,48,-78,105,-84v17,-18,103,-13,117,-5xm125,-45v76,-9,186,-43,209,-105v-26,-67,-137,-83,-217,-54v3,34,-45,25,-60,58v-41,48,5,108,68,101\",\n            \"w\": 492\n        },\n        \"\\u0153\": {\n            \"d\": \"185,-54v25,28,107,-17,104,33v-12,12,-60,14,-87,14v0,0,1,1,2,1v-11,1,-39,-9,-50,-17v-28,17,-75,32,-114,7v-22,-14,-34,-11,-34,-41v0,-36,33,-49,48,-75v29,-16,72,-3,95,11v12,-9,48,-27,59,-26v30,0,64,15,65,40v0,7,-6,20,-20,37v-29,1,-44,11,-68,16xm226,-106v-21,-7,-41,-2,-48,13v14,1,42,-7,48,-13xm132,-87v-21,-35,-94,11,-92,24v-2,14,43,21,61,21v25,0,36,-20,31,-45\",\n            \"w\": 295\n        },\n        \"\\u0178\": {\n            \"d\": \"176,-189v35,20,-25,54,-39,72v-26,34,-57,57,-74,104v-10,15,-4,14,-23,3r0,-10v19,-44,27,-46,50,-81v-9,-5,-24,4,-34,4v-38,0,-54,-50,-44,-87v21,-5,18,19,22,35v4,18,15,27,29,27v41,0,60,-39,113,-67xm153,-222v0,8,-3,12,-11,12v-18,0,-21,-19,-16,-33v18,-1,28,2,27,21xm57,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18\",\n            \"w\": 135\n        },\n        \"\\u0192\": {\n            \"d\": \"115,-262v-23,6,-39,63,-38,96v1,3,57,2,54,16v1,22,-45,15,-51,30v3,34,12,68,10,103v14,17,-18,53,-28,63v-48,8,-89,5,-95,-37v20,-5,77,21,83,-18v17,-29,-4,-61,0,-98v0,-5,-3,-10,-7,-17v-33,4,-43,-17,-25,-37v10,-4,27,5,27,-10v0,-43,15,-77,32,-109v12,-7,16,-22,38,-20v11,1,51,35,25,55v-9,1,-16,-17,-25,-17\",\n            \"w\": 145\n        },\n        \"\\u02c6\": {\n            \"d\": \"144,-220v-29,0,-41,-27,-63,-39v-8,0,-11,5,-15,11v-17,12,-32,31,-54,13v-2,-5,-3,-9,-4,-14v20,-5,45,-33,64,-45v28,6,43,23,65,38v12,9,19,19,19,27v0,6,-4,9,-12,9\",\n            \"w\": 165\n        },\n        \"\\u02c7\": {\n            \"d\": \"39,-286v33,46,63,-4,96,-16v6,0,9,6,9,19v0,24,-49,46,-77,46v-32,0,-52,-28,-59,-48v0,-25,23,-17,31,-1\",\n            \"w\": 153\n        },\n        \"\\u02d8\": {\n            \"d\": \"65,-269v20,-11,45,-31,74,-36v20,30,-42,40,-59,66v-5,6,-11,8,-18,8v-8,-3,-45,-32,-51,-54v5,-24,14,-13,34,1\",\n            \"w\": 158\n        },\n        \"\\u02d9\": {\n            \"d\": \"23,-302v15,-13,32,1,32,18v1,22,-36,29,-39,4v0,0,3,-7,7,-22\",\n            \"w\": 70\n        },\n        \"\\u02da\": {\n            \"d\": \"23,-225v-43,-24,-11,-85,41,-78v16,2,31,4,46,17v32,54,-41,86,-87,61xm33,-257v2,20,57,11,57,-6v0,-6,-11,-9,-33,-12v-14,-2,-24,13,-24,18\",\n            \"w\": 123\n        },\n        \"\\u02db\": {\n            \"d\": \"82,-5v-8,12,-16,55,-21,75v0,4,2,7,7,7v6,0,22,-7,50,-20v8,0,12,7,12,20v-2,22,-6,14,-27,30v-15,12,-26,16,-30,16v-47,-8,-59,-14,-56,-75v8,-27,12,-54,25,-77v19,-21,35,15,40,24\",\n            \"w\": 138\n        },\n        \"\\u02dc\": {\n            \"d\": \"47,-300v26,-21,57,19,72,23v4,0,16,-5,36,-14v24,-10,22,-16,32,-13v3,12,-7,11,-7,23v-27,21,-48,32,-62,32v-3,2,-52,-27,-51,-31v-12,-2,-34,40,-54,33v-4,-13,-8,-18,1,-24v5,-7,16,-15,33,-29\",\n            \"w\": 186\n        },\n        \"\\u02dd\": {\n            \"d\": \"91,-249v15,-11,38,-53,57,-29v0,9,0,14,-3,23v-2,3,-20,22,-54,55v-5,5,-10,8,-16,8v-17,2,-6,-22,-7,-31v-1,0,-2,0,-4,1v-17,21,-29,31,-50,27v-5,-18,-3,-15,3,-27v23,-27,40,-46,48,-59v7,-12,31,3,29,9v-1,14,-3,24,-13,31v4,4,9,-1,10,-8\",\n            \"w\": 151\n        },\n        \"\\u2013\": {\n            \"d\": \"6,-66v-8,-72,79,-21,146,-39v37,-10,79,7,111,0v9,8,14,13,14,17v2,26,-72,13,-99,21v-83,4,-124,21,-172,1\",\n            \"w\": 282\n        },\n        \"\\u2014\": {\n            \"d\": \"175,-106v86,-9,201,1,286,-1v11,6,13,11,6,30v-118,15,-246,10,-377,10v-25,0,-73,3,-82,-8r-2,-26v11,-13,32,-9,52,-7v38,3,84,-5,117,2\",\n            \"w\": 485\n        },\n        \"\\u2018\": {\n            \"d\": \"73,-262v-10,7,-41,39,-38,69v-15,13,-27,-16,-28,-28v-2,-20,51,-83,66,-83v20,0,25,41,0,42\",\n            \"w\": 95\n        },\n        \"\\u2019\": {\n            \"d\": \"74,-300v13,31,-1,99,-44,101v-13,0,-19,-5,-19,-15v6,-10,31,-34,35,-59v2,-11,1,-32,11,-32v6,0,11,2,17,5\",\n            \"w\": 90\n        },\n        \"\\u201a\": {\n            \"d\": \"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102\",\n            \"w\": 97\n        },\n        \"\\u201c\": {\n            \"d\": \"66,-261v-21,5,-37,51,-22,77v0,4,-2,6,-7,6v-31,-9,-38,-62,-12,-94v12,-15,21,-28,31,-34v16,-1,19,24,22,34v10,-11,22,-32,43,-23v-2,8,4,16,5,19v-6,11,-51,53,-29,74v-12,21,-30,5,-33,-17v-6,-13,9,-28,2,-42\",\n            \"w\": 118\n        },\n        \"\\u201d\": {\n            \"d\": \"120,-294v12,3,30,26,19,34v2,15,-40,70,-55,66v-40,-10,10,-51,14,-64v3,-3,8,-31,22,-36xm70,-306v14,3,26,34,16,49v-19,30,-31,45,-58,59v-12,-11,-33,-17,-7,-36v13,-19,36,-27,36,-59v0,-5,9,-13,13,-13\",\n            \"w\": 148\n        },\n        \"\\u201e\": {\n            \"d\": \"25,63v-26,21,-48,-2,-22,-24v11,-9,36,-41,35,-69v3,-2,4,-12,12,-9v36,14,5,89,-25,102xm84,64v-24,20,-45,-1,-21,-24v21,-20,32,-35,35,-69v3,-2,3,-11,12,-9v36,17,9,86,-26,102\",\n            \"w\": 135\n        },\n        \"\\u2020\": {\n            \"d\": \"22,-286v15,6,5,-20,19,-19v9,-3,15,21,17,22v6,1,12,3,20,6v3,10,5,16,-9,16v-34,-10,-6,51,-34,52v-20,-7,11,-47,-15,-49v-14,3,-25,-5,-17,-24v7,-2,14,-4,19,-4\",\n            \"w\": 77\n        },\n        \"\\u2021\": {\n            \"d\": \"102,-284v16,2,42,-2,33,18v-7,15,-42,1,-38,30v3,3,31,1,30,11v4,15,-29,19,-36,24v-2,18,-4,24,-16,29r-25,-26v-25,7,-53,3,-42,-25v4,-10,70,0,51,-22v-17,4,-41,12,-39,-15v-5,-16,39,-18,44,-20v4,-2,7,-10,10,-24v19,-3,23,6,28,20\",\n            \"w\": 145\n        },\n        \"\\u2022\": {\n            \"d\": \"130,-114v0,47,-124,54,-120,-8r6,-31v44,-28,64,-34,104,0v8,6,10,20,10,39\",\n            \"w\": 139\n        },\n        \"\\u2026\": {\n            \"d\": \"244,-24v-1,21,-38,32,-41,3v-2,-19,23,-22,34,-17v0,7,0,15,7,14xm113,-24v0,-22,28,-21,38,-8v5,34,-39,40,-38,8xm35,-2v-10,-2,-36,-17,-18,-29v-1,-15,17,-17,31,-6v7,17,6,33,-13,35\",\n            \"w\": 258\n        },\n        \"\\u2030\": {\n            \"d\": \"398,-131v58,-1,87,13,72,65v-1,30,-66,63,-99,65v-56,3,-99,-58,-62,-102v2,2,5,2,8,2v20,-16,51,-17,81,-30xm202,-279v33,0,94,-24,95,18v-7,31,-33,27,-54,55v-36,32,-71,74,-112,99v-18,18,-40,34,-51,58v-19,14,-25,37,-56,40v-17,2,-25,-29,-10,-40v15,-11,40,-37,52,-52r87,-72v-51,13,-100,6,-116,-27v1,-5,-6,-30,-9,-36v-3,-5,22,-41,27,-39v29,2,16,34,5,49v0,15,14,23,42,23v42,0,59,-31,28,-38v-17,-4,-53,3,-50,-23v0,-7,1,-12,4,-16v16,-9,36,4,49,5v0,0,23,-4,69,-4xm222,-118v33,-2,55,18,50,57v-29,36,-48,45,-96,50v-27,-5,-56,-17,-58,-51v13,-37,64,-43,104,-56xm335,-61v13,44,101,7,108,-31v-11,-3,-20,-4,-30,-4v-18,-1,-82,18,-78,35xm225,-244v-18,0,-29,-1,-46,3v7,15,6,28,0,43v15,-14,34,-30,46,-46xm164,-53v26,5,59,-10,76,-26v-17,-16,-49,2,-67,14v1,8,-8,6,-9,12\",\n            \"w\": 485\n        },\n        \"\\u2039\": {\n            \"d\": \"64,-107v9,17,86,17,87,43v0,11,-4,16,-13,16v-36,-11,-70,-22,-109,-31v-19,-4,-18,-14,-9,-36v59,-56,93,-84,101,-84v17,0,19,20,13,29\",\n            \"w\": 159\n        },\n        \"\\u203a\": {\n            \"d\": \"41,-181v26,27,112,44,70,91r-82,60v-20,3,-25,-23,-13,-32r70,-51r-66,-46v-5,-6,-4,-28,5,-29v4,2,9,4,16,7\",\n            \"w\": 137\n        },\n        \"\\u2044\": {\n            \"d\": \"193,-305v7,6,17,31,3,41v-10,7,-12,13,-21,25v-79,56,-190,209,-197,260r-18,0v-23,-19,9,-70,15,-85v52,-83,121,-179,218,-241\",\n            \"w\": 120\n        },\n        \"\\u2122\": {\n            \"d\": \"213,-307v28,9,11,49,7,75v-1,4,-4,6,-11,6v-7,1,-11,-14,-11,-34v-14,-6,-34,34,-46,28v-2,0,-10,-9,-24,-27v-10,7,-3,36,-27,31v-15,-24,-3,-27,1,-48v-6,-7,-27,-1,-31,3v-3,14,-7,30,-11,51v-5,10,-29,9,-24,-12v-5,-8,1,-18,3,-35v-13,6,-33,2,-29,-18v20,-17,64,-17,100,-19v28,-1,29,30,45,39v11,-6,35,-32,58,-40\",\n            \"w\": 239\n        },\n        \"\\u2206\": {\n            \"d\": \"18,-1v-24,-30,8,-48,25,-71v14,-19,34,-28,40,-56v20,-35,29,-14,57,4v9,39,43,62,57,102v0,16,-34,17,-50,14v-28,2,-72,4,-129,7xm139,-47r-22,-52v-12,-5,-12,15,-24,27v-7,6,-14,16,-23,28v23,1,36,-1,69,-3\",\n            \"w\": 199\n        },\n        \"\\u2219\": {\n            \"d\": \"57,-77v6,18,-7,21,-19,23v-34,6,-25,-40,-9,-43v18,-3,29,8,28,20\",\n            \"w\": 67\n        },\n        \"\\u221a\": {\n            \"d\": \"364,-218v43,-21,80,-51,104,-32v-3,19,-24,21,-44,40v-41,15,-78,53,-136,78r-137,98v-20,16,-79,66,-91,68v-3,1,-25,-11,-24,-13v-4,-28,-43,-61,-30,-85v26,-15,42,19,58,32r295,-188v0,1,2,2,5,2\",\n            \"w\": 474\n        },\n        \"\\u221e\": {\n            \"d\": \"322,-72v-4,22,-54,41,-76,41v-43,0,-83,-17,-114,-35v-46,19,-125,53,-128,-18v-1,-14,10,-22,13,-35v29,-10,62,-31,97,-4v37,28,47,5,75,-8v40,-19,73,-10,114,1v13,1,18,55,19,58xm228,-69v15,0,62,-12,61,-25v-19,-23,-89,-10,-105,11v0,2,1,4,2,4v28,6,42,10,42,10xm75,-102v-13,2,-41,4,-44,19v0,4,3,7,10,7v21,0,40,-6,54,-17v-9,-6,-16,-9,-20,-9\",\n            \"w\": 330\n        },\n        \"\\u222b\": {\n            \"d\": \"62,-151v-7,-70,20,-130,63,-150v28,1,39,10,70,23v20,8,6,33,-6,35v-29,-13,-45,-20,-49,-20v-20,-4,-45,51,-43,70v8,60,5,129,5,189v0,62,-27,93,-79,93v-37,-1,-71,-14,-63,-57v21,0,79,34,91,-2v16,-3,14,-64,21,-85v-2,-31,-1,-74,-10,-96\",\n            \"w\": 156\n        },\n        \"\\u2248\": {\n            \"d\": \"133,-112v21,15,48,-30,78,-17v3,3,5,7,5,9v-8,30,-47,45,-76,45v-19,0,-64,-48,-90,-21r-29,20v-6,-1,-17,-16,-15,-32v24,-17,70,-42,107,-21v4,4,10,9,20,17xm138,-57v28,2,48,-25,76,-26v13,30,-21,42,-40,53v-41,24,-77,-15,-114,-23v-15,14,-46,32,-49,-1v-3,-9,27,-28,54,-30\",\n            \"w\": 223\n        },\n        \"\\u2260\": {\n            \"d\": \"48,-130v29,11,49,-57,60,-50v25,6,7,27,-1,46v22,5,29,7,21,22v-18,2,-48,-1,-50,15v9,8,53,-7,54,10v-4,22,-46,20,-72,24v-7,13,-18,32,-34,57v-8,6,-15,-3,-13,-14v-1,-9,15,-39,14,-45v-30,5,-24,-17,-13,-25v12,-1,36,4,29,-13v-14,0,-47,6,-36,-12v0,-18,27,-13,41,-15\",\n            \"w\": 140\n        },\n        \"\\u2264\": {\n            \"d\": \"73,-109v10,15,87,16,87,42v0,11,-5,16,-13,16v-36,-11,-69,-24,-109,-31v-18,-8,-18,-13,-9,-36v59,-56,93,-83,101,-83v16,0,18,17,14,28v-27,24,-42,35,-71,64xm10,-29v35,-12,117,-26,148,-3v1,2,-5,19,-8,18r-124,15v-16,2,-26,-18,-16,-30\",\n            \"w\": 168\n        },\n        \"\\u2265\": {\n            \"d\": \"115,-174v20,7,53,36,20,57v-19,11,-91,68,-82,59v-18,3,-25,-22,-13,-31v15,-10,14,-10,70,-51r-50,-37v-5,-4,-5,-27,4,-28v16,7,40,17,51,31xm14,-32v33,-10,86,-14,127,-10v12,12,5,23,-11,27v-49,9,-82,13,-99,13v-22,0,-24,-16,-17,-30\",\n            \"w\": 163\n        },\n        \"\\u25ca\": {\n            \"d\": \"76,-158v48,-8,64,11,100,36v28,19,-5,39,-22,54v-15,13,-40,32,-48,49v-17,5,-12,0,-27,-16v-6,-6,-86,-31,-68,-53r2,-9v27,-23,48,-44,63,-61xm93,-65v12,-2,35,-31,41,-38v-5,-10,-16,-14,-34,-24v-12,12,-36,29,-40,44v19,11,30,18,33,18\",\n            \"w\": 199\n        }\n    }\n});\n}\n/** js sequence diagrams\n *  https://bramp.github.io/js-sequence-diagrams/\n *  (c) 2012-2017 Andrew Brampton (bramp.net)\n *  Simplified BSD license.\n */\n/*global Diagram, _ */\n\nif (typeof Raphael == 'undefined' && typeof Snap == 'undefined') {\n  throw new Error('Raphael or Snap.svg is required to be included.');\n}\n\nif (_.isEmpty(Diagram.themes)) {\n  // If you are using stock js-sequence-diagrams you should never see this. This only\n  // happens if you have removed the built in themes.\n  throw new Error('No themes were registered. Please call registerTheme(...).');\n}\n\n// Set the default hand/simple based on which theme is available.\nDiagram.themes.hand = Diagram.themes.snapHand || Diagram.themes.raphaelHand;\nDiagram.themes.simple = Diagram.themes.snapSimple || Diagram.themes.raphaelSimple;\n\n/* Draws the diagram. Creates a SVG inside the container\n* container (HTMLElement|string) DOM element or its ID to draw on\n* options (Object)\n*/\nDiagram.prototype.drawSVG = function(container, options) {\n  var defaultOptions = {\n    theme: 'hand'\n  };\n\n  options = _.defaults(options || {}, defaultOptions);\n\n  if (!(options.theme in Diagram.themes)) {\n    throw new Error('Unsupported theme: ' + options.theme);\n  }\n\n  // TODO Write tests for this check\n  var div = _.isString(container) ? document.getElementById(container) : container;\n  if (div === null || !div.tagName) {\n    throw new Error('Invalid container: ' + container);\n  }\n\n  var Theme = Diagram.themes[options.theme];\n  new Theme(this, options, function(drawing) {\n      drawing.draw(div);\n    });\n}; // end of drawSVG\n\nexport default Diagram\n","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAz9JREFUWAntWM9rE0EUnmmSgtJexIsogucqvamXgtRS8U9QPAi2kYIJFdMItoGFVg9ttWI8aXuT+idUUDQIeuhB9OBfYEUQzaEqgtnd8X2bnc3sr2Q3u0UPu5DMm3lv5n37zZs3M8tY9iRjgCfr3ukthODludqUydgVJtiIpeHs4wBjGw9WFtc556JjHV1KBeDsrduH9D+/nxDI8SDXBO5lfnDfpft35r8E6bu10Qsme8BcN3AYHcBtm9iE5JLBY6z5y5gmAOUI4xx79vzV5+23r99FsHVM8o4UIly/WRvRDXOKAmiSyDpKfAyppqZwhxbnbIsPFIqwEWbrEanPS3srPhl7LOtRylCAmqYNfv+h32sZYoac2KHgBhPkAODqy9oOdKWqVhRG65NjJxeP09BbCAQIcN9+6luCUdD3xtTbSwKLQIBgzgLXx8CYVjCHrpBdQ1DacdUjVHwAyxXtuMn0GZU5ShM7lMaqucL+hjdVlCoL0xSHDhDEnGtaFRDIiUo1kuhb9qXK/Jop2KzsDXCFofzomqY1ZZtaIs2U5movkErUdq+MXFhfWZygMlbQ+PIg9Z5UBwdzYeBgB4dIwgCg9lNl6GybWOAwhm+K7VTijI9pdSohAqadGJywtjplumE+wHkxyVbnY9Cb57wxF4LRYrK+uuTLcWiLO62qjwCAqvrfyxnApHOQMZgxmJSBpP1Ti0Fry6N92QsIezV03vao9VQA4k6C/Vg9NEgAaIMONrItTulsdXREOiIMfZmOWXH6476Bw0LohQmDkY28k7gOC9InWZxpO+UNnstX5YEXbdadxDb8QOBOtg07/6fHzm5sv2nsdlrcUr93Eo/PYRoVvxP0NpdPjY1vSp9WbFy7sbBJ4C64XUeutciyIK273UnIRsh92Y7LwNjkjD99eHfpIsa0p1hSLN3EKh1w6NX1TkLqaAumgyeVRRLrdWIa2wzyBrGfyhR3vZNEBgc87ccCiJXDDP0cxeEBqUBJsdAk3ai6qlQ95Dh3Egq4qweHC+vo93W3dZgOs+9DfFZhg8cJ0ihLvt3F/W+nmb7uJFF8OgDdbuPV9vLjUSoA8Tpgci8+v8WjKrPOGMgY+P8Y+AvdFLNwJ7BmZQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAtBJREFUWAntV0FrFDEUTrJTwaPehPbg2R/gXXrpf+hNXRDdItQtxXal2FbBWhBXL1Vv/ocKSgUPPXjw5i+w4kHwoiK4duL74iRmMjvZzOw0tLADYV7e+/Ly3su8lzeMncRnefn+GYzjYLtwjeh0V699H/z4igHalceeFwyUKdsgI1oYGR3bptx+RQOZPKsR0qI1L/a7YGBsA0btZwyUUvLOrdWr7gLwIHP5seZq45u3N8/9+f3rJRlyadjGnPO95NTp+Uf3Vr4Mkx8lL1GR6/ZKjcPmMDxzYJaMleDdWLwzx3i6Q7JpzOs+pO+ASdF+sn13d5gOsdDtXSmLnL0AGGANrwHjoEs5SLqMXocQKWOXbR7nbFe0pmYwQNsyF2vLjooWTLILtnIuptr9B2sHGKBtWQ5Lx6KOJweoPtFHXLYyKROM4mffzMwo3LjyhHH2kSJzUSuS6WCns7SmIgda89Ub2MhPQoXwBX1b/w2UbE4eDj4NswNYzQ/JYn18ZRmqdfne4vHW+nNStOcDQQYMsAYXkMWjMtTo8hCCNpYowj4jIcswqgZ69DUuUkmCG4K8nUWdS6XMfXfkQTuLct44lcX+Qk2OqSI8jtWFO/b64krOkKfbmwXMOBtWXWuahaoLY+GNgXTEk26mTtQFIudrtaCUMLqbif49tr79PERDuhDg3flXr99+fr//7kMAtjFI4nYo6GB0k4CrTtLNonfLsM8wD7lJ9DrfW5eistumfjcTcJP4DNMyOr1pNL567r5NFruC4zKv380E3CQhTuojLsPW7mZi9YMcZabT7b1BKSnzAnw0DP2tdfPT5MM2KUtoY0m/nfO+Wgjj3G4mJIv18ZVlaIgj9buZgCxGhvJ/GVr718BkMSLZf7ihapztGXiQ2byYtDGw8qYBf3X6iCvrthYU/uqgVBVPAqkNLLBNxsriYgSzyDThve3QhJ5E4KRG4C+jeY+OWjNByQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABJlJREFUWAntWF1oHFUUvnd2N6hEoZRaFfsgCIp/xQcVH0Sq7UMRfLAYKhZ/qFVoslGzP0262XXY7cbY3WDIboVoS4taCin+QrWlNq0iPhQRVHxRUCmVIkRfuknT7M5cv7OZm73zszs7aRsVMpDcc7577jnfnHvPmZllbPlazsByBv7fGeDN6AsheG8i/YLJ2FYm2J2Mic5mtovDeYVx9pPG2L6xQm4v51x4+fEk+MrO/I21uQvvg+QjXosuNwZyk+GOq7eMDqXOOX3jBuwXZW4pyVF0SoQV05WwkJ0eY39PG9uwoNeJL4F+y9HjJ/84/c1X36mxwqpCcv3MKSDn7HOuRV4s7dbPKvAli9GkfrMwq28LwTZKZ1bsd6ROo2uL5wuiYXIlyJF3umHy3YgEqV6MNoS5MuisVmfmdF3v+KtSy+IYPEOucMDfXdkZzgCfs7v218h3dyylGLo7hQdBxd5DJHKmEDvkFIjuAEZqv8Qu5+jeYh/vMnOqmRemzl+KHJjgYoLhBlzto10/gQnSmXM698KkTV8qtSYaT3/fncxskFiQMTBBKgiN8zeQknP0RzJhXkF7kvpNF2fZpGDibmYYR6KJ1FNedq2wwEViVSsVRMuiSCT0G2bM2iTsbrUIREyTHeyOp1fvKeZGW5FS5wJlEOTauqHowNCqC6J6As+w29RgkDkT5pvR+OCwA2+qtk2Qgk6dr33bE09vaeoNE90DQyvN6vQXeELcQXY4nzVN056H9LVcR20K/W9/OzfcFsF4XL9eVKfpLK0VwjwQjQ0+IYOpY3//6yv43MxxPBHusXBDY/zpUiF3YNW14Q3I3yeK/XNTlerHiu4p+hJ8eWd+9SyrnkRG7rI8hNA0DvXEMgvPUMKjun7d+dr0MdzEvaQjc6YWYs+OFXMTpCNbsw/fv3YTAu4lnS74fGxeav7fl6BxceaU3C7pBn2tQ3Dzw95kZh1hCN4pKrWjiHifZSNAcGtpd/6gXENjV1eXURrJb8NcXsVbyb4E8Zp7OzmonyWuRSH+WncoxFWGYX66vS+zbqpS+wykH6zjSAxaz0u0rZbuGsrFXYMafFGWXZMOwJcg2RM5xrXNpWKuHIlEHoV+dt6P6OTcOAZyD0m/nGk9peIu2yuTnFNH8sW42KxiXnI7BKuCaV3lQvYDcjA6rP8e0th6rrE/LYeRBcdce7U8kntrQfcRyoX8YR8Tj/dBx4oQDz25p5j9SIVXXBP+zRT8ZxXDtiaDNGB1bSvZN4NjxazaGtj4+HgE/fAwV7eV80Fsa6FVoMXO+RJUHaNawz/+cuYQWsnjEkcTzuLQt12Vcl27owdBfK8qF307kDoxMRFCtb6HlrNJTqMghlGtr0k96Ch9N9bZYxPuJoiP6cYC9Ax82GzvS6358vQP+1GtjarT+AgKYkC1DSLLjybbGkdsmnM9/MF4H5rTA3IhMrYRX3ZnqO3bLlPE8DyN2bAAimlUXdYU2wnilc5+IUs8mkjjYb80vyrI6Oitkzgu6zHaMuHaYjKgnyFogVx8pUeKZcW0kaO4rgxKMpTJ/8KPR5LP8ricgX8rA/8AzIbAxE4StbIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAshJREFUWAntWE1oE0EUntmfUjTxYFNBED0oXsR6EPSm4qEoHrwFFL31IibiGmOric1iTSFimtIqevDiyZs9ih5E9KQ3Cw2igiBFD2pEsgTs7mb6Xuy22Zlt4ppt6mEDy+6bee9733zzdnYmhIS/zhSg7cK14et7LLs+xAgZZIxuJ4RF2sW07qcGpewzJH6myNKDUmFsrpX/qgR1Xe/5UbUmGCXnGGNSK5B/7aOU1ikj9/qiyiXIt+CF40kQyX03rCdA7KhXUNBtQPR5LKIc9yLpqUxDuS6Rw8GiEJjTa+CCglhzps1mm6cVRjgPdXNFVje8mBzPfPUC+tu2i9fyW22zdgTq+Rbk2ObE4XSrMh3ga1JxHJx744VgZFlZJKdGlH0lXa84Pp3clwb4SNP1p6ZhvXVIoiCWzYYAW2vGXybiNOLb6jzjHZULilwzLmIidnMbnxv7RIKNpWQlDKd1xQr2icf+s4y5cwhTzK9z5u/al/OpjDsqIAuwOSRxjRUU5CLW3QwJrvsUhAR4BbQRfRdefPta27BSMLz4PMIys2CaH5achM8gH9wNWyAIST92IzGf424x/18IwvPyb4c16FOzsAZ9CtbePazB9hq5PMIadMkRhBHWoE8Vhe9fIpWdh3NJORZVj8FJv+4TL3B3Ycu/e8eWnXeKeTx69gaebRXAZDo7CMJoyavj/byLQLBSqcjgPPOtas4ldX0TH7AWNmPkNCNsQrJrm3l8YYrhhE8vpEcn4d4fiypnflbt/b3KxveFwsgvPrgTG/Mk06OnYIf66fCBvW9evZ49OXV7bAb+yXBtWgUF0aEvImuHDg6cNQwSsyh7adjVG0gmcTkzjbveRDqb9LRT2SlXfwsb84BqJUrYw3K5LE8Xbz7myWEOgSA24ssRj8dtVe1hkkTvS1R+h+1B/yRKhyVKTuRyOTNo7BAvVCAoBRYB7wY7i+lk0qcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAh1JREFUWAntl78vBEEUx9/b9aPRSDSC0n8gUR0SWolOpaSREwmncMgFp8AlCA1/gVKlkvhRiMQ/gJYoCIWLhNgZ81xmdvb2rIu922lmks2+mfdm3iffeTu7C2CbVcCsAhiVfmpuaZAxNsoB+oBDBwBviYqvhQ8R74E7E7uF5WNar6HSolOZhW7G4cDzvP5K/nqOcc47Edm+yNFFeUKA6cxiyuPsSCjWWk+Qatd29MCScmbh5BZLroCCtK3lyokJFwjOhtvUfL21ln2UEydnsqI0/bZXyFes52rj/JWClgKkByJcc85aW4u7mMvlWHBacj0FSE+rnpaUMw1HPKoGf44SjZC21aRyEkUBls45OQxANef3zFk+oDmGyMw+IMKDHul9fvTofVO2AhRnxLkOwYFlRA0qv+5L0lYAjuMc6onFKyf19OatmIZUgDvryyfiaDnTIQHY/HPx6zQ9uzQ8PZ9vD/qS6alzkNI5COMewJX+NiElOXgp9vEO4q1QokJ4FTGJNKUgZdvZWL1r4DACBBDVEvyQCAAS03Yhf+4i9oa3O4q4fr4QIKUiJXc3Vwdc1x0SoAeAeAOARYmBgC/Srvc9UIPlyejBEWN0hVr5V0oooEYDFRWs0do1WcYCxpXRKmgVjKtA3Pm2Bq2CcRWIO//fNSh+EW5lct2WY/Ku+3Rb+v+6/x/QbRwTXzqXP5ewf0uEVcb9Nt+OWwVMK/ANi5mZTElVwIAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABIJJREFUWAntV11sVEUUnjN7NwhtEwFRg5hKiBrFRJI2Kf61DyLGhKgvNsaIJhrAxBbaLr2iu9RLWtLabina9cWHxmDiTxFiNGBiLGJNQ2kwCqGgr6JVYoQHK2y7e+d4RrnrzO69e6cLSX3YTW7u+Ztvvj0zc+4Zxsq/cgbmNwNQ6vSICNvad61GzN7BAFYIhhUEtgAAZ8l1HtA6NtjvnCkV3xs3Z4Kt8a5bMul0OwN8FpEt9YD83zAJHHel+nbv9/eHW+dEcKvd8bAQ7kfhxAomHmqou3dzY2OjW+AJMVgh/py7xU7clXXdQ0jLmDOaCy+MHj+ZpfAt5kP+jYyYDqi5r/4Axa5S4wHY7wzYEc7gS+T8C4Y4woGdpD05TXEr6VFXqKbuoYbvJsZGf1QxwmSjDLbF47fOpLFeBeMA9tJKa8BxHJmZgl+z7awVIvshka7OOQV2k/xpTjcQuEEMm52BdXlxI4PJrr4gcjJ2sNcZ59x6msTcvqO9e/fW2M6aPKyiqhFBQliuogDAN6oeJEuSFLtP9VM52qjqYbIRQQS2WAWig5JW9WIy7c0PND+wpzQ9RDEiCIL9ouIA4pPDw8NGB6yh9p4jdFJ+9cbTMueW3LMVe5sRjMJRFYQyuHZ04tThlh3ObardT5a1DyCyiZb6Z3p+inD2kl9ckE0tA0Ex/9ibYonPkOEGNYgGzyDAuxC19qa6nR9U37WSjQm2Os6SzHR2nL7Bt/tNTtk5yhGHllRFD9DpvuQXU4pNI9gU63iMgXiHSKwoBezqx8CkBdYzbyadUx6WvgfnlZykhKtdzPR65ORbJ6h6/ieyThD5Znna5o8bTEYgaqvza3tQdZQiy9o4evz0egR3C0MmT3xBraQEdKeSXa+Z4l9TguqkTdsTK6lR2EE188UCosDvfzvZeUyND5KNCMpeMCPY49TBjA/2dX4dBOZnl82BAPxErQzUpu1PJXc3+sXn2/Q9mO8lPRaLV2dcNkHZ6BFCfNX0SsejPmGBprf6O7+lHnGTHgC1uh6shRKcjbAH6fhXXoEAlhVz+lTJcddB1ZhOAW/U9WAtlKDA6Fl1OHU261v37Fmo2sLkGbisdUPUaP8RNsbzhxJcVsG+BwYXvAG01Itmpy4+kdMNBMxmGrQwxClNL6KEEqTvqqAr5vs6Bg7EHOcG3eav2fYbVdTOxDUvwIimF1FCCcqxEQ4pev3XxyHenJ7OHm5pd9YEYdMf4y/bHY9ccv8co6zfqcQhfW8/VvSiolGZkQjN23f2CxRteWgu3eDGCETe1H5jCAsYE9eTXE33uVq/+zMV6n1UqJ/PwwlUjW51crS1fHEiM3WhjurZAwpahLJTT8X4yo2PJO+niJ6J6t+JSquixdNN3kZLLIEG2touW5XWBprkcxPgvBikTL9XEala19Pz6sU8X1HVeIk9FMog0GfsOSJqy2ukZ/d7E/h56rgPAreGUr3OCb+YMNucCaqAze2JVXTC6YLObuLIFlGa/iLi0/ScI1Jn9va8fo72nM9iqyhluZyBcgauKgN/A8H3Z5UknDK7AAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAmhJREFUWAntWL1LHFEQf7MrRoKNCEpA/Qu0sIgE/KqjAcHiKkkpyGqlovhxHHLaeAYTzialWFhYqukCsRAiqPgPWFlYmEoLkfNNZk4fvllXYWFvV3QfPHbe7LyZ3/7m7cztKZWOt8iANzG3w/MlPHtVIAjEvkB9AkongZihQgYz+IyL0fHsZwX6JyI2PWMW+hYAnCl0hosrC7/szeEZrAA4BlR+YPJtg2M5PEC/hwqvwwOkNJTTETEwk2K/2+AzCLALRLrfmNf3Z6Q56F6qSxl4jQyA/VC5XK724qq0Sq/HAIC6pHubxUJ+xraJW3btgK0fO78TuGHSvadZR7P7U2fv+cH+3qFtF6cs6iAiDHJwcJwuqks5ljViB1+TGqIOUu3bUqC0q7V7q9QIgyKg+za4qHqxKcz+3mvHYlkwWCwsegrhtKTUb6rSjXQOd6ClYUNsiqgXP9V7RSxaCAa9yTkPNX67M3KWejrasplMhshMbggGQeP8AxQ98+fvSenRL+uIerFJ8UO8YEkwyGn1m/l7ctqL/Qyl69fOgL8XV/+7Ki1QjfrKD05v2np9bVWWevRNUkSIt5jBUWubMmAI6BTpeDltdHFfRR00zLkO9DvgfmEwRhc3MBNPMIgAx1T3jn4s53fHJrL9xsi+RtWLbZ+2bAq46dEC4FohXwbljc9ea7x9xxtpw4btoBIf7bZ/ylgT3H0flz/MRIptw5ciC4DmX621lcUa6wwOCbAR9WLh01qYFBuVSDEgtlM//vDU+eNNcfdiwSDXPQZB52+bJ8tGx3ISQzDIRZnrniktDI51SQBLY74ZBv4DS+vqECs93UQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA1ZJREFUWAntmEloFFEQhjNZ0YSYuAQXTHADMYIHk4MI8eRJEHNSPOjNW27qQUSIxIvLIehB8CB6EAX1oogbGFAPKhjcIypEXBEERUWNMeNX0g0vNTWv+03GCUgKft6revX/Vbzu6X49ZWUTNrYdyIyNno6dzWYbyNwIloFZ4D7oy2QyVxnH12iuE7wFlp0m2DRuHVJ8h9WVir3En1fyJinarRrxuaVtkk72Gt18JbYdrAUXjPXSNEnhXqP4Z2Ir48vIvBwcM/L+XZMUy4DDRlFprj1uLh6J5WvyMWs1cV5RxqjYUUbLpMFWqxDxfE3utvILilGkEpwAPnvNYrNVgLg0eVyR5X4tt/KDYohUgTNKXFzZNW0DBKZbBYjXgFeKsNDKTR2LRM8pUXHlRl8ADoqj7BZ+rVWE+HWV22HlpYohNAlcUoLivgAtIsIol+4k0Ca8KrcQfjsYchJHmMvrMdwg1oJrQJtcwjmuIn41uKIT8eWe/XsOYGwDH4Fr/a5O6jkK9eCGqxTNHzLOtISI14E7UZ479OKsAJ/cIPNhiVta3hikBiD3kLZ+AubNHwuyPgM81UT8H0ZsV8xLPSIyDdw1xGRnGtMIkdcC3gCf7UmjNSoHtSbwwFC9Sax+VHKCQ/5S8MXQklBBOzcb4hNDsI9YXUI/Octw1gH31xpLb8tJTgrAbAbPYwVnvMx8chJfr8NZD345OjKVx0mXzk30Ic0Hg0DbeQLBL3I4m4D8Ol2T5rYkNqMTIMlzztq5s8SrdX6SL00AacY1aXZzEtdch7jPVYrm8kaoNAmeIJwuoJuTy7zBQ/MvQX4EXJODZYWflbsKZ6srEs1/MnbmZgdEEPithAu5rDuVhrjyUF4T0IqdqoXtrPxR+D1aA/8bWJ2fFbCixQOocoLZr/n48mBeFaLjzdUFvMnRIhz5HjmkufhyEAh/8fuK6iK+XFkjX859RzQPX45QbUn84HVdyCdAbgXQ3xMi8QHI/zDFN1FXJg9uOdPJWXAKaARTgbynTwFt7wgsKX5nkSLi73XFAF8+fBYVsznr0+52gQUG4XXwl9qzAvnpaOxAK/gesGuSeg/MTVchLMv8A5Nii5HpAcuB/H83ArJqHMYfABfBAXZuiHHCJnbgv9uBPwSRIVjlgGxjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAStJREFUWAntWDEOwjAMTCqeAQ/iI0xs7AzsbEx8hA/xDkIa6jZyGkWnOKmEzNLYcuzL2c1VGKM/ZWBbBiwvf75cj8Z+nsHvhtPjfnvxmJ72LinmwTnn9qPf/oAekpiOjoHXInCjP17zuF52ymChMo2ANHhr7dusjFTCYAGf7/syAsVYICAcmGY/2ocDjDb3WOIAfRtCO4TRUYt5WngGp2un25uNM8iP2NhWgLUEK4PKYC0Dtfvhe1BKi+liLn3O4S+JkBbntJczjgPkGRrbOEAhLaYWl84Hz6BqMaMUbzFL0NpUgLUMK4N/zyB8D0ppcY5ZusBJo/EZFNLiHECu0TjAXOZG/gRgoHgqFq/n+kJaPOdjC2oxudMZDACWv98okJ69tZjq6lMZ2IqBL1CHbISYq1DdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAATpJREFUWAntWDuOwkAMHQeOASWH4QqImoYVTQoKEAWCgiLNarfZepcrcBharkGGMfAGa0REPiMFaR0p8bMd209vRsooxuilCrSrAGH8R7oaGsp/rr5NJl/Z+oBcFRurD2Z2AZictbbHPt2I9n2uCojV5z4zwWyQY19i5MtaWStx2frwPU8wTLyLrwSbroQqqAo2VaBpve7Bpgo+PnVBp2m6sEEoquu+MjSbL0fc9HO32RPR03mFBKOyedKMyeVn88sph9n88SO8WtuDNqcByEiMGGxrBEHglS1c4u9s68+Kr5rIfOy9+/YKKkG5/HWwKlhHNVmjCko16mBVsI5qssYr6E4TJyQkRqyslbUSh/WU2CNiEiMG6wka97uDG16bOowXKtuSffiIlXTMmG/GledogSqgCqgC/0SBCzOeVk4Sy7CAAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzlJREFUWAntV89rE0EUfm9324i1l5bWIl7FP0BQiuK11IP0X9CDUNlSNEk9NNGtrSCNEUqCgteehR4EDyIeREQvguDBkx6kl1JBE8S2m3m+t8lud3fS1HQjRdiFMO/XfN/Hm9mdCUD6pB1IO/B/dwD3k2/POSdMcAelbmV56fN+9Z3ys3OF05JvgFWrLjvrnWr9nOUb8XEmV7SJaIEaO0MuJxFR8WDG67rx3QZ9amLsgJ0tfGfMO5UHi9VOGEa75Ey+eFWRqhDQULt8L2KCLRzC1QmvrUBFlAsmIa4aaF5GhMkgdkDDMPCSYPFyrPoQES4/GBq1Peg4jrVR2/nNNbycWB8ZtIY5th2ak9hkvP6NmrsJQMcYrDEy2HeEY7KTtEfrYL0OsqzeXkOkr70WJwoEkzvzpaXGbHG23OigCYykCSniH4LTWeAhCIpTpgLjHenW1zrIr+uoD8IbsObbvR7D2GHOOI8mkMid8Iv42/fKt3s9hrHDnHGe4Kiz88XzQDBFoKZ5lLPtF1r4ND7Bzt6eBFRPvDgZ16rlu8/F7jYu2OTCDSA6yh+LBTtXHAOEtWpp8U2Yc7eDpGaJVI4IBrjwI/ZZZyr3Fz+Eiz2bxfEZfVJ+gVBJdBkXbOEQLuEUbmANcb5dgZEMjqLbOB4J/QOnyYHBnm9HEQjMEOQNw7jCN4x1bvuYUurl7K35C9okXlau+SY/YDvIdxkXbOEQLuEUbtEQ4LUM7SyeyRemlaJHkjfQeMjXoWx8Ui98vs6V+TZz0+Mx8HqltPS4HW7QQT9pmdYL3+YX5qJv93oMY4c54zyaQNOFn0ERYSawe22EsCOcMR5NYCx/6G4qMOkSaB3c6uuXc6T5IGlvuZ9KPIawI5wxYE3gcGZ7k79LzSs+walcrjQQm5PY9TAZW4CESzj3Am3bITs7/47beLYF8BaQ1hhqq1paWtkL6G/idr7ARxllgHCKj8pxDx/gfbV879xe84PLQrTAdPhv8DMGMTwggnG+fcj/4kQCSVGZMfj/TnMXcfcUn0ZOlDvqaUssabmhcGsnGOA1H+Y/OCSIIjDRw3iCQ4Ip2MLh34YSAaeT0w6kHUg7cPAO/AGCRkgdL4lBygAAAABJRU5ErkJggg==\"","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABEJJREFUWAntWF9oFEcYn7nbS/CaU4iR0uIfBH0qKkrBV/FBW1FLsaAPVUQCh1xOjOcZNRe7mEvBS9S2SWwKUkGkakAfVBQthgMfSlGQCCK+iYoKxj6Yw6be3k5/39m5m9udJJvNRfuQhWO+PzPf77ffzHyzc4xNP9MZ+LAZ4OPBN7e0fWYV7EbB2Boh+HzGRN14Y8b28xzn4jGAbxjBwMnjR9rvj9V/VIKmada8GraOCc52CiECYwXx6+Oc21ywn2dHjD3Ae6uLoyVI5IZy1jUQW60bVG0biA401Blf6khqM1PM3HsiRy9LiSBM3Yu7MkhrLl8Q99RpxRs+xbrZFwyFsz983/pcF8irbffBjk8K+TersJ4zwJgrx9F0h4J8qXNNGrKDbIsbQrBSZolcqM5Ydtw0/5J9JtP+94Jnm03zej5nDUqSlBCrIBoRu1mNXyIijbRbpUwtZa5a5NS4FJNiqzYnNvncBIulpDyMprWsVVdyxn5XxioxXASddW6ya07CJRKtC+J7U9H4/rbl0uaO7a6xGoJyePXaWNJcMcLZoC1En7DEnaa9qVVeo085QZBZyO38VSbYLCJFm4EzvuF/QTBhmg0gch2L/+NKQjxbqY+uTVkGcSqER3LWFWRssQof4PxId9fhy6ptLHlKCPb39weHhq3zmM+VKjhq6pmfOtsPqLbxZFehHm0AMmLgfD6FVfQ1E/wmjxhbu03zta7/rT8H+zCt61UfjqzflyyetwMk4fL+eM7gy1zhG0zXt0KwjwQTG+1c/jR011GJTfGdzRidCKUHm+JuODhzUzQazZeMHgXPBHFUVr65YF/Fk20HVZxYsq0RpE3VBvnRjICxLpNpGXbYPameCS5ZNP8izr3bjqiHm1oOrSVbLJlaz2y7T/Vzzl4ZQf5FZ6f5QrVPRPZMkKantlZswuk8JAGQrQCz7N+akq2bUefOwx6UPsz93/jm2PBjJv1Q2vy0nglS8GMdHU+Qlc0QCxIM67Fe2OwcdmxY2or+IN/S29X+h2LzJU6IICH0dKUHeIBVrD0nMmpdrCeTvuS0+9EnTJBAejo7MsjkBR0gykh7d1f6F53Pj80XQQJqqAttx6Z54AD9FRk+5LBNSvVNEIU7V2MYG7Fp7iNrNn6n5kRC0Umx0Qx2FdpYIoV6Vf4uC9WGP3V/t1VGAtka/LTXxsqelRrdT/L/vHlWtvJc79F0pKxrvqhxEj1WO9AFR9V1sh9yFMcZ24lNfVxTjJTeIId86PaFC0691KvVUkyKrcZzYpPP9bFAf0fg2rmrWITRAe1cun3Fk61VvXYipuvaiVPnpEqYZNcaJGM8keqxmYiR/L6eAOO93UfTTU481xRTB/qvBLtywNl5qnTCIkxd/NLZqTqz2Wxh3ZrV50beinrUus/h02ZaHeNHpvKEzJ1oiBjbRtto4wJ/6L/f/Lz49JjpDFQzA/8CuXujY1a6Ym8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAnRJREFUWAntmN1KG0EUx+fMfpiklmoLpVDEXFeL0DyBYG+9UXwGH8AH6AP0AQoVvWupLxCwhRZqq0SmriRa0SK5Mu2FoFTUVLLTPYXAODPsJO7stoXN1czZs+f/2//MyX4Qkv9yB3IH/m8HQIdfqUzdubw6ecpDXg4JH9Tl2IpRAmdAoVnwht4y9u5UrqsAItz5r+N5zqEoJ6c5B+AXJf/eCxmSyqJ/nMsYDhnQENSWeRRAXFY5Kau5TtuVxeU9F1nfoZS+HxosbGPuydnlRBiGk9EVO/K5SeeyNtZTAGURhNvZZmtCfG1sokI6HT4lxFIbKkssK3WdE+O6mHjc5tgIaFPsJrWMgLjn5MK6mJxja27cg9gQuOe6y9ptEkKUv1BbTNfqGAGxW7Ehjk8vhKbIBg5JjUt87XL+wiQHTGp6lg5y13VWHSDNfqAzAQRKrlzfX2kEm589x//wTwHi817BKS43vmx8RbAg2Gj242KqDkYPoj+KA8Mvt7Y+HYmu9eNiaoBR4W/lh/eX5AfQfl1MBRBc2JybnX5VrVbbonPiuFcXjXcSsWgPY+6Bu1oPauvPAhabjntx7PGTZoeTclyiNQexU70BeFOv19bjBMVjvbhoBTDq1J8l79ZSnbE9EcA07qWjEwNSwr9HnbrI2MeWCUh33ORiIkAK5GB05MGyrlN1MLqYycUbAwLQ2tzM9Ou4TtUB6WJxLioPdo/GKwu6tytdYdsxvOvsNthzsa7iIH6GEBOyHOu0FUD8RoKfIbIEQy3URG1ZV3n5brUO26Mj442Qt28DJyVOiC+fZHOOyxq9e+8X/bsrSZrNJlNeK3dAdOA3OG/X/RkKFxsAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAulJREFUWAntVs1rE0EUn9mkKQUtWFtBrdSD2GNB8J6DBz/+AO29FLFJaJqmBtOWpTUtahJpUwU9KCJ+5SJIVcSTioJFVHrw4En8KBSLWJompvsxvlnzNuOSwMaErYcdsrz3Zt6898vvzRchbnMZ2FwGKKYPRMaPEKpfNWwm9c+lJh7jWC2yUXEwpxcVDo4x1slt+gfoHnOsFqVRcUo5JcyN4Lgt6jhuV4pzRd3ufKufCdA68L/YLsB6K+Ey6DJYLwP1znfXYL0Mlq86S6SBSJxZuhpqBmW5VVrTujUP2+3R6De9q2MxEwoVrUkcL3FwRO4MDI/e0deUVZXoC0xj9w35eflLIDIa3lSAg2cSO3VNfQd39AkrEMZIByMsDeCnxDFHGVQ2CtfgKdLOAVB4MsH3klLyEN58ywgKwI+EY/I+tKuuwUuphPlWRGc7stra5ewpxfzhUgxF8jD/7LnEK26H0+mWjaUfz+AZdRBMj6pqR0HO8jHHGNSUvJ8n5A1Ym0dw3L44NFQgjD7lutEo2Y6qYwAJk8ykAOYFAuAym816KGHHsA/K/An1qiVGh0bJZtJ6/RdZ3c/jtW/1XsG4sixveb6weAM2SI/RR2ne42t5hOOOAUwmo+uQNISJuQyeHuv5nlPvwdrrxn6JssTMVNzcNM6VGBGU5EB0rI+p+msRHKVSMnMh8dcx4xiDiA9K6l3JKTNM10+Vryqag119MnN+8hb6oXQUIICTVnLqTTiUywc1Je9Jk/d4Zlr+iKBE6ShAAHdWvEXgoL7dtKutzzhmRFSC7hjAwZi8V1XVCOaGs/AtJdJddennoeDwOHZzqUu+5je4UcxNAv/mK3qJOvbZleJcUdc0zQ/s+TAOlPmAzrQHFb55rVj4EItNb+O+JkA4SPt5QCMo6BioZlklDoDrshsLzsS2gr6+g/v/031rN5HoF4zGe3VGeo2kDApcoTHK4Edhc9Mnc6nJyxVc3C6XAZcBl4FGM/Ab5B4x9ZoHKr8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA8dJREFUWAntWM1rE0EUn8luKrQpSK1KoVYQT1X0Ini0VlrQm/+Ap15KTTUtWmsqDNSWWIwtNrUeKnhTevFmqWAJeFVB1JsnUSpYP7CxmmR3x/eis5ndZL+S2PTQhTBf7/3eL2/evN03hGw/1XmAVqoeu8IOaprez4nRRTg9wAnfGQyLZijl74HAE1UJLUzfGH9bTj8wQcaY+vmnliAGHwLAwPplSVBqUE7mdzWrQ4Cfk2UCGUBya+v5x5yQHhmkVn1K6UprRD0tkwwFAUfP/S9yyINz3v1lXbslc/Ltwejo5G6e3/gEIPKf+khDygW1KfR0hrHvMrBX/+LViTY9v9HFOZ0CzHYhD140wgo9ImJSFQtebcOOHM/miQFyBYIA9CGsqienE+ydl2659ZnJ+CrMP4gxtpzPaK8ESXSApvM+WIuhnuwNHDs+ScbW4LRGweWrlJKXJKz2VEpONjLN2Fc4zZflOQijXjH27UFUSCXH70KDv5o+SrgxbWQ3TEzY9g4xcIzB2Mi1Q5pu9OG/+avAI0LJX+svzwmsgeE4mCo+c8mJArcSD8IRb8CTlNd5P+ciBCy6RRTXHo+AfidodgLWYHR4rGyec4WARUsMIrm1jLZkED5gO61eOK7riIWYiI02XIVtixaC6DkA67bJ1GyI2PY85wVubjHGHG4rkXYTUwmeMAzif2nBC89cd8pznJJ+sDUv8pyp4NAxCRYOhBlz8JLFPBdRj2IacNB1nfab51xBYNHcYnCcmXtQCT1XKTnZqFeek2XL9YsEpdyDgrit5RQqmbNjyXnOC88kCK9qS54LGnNuhkqxrLbcdCWCbmL1W9smWK3vt4QHh+LxffIfoYT+EOMtQTCXDZ0QhAotFFNiXHeC+MYh3JgShLDllC6LcV0JLi4uKvncr0fwkmgThKDVFa7eF+O6Enz24vVhqJSOCzLYQvylbt9kb8RcXQk20UYo3IsHAkqJJbp/z4ggh21dCSYSo9+Iop6CD5N78BujHXvPzg4OZmWC5teMPLmZ/dQUew72+pxsSh6kGVmocLrkiSr6pVhWW27QJkG8yJEFsaiWx9X07Vh2W27YRYJwyyQLYsUPRXWLPFdJHzEQS9aFcs1iS16z980YxCswrL5EsQRtO1b80Uvxqj75AaPkakNV6IKdiNPYUhdDaZjC6stJuBbzIULnZpPXz/vFMrcYFfB+Do77il/loHKIjTaC6CmycDqd1s/0dj/8neMtUJQcgzWLh2XZIH0gZoDn7rQ2q+fkuz8/GI4ENvvqww/ZbZlKPPAHMQ6nIDpP5UUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAkNJREFUWAntmL1KA0EQgGdiFARfQLCxtrSL2IgIvoOdmkYTIiYWJsGTJBYaMBgrfzrfQUExIGohYucbKHZWiuBP1tm729u9S87jIPEucNfszN7Mznczu5vdAERPlIEoA72dAXTiM8YwnSsuNAHmgcEYABty2nRWxzdAeIwBHO/tlI4Qkanj2wAz65Xh78+PE4KcUo3+Sya4y/jA4FxtK/8iYhK48fDMBQnHKXhiTAYrcX0mH7y+/yySQVroAbajZ+eN57vbqwfOEBcg+pwTCrWIcIqx/mR9W3tSujsupta0Edb8OmAMZsXgJssh160SGwtCmBDgP8DxaDwBPJaMTJK+OI0eCehYrd3OnArUGkvuHAqg6hIe2ZqDTqRUNr/r7Oum3rTtfjKSKyA5ZKRZcFLvljiGUPOXNxxvMjap+yDc05df+/F3q5hrievVyoqfAKlsIUf2BiBgo14tr/nxX1rNt51SoS9xBOinzO1sXefgcraw0c7hj76E8i7h158OKoq7FF0ByUGTZt6SbXjGJkif8Pbytgj9HHTNIJ1uNe/vkxZ0wkzQPjij9yDekH4u33pLbhVzBdyvlje9h5UW5j5oAALc+vWnfVCTo0kp9CVWAOl2pTz8pKuoXRVbY0kWCUhXP5WCH8NbHVWLzsjiyG8bTWGxbk80hxZpkh/YDANSYohJ+i3X7yQWIK0iTOWKF9ROBcSlh+V34/pOaVpc4K0S8w5+aeYGQQHy2CaDte9bGRRQPJNh+utDcEVtlIEoA72agV8fW8fey4nCGwAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAVdJREFUWAntVjsOwjAMTSqOAQfiIiywdURiQGLsBgsX4UKcg9CmdROlcu3UlVqQWfJp3svjuX5gjH5kDlgZ3JhTedkb+3l6Hlcc7tX1JeWM8Zt4MWlei3PObRusbYXuJvEgoALZZ2+DuAYQz9kExEGxQIJf/FgFSi3smwS6ca73iOKz1r4No+tDiaNulH5rjyf4vBFt149eFwSOHlvuYRBY2+1tn0sLwQclpq4T/5Icy7OLL3lUNzFnzBccjHdXNFeB0mL0OZgSUTmWnk/XXDw0C/YvCC8xkWOpoMGaiafyEBc4uHGZDVwgkWOkXCYeSozxiTNLcxCzdi37+Du4EoVoDoI+bp7BeRhzcdAsaR7SDjLzDIT1YyYOy0NaYH/jMhNaIDPPBvIzcVDilEdzMHUkd02XOJdx5vMqUGro/zvo46GzKZ5LnQO83MEu77Acg4t0VAd+1YEv0jOZVt868igAAAAASUVORK5CYII=\"","// ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐ \\\\\n// │ Raphaël 2.2.0 - JavaScript Vector Library                                                             │ \\\\\n// ├───────────────────────────────────────────────────────────────────────────────────────────────────────┤ \\\\\n// │ Copyright © 2008-2016 Dmitry Baranovskiy (http://raphaeljs.com)                                       │ \\\\\n// │ Copyright © 2008-2016 Sencha Labs (http://sencha.com)                                                 │ \\\\\n// ├───────────────────────────────────────────────────────────────────────────────────────────────────────┤ \\\\\n// │ Licensed under the MIT (https://github.com/DmitryBaranovskiy/raphael/blob/master/license.txt) license.│ \\\\\n// └───────────────────────────────────────────────────────────────────────────────────────────────────────┘ \\\\\n\n(function webpackUniversalModuleDefinition(root, factory) {\n    root[\"Raphael\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./dev/raphael.amd.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./dev/raphael.amd.js\":\n/*!****************************!*\\\n  !*** ./dev/raphael.amd.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ \\\"./dev/raphael.core.js\\\"), __webpack_require__(/*! ./raphael.svg */ \\\"./dev/raphael.svg.js\\\"), __webpack_require__(/*! ./raphael.vml */ \\\"./dev/raphael.vml.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\\n\\n    return R;\\n\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5hbWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuYW1kLmpzPzM1NjQiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCIsIFwiLi9yYXBoYWVsLnN2Z1wiLCBcIi4vcmFwaGFlbC52bWxcIl0sIGZ1bmN0aW9uKFIpIHtcblxuICAgIHJldHVybiBSO1xuXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./dev/raphael.amd.js\\n\");\n\n/***/ }),\n\n/***/ \"./dev/raphael.core.js\":\n/*!*****************************!*\\\n  !*** ./dev/raphael.core.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! eve */ \\\"./node_modules/eve-raphael/eve.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(eve) {\\n\\n    /*\\\\\\n     * Raphael\\n     [ method ]\\n     **\\n     * Creates a canvas object on which to draw.\\n     * You must do this first, as all future calls to drawing methods\\n     * from this instance will be bound to this canvas.\\n     > Parameters\\n     **\\n     - container (HTMLElement|string) DOM element or its ID which is going to be a parent for drawing surface\\n     - width (number)\\n     - height (number)\\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\\n     * or\\n     - x (number)\\n     - y (number)\\n     - width (number)\\n     - height (number)\\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\\n     * or\\n     - all (array) (first 3 or 4 elements in the array are equal to [containerID, width, height] or [x, y, width, height]. The rest are element descriptions in format {type: type, <attributes>}). See @Paper.add.\\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\\n     * or\\n     - onReadyCallback (function) function that is going to be called on DOM ready event. You can also subscribe to this event via Eve’s “DOMLoad” event. In this case method returns `undefined`.\\n     = (object) @Paper\\n     > Usage\\n     | // Each of the following examples create a canvas\\n     | // that is 320px wide by 200px high.\\n     | // Canvas is created at the viewport’s 10,50 coordinate.\\n     | var paper = Raphael(10, 50, 320, 200);\\n     | // Canvas is created at the top left corner of the #notepad element\\n     | // (or its top right corner in dir=\\\"rtl\\\" elements)\\n     | var paper = Raphael(document.getElementById(\\\"notepad\\\"), 320, 200);\\n     | // Same as above\\n     | var paper = Raphael(\\\"notepad\\\", 320, 200);\\n     | // Image dump\\n     | var set = Raphael([\\\"notepad\\\", 320, 200, {\\n     |     type: \\\"rect\\\",\\n     |     x: 10,\\n     |     y: 10,\\n     |     width: 25,\\n     |     height: 25,\\n     |     stroke: \\\"#f00\\\"\\n     | }, {\\n     |     type: \\\"text\\\",\\n     |     x: 30,\\n     |     y: 40,\\n     |     text: \\\"Dump\\\"\\n     | }]);\\n    \\\\*/\\n    function R(first) {\\n        if (R.is(first, \\\"function\\\")) {\\n            return loaded ? first() : eve.on(\\\"raphael.DOMload\\\", first);\\n        } else if (R.is(first, array)) {\\n            return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);\\n        } else {\\n            var args = Array.prototype.slice.call(arguments, 0);\\n            if (R.is(args[args.length - 1], \\\"function\\\")) {\\n                var f = args.pop();\\n                return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on(\\\"raphael.DOMload\\\", function () {\\n                    f.call(R._engine.create[apply](R, args));\\n                });\\n            } else {\\n                return R._engine.create[apply](R, arguments);\\n            }\\n        }\\n    }\\n    R.version = \\\"2.2.0\\\";\\n    R.eve = eve;\\n    var loaded,\\n        separator = /[, ]+/,\\n        elements = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1},\\n        formatrg = /\\\\{(\\\\d+)\\\\}/g,\\n        proto = \\\"prototype\\\",\\n        has = \\\"hasOwnProperty\\\",\\n        g = {\\n            doc: document,\\n            win: window\\n        },\\n        oldRaphael = {\\n            was: Object.prototype[has].call(g.win, \\\"Raphael\\\"),\\n            is: g.win.Raphael\\n        },\\n        Paper = function () {\\n            /*\\\\\\n             * Paper.ca\\n             [ property (object) ]\\n             **\\n             * Shortcut for @Paper.customAttributes\\n            \\\\*/\\n            /*\\\\\\n             * Paper.customAttributes\\n             [ property (object) ]\\n             **\\n             * If you have a set of attributes that you would like to represent\\n             * as a function of some number you can do it easily with custom attributes:\\n             > Usage\\n             | paper.customAttributes.hue = function (num) {\\n             |     num = num % 1;\\n             |     return {fill: \\\"hsb(\\\" + num + \\\", 0.75, 1)\\\"};\\n             | };\\n             | // Custom attribute “hue” will change fill\\n             | // to be given hue with fixed saturation and brightness.\\n             | // Now you can use it like this:\\n             | var c = paper.circle(10, 10, 10).attr({hue: .45});\\n             | // or even like this:\\n             | c.animate({hue: 1}, 1e3);\\n             |\\n             | // You could also create custom attribute\\n             | // with multiple parameters:\\n             | paper.customAttributes.hsb = function (h, s, b) {\\n             |     return {fill: \\\"hsb(\\\" + [h, s, b].join(\\\",\\\") + \\\")\\\"};\\n             | };\\n             | c.attr({hsb: \\\"0.5 .8 1\\\"});\\n             | c.animate({hsb: [1, 0, 0.5]}, 1e3);\\n            \\\\*/\\n            this.ca = this.customAttributes = {};\\n        },\\n        paperproto,\\n        appendChild = \\\"appendChild\\\",\\n        apply = \\\"apply\\\",\\n        concat = \\\"concat\\\",\\n        supportsTouch = ('ontouchstart' in g.win) || g.win.DocumentTouch && g.doc instanceof DocumentTouch, //taken from Modernizr touch test\\n        E = \\\"\\\",\\n        S = \\\" \\\",\\n        Str = String,\\n        split = \\\"split\\\",\\n        events = \\\"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel\\\"[split](S),\\n        touchMap = {\\n            mousedown: \\\"touchstart\\\",\\n            mousemove: \\\"touchmove\\\",\\n            mouseup: \\\"touchend\\\"\\n        },\\n        lowerCase = Str.prototype.toLowerCase,\\n        math = Math,\\n        mmax = math.max,\\n        mmin = math.min,\\n        abs = math.abs,\\n        pow = math.pow,\\n        PI = math.PI,\\n        nu = \\\"number\\\",\\n        string = \\\"string\\\",\\n        array = \\\"array\\\",\\n        toString = \\\"toString\\\",\\n        fillString = \\\"fill\\\",\\n        objectToString = Object.prototype.toString,\\n        paper = {},\\n        push = \\\"push\\\",\\n        ISURL = R._ISURL = /^url\\\\(['\\\"]?(.+?)['\\\"]?\\\\)$/i,\\n        colourRegExp = /^\\\\s*((#[a-f\\\\d]{6})|(#[a-f\\\\d]{3})|rgba?\\\\(\\\\s*([\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+%?(?:\\\\s*,\\\\s*[\\\\d\\\\.]+%?)?)\\\\s*\\\\)|hsba?\\\\(\\\\s*([\\\\d\\\\.]+(?:deg|\\\\xb0|%)?\\\\s*,\\\\s*[\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+(?:%?\\\\s*,\\\\s*[\\\\d\\\\.]+)?)%?\\\\s*\\\\)|hsla?\\\\(\\\\s*([\\\\d\\\\.]+(?:deg|\\\\xb0|%)?\\\\s*,\\\\s*[\\\\d\\\\.]+%?\\\\s*,\\\\s*[\\\\d\\\\.]+(?:%?\\\\s*,\\\\s*[\\\\d\\\\.]+)?)%?\\\\s*\\\\))\\\\s*$/i,\\n        isnan = {\\\"NaN\\\": 1, \\\"Infinity\\\": 1, \\\"-Infinity\\\": 1},\\n        bezierrg = /^(?:cubic-)?bezier\\\\(([^,]+),([^,]+),([^,]+),([^\\\\)]+)\\\\)/,\\n        round = math.round,\\n        setAttribute = \\\"setAttribute\\\",\\n        toFloat = parseFloat,\\n        toInt = parseInt,\\n        upperCase = Str.prototype.toUpperCase,\\n        availableAttrs = R._availableAttrs = {\\n            \\\"arrow-end\\\": \\\"none\\\",\\n            \\\"arrow-start\\\": \\\"none\\\",\\n            blur: 0,\\n            \\\"clip-rect\\\": \\\"0 0 1e9 1e9\\\",\\n            cursor: \\\"default\\\",\\n            cx: 0,\\n            cy: 0,\\n            fill: \\\"#fff\\\",\\n            \\\"fill-opacity\\\": 1,\\n            font: '10px \\\"Arial\\\"',\\n            \\\"font-family\\\": '\\\"Arial\\\"',\\n            \\\"font-size\\\": \\\"10\\\",\\n            \\\"font-style\\\": \\\"normal\\\",\\n            \\\"font-weight\\\": 400,\\n            gradient: 0,\\n            height: 0,\\n            href: \\\"http://raphaeljs.com/\\\",\\n            \\\"letter-spacing\\\": 0,\\n            opacity: 1,\\n            path: \\\"M0,0\\\",\\n            r: 0,\\n            rx: 0,\\n            ry: 0,\\n            src: \\\"\\\",\\n            stroke: \\\"#000\\\",\\n            \\\"stroke-dasharray\\\": \\\"\\\",\\n            \\\"stroke-linecap\\\": \\\"butt\\\",\\n            \\\"stroke-linejoin\\\": \\\"butt\\\",\\n            \\\"stroke-miterlimit\\\": 0,\\n            \\\"stroke-opacity\\\": 1,\\n            \\\"stroke-width\\\": 1,\\n            target: \\\"_blank\\\",\\n            \\\"text-anchor\\\": \\\"middle\\\",\\n            title: \\\"Raphael\\\",\\n            transform: \\\"\\\",\\n            width: 0,\\n            x: 0,\\n            y: 0,\\n            \\\"class\\\": \\\"\\\"\\n        },\\n        availableAnimAttrs = R._availableAnimAttrs = {\\n            blur: nu,\\n            \\\"clip-rect\\\": \\\"csv\\\",\\n            cx: nu,\\n            cy: nu,\\n            fill: \\\"colour\\\",\\n            \\\"fill-opacity\\\": nu,\\n            \\\"font-size\\\": nu,\\n            height: nu,\\n            opacity: nu,\\n            path: \\\"path\\\",\\n            r: nu,\\n            rx: nu,\\n            ry: nu,\\n            stroke: \\\"colour\\\",\\n            \\\"stroke-opacity\\\": nu,\\n            \\\"stroke-width\\\": nu,\\n            transform: \\\"transform\\\",\\n            width: nu,\\n            x: nu,\\n            y: nu\\n        },\\n        whitespace = /[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]/g,\\n        commaSpaces = /[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*/,\\n        hsrg = {hs: 1, rg: 1},\\n        p2s = /,?([achlmqrstvxz]),?/gi,\\n        pathCommand = /([achlmrqstvz])[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029,]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*)+)/ig,\\n        tCommand = /([rstm])[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029,]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*)+)/ig,\\n        pathValues = /(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,?[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*/ig,\\n        radial_gradient = R._radial_gradient = /^r(?:\\\\(([^,]+?)[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*,[\\\\x09\\\\x0a\\\\x0b\\\\x0c\\\\x0d\\\\x20\\\\xa0\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\u2028\\\\u2029]*([^\\\\)]+?)\\\\))?/,\\n        eldata = {},\\n        sortByKey = function (a, b) {\\n            return a.key - b.key;\\n        },\\n        sortByNumber = function (a, b) {\\n            return toFloat(a) - toFloat(b);\\n        },\\n        fun = function () {},\\n        pipe = function (x) {\\n            return x;\\n        },\\n        rectPath = R._rectPath = function (x, y, w, h, r) {\\n            if (r) {\\n                return [[\\\"M\\\", x + r, y], [\\\"l\\\", w - r * 2, 0], [\\\"a\\\", r, r, 0, 0, 1, r, r], [\\\"l\\\", 0, h - r * 2], [\\\"a\\\", r, r, 0, 0, 1, -r, r], [\\\"l\\\", r * 2 - w, 0], [\\\"a\\\", r, r, 0, 0, 1, -r, -r], [\\\"l\\\", 0, r * 2 - h], [\\\"a\\\", r, r, 0, 0, 1, r, -r], [\\\"z\\\"]];\\n            }\\n            return [[\\\"M\\\", x, y], [\\\"l\\\", w, 0], [\\\"l\\\", 0, h], [\\\"l\\\", -w, 0], [\\\"z\\\"]];\\n        },\\n        ellipsePath = function (x, y, rx, ry) {\\n            if (ry == null) {\\n                ry = rx;\\n            }\\n            return [[\\\"M\\\", x, y], [\\\"m\\\", 0, -ry], [\\\"a\\\", rx, ry, 0, 1, 1, 0, 2 * ry], [\\\"a\\\", rx, ry, 0, 1, 1, 0, -2 * ry], [\\\"z\\\"]];\\n        },\\n        getPath = R._getPath = {\\n            path: function (el) {\\n                return el.attr(\\\"path\\\");\\n            },\\n            circle: function (el) {\\n                var a = el.attrs;\\n                return ellipsePath(a.cx, a.cy, a.r);\\n            },\\n            ellipse: function (el) {\\n                var a = el.attrs;\\n                return ellipsePath(a.cx, a.cy, a.rx, a.ry);\\n            },\\n            rect: function (el) {\\n                var a = el.attrs;\\n                return rectPath(a.x, a.y, a.width, a.height, a.r);\\n            },\\n            image: function (el) {\\n                var a = el.attrs;\\n                return rectPath(a.x, a.y, a.width, a.height);\\n            },\\n            text: function (el) {\\n                var bbox = el._getBBox();\\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\\n            },\\n            set : function(el) {\\n                var bbox = el._getBBox();\\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\\n            }\\n        },\\n        /*\\\\\\n         * Raphael.mapPath\\n         [ method ]\\n         **\\n         * Transform the path string with given matrix.\\n         > Parameters\\n         - path (string) path string\\n         - matrix (object) see @Matrix\\n         = (string) transformed path string\\n        \\\\*/\\n        mapPath = R.mapPath = function (path, matrix) {\\n            if (!matrix) {\\n                return path;\\n            }\\n            var x, y, i, j, ii, jj, pathi;\\n            path = path2curve(path);\\n            for (i = 0, ii = path.length; i < ii; i++) {\\n                pathi = path[i];\\n                for (j = 1, jj = pathi.length; j < jj; j += 2) {\\n                    x = matrix.x(pathi[j], pathi[j + 1]);\\n                    y = matrix.y(pathi[j], pathi[j + 1]);\\n                    pathi[j] = x;\\n                    pathi[j + 1] = y;\\n                }\\n            }\\n            return path;\\n        };\\n\\n    R._g = g;\\n    /*\\\\\\n     * Raphael.type\\n     [ property (string) ]\\n     **\\n     * Can be “SVG”, “VML” or empty, depending on browser support.\\n    \\\\*/\\n    R.type = (g.win.SVGAngle || g.doc.implementation.hasFeature(\\\"http://www.w3.org/TR/SVG11/feature#BasicStructure\\\", \\\"1.1\\\") ? \\\"SVG\\\" : \\\"VML\\\");\\n    if (R.type == \\\"VML\\\") {\\n        var d = g.doc.createElement(\\\"div\\\"),\\n            b;\\n        d.innerHTML = '<v:shape adj=\\\"1\\\"/>';\\n        b = d.firstChild;\\n        b.style.behavior = \\\"url(#default#VML)\\\";\\n        if (!(b && typeof b.adj == \\\"object\\\")) {\\n            return (R.type = E);\\n        }\\n        d = null;\\n    }\\n    /*\\\\\\n     * Raphael.svg\\n     [ property (boolean) ]\\n     **\\n     * `true` if browser supports SVG.\\n    \\\\*/\\n    /*\\\\\\n     * Raphael.vml\\n     [ property (boolean) ]\\n     **\\n     * `true` if browser supports VML.\\n    \\\\*/\\n    R.svg = !(R.vml = R.type == \\\"VML\\\");\\n    R._Paper = Paper;\\n    /*\\\\\\n     * Raphael.fn\\n     [ property (object) ]\\n     **\\n     * You can add your own method to the canvas. For example if you want to draw a pie chart,\\n     * you can create your own pie chart function and ship it as a Raphaël plugin. To do this\\n     * you need to extend the `Raphael.fn` object. You should modify the `fn` object before a\\n     * Raphaël instance is created, otherwise it will take no effect. Please note that the\\n     * ability for namespaced plugins was removed in Raphael 2.0. It is up to the plugin to\\n     * ensure any namespacing ensures proper context.\\n     > Usage\\n     | Raphael.fn.arrow = function (x1, y1, x2, y2, size) {\\n     |     return this.path( ... );\\n     | };\\n     | // or create namespace\\n     | Raphael.fn.mystuff = {\\n     |     arrow: function () {…},\\n     |     star: function () {…},\\n     |     // etc…\\n     | };\\n     | var paper = Raphael(10, 10, 630, 480);\\n     | // then use it\\n     | paper.arrow(10, 10, 30, 30, 5).attr({fill: \\\"#f00\\\"});\\n     | paper.mystuff.arrow();\\n     | paper.mystuff.star();\\n    \\\\*/\\n    R.fn = paperproto = Paper.prototype = R.prototype;\\n    R._id = 0;\\n    /*\\\\\\n     * Raphael.is\\n     [ method ]\\n     **\\n     * Handful of replacements for `typeof` operator.\\n     > Parameters\\n     - o (…) any object or primitive\\n     - type (string) name of the type, i.e. “string”, “function”, “number”, etc.\\n     = (boolean) is given value is of given type\\n    \\\\*/\\n    R.is = function (o, type) {\\n        type = lowerCase.call(type);\\n        if (type == \\\"finite\\\") {\\n            return !isnan[has](+o);\\n        }\\n        if (type == \\\"array\\\") {\\n            return o instanceof Array;\\n        }\\n        return  (type == \\\"null\\\" && o === null) ||\\n                (type == typeof o && o !== null) ||\\n                (type == \\\"object\\\" && o === Object(o)) ||\\n                (type == \\\"array\\\" && Array.isArray && Array.isArray(o)) ||\\n                objectToString.call(o).slice(8, -1).toLowerCase() == type;\\n    };\\n\\n    function clone(obj) {\\n        if (typeof obj == \\\"function\\\" || Object(obj) !== obj) {\\n            return obj;\\n        }\\n        var res = new obj.constructor;\\n        for (var key in obj) if (obj[has](key)) {\\n            res[key] = clone(obj[key]);\\n        }\\n        return res;\\n    }\\n\\n    /*\\\\\\n     * Raphael.angle\\n     [ method ]\\n     **\\n     * Returns angle between two or three points\\n     > Parameters\\n     - x1 (number) x coord of first point\\n     - y1 (number) y coord of first point\\n     - x2 (number) x coord of second point\\n     - y2 (number) y coord of second point\\n     - x3 (number) #optional x coord of third point\\n     - y3 (number) #optional y coord of third point\\n     = (number) angle in degrees.\\n    \\\\*/\\n    R.angle = function (x1, y1, x2, y2, x3, y3) {\\n        if (x3 == null) {\\n            var x = x1 - x2,\\n                y = y1 - y2;\\n            if (!x && !y) {\\n                return 0;\\n            }\\n            return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\\n        } else {\\n            return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);\\n        }\\n    };\\n    /*\\\\\\n     * Raphael.rad\\n     [ method ]\\n     **\\n     * Transform angle to radians\\n     > Parameters\\n     - deg (number) angle in degrees\\n     = (number) angle in radians.\\n    \\\\*/\\n    R.rad = function (deg) {\\n        return deg % 360 * PI / 180;\\n    };\\n    /*\\\\\\n     * Raphael.deg\\n     [ method ]\\n     **\\n     * Transform angle to degrees\\n     > Parameters\\n     - rad (number) angle in radians\\n     = (number) angle in degrees.\\n    \\\\*/\\n    R.deg = function (rad) {\\n        return Math.round ((rad * 180 / PI% 360)* 1000) / 1000;\\n    };\\n    /*\\\\\\n     * Raphael.snapTo\\n     [ method ]\\n     **\\n     * Snaps given value to given grid.\\n     > Parameters\\n     - values (array|number) given array of values or step of the grid\\n     - value (number) value to adjust\\n     - tolerance (number) #optional tolerance for snapping. Default is `10`.\\n     = (number) adjusted value.\\n    \\\\*/\\n    R.snapTo = function (values, value, tolerance) {\\n        tolerance = R.is(tolerance, \\\"finite\\\") ? tolerance : 10;\\n        if (R.is(values, array)) {\\n            var i = values.length;\\n            while (i--) if (abs(values[i] - value) <= tolerance) {\\n                return values[i];\\n            }\\n        } else {\\n            values = +values;\\n            var rem = value % values;\\n            if (rem < tolerance) {\\n                return value - rem;\\n            }\\n            if (rem > values - tolerance) {\\n                return value - rem + values;\\n            }\\n        }\\n        return value;\\n    };\\n\\n    /*\\\\\\n     * Raphael.createUUID\\n     [ method ]\\n     **\\n     * Returns RFC4122, version 4 ID\\n    \\\\*/\\n    var createUUID = R.createUUID = (function (uuidRegEx, uuidReplacer) {\\n        return function () {\\n            return \\\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\\\".replace(uuidRegEx, uuidReplacer).toUpperCase();\\n        };\\n    })(/[xy]/g, function (c) {\\n        var r = math.random() * 16 | 0,\\n            v = c == \\\"x\\\" ? r : (r & 3 | 8);\\n        return v.toString(16);\\n    });\\n\\n    /*\\\\\\n     * Raphael.setWindow\\n     [ method ]\\n     **\\n     * Used when you need to draw in `&lt;iframe>`. Switched window to the iframe one.\\n     > Parameters\\n     - newwin (window) new window object\\n    \\\\*/\\n    R.setWindow = function (newwin) {\\n        eve(\\\"raphael.setWindow\\\", R, g.win, newwin);\\n        g.win = newwin;\\n        g.doc = g.win.document;\\n        if (R._engine.initWin) {\\n            R._engine.initWin(g.win);\\n        }\\n    };\\n    var toHex = function (color) {\\n        if (R.vml) {\\n            // http://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/\\n            var trim = /^\\\\s+|\\\\s+$/g;\\n            var bod;\\n            try {\\n                var docum = new ActiveXObject(\\\"htmlfile\\\");\\n                docum.write(\\\"<body>\\\");\\n                docum.close();\\n                bod = docum.body;\\n            } catch(e) {\\n                bod = createPopup().document.body;\\n            }\\n            var range = bod.createTextRange();\\n            toHex = cacher(function (color) {\\n                try {\\n                    bod.style.color = Str(color).replace(trim, E);\\n                    var value = range.queryCommandValue(\\\"ForeColor\\\");\\n                    value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);\\n                    return \\\"#\\\" + (\\\"000000\\\" + value.toString(16)).slice(-6);\\n                } catch(e) {\\n                    return \\\"none\\\";\\n                }\\n            });\\n        } else {\\n            var i = g.doc.createElement(\\\"i\\\");\\n            i.title = \\\"Rapha\\\\xebl Colour Picker\\\";\\n            i.style.display = \\\"none\\\";\\n            g.doc.body.appendChild(i);\\n            toHex = cacher(function (color) {\\n                i.style.color = color;\\n                return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\\\"color\\\");\\n            });\\n        }\\n        return toHex(color);\\n    },\\n    hsbtoString = function () {\\n        return \\\"hsb(\\\" + [this.h, this.s, this.b] + \\\")\\\";\\n    },\\n    hsltoString = function () {\\n        return \\\"hsl(\\\" + [this.h, this.s, this.l] + \\\")\\\";\\n    },\\n    rgbtoString = function () {\\n        return this.hex;\\n    },\\n    prepareRGB = function (r, g, b) {\\n        if (g == null && R.is(r, \\\"object\\\") && \\\"r\\\" in r && \\\"g\\\" in r && \\\"b\\\" in r) {\\n            b = r.b;\\n            g = r.g;\\n            r = r.r;\\n        }\\n        if (g == null && R.is(r, string)) {\\n            var clr = R.getRGB(r);\\n            r = clr.r;\\n            g = clr.g;\\n            b = clr.b;\\n        }\\n        if (r > 1 || g > 1 || b > 1) {\\n            r /= 255;\\n            g /= 255;\\n            b /= 255;\\n        }\\n\\n        return [r, g, b];\\n    },\\n    packageRGB = function (r, g, b, o) {\\n        r *= 255;\\n        g *= 255;\\n        b *= 255;\\n        var rgb = {\\n            r: r,\\n            g: g,\\n            b: b,\\n            hex: R.rgb(r, g, b),\\n            toString: rgbtoString\\n        };\\n        R.is(o, \\\"finite\\\") && (rgb.opacity = o);\\n        return rgb;\\n    };\\n\\n    /*\\\\\\n     * Raphael.color\\n     [ method ]\\n     **\\n     * Parses the color string and returns object with all values for the given color.\\n     > Parameters\\n     - clr (string) color string in one of the supported formats (see @Raphael.getRGB)\\n     = (object) Combined RGB & HSB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue,\\n     o     hex (string) color in HTML/CSS format: #••••••,\\n     o     error (boolean) `true` if string can’t be parsed,\\n     o     h (number) hue,\\n     o     s (number) saturation,\\n     o     v (number) value (brightness),\\n     o     l (number) lightness\\n     o }\\n    \\\\*/\\n    R.color = function (clr) {\\n        var rgb;\\n        if (R.is(clr, \\\"object\\\") && \\\"h\\\" in clr && \\\"s\\\" in clr && \\\"b\\\" in clr) {\\n            rgb = R.hsb2rgb(clr);\\n            clr.r = rgb.r;\\n            clr.g = rgb.g;\\n            clr.b = rgb.b;\\n            clr.hex = rgb.hex;\\n        } else if (R.is(clr, \\\"object\\\") && \\\"h\\\" in clr && \\\"s\\\" in clr && \\\"l\\\" in clr) {\\n            rgb = R.hsl2rgb(clr);\\n            clr.r = rgb.r;\\n            clr.g = rgb.g;\\n            clr.b = rgb.b;\\n            clr.hex = rgb.hex;\\n        } else {\\n            if (R.is(clr, \\\"string\\\")) {\\n                clr = R.getRGB(clr);\\n            }\\n            if (R.is(clr, \\\"object\\\") && \\\"r\\\" in clr && \\\"g\\\" in clr && \\\"b\\\" in clr) {\\n                rgb = R.rgb2hsl(clr);\\n                clr.h = rgb.h;\\n                clr.s = rgb.s;\\n                clr.l = rgb.l;\\n                rgb = R.rgb2hsb(clr);\\n                clr.v = rgb.b;\\n            } else {\\n                clr = {hex: \\\"none\\\"};\\n                clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\\n            }\\n        }\\n        clr.toString = rgbtoString;\\n        return clr;\\n    };\\n    /*\\\\\\n     * Raphael.hsb2rgb\\n     [ method ]\\n     **\\n     * Converts HSB values to RGB object.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - v (number) value or brightness\\n     = (object) RGB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue,\\n     o     hex (string) color in HTML/CSS format: #••••••\\n     o }\\n    \\\\*/\\n    R.hsb2rgb = function (h, s, v, o) {\\n        if (this.is(h, \\\"object\\\") && \\\"h\\\" in h && \\\"s\\\" in h && \\\"b\\\" in h) {\\n            v = h.b;\\n            s = h.s;\\n            o = h.o;\\n            h = h.h;\\n        }\\n        h *= 360;\\n        var R, G, B, X, C;\\n        h = (h % 360) / 60;\\n        C = v * s;\\n        X = C * (1 - abs(h % 2 - 1));\\n        R = G = B = v - C;\\n\\n        h = ~~h;\\n        R += [C, X, 0, 0, X, C][h];\\n        G += [X, C, C, X, 0, 0][h];\\n        B += [0, 0, X, C, C, X][h];\\n        return packageRGB(R, G, B, o);\\n    };\\n    /*\\\\\\n     * Raphael.hsl2rgb\\n     [ method ]\\n     **\\n     * Converts HSL values to RGB object.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - l (number) luminosity\\n     = (object) RGB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue,\\n     o     hex (string) color in HTML/CSS format: #••••••\\n     o }\\n    \\\\*/\\n    R.hsl2rgb = function (h, s, l, o) {\\n        if (this.is(h, \\\"object\\\") && \\\"h\\\" in h && \\\"s\\\" in h && \\\"l\\\" in h) {\\n            l = h.l;\\n            s = h.s;\\n            h = h.h;\\n        }\\n        if (h > 1 || s > 1 || l > 1) {\\n            h /= 360;\\n            s /= 100;\\n            l /= 100;\\n        }\\n        h *= 360;\\n        var R, G, B, X, C;\\n        h = (h % 360) / 60;\\n        C = 2 * s * (l < .5 ? l : 1 - l);\\n        X = C * (1 - abs(h % 2 - 1));\\n        R = G = B = l - C / 2;\\n\\n        h = ~~h;\\n        R += [C, X, 0, 0, X, C][h];\\n        G += [X, C, C, X, 0, 0][h];\\n        B += [0, 0, X, C, C, X][h];\\n        return packageRGB(R, G, B, o);\\n    };\\n    /*\\\\\\n     * Raphael.rgb2hsb\\n     [ method ]\\n     **\\n     * Converts RGB values to HSB object.\\n     > Parameters\\n     - r (number) red\\n     - g (number) green\\n     - b (number) blue\\n     = (object) HSB object in format:\\n     o {\\n     o     h (number) hue\\n     o     s (number) saturation\\n     o     b (number) brightness\\n     o }\\n    \\\\*/\\n    R.rgb2hsb = function (r, g, b) {\\n        b = prepareRGB(r, g, b);\\n        r = b[0];\\n        g = b[1];\\n        b = b[2];\\n\\n        var H, S, V, C;\\n        V = mmax(r, g, b);\\n        C = V - mmin(r, g, b);\\n        H = (C == 0 ? null :\\n             V == r ? (g - b) / C :\\n             V == g ? (b - r) / C + 2 :\\n                      (r - g) / C + 4\\n            );\\n        H = ((H + 360) % 6) * 60 / 360;\\n        S = C == 0 ? 0 : C / V;\\n        return {h: H, s: S, b: V, toString: hsbtoString};\\n    };\\n    /*\\\\\\n     * Raphael.rgb2hsl\\n     [ method ]\\n     **\\n     * Converts RGB values to HSL object.\\n     > Parameters\\n     - r (number) red\\n     - g (number) green\\n     - b (number) blue\\n     = (object) HSL object in format:\\n     o {\\n     o     h (number) hue\\n     o     s (number) saturation\\n     o     l (number) luminosity\\n     o }\\n    \\\\*/\\n    R.rgb2hsl = function (r, g, b) {\\n        b = prepareRGB(r, g, b);\\n        r = b[0];\\n        g = b[1];\\n        b = b[2];\\n\\n        var H, S, L, M, m, C;\\n        M = mmax(r, g, b);\\n        m = mmin(r, g, b);\\n        C = M - m;\\n        H = (C == 0 ? null :\\n             M == r ? (g - b) / C :\\n             M == g ? (b - r) / C + 2 :\\n                      (r - g) / C + 4);\\n        H = ((H + 360) % 6) * 60 / 360;\\n        L = (M + m) / 2;\\n        S = (C == 0 ? 0 :\\n             L < .5 ? C / (2 * L) :\\n                      C / (2 - 2 * L));\\n        return {h: H, s: S, l: L, toString: hsltoString};\\n    };\\n    R._path2string = function () {\\n        return this.join(\\\",\\\").replace(p2s, \\\"$1\\\");\\n    };\\n    function repush(array, item) {\\n        for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\\n            return array.push(array.splice(i, 1)[0]);\\n        }\\n    }\\n    function cacher(f, scope, postprocessor) {\\n        function newf() {\\n            var arg = Array.prototype.slice.call(arguments, 0),\\n                args = arg.join(\\\"\\\\u2400\\\"),\\n                cache = newf.cache = newf.cache || {},\\n                count = newf.count = newf.count || [];\\n            if (cache[has](args)) {\\n                repush(count, args);\\n                return postprocessor ? postprocessor(cache[args]) : cache[args];\\n            }\\n            count.length >= 1e3 && delete cache[count.shift()];\\n            count.push(args);\\n            cache[args] = f[apply](scope, arg);\\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\\n        }\\n        return newf;\\n    }\\n\\n    var preload = R._preload = function (src, f) {\\n        var img = g.doc.createElement(\\\"img\\\");\\n        img.style.cssText = \\\"position:absolute;left:-9999em;top:-9999em\\\";\\n        img.onload = function () {\\n            f.call(this);\\n            this.onload = null;\\n            g.doc.body.removeChild(this);\\n        };\\n        img.onerror = function () {\\n            g.doc.body.removeChild(this);\\n        };\\n        g.doc.body.appendChild(img);\\n        img.src = src;\\n    };\\n\\n    function clrToString() {\\n        return this.hex;\\n    }\\n\\n    /*\\\\\\n     * Raphael.getRGB\\n     [ method ]\\n     **\\n     * Parses colour string as RGB object\\n     > Parameters\\n     - colour (string) colour string in one of formats:\\n     # <ul>\\n     #     <li>Colour name (“<code>red</code>”, “<code>green</code>”, “<code>cornflowerblue</code>”, etc)</li>\\n     #     <li>#••• — shortened HTML colour: (“<code>#000</code>”, “<code>#fc0</code>”, etc)</li>\\n     #     <li>#•••••• — full length HTML colour: (“<code>#000000</code>”, “<code>#bd2300</code>”)</li>\\n     #     <li>rgb(•••, •••, •••) — red, green and blue channels’ values: (“<code>rgb(200,&nbsp;100,&nbsp;0)</code>”)</li>\\n     #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (“<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>”)</li>\\n     #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (“<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>”)</li>\\n     #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\\n     #     <li>hsl(•••, •••, •••) — same as hsb</li>\\n     #     <li>hsl(•••%, •••%, •••%) — same as hsb</li>\\n     # </ul>\\n     = (object) RGB object in format:\\n     o {\\n     o     r (number) red,\\n     o     g (number) green,\\n     o     b (number) blue\\n     o     hex (string) color in HTML/CSS format: #••••••,\\n     o     error (boolean) true if string can’t be parsed\\n     o }\\n    \\\\*/\\n    R.getRGB = cacher(function (colour) {\\n        if (!colour || !!((colour = Str(colour)).indexOf(\\\"-\\\") + 1)) {\\n            return {r: -1, g: -1, b: -1, hex: \\\"none\\\", error: 1, toString: clrToString};\\n        }\\n        if (colour == \\\"none\\\") {\\n            return {r: -1, g: -1, b: -1, hex: \\\"none\\\", toString: clrToString};\\n        }\\n        !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \\\"#\\\") && (colour = toHex(colour));\\n        var res,\\n            red,\\n            green,\\n            blue,\\n            opacity,\\n            t,\\n            values,\\n            rgb = colour.match(colourRegExp);\\n        if (rgb) {\\n            if (rgb[2]) {\\n                blue = toInt(rgb[2].substring(5), 16);\\n                green = toInt(rgb[2].substring(3, 5), 16);\\n                red = toInt(rgb[2].substring(1, 3), 16);\\n            }\\n            if (rgb[3]) {\\n                blue = toInt((t = rgb[3].charAt(3)) + t, 16);\\n                green = toInt((t = rgb[3].charAt(2)) + t, 16);\\n                red = toInt((t = rgb[3].charAt(1)) + t, 16);\\n            }\\n            if (rgb[4]) {\\n                values = rgb[4][split](commaSpaces);\\n                red = toFloat(values[0]);\\n                values[0].slice(-1) == \\\"%\\\" && (red *= 2.55);\\n                green = toFloat(values[1]);\\n                values[1].slice(-1) == \\\"%\\\" && (green *= 2.55);\\n                blue = toFloat(values[2]);\\n                values[2].slice(-1) == \\\"%\\\" && (blue *= 2.55);\\n                rgb[1].toLowerCase().slice(0, 4) == \\\"rgba\\\" && (opacity = toFloat(values[3]));\\n                values[3] && values[3].slice(-1) == \\\"%\\\" && (opacity /= 100);\\n            }\\n            if (rgb[5]) {\\n                values = rgb[5][split](commaSpaces);\\n                red = toFloat(values[0]);\\n                values[0].slice(-1) == \\\"%\\\" && (red *= 2.55);\\n                green = toFloat(values[1]);\\n                values[1].slice(-1) == \\\"%\\\" && (green *= 2.55);\\n                blue = toFloat(values[2]);\\n                values[2].slice(-1) == \\\"%\\\" && (blue *= 2.55);\\n                (values[0].slice(-3) == \\\"deg\\\" || values[0].slice(-1) == \\\"\\\\xb0\\\") && (red /= 360);\\n                rgb[1].toLowerCase().slice(0, 4) == \\\"hsba\\\" && (opacity = toFloat(values[3]));\\n                values[3] && values[3].slice(-1) == \\\"%\\\" && (opacity /= 100);\\n                return R.hsb2rgb(red, green, blue, opacity);\\n            }\\n            if (rgb[6]) {\\n                values = rgb[6][split](commaSpaces);\\n                red = toFloat(values[0]);\\n                values[0].slice(-1) == \\\"%\\\" && (red *= 2.55);\\n                green = toFloat(values[1]);\\n                values[1].slice(-1) == \\\"%\\\" && (green *= 2.55);\\n                blue = toFloat(values[2]);\\n                values[2].slice(-1) == \\\"%\\\" && (blue *= 2.55);\\n                (values[0].slice(-3) == \\\"deg\\\" || values[0].slice(-1) == \\\"\\\\xb0\\\") && (red /= 360);\\n                rgb[1].toLowerCase().slice(0, 4) == \\\"hsla\\\" && (opacity = toFloat(values[3]));\\n                values[3] && values[3].slice(-1) == \\\"%\\\" && (opacity /= 100);\\n                return R.hsl2rgb(red, green, blue, opacity);\\n            }\\n            rgb = {r: red, g: green, b: blue, toString: clrToString};\\n            rgb.hex = \\\"#\\\" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\\n            R.is(opacity, \\\"finite\\\") && (rgb.opacity = opacity);\\n            return rgb;\\n        }\\n        return {r: -1, g: -1, b: -1, hex: \\\"none\\\", error: 1, toString: clrToString};\\n    }, R);\\n    /*\\\\\\n     * Raphael.hsb\\n     [ method ]\\n     **\\n     * Converts HSB values to hex representation of the colour.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - b (number) value or brightness\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.hsb = cacher(function (h, s, b) {\\n        return R.hsb2rgb(h, s, b).hex;\\n    });\\n    /*\\\\\\n     * Raphael.hsl\\n     [ method ]\\n     **\\n     * Converts HSL values to hex representation of the colour.\\n     > Parameters\\n     - h (number) hue\\n     - s (number) saturation\\n     - l (number) luminosity\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.hsl = cacher(function (h, s, l) {\\n        return R.hsl2rgb(h, s, l).hex;\\n    });\\n    /*\\\\\\n     * Raphael.rgb\\n     [ method ]\\n     **\\n     * Converts RGB values to hex representation of the colour.\\n     > Parameters\\n     - r (number) red\\n     - g (number) green\\n     - b (number) blue\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.rgb = cacher(function (r, g, b) {\\n        function round(x) { return (x + 0.5) | 0; }\\n        return \\\"#\\\" + (16777216 | round(b) | (round(g) << 8) | (round(r) << 16)).toString(16).slice(1);\\n    });\\n    /*\\\\\\n     * Raphael.getColor\\n     [ method ]\\n     **\\n     * On each call returns next colour in the spectrum. To reset it back to red call @Raphael.getColor.reset\\n     > Parameters\\n     - value (number) #optional brightness, default is `0.75`\\n     = (string) hex representation of the colour.\\n    \\\\*/\\n    R.getColor = function (value) {\\n        var start = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: value || .75},\\n            rgb = this.hsb2rgb(start.h, start.s, start.b);\\n        start.h += .075;\\n        if (start.h > 1) {\\n            start.h = 0;\\n            start.s -= .2;\\n            start.s <= 0 && (this.getColor.start = {h: 0, s: 1, b: start.b});\\n        }\\n        return rgb.hex;\\n    };\\n    /*\\\\\\n     * Raphael.getColor.reset\\n     [ method ]\\n     **\\n     * Resets spectrum position for @Raphael.getColor back to red.\\n    \\\\*/\\n    R.getColor.reset = function () {\\n        delete this.start;\\n    };\\n\\n    // http://schepers.cc/getting-to-the-point\\n    function catmullRom2bezier(crp, z) {\\n        var d = [];\\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\\n            var p = [\\n                        {x: +crp[i - 2], y: +crp[i - 1]},\\n                        {x: +crp[i],     y: +crp[i + 1]},\\n                        {x: +crp[i + 2], y: +crp[i + 3]},\\n                        {x: +crp[i + 4], y: +crp[i + 5]}\\n                    ];\\n            if (z) {\\n                if (!i) {\\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\\n                } else if (iLen - 4 == i) {\\n                    p[3] = {x: +crp[0], y: +crp[1]};\\n                } else if (iLen - 2 == i) {\\n                    p[2] = {x: +crp[0], y: +crp[1]};\\n                    p[3] = {x: +crp[2], y: +crp[3]};\\n                }\\n            } else {\\n                if (iLen - 4 == i) {\\n                    p[3] = p[2];\\n                } else if (!i) {\\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\\n                }\\n            }\\n            d.push([\\\"C\\\",\\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\\n                  p[2].x,\\n                  p[2].y\\n            ]);\\n        }\\n\\n        return d;\\n    }\\n    /*\\\\\\n     * Raphael.parsePathString\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Parses given path string into an array of arrays of path segments.\\n     > Parameters\\n     - pathString (string|array) path string or array of segments (in the last case it will be returned straight away)\\n     = (array) array of segments.\\n    \\\\*/\\n    R.parsePathString = function (pathString) {\\n        if (!pathString) {\\n            return null;\\n        }\\n        var pth = paths(pathString);\\n        if (pth.arr) {\\n            return pathClone(pth.arr);\\n        }\\n\\n        var paramCounts = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0},\\n            data = [];\\n        if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption\\n            data = pathClone(pathString);\\n        }\\n        if (!data.length) {\\n            Str(pathString).replace(pathCommand, function (a, b, c) {\\n                var params = [],\\n                    name = b.toLowerCase();\\n                c.replace(pathValues, function (a, b) {\\n                    b && params.push(+b);\\n                });\\n                if (name == \\\"m\\\" && params.length > 2) {\\n                    data.push([b][concat](params.splice(0, 2)));\\n                    name = \\\"l\\\";\\n                    b = b == \\\"m\\\" ? \\\"l\\\" : \\\"L\\\";\\n                }\\n                if (name == \\\"r\\\") {\\n                    data.push([b][concat](params));\\n                } else while (params.length >= paramCounts[name]) {\\n                    data.push([b][concat](params.splice(0, paramCounts[name])));\\n                    if (!paramCounts[name]) {\\n                        break;\\n                    }\\n                }\\n            });\\n        }\\n        data.toString = R._path2string;\\n        pth.arr = pathClone(data);\\n        return data;\\n    };\\n    /*\\\\\\n     * Raphael.parseTransformString\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Parses given path string into an array of transformations.\\n     > Parameters\\n     - TString (string|array) transform string or array of transformations (in the last case it will be returned straight away)\\n     = (array) array of transformations.\\n    \\\\*/\\n    R.parseTransformString = cacher(function (TString) {\\n        if (!TString) {\\n            return null;\\n        }\\n        var paramCounts = {r: 3, s: 4, t: 2, m: 6},\\n            data = [];\\n        if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption\\n            data = pathClone(TString);\\n        }\\n        if (!data.length) {\\n            Str(TString).replace(tCommand, function (a, b, c) {\\n                var params = [],\\n                    name = lowerCase.call(b);\\n                c.replace(pathValues, function (a, b) {\\n                    b && params.push(+b);\\n                });\\n                data.push([b][concat](params));\\n            });\\n        }\\n        data.toString = R._path2string;\\n        return data;\\n    });\\n    // PATHS\\n    var paths = function (ps) {\\n        var p = paths.ps = paths.ps || {};\\n        if (p[ps]) {\\n            p[ps].sleep = 100;\\n        } else {\\n            p[ps] = {\\n                sleep: 100\\n            };\\n        }\\n        setTimeout(function () {\\n            for (var key in p) if (p[has](key) && key != ps) {\\n                p[key].sleep--;\\n                !p[key].sleep && delete p[key];\\n            }\\n        });\\n        return p[ps];\\n    };\\n    /*\\\\\\n     * Raphael.findDotsAtSegment\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Find dot coordinates on the given cubic bezier curve at the given t.\\n     > Parameters\\n     - p1x (number) x of the first point of the curve\\n     - p1y (number) y of the first point of the curve\\n     - c1x (number) x of the first anchor of the curve\\n     - c1y (number) y of the first anchor of the curve\\n     - c2x (number) x of the second anchor of the curve\\n     - c2y (number) y of the second anchor of the curve\\n     - p2x (number) x of the second point of the curve\\n     - p2y (number) y of the second point of the curve\\n     - t (number) position on the curve (0..1)\\n     = (object) point information in format:\\n     o {\\n     o     x: (number) x coordinate of the point\\n     o     y: (number) y coordinate of the point\\n     o     m: {\\n     o         x: (number) x coordinate of the left anchor\\n     o         y: (number) y coordinate of the left anchor\\n     o     }\\n     o     n: {\\n     o         x: (number) x coordinate of the right anchor\\n     o         y: (number) y coordinate of the right anchor\\n     o     }\\n     o     start: {\\n     o         x: (number) x coordinate of the start of the curve\\n     o         y: (number) y coordinate of the start of the curve\\n     o     }\\n     o     end: {\\n     o         x: (number) x coordinate of the end of the curve\\n     o         y: (number) y coordinate of the end of the curve\\n     o     }\\n     o     alpha: (number) angle of the curve derivative at the point\\n     o }\\n    \\\\*/\\n    R.findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\\n        var t1 = 1 - t,\\n            t13 = pow(t1, 3),\\n            t12 = pow(t1, 2),\\n            t2 = t * t,\\n            t3 = t2 * t,\\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\\n            ax = t1 * p1x + t * c1x,\\n            ay = t1 * p1y + t * c1y,\\n            cx = t1 * c2x + t * p2x,\\n            cy = t1 * c2y + t * p2y,\\n            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\\n        (mx > nx || my < ny) && (alpha += 180);\\n        return {\\n            x: x,\\n            y: y,\\n            m: {x: mx, y: my},\\n            n: {x: nx, y: ny},\\n            start: {x: ax, y: ay},\\n            end: {x: cx, y: cy},\\n            alpha: alpha\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.bezierBBox\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Return bounding box of a given cubic bezier curve\\n     > Parameters\\n     - p1x (number) x of the first point of the curve\\n     - p1y (number) y of the first point of the curve\\n     - c1x (number) x of the first anchor of the curve\\n     - c1y (number) y of the first anchor of the curve\\n     - c2x (number) x of the second anchor of the curve\\n     - c2y (number) y of the second anchor of the curve\\n     - p2x (number) x of the second point of the curve\\n     - p2y (number) y of the second point of the curve\\n     * or\\n     - bez (array) array of six points for bezier curve\\n     = (object) point information in format:\\n     o {\\n     o     min: {\\n     o         x: (number) x coordinate of the left point\\n     o         y: (number) y coordinate of the top point\\n     o     }\\n     o     max: {\\n     o         x: (number) x coordinate of the right point\\n     o         y: (number) y coordinate of the bottom point\\n     o     }\\n     o }\\n    \\\\*/\\n    R.bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\\n        if (!R.is(p1x, \\\"array\\\")) {\\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\\n        }\\n        var bbox = curveDim.apply(null, p1x);\\n        return {\\n            x: bbox.min.x,\\n            y: bbox.min.y,\\n            x2: bbox.max.x,\\n            y2: bbox.max.y,\\n            width: bbox.max.x - bbox.min.x,\\n            height: bbox.max.y - bbox.min.y\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.isPointInsideBBox\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns `true` if given point is inside bounding boxes.\\n     > Parameters\\n     - bbox (string) bounding box\\n     - x (string) x coordinate of the point\\n     - y (string) y coordinate of the point\\n     = (boolean) `true` if point inside\\n    \\\\*/\\n    R.isPointInsideBBox = function (bbox, x, y) {\\n        return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;\\n    };\\n    /*\\\\\\n     * Raphael.isBBoxIntersect\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns `true` if two bounding boxes intersect\\n     > Parameters\\n     - bbox1 (string) first bounding box\\n     - bbox2 (string) second bounding box\\n     = (boolean) `true` if they intersect\\n    \\\\*/\\n    R.isBBoxIntersect = function (bbox1, bbox2) {\\n        var i = R.isPointInsideBBox;\\n        return i(bbox2, bbox1.x, bbox1.y)\\n            || i(bbox2, bbox1.x2, bbox1.y)\\n            || i(bbox2, bbox1.x, bbox1.y2)\\n            || i(bbox2, bbox1.x2, bbox1.y2)\\n            || i(bbox1, bbox2.x, bbox2.y)\\n            || i(bbox1, bbox2.x2, bbox2.y)\\n            || i(bbox1, bbox2.x, bbox2.y2)\\n            || i(bbox1, bbox2.x2, bbox2.y2)\\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\\n    };\\n    function base3(t, p1, p2, p3, p4) {\\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\\n        return t * t2 - 3 * p1 + 3 * p2;\\n    }\\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\\n        if (z == null) {\\n            z = 1;\\n        }\\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\\n        var z2 = z / 2,\\n            n = 12,\\n            Tvalues = [-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],\\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\\n            sum = 0;\\n        for (var i = 0; i < n; i++) {\\n            var ct = z2 * Tvalues[i] + z2,\\n                xbase = base3(ct, x1, x2, x3, x4),\\n                ybase = base3(ct, y1, y2, y3, y4),\\n                comb = xbase * xbase + ybase * ybase;\\n            sum += Cvalues[i] * math.sqrt(comb);\\n        }\\n        return z2 * sum;\\n    }\\n    function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\\n            return;\\n        }\\n        var t = 1,\\n            step = t / 2,\\n            t2 = t - step,\\n            l,\\n            e = .01;\\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\\n        while (abs(l - ll) > e) {\\n            step /= 2;\\n            t2 += (l < ll ? 1 : -1) * step;\\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\\n        }\\n        return t2;\\n    }\\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\\n        if (\\n            mmax(x1, x2) < mmin(x3, x4) ||\\n            mmin(x1, x2) > mmax(x3, x4) ||\\n            mmax(y1, y2) < mmin(y3, y4) ||\\n            mmin(y1, y2) > mmax(y3, y4)\\n        ) {\\n            return;\\n        }\\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\\n\\n        if (!denominator) {\\n            return;\\n        }\\n        var px = nx / denominator,\\n            py = ny / denominator,\\n            px2 = +px.toFixed(2),\\n            py2 = +py.toFixed(2);\\n        if (\\n            px2 < +mmin(x1, x2).toFixed(2) ||\\n            px2 > +mmax(x1, x2).toFixed(2) ||\\n            px2 < +mmin(x3, x4).toFixed(2) ||\\n            px2 > +mmax(x3, x4).toFixed(2) ||\\n            py2 < +mmin(y1, y2).toFixed(2) ||\\n            py2 > +mmax(y1, y2).toFixed(2) ||\\n            py2 < +mmin(y3, y4).toFixed(2) ||\\n            py2 > +mmax(y3, y4).toFixed(2)\\n        ) {\\n            return;\\n        }\\n        return {x: px, y: py};\\n    }\\n    function inter(bez1, bez2) {\\n        return interHelper(bez1, bez2);\\n    }\\n    function interCount(bez1, bez2) {\\n        return interHelper(bez1, bez2, 1);\\n    }\\n    function interHelper(bez1, bez2, justCount) {\\n        var bbox1 = R.bezierBBox(bez1),\\n            bbox2 = R.bezierBBox(bez2);\\n        if (!R.isBBoxIntersect(bbox1, bbox2)) {\\n            return justCount ? 0 : [];\\n        }\\n        var l1 = bezlen.apply(0, bez1),\\n            l2 = bezlen.apply(0, bez2),\\n            n1 = mmax(~~(l1 / 5), 1),\\n            n2 = mmax(~~(l2 / 5), 1),\\n            dots1 = [],\\n            dots2 = [],\\n            xy = {},\\n            res = justCount ? 0 : [];\\n        for (var i = 0; i < n1 + 1; i++) {\\n            var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));\\n            dots1.push({x: p.x, y: p.y, t: i / n1});\\n        }\\n        for (i = 0; i < n2 + 1; i++) {\\n            p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));\\n            dots2.push({x: p.x, y: p.y, t: i / n2});\\n        }\\n        for (i = 0; i < n1; i++) {\\n            for (var j = 0; j < n2; j++) {\\n                var di = dots1[i],\\n                    di1 = dots1[i + 1],\\n                    dj = dots2[j],\\n                    dj1 = dots2[j + 1],\\n                    ci = abs(di1.x - di.x) < .001 ? \\\"y\\\" : \\\"x\\\",\\n                    cj = abs(dj1.x - dj.x) < .001 ? \\\"y\\\" : \\\"x\\\",\\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\\n                if (is) {\\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\\n                        continue;\\n                    }\\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\\n                    if (t1 >= 0 && t1 <= 1.001 && t2 >= 0 && t2 <= 1.001) {\\n                        if (justCount) {\\n                            res++;\\n                        } else {\\n                            res.push({\\n                                x: is.x,\\n                                y: is.y,\\n                                t1: mmin(t1, 1),\\n                                t2: mmin(t2, 1)\\n                            });\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n        return res;\\n    }\\n    /*\\\\\\n     * Raphael.pathIntersection\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Finds intersections of two paths\\n     > Parameters\\n     - path1 (string) path string\\n     - path2 (string) path string\\n     = (array) dots of intersection\\n     o [\\n     o     {\\n     o         x: (number) x coordinate of the point\\n     o         y: (number) y coordinate of the point\\n     o         t1: (number) t value for segment of path1\\n     o         t2: (number) t value for segment of path2\\n     o         segment1: (number) order number for segment of path1\\n     o         segment2: (number) order number for segment of path2\\n     o         bez1: (array) eight coordinates representing beziér curve for the segment of path1\\n     o         bez2: (array) eight coordinates representing beziér curve for the segment of path2\\n     o     }\\n     o ]\\n    \\\\*/\\n    R.pathIntersection = function (path1, path2) {\\n        return interPathHelper(path1, path2);\\n    };\\n    R.pathIntersectionNumber = function (path1, path2) {\\n        return interPathHelper(path1, path2, 1);\\n    };\\n    function interPathHelper(path1, path2, justCount) {\\n        path1 = R._path2curve(path1);\\n        path2 = R._path2curve(path2);\\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\\n            res = justCount ? 0 : [];\\n        for (var i = 0, ii = path1.length; i < ii; i++) {\\n            var pi = path1[i];\\n            if (pi[0] == \\\"M\\\") {\\n                x1 = x1m = pi[1];\\n                y1 = y1m = pi[2];\\n            } else {\\n                if (pi[0] == \\\"C\\\") {\\n                    bez1 = [x1, y1].concat(pi.slice(1));\\n                    x1 = bez1[6];\\n                    y1 = bez1[7];\\n                } else {\\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\\n                    x1 = x1m;\\n                    y1 = y1m;\\n                }\\n                for (var j = 0, jj = path2.length; j < jj; j++) {\\n                    var pj = path2[j];\\n                    if (pj[0] == \\\"M\\\") {\\n                        x2 = x2m = pj[1];\\n                        y2 = y2m = pj[2];\\n                    } else {\\n                        if (pj[0] == \\\"C\\\") {\\n                            bez2 = [x2, y2].concat(pj.slice(1));\\n                            x2 = bez2[6];\\n                            y2 = bez2[7];\\n                        } else {\\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\\n                            x2 = x2m;\\n                            y2 = y2m;\\n                        }\\n                        var intr = interHelper(bez1, bez2, justCount);\\n                        if (justCount) {\\n                            res += intr;\\n                        } else {\\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\\n                                intr[k].segment1 = i;\\n                                intr[k].segment2 = j;\\n                                intr[k].bez1 = bez1;\\n                                intr[k].bez2 = bez2;\\n                            }\\n                            res = res.concat(intr);\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n        return res;\\n    }\\n    /*\\\\\\n     * Raphael.isPointInsidePath\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns `true` if given point is inside a given closed path.\\n     > Parameters\\n     - path (string) path string\\n     - x (number) x of the point\\n     - y (number) y of the point\\n     = (boolean) true, if point is inside the path\\n    \\\\*/\\n    R.isPointInsidePath = function (path, x, y) {\\n        var bbox = R.pathBBox(path);\\n        return R.isPointInsideBBox(bbox, x, y) &&\\n               interPathHelper(path, [[\\\"M\\\", x, y], [\\\"H\\\", bbox.x2 + 10]], 1) % 2 == 1;\\n    };\\n    R._removedFactory = function (methodname) {\\n        return function () {\\n            eve(\\\"raphael.log\\\", null, \\\"Rapha\\\\xebl: you are calling to method \\\\u201c\\\" + methodname + \\\"\\\\u201d of removed object\\\", methodname);\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.pathBBox\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Return bounding box of a given path\\n     > Parameters\\n     - path (string) path string\\n     = (object) bounding box\\n     o {\\n     o     x: (number) x coordinate of the left top point of the box\\n     o     y: (number) y coordinate of the left top point of the box\\n     o     x2: (number) x coordinate of the right bottom point of the box\\n     o     y2: (number) y coordinate of the right bottom point of the box\\n     o     width: (number) width of the box\\n     o     height: (number) height of the box\\n     o     cx: (number) x coordinate of the center of the box\\n     o     cy: (number) y coordinate of the center of the box\\n     o }\\n    \\\\*/\\n    var pathDimensions = R.pathBBox = function (path) {\\n        var pth = paths(path);\\n        if (pth.bbox) {\\n            return clone(pth.bbox);\\n        }\\n        if (!path) {\\n            return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};\\n        }\\n        path = path2curve(path);\\n        var x = 0,\\n            y = 0,\\n            X = [],\\n            Y = [],\\n            p;\\n        for (var i = 0, ii = path.length; i < ii; i++) {\\n            p = path[i];\\n            if (p[0] == \\\"M\\\") {\\n                x = p[1];\\n                y = p[2];\\n                X.push(x);\\n                Y.push(y);\\n            } else {\\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\\n                X = X[concat](dim.min.x, dim.max.x);\\n                Y = Y[concat](dim.min.y, dim.max.y);\\n                x = p[5];\\n                y = p[6];\\n            }\\n        }\\n        var xmin = mmin[apply](0, X),\\n            ymin = mmin[apply](0, Y),\\n            xmax = mmax[apply](0, X),\\n            ymax = mmax[apply](0, Y),\\n            width = xmax - xmin,\\n            height = ymax - ymin,\\n                bb = {\\n                x: xmin,\\n                y: ymin,\\n                x2: xmax,\\n                y2: ymax,\\n                width: width,\\n                height: height,\\n                cx: xmin + width / 2,\\n                cy: ymin + height / 2\\n            };\\n        pth.bbox = clone(bb);\\n        return bb;\\n    },\\n        pathClone = function (pathArray) {\\n            var res = clone(pathArray);\\n            res.toString = R._path2string;\\n            return res;\\n        },\\n        pathToRelative = R._pathToRelative = function (pathArray) {\\n            var pth = paths(pathArray);\\n            if (pth.rel) {\\n                return pathClone(pth.rel);\\n            }\\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\\n                pathArray = R.parsePathString(pathArray);\\n            }\\n            var res = [],\\n                x = 0,\\n                y = 0,\\n                mx = 0,\\n                my = 0,\\n                start = 0;\\n            if (pathArray[0][0] == \\\"M\\\") {\\n                x = pathArray[0][1];\\n                y = pathArray[0][2];\\n                mx = x;\\n                my = y;\\n                start++;\\n                res.push([\\\"M\\\", x, y]);\\n            }\\n            for (var i = start, ii = pathArray.length; i < ii; i++) {\\n                var r = res[i] = [],\\n                    pa = pathArray[i];\\n                if (pa[0] != lowerCase.call(pa[0])) {\\n                    r[0] = lowerCase.call(pa[0]);\\n                    switch (r[0]) {\\n                        case \\\"a\\\":\\n                            r[1] = pa[1];\\n                            r[2] = pa[2];\\n                            r[3] = pa[3];\\n                            r[4] = pa[4];\\n                            r[5] = pa[5];\\n                            r[6] = +(pa[6] - x).toFixed(3);\\n                            r[7] = +(pa[7] - y).toFixed(3);\\n                            break;\\n                        case \\\"v\\\":\\n                            r[1] = +(pa[1] - y).toFixed(3);\\n                            break;\\n                        case \\\"m\\\":\\n                            mx = pa[1];\\n                            my = pa[2];\\n                        default:\\n                            for (var j = 1, jj = pa.length; j < jj; j++) {\\n                                r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\\n                            }\\n                    }\\n                } else {\\n                    r = res[i] = [];\\n                    if (pa[0] == \\\"m\\\") {\\n                        mx = pa[1] + x;\\n                        my = pa[2] + y;\\n                    }\\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\\n                        res[i][k] = pa[k];\\n                    }\\n                }\\n                var len = res[i].length;\\n                switch (res[i][0]) {\\n                    case \\\"z\\\":\\n                        x = mx;\\n                        y = my;\\n                        break;\\n                    case \\\"h\\\":\\n                        x += +res[i][len - 1];\\n                        break;\\n                    case \\\"v\\\":\\n                        y += +res[i][len - 1];\\n                        break;\\n                    default:\\n                        x += +res[i][len - 2];\\n                        y += +res[i][len - 1];\\n                }\\n            }\\n            res.toString = R._path2string;\\n            pth.rel = pathClone(res);\\n            return res;\\n        },\\n        pathToAbsolute = R._pathToAbsolute = function (pathArray) {\\n            var pth = paths(pathArray);\\n            if (pth.abs) {\\n                return pathClone(pth.abs);\\n            }\\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\\n                pathArray = R.parsePathString(pathArray);\\n            }\\n            if (!pathArray || !pathArray.length) {\\n                return [[\\\"M\\\", 0, 0]];\\n            }\\n            var res = [],\\n                x = 0,\\n                y = 0,\\n                mx = 0,\\n                my = 0,\\n                start = 0;\\n            if (pathArray[0][0] == \\\"M\\\") {\\n                x = +pathArray[0][1];\\n                y = +pathArray[0][2];\\n                mx = x;\\n                my = y;\\n                start++;\\n                res[0] = [\\\"M\\\", x, y];\\n            }\\n            var crz = pathArray.length == 3 && pathArray[0][0] == \\\"M\\\" && pathArray[1][0].toUpperCase() == \\\"R\\\" && pathArray[2][0].toUpperCase() == \\\"Z\\\";\\n            for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\\n                res.push(r = []);\\n                pa = pathArray[i];\\n                if (pa[0] != upperCase.call(pa[0])) {\\n                    r[0] = upperCase.call(pa[0]);\\n                    switch (r[0]) {\\n                        case \\\"A\\\":\\n                            r[1] = pa[1];\\n                            r[2] = pa[2];\\n                            r[3] = pa[3];\\n                            r[4] = pa[4];\\n                            r[5] = pa[5];\\n                            r[6] = +(pa[6] + x);\\n                            r[7] = +(pa[7] + y);\\n                            break;\\n                        case \\\"V\\\":\\n                            r[1] = +pa[1] + y;\\n                            break;\\n                        case \\\"H\\\":\\n                            r[1] = +pa[1] + x;\\n                            break;\\n                        case \\\"R\\\":\\n                            var dots = [x, y][concat](pa.slice(1));\\n                            for (var j = 2, jj = dots.length; j < jj; j++) {\\n                                dots[j] = +dots[j] + x;\\n                                dots[++j] = +dots[j] + y;\\n                            }\\n                            res.pop();\\n                            res = res[concat](catmullRom2bezier(dots, crz));\\n                            break;\\n                        case \\\"M\\\":\\n                            mx = +pa[1] + x;\\n                            my = +pa[2] + y;\\n                        default:\\n                            for (j = 1, jj = pa.length; j < jj; j++) {\\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\\n                            }\\n                    }\\n                } else if (pa[0] == \\\"R\\\") {\\n                    dots = [x, y][concat](pa.slice(1));\\n                    res.pop();\\n                    res = res[concat](catmullRom2bezier(dots, crz));\\n                    r = [\\\"R\\\"][concat](pa.slice(-2));\\n                } else {\\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\\n                        r[k] = pa[k];\\n                    }\\n                }\\n                switch (r[0]) {\\n                    case \\\"Z\\\":\\n                        x = mx;\\n                        y = my;\\n                        break;\\n                    case \\\"H\\\":\\n                        x = r[1];\\n                        break;\\n                    case \\\"V\\\":\\n                        y = r[1];\\n                        break;\\n                    case \\\"M\\\":\\n                        mx = r[r.length - 2];\\n                        my = r[r.length - 1];\\n                    default:\\n                        x = r[r.length - 2];\\n                        y = r[r.length - 1];\\n                }\\n            }\\n            res.toString = R._path2string;\\n            pth.abs = pathClone(res);\\n            return res;\\n        },\\n        l2c = function (x1, y1, x2, y2) {\\n            return [x1, y1, x2, y2, x2, y2];\\n        },\\n        q2c = function (x1, y1, ax, ay, x2, y2) {\\n            var _13 = 1 / 3,\\n                _23 = 2 / 3;\\n            return [\\n                    _13 * x1 + _23 * ax,\\n                    _13 * y1 + _23 * ay,\\n                    _13 * x2 + _23 * ax,\\n                    _13 * y2 + _23 * ay,\\n                    x2,\\n                    y2\\n                ];\\n        },\\n        a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\\n            // for more information of where this math came from visit:\\n            // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\\n            var _120 = PI * 120 / 180,\\n                rad = PI / 180 * (+angle || 0),\\n                res = [],\\n                xy,\\n                rotate = cacher(function (x, y, rad) {\\n                    var X = x * math.cos(rad) - y * math.sin(rad),\\n                        Y = x * math.sin(rad) + y * math.cos(rad);\\n                    return {x: X, y: Y};\\n                });\\n            if (!recursive) {\\n                xy = rotate(x1, y1, -rad);\\n                x1 = xy.x;\\n                y1 = xy.y;\\n                xy = rotate(x2, y2, -rad);\\n                x2 = xy.x;\\n                y2 = xy.y;\\n                var cos = math.cos(PI / 180 * angle),\\n                    sin = math.sin(PI / 180 * angle),\\n                    x = (x1 - x2) / 2,\\n                    y = (y1 - y2) / 2;\\n                var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\\n                if (h > 1) {\\n                    h = math.sqrt(h);\\n                    rx = h * rx;\\n                    ry = h * ry;\\n                }\\n                var rx2 = rx * rx,\\n                    ry2 = ry * ry,\\n                    k = (large_arc_flag == sweep_flag ? -1 : 1) *\\n                        math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\\n                    cx = k * rx * y / ry + (x1 + x2) / 2,\\n                    cy = k * -ry * x / rx + (y1 + y2) / 2,\\n                    f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\\n                    f2 = math.asin(((y2 - cy) / ry).toFixed(9));\\n\\n                f1 = x1 < cx ? PI - f1 : f1;\\n                f2 = x2 < cx ? PI - f2 : f2;\\n                f1 < 0 && (f1 = PI * 2 + f1);\\n                f2 < 0 && (f2 = PI * 2 + f2);\\n                if (sweep_flag && f1 > f2) {\\n                    f1 = f1 - PI * 2;\\n                }\\n                if (!sweep_flag && f2 > f1) {\\n                    f2 = f2 - PI * 2;\\n                }\\n            } else {\\n                f1 = recursive[0];\\n                f2 = recursive[1];\\n                cx = recursive[2];\\n                cy = recursive[3];\\n            }\\n            var df = f2 - f1;\\n            if (abs(df) > _120) {\\n                var f2old = f2,\\n                    x2old = x2,\\n                    y2old = y2;\\n                f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\\n                x2 = cx + rx * math.cos(f2);\\n                y2 = cy + ry * math.sin(f2);\\n                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\\n            }\\n            df = f2 - f1;\\n            var c1 = math.cos(f1),\\n                s1 = math.sin(f1),\\n                c2 = math.cos(f2),\\n                s2 = math.sin(f2),\\n                t = math.tan(df / 4),\\n                hx = 4 / 3 * rx * t,\\n                hy = 4 / 3 * ry * t,\\n                m1 = [x1, y1],\\n                m2 = [x1 + hx * s1, y1 - hy * c1],\\n                m3 = [x2 + hx * s2, y2 - hy * c2],\\n                m4 = [x2, y2];\\n            m2[0] = 2 * m1[0] - m2[0];\\n            m2[1] = 2 * m1[1] - m2[1];\\n            if (recursive) {\\n                return [m2, m3, m4][concat](res);\\n            } else {\\n                res = [m2, m3, m4][concat](res).join()[split](\\\",\\\");\\n                var newres = [];\\n                for (var i = 0, ii = res.length; i < ii; i++) {\\n                    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\\n                }\\n                return newres;\\n            }\\n        },\\n        findDotAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\\n            var t1 = 1 - t;\\n            return {\\n                x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\\n                y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\\n            };\\n        },\\n        curveDim = cacher(function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\\n            var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),\\n                b = 2 * (c1x - p1x) - 2 * (c2x - c1x),\\n                c = p1x - c1x,\\n                t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a,\\n                t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a,\\n                y = [p1y, p2y],\\n                x = [p1x, p2x],\\n                dot;\\n            abs(t1) > \\\"1e12\\\" && (t1 = .5);\\n            abs(t2) > \\\"1e12\\\" && (t2 = .5);\\n            if (t1 > 0 && t1 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            if (t2 > 0 && t2 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);\\n            b = 2 * (c1y - p1y) - 2 * (c2y - c1y);\\n            c = p1y - c1y;\\n            t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a;\\n            t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a;\\n            abs(t1) > \\\"1e12\\\" && (t1 = .5);\\n            abs(t2) > \\\"1e12\\\" && (t2 = .5);\\n            if (t1 > 0 && t1 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            if (t2 > 0 && t2 < 1) {\\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\\n                x.push(dot.x);\\n                y.push(dot.y);\\n            }\\n            return {\\n                min: {x: mmin[apply](0, x), y: mmin[apply](0, y)},\\n                max: {x: mmax[apply](0, x), y: mmax[apply](0, y)}\\n            };\\n        }),\\n        path2curve = R._path2curve = cacher(function (path, path2) {\\n            var pth = !path2 && paths(path);\\n            if (!path2 && pth.curve) {\\n                return pathClone(pth.curve);\\n            }\\n            var p = pathToAbsolute(path),\\n                p2 = path2 && pathToAbsolute(path2),\\n                attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\\n                attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\\n                processPath = function (path, d, pcom) {\\n                    var nx, ny, tq = {T:1, Q:1};\\n                    if (!path) {\\n                        return [\\\"C\\\", d.x, d.y, d.x, d.y, d.x, d.y];\\n                    }\\n                    !(path[0] in tq) && (d.qx = d.qy = null);\\n                    switch (path[0]) {\\n                        case \\\"M\\\":\\n                            d.X = path[1];\\n                            d.Y = path[2];\\n                            break;\\n                        case \\\"A\\\":\\n                            path = [\\\"C\\\"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));\\n                            break;\\n                        case \\\"S\\\":\\n                            if (pcom == \\\"C\\\" || pcom == \\\"S\\\") { // In \\\"S\\\" case we have to take into account, if the previous command is C/S.\\n                                nx = d.x * 2 - d.bx;          // And reflect the previous\\n                                ny = d.y * 2 - d.by;          // command's control point relative to the current point.\\n                            }\\n                            else {                            // or some else or nothing\\n                                nx = d.x;\\n                                ny = d.y;\\n                            }\\n                            path = [\\\"C\\\", nx, ny][concat](path.slice(1));\\n                            break;\\n                        case \\\"T\\\":\\n                            if (pcom == \\\"Q\\\" || pcom == \\\"T\\\") { // In \\\"T\\\" case we have to take into account, if the previous command is Q/T.\\n                                d.qx = d.x * 2 - d.qx;        // And make a reflection similar\\n                                d.qy = d.y * 2 - d.qy;        // to case \\\"S\\\".\\n                            }\\n                            else {                            // or something else or nothing\\n                                d.qx = d.x;\\n                                d.qy = d.y;\\n                            }\\n                            path = [\\\"C\\\"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\\n                            break;\\n                        case \\\"Q\\\":\\n                            d.qx = path[1];\\n                            d.qy = path[2];\\n                            path = [\\\"C\\\"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\\n                            break;\\n                        case \\\"L\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, path[1], path[2]));\\n                            break;\\n                        case \\\"H\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, path[1], d.y));\\n                            break;\\n                        case \\\"V\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, d.x, path[1]));\\n                            break;\\n                        case \\\"Z\\\":\\n                            path = [\\\"C\\\"][concat](l2c(d.x, d.y, d.X, d.Y));\\n                            break;\\n                    }\\n                    return path;\\n                },\\n                fixArc = function (pp, i) {\\n                    if (pp[i].length > 7) {\\n                        pp[i].shift();\\n                        var pi = pp[i];\\n                        while (pi.length) {\\n                            pcoms1[i]=\\\"A\\\"; // if created multiple C:s, their original seg is saved\\n                            p2 && (pcoms2[i]=\\\"A\\\"); // the same as above\\n                            pp.splice(i++, 0, [\\\"C\\\"][concat](pi.splice(0, 6)));\\n                        }\\n                        pp.splice(i, 1);\\n                        ii = mmax(p.length, p2 && p2.length || 0);\\n                    }\\n                },\\n                fixM = function (path1, path2, a1, a2, i) {\\n                    if (path1 && path2 && path1[i][0] == \\\"M\\\" && path2[i][0] != \\\"M\\\") {\\n                        path2.splice(i, 0, [\\\"M\\\", a2.x, a2.y]);\\n                        a1.bx = 0;\\n                        a1.by = 0;\\n                        a1.x = path1[i][1];\\n                        a1.y = path1[i][2];\\n                        ii = mmax(p.length, p2 && p2.length || 0);\\n                    }\\n                },\\n                pcoms1 = [], // path commands of original path p\\n                pcoms2 = [], // path commands of original path p2\\n                pfirst = \\\"\\\", // temporary holder for original path command\\n                pcom = \\\"\\\"; // holder for previous path command of original path\\n            for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\\n                p[i] && (pfirst = p[i][0]); // save current path command\\n\\n                if (pfirst != \\\"C\\\") // C is not saved yet, because it may be result of conversion\\n                {\\n                    pcoms1[i] = pfirst; // Save current path command\\n                    i && ( pcom = pcoms1[i-1]); // Get previous path command pcom\\n                }\\n                p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\\n\\n                if (pcoms1[i] != \\\"A\\\" && pfirst == \\\"C\\\") pcoms1[i] = \\\"C\\\"; // A is the only command\\n                // which may produce multiple C:s\\n                // so we have to make sure that C is also C in original path\\n\\n                fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\\n\\n                if (p2) { // the same procedures is done to p2\\n                    p2[i] && (pfirst = p2[i][0]);\\n                    if (pfirst != \\\"C\\\")\\n                    {\\n                        pcoms2[i] = pfirst;\\n                        i && (pcom = pcoms2[i-1]);\\n                    }\\n                    p2[i] = processPath(p2[i], attrs2, pcom);\\n\\n                    if (pcoms2[i]!=\\\"A\\\" && pfirst==\\\"C\\\") pcoms2[i]=\\\"C\\\";\\n\\n                    fixArc(p2, i);\\n                }\\n                fixM(p, p2, attrs, attrs2, i);\\n                fixM(p2, p, attrs2, attrs, i);\\n                var seg = p[i],\\n                    seg2 = p2 && p2[i],\\n                    seglen = seg.length,\\n                    seg2len = p2 && seg2.length;\\n                attrs.x = seg[seglen - 2];\\n                attrs.y = seg[seglen - 1];\\n                attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\\n                attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\\n                attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\\n                attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\\n                attrs2.x = p2 && seg2[seg2len - 2];\\n                attrs2.y = p2 && seg2[seg2len - 1];\\n            }\\n            if (!p2) {\\n                pth.curve = pathClone(p);\\n            }\\n            return p2 ? [p, p2] : p;\\n        }, null, pathClone),\\n        parseDots = R._parseDots = cacher(function (gradient) {\\n            var dots = [];\\n            for (var i = 0, ii = gradient.length; i < ii; i++) {\\n                var dot = {},\\n                    par = gradient[i].match(/^([^:]*):?([\\\\d\\\\.]*)/);\\n                dot.color = R.getRGB(par[1]);\\n                if (dot.color.error) {\\n                    return null;\\n                }\\n                dot.opacity = dot.color.opacity;\\n                dot.color = dot.color.hex;\\n                par[2] && (dot.offset = par[2] + \\\"%\\\");\\n                dots.push(dot);\\n            }\\n            for (i = 1, ii = dots.length - 1; i < ii; i++) {\\n                if (!dots[i].offset) {\\n                    var start = toFloat(dots[i - 1].offset || 0),\\n                        end = 0;\\n                    for (var j = i + 1; j < ii; j++) {\\n                        if (dots[j].offset) {\\n                            end = dots[j].offset;\\n                            break;\\n                        }\\n                    }\\n                    if (!end) {\\n                        end = 100;\\n                        j = ii;\\n                    }\\n                    end = toFloat(end);\\n                    var d = (end - start) / (j - i + 1);\\n                    for (; i < j; i++) {\\n                        start += d;\\n                        dots[i].offset = start + \\\"%\\\";\\n                    }\\n                }\\n            }\\n            return dots;\\n        }),\\n        tear = R._tear = function (el, paper) {\\n            el == paper.top && (paper.top = el.prev);\\n            el == paper.bottom && (paper.bottom = el.next);\\n            el.next && (el.next.prev = el.prev);\\n            el.prev && (el.prev.next = el.next);\\n        },\\n        tofront = R._tofront = function (el, paper) {\\n            if (paper.top === el) {\\n                return;\\n            }\\n            tear(el, paper);\\n            el.next = null;\\n            el.prev = paper.top;\\n            paper.top.next = el;\\n            paper.top = el;\\n        },\\n        toback = R._toback = function (el, paper) {\\n            if (paper.bottom === el) {\\n                return;\\n            }\\n            tear(el, paper);\\n            el.next = paper.bottom;\\n            el.prev = null;\\n            paper.bottom.prev = el;\\n            paper.bottom = el;\\n        },\\n        insertafter = R._insertafter = function (el, el2, paper) {\\n            tear(el, paper);\\n            el2 == paper.top && (paper.top = el);\\n            el2.next && (el2.next.prev = el);\\n            el.next = el2.next;\\n            el.prev = el2;\\n            el2.next = el;\\n        },\\n        insertbefore = R._insertbefore = function (el, el2, paper) {\\n            tear(el, paper);\\n            el2 == paper.bottom && (paper.bottom = el);\\n            el2.prev && (el2.prev.next = el);\\n            el.prev = el2.prev;\\n            el2.prev = el;\\n            el.next = el2;\\n        },\\n        /*\\\\\\n         * Raphael.toMatrix\\n         [ method ]\\n         **\\n         * Utility method\\n         **\\n         * Returns matrix of transformations applied to a given path\\n         > Parameters\\n         - path (string) path string\\n         - transform (string|array) transformation string\\n         = (object) @Matrix\\n        \\\\*/\\n        toMatrix = R.toMatrix = function (path, transform) {\\n            var bb = pathDimensions(path),\\n                el = {\\n                    _: {\\n                        transform: E\\n                    },\\n                    getBBox: function () {\\n                        return bb;\\n                    }\\n                };\\n            extractTransform(el, transform);\\n            return el.matrix;\\n        },\\n        /*\\\\\\n         * Raphael.transformPath\\n         [ method ]\\n         **\\n         * Utility method\\n         **\\n         * Returns path transformed by a given transformation\\n         > Parameters\\n         - path (string) path string\\n         - transform (string|array) transformation string\\n         = (string) path\\n        \\\\*/\\n        transformPath = R.transformPath = function (path, transform) {\\n            return mapPath(path, toMatrix(path, transform));\\n        },\\n        extractTransform = R._extractTransform = function (el, tstr) {\\n            if (tstr == null) {\\n                return el._.transform;\\n            }\\n            tstr = Str(tstr).replace(/\\\\.{3}|\\\\u2026/g, el._.transform || E);\\n            var tdata = R.parseTransformString(tstr),\\n                deg = 0,\\n                dx = 0,\\n                dy = 0,\\n                sx = 1,\\n                sy = 1,\\n                _ = el._,\\n                m = new Matrix;\\n            _.transform = tdata || [];\\n            if (tdata) {\\n                for (var i = 0, ii = tdata.length; i < ii; i++) {\\n                    var t = tdata[i],\\n                        tlen = t.length,\\n                        command = Str(t[0]).toLowerCase(),\\n                        absolute = t[0] != command,\\n                        inver = absolute ? m.invert() : 0,\\n                        x1,\\n                        y1,\\n                        x2,\\n                        y2,\\n                        bb;\\n                    if (command == \\\"t\\\" && tlen == 3) {\\n                        if (absolute) {\\n                            x1 = inver.x(0, 0);\\n                            y1 = inver.y(0, 0);\\n                            x2 = inver.x(t[1], t[2]);\\n                            y2 = inver.y(t[1], t[2]);\\n                            m.translate(x2 - x1, y2 - y1);\\n                        } else {\\n                            m.translate(t[1], t[2]);\\n                        }\\n                    } else if (command == \\\"r\\\") {\\n                        if (tlen == 2) {\\n                            bb = bb || el.getBBox(1);\\n                            m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\\n                            deg += t[1];\\n                        } else if (tlen == 4) {\\n                            if (absolute) {\\n                                x2 = inver.x(t[2], t[3]);\\n                                y2 = inver.y(t[2], t[3]);\\n                                m.rotate(t[1], x2, y2);\\n                            } else {\\n                                m.rotate(t[1], t[2], t[3]);\\n                            }\\n                            deg += t[1];\\n                        }\\n                    } else if (command == \\\"s\\\") {\\n                        if (tlen == 2 || tlen == 3) {\\n                            bb = bb || el.getBBox(1);\\n                            m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\\n                            sx *= t[1];\\n                            sy *= t[tlen - 1];\\n                        } else if (tlen == 5) {\\n                            if (absolute) {\\n                                x2 = inver.x(t[3], t[4]);\\n                                y2 = inver.y(t[3], t[4]);\\n                                m.scale(t[1], t[2], x2, y2);\\n                            } else {\\n                                m.scale(t[1], t[2], t[3], t[4]);\\n                            }\\n                            sx *= t[1];\\n                            sy *= t[2];\\n                        }\\n                    } else if (command == \\\"m\\\" && tlen == 7) {\\n                        m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\\n                    }\\n                    _.dirtyT = 1;\\n                    el.matrix = m;\\n                }\\n            }\\n\\n            /*\\\\\\n             * Element.matrix\\n             [ property (object) ]\\n             **\\n             * Keeps @Matrix object, which represents element transformation\\n            \\\\*/\\n            el.matrix = m;\\n\\n            _.sx = sx;\\n            _.sy = sy;\\n            _.deg = deg;\\n            _.dx = dx = m.e;\\n            _.dy = dy = m.f;\\n\\n            if (sx == 1 && sy == 1 && !deg && _.bbox) {\\n                _.bbox.x += +dx;\\n                _.bbox.y += +dy;\\n            } else {\\n                _.dirtyT = 1;\\n            }\\n        },\\n        getEmpty = function (item) {\\n            var l = item[0];\\n            switch (l.toLowerCase()) {\\n                case \\\"t\\\": return [l, 0, 0];\\n                case \\\"m\\\": return [l, 1, 0, 0, 1, 0, 0];\\n                case \\\"r\\\": if (item.length == 4) {\\n                    return [l, 0, item[2], item[3]];\\n                } else {\\n                    return [l, 0];\\n                }\\n                case \\\"s\\\": if (item.length == 5) {\\n                    return [l, 1, 1, item[3], item[4]];\\n                } else if (item.length == 3) {\\n                    return [l, 1, 1];\\n                } else {\\n                    return [l, 1];\\n                }\\n            }\\n        },\\n        equaliseTransform = R._equaliseTransform = function (t1, t2) {\\n            t2 = Str(t2).replace(/\\\\.{3}|\\\\u2026/g, t1);\\n            t1 = R.parseTransformString(t1) || [];\\n            t2 = R.parseTransformString(t2) || [];\\n            var maxlength = mmax(t1.length, t2.length),\\n                from = [],\\n                to = [],\\n                i = 0, j, jj,\\n                tt1, tt2;\\n            for (; i < maxlength; i++) {\\n                tt1 = t1[i] || getEmpty(t2[i]);\\n                tt2 = t2[i] || getEmpty(tt1);\\n                if ((tt1[0] != tt2[0]) ||\\n                    (tt1[0].toLowerCase() == \\\"r\\\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\\n                    (tt1[0].toLowerCase() == \\\"s\\\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\\n                    ) {\\n                    return;\\n                }\\n                from[i] = [];\\n                to[i] = [];\\n                for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {\\n                    j in tt1 && (from[i][j] = tt1[j]);\\n                    j in tt2 && (to[i][j] = tt2[j]);\\n                }\\n            }\\n            return {\\n                from: from,\\n                to: to\\n            };\\n        };\\n    R._getContainer = function (x, y, w, h) {\\n        var container;\\n        container = h == null && !R.is(x, \\\"object\\\") ? g.doc.getElementById(x) : x;\\n        if (container == null) {\\n            return;\\n        }\\n        if (container.tagName) {\\n            if (y == null) {\\n                return {\\n                    container: container,\\n                    width: container.style.pixelWidth || container.offsetWidth,\\n                    height: container.style.pixelHeight || container.offsetHeight\\n                };\\n            } else {\\n                return {\\n                    container: container,\\n                    width: y,\\n                    height: w\\n                };\\n            }\\n        }\\n        return {\\n            container: 1,\\n            x: x,\\n            y: y,\\n            width: w,\\n            height: h\\n        };\\n    };\\n    /*\\\\\\n     * Raphael.pathToRelative\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Converts path to relative form\\n     > Parameters\\n     - pathString (string|array) path string or array of segments\\n     = (array) array of segments.\\n    \\\\*/\\n    R.pathToRelative = pathToRelative;\\n    R._engine = {};\\n    /*\\\\\\n     * Raphael.path2curve\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Converts path to a new path where all segments are cubic bezier curves.\\n     > Parameters\\n     - pathString (string|array) path string or array of segments\\n     = (array) array of segments.\\n    \\\\*/\\n    R.path2curve = path2curve;\\n    /*\\\\\\n     * Raphael.matrix\\n     [ method ]\\n     **\\n     * Utility method\\n     **\\n     * Returns matrix based on given parameters.\\n     > Parameters\\n     - a (number)\\n     - b (number)\\n     - c (number)\\n     - d (number)\\n     - e (number)\\n     - f (number)\\n     = (object) @Matrix\\n    \\\\*/\\n    R.matrix = function (a, b, c, d, e, f) {\\n        return new Matrix(a, b, c, d, e, f);\\n    };\\n    function Matrix(a, b, c, d, e, f) {\\n        if (a != null) {\\n            this.a = +a;\\n            this.b = +b;\\n            this.c = +c;\\n            this.d = +d;\\n            this.e = +e;\\n            this.f = +f;\\n        } else {\\n            this.a = 1;\\n            this.b = 0;\\n            this.c = 0;\\n            this.d = 1;\\n            this.e = 0;\\n            this.f = 0;\\n        }\\n    }\\n    (function (matrixproto) {\\n        /*\\\\\\n         * Matrix.add\\n         [ method ]\\n         **\\n         * Adds given matrix to existing one.\\n         > Parameters\\n         - a (number)\\n         - b (number)\\n         - c (number)\\n         - d (number)\\n         - e (number)\\n         - f (number)\\n         or\\n         - matrix (object) @Matrix\\n        \\\\*/\\n        matrixproto.add = function (a, b, c, d, e, f) {\\n            var out = [[], [], []],\\n                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\\n                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\\n                x, y, z, res;\\n\\n            if (a && a instanceof Matrix) {\\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\\n            }\\n\\n            for (x = 0; x < 3; x++) {\\n                for (y = 0; y < 3; y++) {\\n                    res = 0;\\n                    for (z = 0; z < 3; z++) {\\n                        res += m[x][z] * matrix[z][y];\\n                    }\\n                    out[x][y] = res;\\n                }\\n            }\\n            this.a = out[0][0];\\n            this.b = out[1][0];\\n            this.c = out[0][1];\\n            this.d = out[1][1];\\n            this.e = out[0][2];\\n            this.f = out[1][2];\\n        };\\n        /*\\\\\\n         * Matrix.invert\\n         [ method ]\\n         **\\n         * Returns inverted version of the matrix\\n         = (object) @Matrix\\n        \\\\*/\\n        matrixproto.invert = function () {\\n            var me = this,\\n                x = me.a * me.d - me.b * me.c;\\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\\n        };\\n        /*\\\\\\n         * Matrix.clone\\n         [ method ]\\n         **\\n         * Returns copy of the matrix\\n         = (object) @Matrix\\n        \\\\*/\\n        matrixproto.clone = function () {\\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\\n        };\\n        /*\\\\\\n         * Matrix.translate\\n         [ method ]\\n         **\\n         * Translate the matrix\\n         > Parameters\\n         - x (number)\\n         - y (number)\\n        \\\\*/\\n        matrixproto.translate = function (x, y) {\\n            this.add(1, 0, 0, 1, x, y);\\n        };\\n        /*\\\\\\n         * Matrix.scale\\n         [ method ]\\n         **\\n         * Scales the matrix\\n         > Parameters\\n         - x (number)\\n         - y (number) #optional\\n         - cx (number) #optional\\n         - cy (number) #optional\\n        \\\\*/\\n        matrixproto.scale = function (x, y, cx, cy) {\\n            y == null && (y = x);\\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\\n            this.add(x, 0, 0, y, 0, 0);\\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\\n        };\\n        /*\\\\\\n         * Matrix.rotate\\n         [ method ]\\n         **\\n         * Rotates the matrix\\n         > Parameters\\n         - a (number)\\n         - x (number)\\n         - y (number)\\n        \\\\*/\\n        matrixproto.rotate = function (a, x, y) {\\n            a = R.rad(a);\\n            x = x || 0;\\n            y = y || 0;\\n            var cos = +math.cos(a).toFixed(9),\\n                sin = +math.sin(a).toFixed(9);\\n            this.add(cos, sin, -sin, cos, x, y);\\n            this.add(1, 0, 0, 1, -x, -y);\\n        };\\n        /*\\\\\\n         * Matrix.x\\n         [ method ]\\n         **\\n         * Return x coordinate for given point after transformation described by the matrix. See also @Matrix.y\\n         > Parameters\\n         - x (number)\\n         - y (number)\\n         = (number) x\\n        \\\\*/\\n        matrixproto.x = function (x, y) {\\n            return x * this.a + y * this.c + this.e;\\n        };\\n        /*\\\\\\n         * Matrix.y\\n         [ method ]\\n         **\\n         * Return y coordinate for given point after transformation described by the matrix. See also @Matrix.x\\n         > Parameters\\n         - x (number)\\n         - y (number)\\n         = (number) y\\n        \\\\*/\\n        matrixproto.y = function (x, y) {\\n            return x * this.b + y * this.d + this.f;\\n        };\\n        matrixproto.get = function (i) {\\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\\n        };\\n        matrixproto.toString = function () {\\n            return R.svg ?\\n                \\\"matrix(\\\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \\\")\\\" :\\n                [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();\\n        };\\n        matrixproto.toFilter = function () {\\n            return \\\"progid:DXImageTransform.Microsoft.Matrix(M11=\\\" + this.get(0) +\\n                \\\", M12=\\\" + this.get(2) + \\\", M21=\\\" + this.get(1) + \\\", M22=\\\" + this.get(3) +\\n                \\\", Dx=\\\" + this.get(4) + \\\", Dy=\\\" + this.get(5) + \\\", sizingmethod='auto expand')\\\";\\n        };\\n        matrixproto.offset = function () {\\n            return [this.e.toFixed(4), this.f.toFixed(4)];\\n        };\\n        function norm(a) {\\n            return a[0] * a[0] + a[1] * a[1];\\n        }\\n        function normalize(a) {\\n            var mag = math.sqrt(norm(a));\\n            a[0] && (a[0] /= mag);\\n            a[1] && (a[1] /= mag);\\n        }\\n        /*\\\\\\n         * Matrix.split\\n         [ method ]\\n         **\\n         * Splits matrix into primitive transformations\\n         = (object) in format:\\n         o dx (number) translation by x\\n         o dy (number) translation by y\\n         o scalex (number) scale by x\\n         o scaley (number) scale by y\\n         o shear (number) shear\\n         o rotate (number) rotation in deg\\n         o isSimple (boolean) could it be represented via simple transformations\\n        \\\\*/\\n        matrixproto.split = function () {\\n            var out = {};\\n            // translation\\n            out.dx = this.e;\\n            out.dy = this.f;\\n\\n            // scale and shear\\n            var row = [[this.a, this.c], [this.b, this.d]];\\n            out.scalex = math.sqrt(norm(row[0]));\\n            normalize(row[0]);\\n\\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\\n\\n            out.scaley = math.sqrt(norm(row[1]));\\n            normalize(row[1]);\\n            out.shear /= out.scaley;\\n\\n            // rotation\\n            var sin = -row[0][1],\\n                cos = row[1][1];\\n            if (cos < 0) {\\n                out.rotate = R.deg(math.acos(cos));\\n                if (sin < 0) {\\n                    out.rotate = 360 - out.rotate;\\n                }\\n            } else {\\n                out.rotate = R.deg(math.asin(sin));\\n            }\\n\\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\\n            return out;\\n        };\\n        /*\\\\\\n         * Matrix.toTransformString\\n         [ method ]\\n         **\\n         * Return transform string that represents given matrix\\n         = (string) transform string\\n        \\\\*/\\n        matrixproto.toTransformString = function (shorter) {\\n            var s = shorter || this[split]();\\n            if (s.isSimple) {\\n                s.scalex = +s.scalex.toFixed(4);\\n                s.scaley = +s.scaley.toFixed(4);\\n                s.rotate = +s.rotate.toFixed(4);\\n                return  (s.dx || s.dy ? \\\"t\\\" + [s.dx, s.dy] : E) +\\n                        (s.scalex != 1 || s.scaley != 1 ? \\\"s\\\" + [s.scalex, s.scaley, 0, 0] : E) +\\n                        (s.rotate ? \\\"r\\\" + [s.rotate, 0, 0] : E);\\n            } else {\\n                return \\\"m\\\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\\n            }\\n        };\\n    })(Matrix.prototype);\\n\\n    var preventDefault = function () {\\n        this.returnValue = false;\\n    },\\n    preventTouch = function () {\\n        return this.originalEvent.preventDefault();\\n    },\\n    stopPropagation = function () {\\n        this.cancelBubble = true;\\n    },\\n    stopTouch = function () {\\n        return this.originalEvent.stopPropagation();\\n    },\\n    getEventPosition = function (e) {\\n        var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\\n\\n        return {\\n            x: e.clientX + scrollX,\\n            y: e.clientY + scrollY\\n        };\\n    },\\n    addEvent = (function () {\\n        if (g.doc.addEventListener) {\\n            return function (obj, type, fn, element) {\\n                var f = function (e) {\\n                    var pos = getEventPosition(e);\\n                    return fn.call(element, e, pos.x, pos.y);\\n                };\\n                obj.addEventListener(type, f, false);\\n\\n                if (supportsTouch && touchMap[type]) {\\n                    var _f = function (e) {\\n                        var pos = getEventPosition(e),\\n                            olde = e;\\n\\n                        for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\\n                            if (e.targetTouches[i].target == obj) {\\n                                e = e.targetTouches[i];\\n                                e.originalEvent = olde;\\n                                e.preventDefault = preventTouch;\\n                                e.stopPropagation = stopTouch;\\n                                break;\\n                            }\\n                        }\\n\\n                        return fn.call(element, e, pos.x, pos.y);\\n                    };\\n                    obj.addEventListener(touchMap[type], _f, false);\\n                }\\n\\n                return function () {\\n                    obj.removeEventListener(type, f, false);\\n\\n                    if (supportsTouch && touchMap[type])\\n                        obj.removeEventListener(touchMap[type], _f, false);\\n\\n                    return true;\\n                };\\n            };\\n        } else if (g.doc.attachEvent) {\\n            return function (obj, type, fn, element) {\\n                var f = function (e) {\\n                    e = e || g.win.event;\\n                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n                        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\\n                        x = e.clientX + scrollX,\\n                        y = e.clientY + scrollY;\\n                    e.preventDefault = e.preventDefault || preventDefault;\\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\\n                    return fn.call(element, e, x, y);\\n                };\\n                obj.attachEvent(\\\"on\\\" + type, f);\\n                var detacher = function () {\\n                    obj.detachEvent(\\\"on\\\" + type, f);\\n                    return true;\\n                };\\n                return detacher;\\n            };\\n        }\\n    })(),\\n    drag = [],\\n    dragMove = function (e) {\\n        var x = e.clientX,\\n            y = e.clientY,\\n            scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\\n            dragi,\\n            j = drag.length;\\n        while (j--) {\\n            dragi = drag[j];\\n            if (supportsTouch && e.touches) {\\n                var i = e.touches.length,\\n                    touch;\\n                while (i--) {\\n                    touch = e.touches[i];\\n                    if (touch.identifier == dragi.el._drag.id) {\\n                        x = touch.clientX;\\n                        y = touch.clientY;\\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\\n                        break;\\n                    }\\n                }\\n            } else {\\n                e.preventDefault();\\n            }\\n            var node = dragi.el.node,\\n                o,\\n                next = node.nextSibling,\\n                parent = node.parentNode,\\n                display = node.style.display;\\n            g.win.opera && parent.removeChild(node);\\n            node.style.display = \\\"none\\\";\\n            o = dragi.el.paper.getElementByPoint(x, y);\\n            node.style.display = display;\\n            g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\\n            o && eve(\\\"raphael.drag.over.\\\" + dragi.el.id, dragi.el, o);\\n            x += scrollX;\\n            y += scrollY;\\n            eve(\\\"raphael.drag.move.\\\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\\n        }\\n    },\\n    dragUp = function (e) {\\n        R.unmousemove(dragMove).unmouseup(dragUp);\\n        var i = drag.length,\\n            dragi;\\n        while (i--) {\\n            dragi = drag[i];\\n            dragi.el._drag = {};\\n            eve(\\\"raphael.drag.end.\\\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\\n        }\\n        drag = [];\\n    },\\n    /*\\\\\\n     * Raphael.el\\n     [ property (object) ]\\n     **\\n     * You can add your own method to elements. This is useful when you want to hack default functionality or\\n     * want to wrap some common transformation or attributes in one method. In difference to canvas methods,\\n     * you can redefine element method at any time. Expending element methods wouldn’t affect set.\\n     > Usage\\n     | Raphael.el.red = function () {\\n     |     this.attr({fill: \\\"#f00\\\"});\\n     | };\\n     | // then use it\\n     | paper.circle(100, 100, 20).red();\\n    \\\\*/\\n    elproto = R.el = {};\\n    /*\\\\\\n     * Element.click\\n     [ method ]\\n     **\\n     * Adds event handler for click for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unclick\\n     [ method ]\\n     **\\n     * Removes event handler for click for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.dblclick\\n     [ method ]\\n     **\\n     * Adds event handler for double click for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.undblclick\\n     [ method ]\\n     **\\n     * Removes event handler for double click for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mousedown\\n     [ method ]\\n     **\\n     * Adds event handler for mousedown for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmousedown\\n     [ method ]\\n     **\\n     * Removes event handler for mousedown for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mousemove\\n     [ method ]\\n     **\\n     * Adds event handler for mousemove for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmousemove\\n     [ method ]\\n     **\\n     * Removes event handler for mousemove for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mouseout\\n     [ method ]\\n     **\\n     * Adds event handler for mouseout for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmouseout\\n     [ method ]\\n     **\\n     * Removes event handler for mouseout for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mouseover\\n     [ method ]\\n     **\\n     * Adds event handler for mouseover for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmouseover\\n     [ method ]\\n     **\\n     * Removes event handler for mouseover for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.mouseup\\n     [ method ]\\n     **\\n     * Adds event handler for mouseup for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.unmouseup\\n     [ method ]\\n     **\\n     * Removes event handler for mouseup for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchstart\\n     [ method ]\\n     **\\n     * Adds event handler for touchstart for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchstart\\n     [ method ]\\n     **\\n     * Removes event handler for touchstart for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchmove\\n     [ method ]\\n     **\\n     * Adds event handler for touchmove for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchmove\\n     [ method ]\\n     **\\n     * Removes event handler for touchmove for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchend\\n     [ method ]\\n     **\\n     * Adds event handler for touchend for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchend\\n     [ method ]\\n     **\\n     * Removes event handler for touchend for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n\\n    /*\\\\\\n     * Element.touchcancel\\n     [ method ]\\n     **\\n     * Adds event handler for touchcancel for the element.\\n     > Parameters\\n     - handler (function) handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    /*\\\\\\n     * Element.untouchcancel\\n     [ method ]\\n     **\\n     * Removes event handler for touchcancel for the element.\\n     > Parameters\\n     - handler (function) #optional handler for the event\\n     = (object) @Element\\n    \\\\*/\\n    for (var i = events.length; i--;) {\\n        (function (eventName) {\\n            R[eventName] = elproto[eventName] = function (fn, scope) {\\n                if (R.is(fn, \\\"function\\\")) {\\n                    this.events = this.events || [];\\n                    this.events.push({name: eventName, f: fn, unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)});\\n                }\\n                return this;\\n            };\\n            R[\\\"un\\\" + eventName] = elproto[\\\"un\\\" + eventName] = function (fn) {\\n                var events = this.events || [],\\n                    l = events.length;\\n                while (l--){\\n                    if (events[l].name == eventName && (R.is(fn, \\\"undefined\\\") || events[l].f == fn)) {\\n                        events[l].unbind();\\n                        events.splice(l, 1);\\n                        !events.length && delete this.events;\\n                    }\\n                }\\n                return this;\\n            };\\n        })(events[i]);\\n    }\\n\\n    /*\\\\\\n     * Element.data\\n     [ method ]\\n     **\\n     * Adds or retrieves given value associated with given key.\\n     **\\n     * See also @Element.removeData\\n     > Parameters\\n     - key (string) key to store data\\n     - value (any) #optional value to store\\n     = (object) @Element\\n     * or, if value is not specified:\\n     = (any) value\\n     * or, if key and value are not specified:\\n     = (object) Key/value pairs for all the data associated with the element.\\n     > Usage\\n     | for (var i = 0, i < 5, i++) {\\n     |     paper.circle(10 + 15 * i, 10, 10)\\n     |          .attr({fill: \\\"#000\\\"})\\n     |          .data(\\\"i\\\", i)\\n     |          .click(function () {\\n     |             alert(this.data(\\\"i\\\"));\\n     |          });\\n     | }\\n    \\\\*/\\n    elproto.data = function (key, value) {\\n        var data = eldata[this.id] = eldata[this.id] || {};\\n        if (arguments.length == 0) {\\n            return data;\\n        }\\n        if (arguments.length == 1) {\\n            if (R.is(key, \\\"object\\\")) {\\n                for (var i in key) if (key[has](i)) {\\n                    this.data(i, key[i]);\\n                }\\n                return this;\\n            }\\n            eve(\\\"raphael.data.get.\\\" + this.id, this, data[key], key);\\n            return data[key];\\n        }\\n        data[key] = value;\\n        eve(\\\"raphael.data.set.\\\" + this.id, this, value, key);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.removeData\\n     [ method ]\\n     **\\n     * Removes value associated with an element by given key.\\n     * If key is not provided, removes all the data of the element.\\n     > Parameters\\n     - key (string) #optional key\\n     = (object) @Element\\n    \\\\*/\\n    elproto.removeData = function (key) {\\n        if (key == null) {\\n            eldata[this.id] = {};\\n        } else {\\n            eldata[this.id] && delete eldata[this.id][key];\\n        }\\n        return this;\\n    };\\n     /*\\\\\\n     * Element.getData\\n     [ method ]\\n     **\\n     * Retrieves the element data\\n     = (object) data\\n    \\\\*/\\n    elproto.getData = function () {\\n        return clone(eldata[this.id] || {});\\n    };\\n    /*\\\\\\n     * Element.hover\\n     [ method ]\\n     **\\n     * Adds event handlers for hover for the element.\\n     > Parameters\\n     - f_in (function) handler for hover in\\n     - f_out (function) handler for hover out\\n     - icontext (object) #optional context for hover in handler\\n     - ocontext (object) #optional context for hover out handler\\n     = (object) @Element\\n    \\\\*/\\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\\n    };\\n    /*\\\\\\n     * Element.unhover\\n     [ method ]\\n     **\\n     * Removes event handlers for hover for the element.\\n     > Parameters\\n     - f_in (function) handler for hover in\\n     - f_out (function) handler for hover out\\n     = (object) @Element\\n    \\\\*/\\n    elproto.unhover = function (f_in, f_out) {\\n        return this.unmouseover(f_in).unmouseout(f_out);\\n    };\\n    var draggable = [];\\n    /*\\\\\\n     * Element.drag\\n     [ method ]\\n     **\\n     * Adds event handlers for drag of the element.\\n     > Parameters\\n     - onmove (function) handler for moving\\n     - onstart (function) handler for drag start\\n     - onend (function) handler for drag end\\n     - mcontext (object) #optional context for moving handler\\n     - scontext (object) #optional context for drag start handler\\n     - econtext (object) #optional context for drag end handler\\n     * Additionally following `drag` events will be triggered: `drag.start.<id>` on start,\\n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element will be dragged over another element\\n     * `drag.over.<id>` will be fired as well.\\n     *\\n     * Start event and start handler will be called in specified context or in context of the element with following parameters:\\n     o x (number) x position of the mouse\\n     o y (number) y position of the mouse\\n     o event (object) DOM event object\\n     * Move event and move handler will be called in specified context or in context of the element with following parameters:\\n     o dx (number) shift by x from the start point\\n     o dy (number) shift by y from the start point\\n     o x (number) x position of the mouse\\n     o y (number) y position of the mouse\\n     o event (object) DOM event object\\n     * End event and end handler will be called in specified context or in context of the element with following parameters:\\n     o event (object) DOM event object\\n     = (object) @Element\\n    \\\\*/\\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\\n        function start(e) {\\n            (e.originalEvent || e).preventDefault();\\n            var x = e.clientX,\\n                y = e.clientY,\\n                scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\\n            this._drag.id = e.identifier;\\n            if (supportsTouch && e.touches) {\\n                var i = e.touches.length, touch;\\n                while (i--) {\\n                    touch = e.touches[i];\\n                    this._drag.id = touch.identifier;\\n                    if (touch.identifier == this._drag.id) {\\n                        x = touch.clientX;\\n                        y = touch.clientY;\\n                        break;\\n                    }\\n                }\\n            }\\n            this._drag.x = x + scrollX;\\n            this._drag.y = y + scrollY;\\n            !drag.length && R.mousemove(dragMove).mouseup(dragUp);\\n            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\\n            onstart && eve.on(\\\"raphael.drag.start.\\\" + this.id, onstart);\\n            onmove && eve.on(\\\"raphael.drag.move.\\\" + this.id, onmove);\\n            onend && eve.on(\\\"raphael.drag.end.\\\" + this.id, onend);\\n            eve(\\\"raphael.drag.start.\\\" + this.id, start_scope || move_scope || this, e.clientX + scrollX, e.clientY + scrollY, e);\\n        }\\n        this._drag = {};\\n        draggable.push({el: this, start: start});\\n        this.mousedown(start);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.onDragOver\\n     [ method ]\\n     **\\n     * Shortcut for assigning event handler for `drag.over.<id>` event, where id is id of the element (see @Element.id).\\n     > Parameters\\n     - f (function) handler for event, first argument would be the element you are dragging over\\n    \\\\*/\\n    elproto.onDragOver = function (f) {\\n        f ? eve.on(\\\"raphael.drag.over.\\\" + this.id, f) : eve.unbind(\\\"raphael.drag.over.\\\" + this.id);\\n    };\\n    /*\\\\\\n     * Element.undrag\\n     [ method ]\\n     **\\n     * Removes all drag event handlers from given element.\\n    \\\\*/\\n    elproto.undrag = function () {\\n        var i = draggable.length;\\n        while (i--) if (draggable[i].el == this) {\\n            this.unmousedown(draggable[i].start);\\n            draggable.splice(i, 1);\\n            eve.unbind(\\\"raphael.drag.*.\\\" + this.id);\\n        }\\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\\n        drag = [];\\n    };\\n    /*\\\\\\n     * Paper.circle\\n     [ method ]\\n     **\\n     * Draws a circle.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the centre\\n     - y (number) y coordinate of the centre\\n     - r (number) radius\\n     = (object) Raphaël element object with type “circle”\\n     **\\n     > Usage\\n     | var c = paper.circle(50, 50, 40);\\n    \\\\*/\\n    paperproto.circle = function (x, y, r) {\\n        var out = R._engine.circle(this, x || 0, y || 0, r || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.rect\\n     [ method ]\\n     *\\n     * Draws a rectangle.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the top left corner\\n     - y (number) y coordinate of the top left corner\\n     - width (number) width\\n     - height (number) height\\n     - r (number) #optional radius for rounded corners, default is 0\\n     = (object) Raphaël element object with type “rect”\\n     **\\n     > Usage\\n     | // regular rectangle\\n     | var c = paper.rect(10, 10, 50, 50);\\n     | // rectangle with rounded corners\\n     | var c = paper.rect(40, 40, 50, 50, 10);\\n    \\\\*/\\n    paperproto.rect = function (x, y, w, h, r) {\\n        var out = R._engine.rect(this, x || 0, y || 0, w || 0, h || 0, r || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.ellipse\\n     [ method ]\\n     **\\n     * Draws an ellipse.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the centre\\n     - y (number) y coordinate of the centre\\n     - rx (number) horizontal radius\\n     - ry (number) vertical radius\\n     = (object) Raphaël element object with type “ellipse”\\n     **\\n     > Usage\\n     | var c = paper.ellipse(50, 50, 40, 20);\\n    \\\\*/\\n    paperproto.ellipse = function (x, y, rx, ry) {\\n        var out = R._engine.ellipse(this, x || 0, y || 0, rx || 0, ry || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.path\\n     [ method ]\\n     **\\n     * Creates a path element by given path data string.\\n     > Parameters\\n     - pathString (string) #optional path string in SVG format.\\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numercal form. Example:\\n     | \\\"M10,20L30,40\\\"\\n     * Here we can see two commands: “M”, with arguments `(10, 20)` and “L” with arguments `(30, 40)`. Upper case letter mean command is absolute, lower case—relative.\\n     *\\n     # <p>Here is short list of commands available, for more details see <a href=\\\"http://www.w3.org/TR/SVG/paths.html#PathData\\\" title=\\\"Details of a path's data attribute's format are described in the SVG specification.\\\">SVG path string format</a>.</p>\\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\\n     # <tr><td>Q</td><td>quadratic Bézier curveto</td><td>(x1 y1 x y)+</td></tr>\\n     # <tr><td>T</td><td>smooth quadratic Bézier curveto</td><td>(x y)+</td></tr>\\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\\n     # <tr><td>R</td><td><a href=\\\"http://en.wikipedia.org/wiki/Catmull–Rom_spline#Catmull.E2.80.93Rom_spline\\\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\\n     * * “Catmull-Rom curveto” is a not standard SVG command and added in 2.0 to make life easier.\\n     * Note: there is a special case when path consist of just three commands: “M10,10R…z”. In this case path will smoothly connects to its beginning.\\n     > Usage\\n     | var c = paper.path(\\\"M10 10L90 90\\\");\\n     | // draw a diagonal line:\\n     | // move to 10,10, line to 90,90\\n     * For example of path strings, check out these icons: http://raphaeljs.com/icons/\\n    \\\\*/\\n    paperproto.path = function (pathString) {\\n        pathString && !R.is(pathString, string) && !R.is(pathString[0], array) && (pathString += E);\\n        var out = R._engine.path(R.format[apply](R, arguments), this);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.image\\n     [ method ]\\n     **\\n     * Embeds an image into the surface.\\n     **\\n     > Parameters\\n     **\\n     - src (string) URI of the source image\\n     - x (number) x coordinate position\\n     - y (number) y coordinate position\\n     - width (number) width of the image\\n     - height (number) height of the image\\n     = (object) Raphaël element object with type “image”\\n     **\\n     > Usage\\n     | var c = paper.image(\\\"apple.png\\\", 10, 10, 80, 80);\\n    \\\\*/\\n    paperproto.image = function (src, x, y, w, h) {\\n        var out = R._engine.image(this, src || \\\"about:blank\\\", x || 0, y || 0, w || 0, h || 0);\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.text\\n     [ method ]\\n     **\\n     * Draws a text string. If you need line breaks, put “\\\\n” in the string.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate position\\n     - y (number) y coordinate position\\n     - text (string) The text string to draw\\n     = (object) Raphaël element object with type “text”\\n     **\\n     > Usage\\n     | var t = paper.text(50, 50, \\\"Raphaël\\\\nkicks\\\\nbutt!\\\");\\n    \\\\*/\\n    paperproto.text = function (x, y, text) {\\n        var out = R._engine.text(this, x || 0, y || 0, Str(text));\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.set\\n     [ method ]\\n     **\\n     * Creates array-like object to keep and operate several elements at once.\\n     * Warning: it doesn’t create any elements for itself in the page, it just groups existing elements.\\n     * Sets act as pseudo elements — all methods available to an element can be used on a set.\\n     = (object) array-like object that represents set of elements\\n     **\\n     > Usage\\n     | var st = paper.set();\\n     | st.push(\\n     |     paper.circle(10, 10, 5),\\n     |     paper.circle(30, 10, 5)\\n     | );\\n     | st.attr({fill: \\\"red\\\"}); // changes the fill of both circles\\n    \\\\*/\\n    paperproto.set = function (itemsArray) {\\n        !R.is(itemsArray, \\\"array\\\") && (itemsArray = Array.prototype.splice.call(arguments, 0, arguments.length));\\n        var out = new Set(itemsArray);\\n        this.__set__ && this.__set__.push(out);\\n        out[\\\"paper\\\"] = this;\\n        out[\\\"type\\\"] = \\\"set\\\";\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.setStart\\n     [ method ]\\n     **\\n     * Creates @Paper.set. All elements that will be created after calling this method and before calling\\n     * @Paper.setFinish will be added to the set.\\n     **\\n     > Usage\\n     | paper.setStart();\\n     | paper.circle(10, 10, 5),\\n     | paper.circle(30, 10, 5)\\n     | var st = paper.setFinish();\\n     | st.attr({fill: \\\"red\\\"}); // changes the fill of both circles\\n    \\\\*/\\n    paperproto.setStart = function (set) {\\n        this.__set__ = set || this.set();\\n    };\\n    /*\\\\\\n     * Paper.setFinish\\n     [ method ]\\n     **\\n     * See @Paper.setStart. This method finishes catching and returns resulting set.\\n     **\\n     = (object) set\\n    \\\\*/\\n    paperproto.setFinish = function (set) {\\n        var out = this.__set__;\\n        delete this.__set__;\\n        return out;\\n    };\\n    /*\\\\\\n     * Paper.getSize\\n     [ method ]\\n     **\\n     * Obtains current paper actual size.\\n     **\\n     = (object)\\n     \\\\*/\\n    paperproto.getSize = function () {\\n        var container = this.canvas.parentNode;\\n        return {\\n            width: container.offsetWidth,\\n            height: container.offsetHeight\\n                };\\n        };\\n    /*\\\\\\n     * Paper.setSize\\n     [ method ]\\n     **\\n     * If you need to change dimensions of the canvas call this method\\n     **\\n     > Parameters\\n     **\\n     - width (number) new width of the canvas\\n     - height (number) new height of the canvas\\n    \\\\*/\\n    paperproto.setSize = function (width, height) {\\n        return R._engine.setSize.call(this, width, height);\\n    };\\n    /*\\\\\\n     * Paper.setViewBox\\n     [ method ]\\n     **\\n     * Sets the view box of the paper. Practically it gives you ability to zoom and pan whole paper surface by\\n     * specifying new boundaries.\\n     **\\n     > Parameters\\n     **\\n     - x (number) new x position, default is `0`\\n     - y (number) new y position, default is `0`\\n     - w (number) new width of the canvas\\n     - h (number) new height of the canvas\\n     - fit (boolean) `true` if you want graphics to fit into new boundary box\\n    \\\\*/\\n    paperproto.setViewBox = function (x, y, w, h, fit) {\\n        return R._engine.setViewBox.call(this, x, y, w, h, fit);\\n    };\\n    /*\\\\\\n     * Paper.top\\n     [ property ]\\n     **\\n     * Points to the topmost element on the paper\\n    \\\\*/\\n    /*\\\\\\n     * Paper.bottom\\n     [ property ]\\n     **\\n     * Points to the bottom element on the paper\\n    \\\\*/\\n    paperproto.top = paperproto.bottom = null;\\n    /*\\\\\\n     * Paper.raphael\\n     [ property ]\\n     **\\n     * Points to the @Raphael object/function\\n    \\\\*/\\n    paperproto.raphael = R;\\n    var getOffset = function (elem) {\\n        var box = elem.getBoundingClientRect(),\\n            doc = elem.ownerDocument,\\n            body = doc.body,\\n            docElem = doc.documentElement,\\n            clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\\n            top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\\n            left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\\n        return {\\n            y: top,\\n            x: left\\n        };\\n    };\\n    /*\\\\\\n     * Paper.getElementByPoint\\n     [ method ]\\n     **\\n     * Returns you topmost element under given point.\\n     **\\n     = (object) Raphaël element object\\n     > Parameters\\n     **\\n     - x (number) x coordinate from the top left corner of the window\\n     - y (number) y coordinate from the top left corner of the window\\n     > Usage\\n     | paper.getElementByPoint(mouseX, mouseY).attr({stroke: \\\"#f00\\\"});\\n    \\\\*/\\n    paperproto.getElementByPoint = function (x, y) {\\n        var paper = this,\\n            svg = paper.canvas,\\n            target = g.doc.elementFromPoint(x, y);\\n        if (g.win.opera && target.tagName == \\\"svg\\\") {\\n            var so = getOffset(svg),\\n                sr = svg.createSVGRect();\\n            sr.x = x - so.x;\\n            sr.y = y - so.y;\\n            sr.width = sr.height = 1;\\n            var hits = svg.getIntersectionList(sr, null);\\n            if (hits.length) {\\n                target = hits[hits.length - 1];\\n            }\\n        }\\n        if (!target) {\\n            return null;\\n        }\\n        while (target.parentNode && target != svg.parentNode && !target.raphael) {\\n            target = target.parentNode;\\n        }\\n        target == paper.canvas.parentNode && (target = svg);\\n        target = target && target.raphael ? paper.getById(target.raphaelid) : null;\\n        return target;\\n    };\\n\\n    /*\\\\\\n     * Paper.getElementsByBBox\\n     [ method ]\\n     **\\n     * Returns set of elements that have an intersecting bounding box\\n     **\\n     > Parameters\\n     **\\n     - bbox (object) bbox to check with\\n     = (object) @Set\\n     \\\\*/\\n    paperproto.getElementsByBBox = function (bbox) {\\n        var set = this.set();\\n        this.forEach(function (el) {\\n            if (R.isBBoxIntersect(el.getBBox(), bbox)) {\\n                set.push(el);\\n            }\\n        });\\n        return set;\\n    };\\n\\n    /*\\\\\\n     * Paper.getById\\n     [ method ]\\n     **\\n     * Returns you element by its internal ID.\\n     **\\n     > Parameters\\n     **\\n     - id (number) id\\n     = (object) Raphaël element object\\n    \\\\*/\\n    paperproto.getById = function (id) {\\n        var bot = this.bottom;\\n        while (bot) {\\n            if (bot.id == id) {\\n                return bot;\\n            }\\n            bot = bot.next;\\n        }\\n        return null;\\n    };\\n    /*\\\\\\n     * Paper.forEach\\n     [ method ]\\n     **\\n     * Executes given function for each element on the paper\\n     *\\n     * If callback function returns `false` it will stop loop running.\\n     **\\n     > Parameters\\n     **\\n     - callback (function) function to run\\n     - thisArg (object) context object for the callback\\n     = (object) Paper object\\n     > Usage\\n     | paper.forEach(function (el) {\\n     |     el.attr({ stroke: \\\"blue\\\" });\\n     | });\\n    \\\\*/\\n    paperproto.forEach = function (callback, thisArg) {\\n        var bot = this.bottom;\\n        while (bot) {\\n            if (callback.call(thisArg, bot) === false) {\\n                return this;\\n            }\\n            bot = bot.next;\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Paper.getElementsByPoint\\n     [ method ]\\n     **\\n     * Returns set of elements that have common point inside\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the point\\n     - y (number) y coordinate of the point\\n     = (object) @Set\\n    \\\\*/\\n    paperproto.getElementsByPoint = function (x, y) {\\n        var set = this.set();\\n        this.forEach(function (el) {\\n            if (el.isPointInside(x, y)) {\\n                set.push(el);\\n            }\\n        });\\n        return set;\\n    };\\n    function x_y() {\\n        return this.x + S + this.y;\\n    }\\n    function x_y_w_h() {\\n        return this.x + S + this.y + S + this.width + \\\" \\\\xd7 \\\" + this.height;\\n    }\\n    /*\\\\\\n     * Element.isPointInside\\n     [ method ]\\n     **\\n     * Determine if given point is inside this element’s shape\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the point\\n     - y (number) y coordinate of the point\\n     = (boolean) `true` if point inside the shape\\n    \\\\*/\\n    elproto.isPointInside = function (x, y) {\\n        var rp = this.realPath = getPath[this.type](this);\\n        if (this.attr('transform') && this.attr('transform').length) {\\n            rp = R.transformPath(rp, this.attr('transform'));\\n        }\\n        return R.isPointInsidePath(rp, x, y);\\n    };\\n    /*\\\\\\n     * Element.getBBox\\n     [ method ]\\n     **\\n     * Return bounding box for a given element\\n     **\\n     > Parameters\\n     **\\n     - isWithoutTransform (boolean) flag, `true` if you want to have bounding box before transformations. Default is `false`.\\n     = (object) Bounding box object:\\n     o {\\n     o     x: (number) top left corner x\\n     o     y: (number) top left corner y\\n     o     x2: (number) bottom right corner x\\n     o     y2: (number) bottom right corner y\\n     o     width: (number) width\\n     o     height: (number) height\\n     o }\\n    \\\\*/\\n    elproto.getBBox = function (isWithoutTransform) {\\n        if (this.removed) {\\n            return {};\\n        }\\n        var _ = this._;\\n        if (isWithoutTransform) {\\n            if (_.dirty || !_.bboxwt) {\\n                this.realPath = getPath[this.type](this);\\n                _.bboxwt = pathDimensions(this.realPath);\\n                _.bboxwt.toString = x_y_w_h;\\n                _.dirty = 0;\\n            }\\n            return _.bboxwt;\\n        }\\n        if (_.dirty || _.dirtyT || !_.bbox) {\\n            if (_.dirty || !this.realPath) {\\n                _.bboxwt = 0;\\n                this.realPath = getPath[this.type](this);\\n            }\\n            _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));\\n            _.bbox.toString = x_y_w_h;\\n            _.dirty = _.dirtyT = 0;\\n        }\\n        return _.bbox;\\n    };\\n    /*\\\\\\n     * Element.clone\\n     [ method ]\\n     **\\n     = (object) clone of a given element\\n     **\\n    \\\\*/\\n    elproto.clone = function () {\\n        if (this.removed) {\\n            return null;\\n        }\\n        var out = this.paper[this.type]().attr(this.attr());\\n        this.__set__ && this.__set__.push(out);\\n        return out;\\n    };\\n    /*\\\\\\n     * Element.glow\\n     [ method ]\\n     **\\n     * Return set of elements that create glow-like effect around given element. See @Paper.set.\\n     *\\n     * Note: Glow is not connected to the element. If you change element attributes it won’t adjust itself.\\n     **\\n     > Parameters\\n     **\\n     - glow (object) #optional parameters object with all properties optional:\\n     o {\\n     o     width (number) size of the glow, default is `10`\\n     o     fill (boolean) will it be filled, default is `false`\\n     o     opacity (number) opacity, default is `0.5`\\n     o     offsetx (number) horizontal offset, default is `0`\\n     o     offsety (number) vertical offset, default is `0`\\n     o     color (string) glow colour, default is `black`\\n     o }\\n     = (object) @Paper.set of elements that represents glow\\n    \\\\*/\\n    elproto.glow = function (glow) {\\n        if (this.type == \\\"text\\\") {\\n            return null;\\n        }\\n        glow = glow || {};\\n        var s = {\\n            width: (glow.width || 10) + (+this.attr(\\\"stroke-width\\\") || 1),\\n            fill: glow.fill || false,\\n            opacity: glow.opacity == null ? .5 : glow.opacity,\\n            offsetx: glow.offsetx || 0,\\n            offsety: glow.offsety || 0,\\n            color: glow.color || \\\"#000\\\"\\n        },\\n            c = s.width / 2,\\n            r = this.paper,\\n            out = r.set(),\\n            path = this.realPath || getPath[this.type](this);\\n        path = this.matrix ? mapPath(path, this.matrix) : path;\\n        for (var i = 1; i < c + 1; i++) {\\n            out.push(r.path(path).attr({\\n                stroke: s.color,\\n                fill: s.fill ? s.color : \\\"none\\\",\\n                \\\"stroke-linejoin\\\": \\\"round\\\",\\n                \\\"stroke-linecap\\\": \\\"round\\\",\\n                \\\"stroke-width\\\": +(s.width / c * i).toFixed(3),\\n                opacity: +(s.opacity / c).toFixed(3)\\n            }));\\n        }\\n        return out.insertBefore(this).translate(s.offsetx, s.offsety);\\n    };\\n    var curveslengths = {},\\n    getPointAtSegmentLength = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\\n        if (length == null) {\\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\\n        } else {\\n            return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\\n        }\\n    },\\n    getLengthFactory = function (istotal, subpath) {\\n        return function (path, length, onlystart) {\\n            path = path2curve(path);\\n            var x, y, p, l, sp = \\\"\\\", subpaths = {}, point,\\n                len = 0;\\n            for (var i = 0, ii = path.length; i < ii; i++) {\\n                p = path[i];\\n                if (p[0] == \\\"M\\\") {\\n                    x = +p[1];\\n                    y = +p[2];\\n                } else {\\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\\n                    if (len + l > length) {\\n                        if (subpath && !subpaths.start) {\\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\\n                            sp += [\\\"C\\\" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];\\n                            if (onlystart) {return sp;}\\n                            subpaths.start = sp;\\n                            sp = [\\\"M\\\" + point.x, point.y + \\\"C\\\" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();\\n                            len += l;\\n                            x = +p[5];\\n                            y = +p[6];\\n                            continue;\\n                        }\\n                        if (!istotal && !subpath) {\\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\\n                            return {x: point.x, y: point.y, alpha: point.alpha};\\n                        }\\n                    }\\n                    len += l;\\n                    x = +p[5];\\n                    y = +p[6];\\n                }\\n                sp += p.shift() + p;\\n            }\\n            subpaths.end = sp;\\n            point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\\n            point.alpha && (point = {x: point.x, y: point.y, alpha: point.alpha});\\n            return point;\\n        };\\n    };\\n    var getTotalLength = getLengthFactory(1),\\n        getPointAtLength = getLengthFactory(),\\n        getSubpathsAtLength = getLengthFactory(0, 1);\\n    /*\\\\\\n     * Raphael.getTotalLength\\n     [ method ]\\n     **\\n     * Returns length of the given path in pixels.\\n     **\\n     > Parameters\\n     **\\n     - path (string) SVG path string.\\n     **\\n     = (number) length.\\n    \\\\*/\\n    R.getTotalLength = getTotalLength;\\n    /*\\\\\\n     * Raphael.getPointAtLength\\n     [ method ]\\n     **\\n     * Return coordinates of the point located at the given length on the given path.\\n     **\\n     > Parameters\\n     **\\n     - path (string) SVG path string\\n     - length (number)\\n     **\\n     = (object) representation of the point:\\n     o {\\n     o     x: (number) x coordinate\\n     o     y: (number) y coordinate\\n     o     alpha: (number) angle of derivative\\n     o }\\n    \\\\*/\\n    R.getPointAtLength = getPointAtLength;\\n    /*\\\\\\n     * Raphael.getSubpath\\n     [ method ]\\n     **\\n     * Return subpath of a given path from given length to given length.\\n     **\\n     > Parameters\\n     **\\n     - path (string) SVG path string\\n     - from (number) position of the start of the segment\\n     - to (number) position of the end of the segment\\n     **\\n     = (string) pathstring for the segment\\n    \\\\*/\\n    R.getSubpath = function (path, from, to) {\\n        if (this.getTotalLength(path) - to < 1e-6) {\\n            return getSubpathsAtLength(path, from).end;\\n        }\\n        var a = getSubpathsAtLength(path, to, 1);\\n        return from ? getSubpathsAtLength(a, from).end : a;\\n    };\\n    /*\\\\\\n     * Element.getTotalLength\\n     [ method ]\\n     **\\n     * Returns length of the path in pixels. Only works for element of “path” type.\\n     = (number) length.\\n    \\\\*/\\n    elproto.getTotalLength = function () {\\n        var path = this.getPath();\\n        if (!path) {\\n            return;\\n        }\\n\\n        if (this.node.getTotalLength) {\\n            return this.node.getTotalLength();\\n        }\\n\\n        return getTotalLength(path);\\n    };\\n    /*\\\\\\n     * Element.getPointAtLength\\n     [ method ]\\n     **\\n     * Return coordinates of the point located at the given length on the given path. Only works for element of “path” type.\\n     **\\n     > Parameters\\n     **\\n     - length (number)\\n     **\\n     = (object) representation of the point:\\n     o {\\n     o     x: (number) x coordinate\\n     o     y: (number) y coordinate\\n     o     alpha: (number) angle of derivative\\n     o }\\n    \\\\*/\\n    elproto.getPointAtLength = function (length) {\\n        var path = this.getPath();\\n        if (!path) {\\n            return;\\n        }\\n\\n        return getPointAtLength(path, length);\\n    };\\n    /*\\\\\\n     * Element.getPath\\n     [ method ]\\n     **\\n     * Returns path of the element. Only works for elements of “path” type and simple elements like circle.\\n     = (object) path\\n     **\\n    \\\\*/\\n    elproto.getPath = function () {\\n        var path,\\n            getPath = R._getPath[this.type];\\n\\n        if (this.type == \\\"text\\\" || this.type == \\\"set\\\") {\\n            return;\\n        }\\n\\n        if (getPath) {\\n            path = getPath(this);\\n        }\\n\\n        return path;\\n    };\\n    /*\\\\\\n     * Element.getSubpath\\n     [ method ]\\n     **\\n     * Return subpath of a given element from given length to given length. Only works for element of “path” type.\\n     **\\n     > Parameters\\n     **\\n     - from (number) position of the start of the segment\\n     - to (number) position of the end of the segment\\n     **\\n     = (string) pathstring for the segment\\n    \\\\*/\\n    elproto.getSubpath = function (from, to) {\\n        var path = this.getPath();\\n        if (!path) {\\n            return;\\n        }\\n\\n        return R.getSubpath(path, from, to);\\n    };\\n    /*\\\\\\n     * Raphael.easing_formulas\\n     [ property ]\\n     **\\n     * Object that contains easing formulas for animation. You could extend it with your own. By default it has following list of easing:\\n     # <ul>\\n     #     <li>“linear”</li>\\n     #     <li>“&lt;” or “easeIn” or “ease-in”</li>\\n     #     <li>“>” or “easeOut” or “ease-out”</li>\\n     #     <li>“&lt;>” or “easeInOut” or “ease-in-out”</li>\\n     #     <li>“backIn” or “back-in”</li>\\n     #     <li>“backOut” or “back-out”</li>\\n     #     <li>“elastic”</li>\\n     #     <li>“bounce”</li>\\n     # </ul>\\n     # <p>See also <a href=\\\"http://raphaeljs.com/easing.html\\\">Easing demo</a>.</p>\\n    \\\\*/\\n    var ef = R.easing_formulas = {\\n        linear: function (n) {\\n            return n;\\n        },\\n        \\\"<\\\": function (n) {\\n            return pow(n, 1.7);\\n        },\\n        \\\">\\\": function (n) {\\n            return pow(n, .48);\\n        },\\n        \\\"<>\\\": function (n) {\\n            var q = .48 - n / 1.04,\\n                Q = math.sqrt(.1734 + q * q),\\n                x = Q - q,\\n                X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),\\n                y = -Q - q,\\n                Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),\\n                t = X + Y + .5;\\n            return (1 - t) * 3 * t * t + t * t * t;\\n        },\\n        backIn: function (n) {\\n            var s = 1.70158;\\n            return n * n * ((s + 1) * n - s);\\n        },\\n        backOut: function (n) {\\n            n = n - 1;\\n            var s = 1.70158;\\n            return n * n * ((s + 1) * n + s) + 1;\\n        },\\n        elastic: function (n) {\\n            if (n == !!n) {\\n                return n;\\n            }\\n            return pow(2, -10 * n) * math.sin((n - .075) * (2 * PI) / .3) + 1;\\n        },\\n        bounce: function (n) {\\n            var s = 7.5625,\\n                p = 2.75,\\n                l;\\n            if (n < (1 / p)) {\\n                l = s * n * n;\\n            } else {\\n                if (n < (2 / p)) {\\n                    n -= (1.5 / p);\\n                    l = s * n * n + .75;\\n                } else {\\n                    if (n < (2.5 / p)) {\\n                        n -= (2.25 / p);\\n                        l = s * n * n + .9375;\\n                    } else {\\n                        n -= (2.625 / p);\\n                        l = s * n * n + .984375;\\n                    }\\n                }\\n            }\\n            return l;\\n        }\\n    };\\n    ef.easeIn = ef[\\\"ease-in\\\"] = ef[\\\"<\\\"];\\n    ef.easeOut = ef[\\\"ease-out\\\"] = ef[\\\">\\\"];\\n    ef.easeInOut = ef[\\\"ease-in-out\\\"] = ef[\\\"<>\\\"];\\n    ef[\\\"back-in\\\"] = ef.backIn;\\n    ef[\\\"back-out\\\"] = ef.backOut;\\n\\n    var animationElements = [],\\n        requestAnimFrame = window.requestAnimationFrame       ||\\n                           window.webkitRequestAnimationFrame ||\\n                           window.mozRequestAnimationFrame    ||\\n                           window.oRequestAnimationFrame      ||\\n                           window.msRequestAnimationFrame     ||\\n                           function (callback) {\\n                               setTimeout(callback, 16);\\n                           },\\n        animation = function () {\\n            var Now = +new Date,\\n                l = 0;\\n            for (; l < animationElements.length; l++) {\\n                var e = animationElements[l];\\n                if (e.el.removed || e.paused) {\\n                    continue;\\n                }\\n                var time = Now - e.start,\\n                    ms = e.ms,\\n                    easing = e.easing,\\n                    from = e.from,\\n                    diff = e.diff,\\n                    to = e.to,\\n                    t = e.t,\\n                    that = e.el,\\n                    set = {},\\n                    now,\\n                    init = {},\\n                    key;\\n                if (e.initstatus) {\\n                    time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;\\n                    e.status = e.initstatus;\\n                    delete e.initstatus;\\n                    e.stop && animationElements.splice(l--, 1);\\n                } else {\\n                    e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;\\n                }\\n                if (time < 0) {\\n                    continue;\\n                }\\n                if (time < ms) {\\n                    var pos = easing(time / ms);\\n                    for (var attr in from) if (from[has](attr)) {\\n                        switch (availableAnimAttrs[attr]) {\\n                            case nu:\\n                                now = +from[attr] + pos * ms * diff[attr];\\n                                break;\\n                            case \\\"colour\\\":\\n                                now = \\\"rgb(\\\" + [\\n                                    upto255(round(from[attr].r + pos * ms * diff[attr].r)),\\n                                    upto255(round(from[attr].g + pos * ms * diff[attr].g)),\\n                                    upto255(round(from[attr].b + pos * ms * diff[attr].b))\\n                                ].join(\\\",\\\") + \\\")\\\";\\n                                break;\\n                            case \\\"path\\\":\\n                                now = [];\\n                                for (var i = 0, ii = from[attr].length; i < ii; i++) {\\n                                    now[i] = [from[attr][i][0]];\\n                                    for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                        now[i][j] = +from[attr][i][j] + pos * ms * diff[attr][i][j];\\n                                    }\\n                                    now[i] = now[i].join(S);\\n                                }\\n                                now = now.join(S);\\n                                break;\\n                            case \\\"transform\\\":\\n                                if (diff[attr].real) {\\n                                    now = [];\\n                                    for (i = 0, ii = from[attr].length; i < ii; i++) {\\n                                        now[i] = [from[attr][i][0]];\\n                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                            now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];\\n                                        }\\n                                    }\\n                                } else {\\n                                    var get = function (i) {\\n                                        return +from[attr][i] + pos * ms * diff[attr][i];\\n                                    };\\n                                    // now = [[\\\"r\\\", get(2), 0, 0], [\\\"t\\\", get(3), get(4)], [\\\"s\\\", get(0), get(1), 0, 0]];\\n                                    now = [[\\\"m\\\", get(0), get(1), get(2), get(3), get(4), get(5)]];\\n                                }\\n                                break;\\n                            case \\\"csv\\\":\\n                                if (attr == \\\"clip-rect\\\") {\\n                                    now = [];\\n                                    i = 4;\\n                                    while (i--) {\\n                                        now[i] = +from[attr][i] + pos * ms * diff[attr][i];\\n                                    }\\n                                }\\n                                break;\\n                            default:\\n                                var from2 = [][concat](from[attr]);\\n                                now = [];\\n                                i = that.paper.customAttributes[attr].length;\\n                                while (i--) {\\n                                    now[i] = +from2[i] + pos * ms * diff[attr][i];\\n                                }\\n                                break;\\n                        }\\n                        set[attr] = now;\\n                    }\\n                    that.attr(set);\\n                    (function (id, that, anim) {\\n                        setTimeout(function () {\\n                            eve(\\\"raphael.anim.frame.\\\" + id, that, anim);\\n                        });\\n                    })(that.id, that, e.anim);\\n                } else {\\n                    (function(f, el, a) {\\n                        setTimeout(function() {\\n                            eve(\\\"raphael.anim.frame.\\\" + el.id, el, a);\\n                            eve(\\\"raphael.anim.finish.\\\" + el.id, el, a);\\n                            R.is(f, \\\"function\\\") && f.call(el);\\n                        });\\n                    })(e.callback, that, e.anim);\\n                    that.attr(to);\\n                    animationElements.splice(l--, 1);\\n                    if (e.repeat > 1 && !e.next) {\\n                        for (key in to) if (to[has](key)) {\\n                            init[key] = e.totalOrigin[key];\\n                        }\\n                        e.el.attr(init);\\n                        runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);\\n                    }\\n                    if (e.next && !e.stop) {\\n                        runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);\\n                    }\\n                }\\n            }\\n            animationElements.length && requestAnimFrame(animation);\\n        },\\n        upto255 = function (color) {\\n            return color > 255 ? 255 : color < 0 ? 0 : color;\\n        };\\n    /*\\\\\\n     * Element.animateWith\\n     [ method ]\\n     **\\n     * Acts similar to @Element.animate, but ensure that given animation runs in sync with another given element.\\n     **\\n     > Parameters\\n     **\\n     - el (object) element to sync with\\n     - anim (object) animation to sync with\\n     - params (object) #optional final attributes for the element, see also @Element.attr\\n     - ms (number) #optional number of milliseconds for animation to run\\n     - easing (string) #optional easing type. Accept on of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\\n     - callback (function) #optional callback function. Will be called at the end of animation.\\n     * or\\n     - element (object) element to sync with\\n     - anim (object) animation to sync with\\n     - animation (object) #optional animation object, see @Raphael.animation\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.animateWith = function (el, anim, params, ms, easing, callback) {\\n        var element = this;\\n        if (element.removed) {\\n            callback && callback.call(element);\\n            return element;\\n        }\\n        var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),\\n            x, y;\\n        runAnimation(a, element, a.percents[0], null, element.attr());\\n        for (var i = 0, ii = animationElements.length; i < ii; i++) {\\n            if (animationElements[i].anim == anim && animationElements[i].el == el) {\\n                animationElements[ii - 1].start = animationElements[i].start;\\n                break;\\n            }\\n        }\\n        return element;\\n        //\\n        //\\n        // var a = params ? R.animation(params, ms, easing, callback) : anim,\\n        //     status = element.status(anim);\\n        // return this.animate(a).status(a, status * anim.ms / a.ms);\\n    };\\n    function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\\n        var cx = 3 * p1x,\\n            bx = 3 * (p2x - p1x) - cx,\\n            ax = 1 - cx - bx,\\n            cy = 3 * p1y,\\n            by = 3 * (p2y - p1y) - cy,\\n            ay = 1 - cy - by;\\n        function sampleCurveX(t) {\\n            return ((ax * t + bx) * t + cx) * t;\\n        }\\n        function solve(x, epsilon) {\\n            var t = solveCurveX(x, epsilon);\\n            return ((ay * t + by) * t + cy) * t;\\n        }\\n        function solveCurveX(x, epsilon) {\\n            var t0, t1, t2, x2, d2, i;\\n            for(t2 = x, i = 0; i < 8; i++) {\\n                x2 = sampleCurveX(t2) - x;\\n                if (abs(x2) < epsilon) {\\n                    return t2;\\n                }\\n                d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;\\n                if (abs(d2) < 1e-6) {\\n                    break;\\n                }\\n                t2 = t2 - x2 / d2;\\n            }\\n            t0 = 0;\\n            t1 = 1;\\n            t2 = x;\\n            if (t2 < t0) {\\n                return t0;\\n            }\\n            if (t2 > t1) {\\n                return t1;\\n            }\\n            while (t0 < t1) {\\n                x2 = sampleCurveX(t2);\\n                if (abs(x2 - x) < epsilon) {\\n                    return t2;\\n                }\\n                if (x > x2) {\\n                    t0 = t2;\\n                } else {\\n                    t1 = t2;\\n                }\\n                t2 = (t1 - t0) / 2 + t0;\\n            }\\n            return t2;\\n        }\\n        return solve(t, 1 / (200 * duration));\\n    }\\n    elproto.onAnimation = function (f) {\\n        f ? eve.on(\\\"raphael.anim.frame.\\\" + this.id, f) : eve.unbind(\\\"raphael.anim.frame.\\\" + this.id);\\n        return this;\\n    };\\n    function Animation(anim, ms) {\\n        var percents = [],\\n            newAnim = {};\\n        this.ms = ms;\\n        this.times = 1;\\n        if (anim) {\\n            for (var attr in anim) if (anim[has](attr)) {\\n                newAnim[toFloat(attr)] = anim[attr];\\n                percents.push(toFloat(attr));\\n            }\\n            percents.sort(sortByNumber);\\n        }\\n        this.anim = newAnim;\\n        this.top = percents[percents.length - 1];\\n        this.percents = percents;\\n    }\\n    /*\\\\\\n     * Animation.delay\\n     [ method ]\\n     **\\n     * Creates a copy of existing animation object with given delay.\\n     **\\n     > Parameters\\n     **\\n     - delay (number) number of ms to pass between animation start and actual animation\\n     **\\n     = (object) new altered Animation object\\n     | var anim = Raphael.animation({cx: 10, cy: 20}, 2e3);\\n     | circle1.animate(anim); // run the given animation immediately\\n     | circle2.animate(anim.delay(500)); // run the given animation after 500 ms\\n    \\\\*/\\n    Animation.prototype.delay = function (delay) {\\n        var a = new Animation(this.anim, this.ms);\\n        a.times = this.times;\\n        a.del = +delay || 0;\\n        return a;\\n    };\\n    /*\\\\\\n     * Animation.repeat\\n     [ method ]\\n     **\\n     * Creates a copy of existing animation object with given repetition.\\n     **\\n     > Parameters\\n     **\\n     - repeat (number) number iterations of animation. For infinite animation pass `Infinity`\\n     **\\n     = (object) new altered Animation object\\n    \\\\*/\\n    Animation.prototype.repeat = function (times) {\\n        var a = new Animation(this.anim, this.ms);\\n        a.del = this.del;\\n        a.times = math.floor(mmax(times, 0)) || 1;\\n        return a;\\n    };\\n    function runAnimation(anim, element, percent, status, totalOrigin, times) {\\n        percent = toFloat(percent);\\n        var params,\\n            isInAnim,\\n            isInAnimSet,\\n            percents = [],\\n            next,\\n            prev,\\n            timestamp,\\n            ms = anim.ms,\\n            from = {},\\n            to = {},\\n            diff = {};\\n        if (status) {\\n            for (i = 0, ii = animationElements.length; i < ii; i++) {\\n                var e = animationElements[i];\\n                if (e.el.id == element.id && e.anim == anim) {\\n                    if (e.percent != percent) {\\n                        animationElements.splice(i, 1);\\n                        isInAnimSet = 1;\\n                    } else {\\n                        isInAnim = e;\\n                    }\\n                    element.attr(e.totalOrigin);\\n                    break;\\n                }\\n            }\\n        } else {\\n            status = +to; // NaN\\n        }\\n        for (var i = 0, ii = anim.percents.length; i < ii; i++) {\\n            if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {\\n                percent = anim.percents[i];\\n                prev = anim.percents[i - 1] || 0;\\n                ms = ms / anim.top * (percent - prev);\\n                next = anim.percents[i + 1];\\n                params = anim.anim[percent];\\n                break;\\n            } else if (status) {\\n                element.attr(anim.anim[anim.percents[i]]);\\n            }\\n        }\\n        if (!params) {\\n            return;\\n        }\\n        if (!isInAnim) {\\n            for (var attr in params) if (params[has](attr)) {\\n                if (availableAnimAttrs[has](attr) || element.paper.customAttributes[has](attr)) {\\n                    from[attr] = element.attr(attr);\\n                    (from[attr] == null) && (from[attr] = availableAttrs[attr]);\\n                    to[attr] = params[attr];\\n                    switch (availableAnimAttrs[attr]) {\\n                        case nu:\\n                            diff[attr] = (to[attr] - from[attr]) / ms;\\n                            break;\\n                        case \\\"colour\\\":\\n                            from[attr] = R.getRGB(from[attr]);\\n                            var toColour = R.getRGB(to[attr]);\\n                            diff[attr] = {\\n                                r: (toColour.r - from[attr].r) / ms,\\n                                g: (toColour.g - from[attr].g) / ms,\\n                                b: (toColour.b - from[attr].b) / ms\\n                            };\\n                            break;\\n                        case \\\"path\\\":\\n                            var pathes = path2curve(from[attr], to[attr]),\\n                                toPath = pathes[1];\\n                            from[attr] = pathes[0];\\n                            diff[attr] = [];\\n                            for (i = 0, ii = from[attr].length; i < ii; i++) {\\n                                diff[attr][i] = [0];\\n                                for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                    diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;\\n                                }\\n                            }\\n                            break;\\n                        case \\\"transform\\\":\\n                            var _ = element._,\\n                                eq = equaliseTransform(_[attr], to[attr]);\\n                            if (eq) {\\n                                from[attr] = eq.from;\\n                                to[attr] = eq.to;\\n                                diff[attr] = [];\\n                                diff[attr].real = true;\\n                                for (i = 0, ii = from[attr].length; i < ii; i++) {\\n                                    diff[attr][i] = [from[attr][i][0]];\\n                                    for (j = 1, jj = from[attr][i].length; j < jj; j++) {\\n                                        diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;\\n                                    }\\n                                }\\n                            } else {\\n                                var m = (element.matrix || new Matrix),\\n                                    to2 = {\\n                                        _: {transform: _.transform},\\n                                        getBBox: function () {\\n                                            return element.getBBox(1);\\n                                        }\\n                                    };\\n                                from[attr] = [\\n                                    m.a,\\n                                    m.b,\\n                                    m.c,\\n                                    m.d,\\n                                    m.e,\\n                                    m.f\\n                                ];\\n                                extractTransform(to2, to[attr]);\\n                                to[attr] = to2._.transform;\\n                                diff[attr] = [\\n                                    (to2.matrix.a - m.a) / ms,\\n                                    (to2.matrix.b - m.b) / ms,\\n                                    (to2.matrix.c - m.c) / ms,\\n                                    (to2.matrix.d - m.d) / ms,\\n                                    (to2.matrix.e - m.e) / ms,\\n                                    (to2.matrix.f - m.f) / ms\\n                                ];\\n                                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];\\n                                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};\\n                                // extractTransform(to2, to[attr]);\\n                                // diff[attr] = [\\n                                //     (to2._.sx - _.sx) / ms,\\n                                //     (to2._.sy - _.sy) / ms,\\n                                //     (to2._.deg - _.deg) / ms,\\n                                //     (to2._.dx - _.dx) / ms,\\n                                //     (to2._.dy - _.dy) / ms\\n                                // ];\\n                            }\\n                            break;\\n                        case \\\"csv\\\":\\n                            var values = Str(params[attr])[split](separator),\\n                                from2 = Str(from[attr])[split](separator);\\n                            if (attr == \\\"clip-rect\\\") {\\n                                from[attr] = from2;\\n                                diff[attr] = [];\\n                                i = from2.length;\\n                                while (i--) {\\n                                    diff[attr][i] = (values[i] - from[attr][i]) / ms;\\n                                }\\n                            }\\n                            to[attr] = values;\\n                            break;\\n                        default:\\n                            values = [][concat](params[attr]);\\n                            from2 = [][concat](from[attr]);\\n                            diff[attr] = [];\\n                            i = element.paper.customAttributes[attr].length;\\n                            while (i--) {\\n                                diff[attr][i] = ((values[i] || 0) - (from2[i] || 0)) / ms;\\n                            }\\n                            break;\\n                    }\\n                }\\n            }\\n            var easing = params.easing,\\n                easyeasy = R.easing_formulas[easing];\\n            if (!easyeasy) {\\n                easyeasy = Str(easing).match(bezierrg);\\n                if (easyeasy && easyeasy.length == 5) {\\n                    var curve = easyeasy;\\n                    easyeasy = function (t) {\\n                        return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);\\n                    };\\n                } else {\\n                    easyeasy = pipe;\\n                }\\n            }\\n            timestamp = params.start || anim.start || +new Date;\\n            e = {\\n                anim: anim,\\n                percent: percent,\\n                timestamp: timestamp,\\n                start: timestamp + (anim.del || 0),\\n                status: 0,\\n                initstatus: status || 0,\\n                stop: false,\\n                ms: ms,\\n                easing: easyeasy,\\n                from: from,\\n                diff: diff,\\n                to: to,\\n                el: element,\\n                callback: params.callback,\\n                prev: prev,\\n                next: next,\\n                repeat: times || anim.times,\\n                origin: element.attr(),\\n                totalOrigin: totalOrigin\\n            };\\n            animationElements.push(e);\\n            if (status && !isInAnim && !isInAnimSet) {\\n                e.stop = true;\\n                e.start = new Date - ms * status;\\n                if (animationElements.length == 1) {\\n                    return animation();\\n                }\\n            }\\n            if (isInAnimSet) {\\n                e.start = new Date - e.ms * status;\\n            }\\n            animationElements.length == 1 && requestAnimFrame(animation);\\n        } else {\\n            isInAnim.initstatus = status;\\n            isInAnim.start = new Date - isInAnim.ms * status;\\n        }\\n        eve(\\\"raphael.anim.start.\\\" + element.id, element, anim);\\n    }\\n    /*\\\\\\n     * Raphael.animation\\n     [ method ]\\n     **\\n     * Creates an animation object that can be passed to the @Element.animate or @Element.animateWith methods.\\n     * See also @Animation.delay and @Animation.repeat methods.\\n     **\\n     > Parameters\\n     **\\n     - params (object) final attributes for the element, see also @Element.attr\\n     - ms (number) number of milliseconds for animation to run\\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\\n     - callback (function) #optional callback function. Will be called at the end of animation.\\n     **\\n     = (object) @Animation\\n    \\\\*/\\n    R.animation = function (params, ms, easing, callback) {\\n        if (params instanceof Animation) {\\n            return params;\\n        }\\n        if (R.is(easing, \\\"function\\\") || !easing) {\\n            callback = callback || easing || null;\\n            easing = null;\\n        }\\n        params = Object(params);\\n        ms = +ms || 0;\\n        var p = {},\\n            json,\\n            attr;\\n        for (attr in params) if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + \\\"%\\\" != attr) {\\n            json = true;\\n            p[attr] = params[attr];\\n        }\\n        if (!json) {\\n            // if percent-like syntax is used and end-of-all animation callback used\\n            if(callback){\\n                // find the last one\\n                var lastKey = 0;\\n                for(var i in params){\\n                    var percent = toInt(i);\\n                    if(params[has](i) && percent > lastKey){\\n                        lastKey = percent;\\n                    }\\n                }\\n                lastKey += '%';\\n                // if already defined callback in the last keyframe, skip\\n                !params[lastKey].callback && (params[lastKey].callback = callback);\\n            }\\n          return new Animation(params, ms);\\n        } else {\\n            easing && (p.easing = easing);\\n            callback && (p.callback = callback);\\n            return new Animation({100: p}, ms);\\n        }\\n    };\\n    /*\\\\\\n     * Element.animate\\n     [ method ]\\n     **\\n     * Creates and starts animation for given element.\\n     **\\n     > Parameters\\n     **\\n     - params (object) final attributes for the element, see also @Element.attr\\n     - ms (number) number of milliseconds for animation to run\\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\\n     - callback (function) #optional callback function. Will be called at the end of animation.\\n     * or\\n     - animation (object) animation object, see @Raphael.animation\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.animate = function (params, ms, easing, callback) {\\n        var element = this;\\n        if (element.removed) {\\n            callback && callback.call(element);\\n            return element;\\n        }\\n        var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);\\n        runAnimation(anim, element, anim.percents[0], null, element.attr());\\n        return element;\\n    };\\n    /*\\\\\\n     * Element.setTime\\n     [ method ]\\n     **\\n     * Sets the status of animation of the element in milliseconds. Similar to @Element.status method.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) animation object\\n     - value (number) number of milliseconds from the beginning of the animation\\n     **\\n     = (object) original element if `value` is specified\\n     * Note, that during animation following events are triggered:\\n     *\\n     * On each animation frame event `anim.frame.<id>`, on start `anim.start.<id>` and on end `anim.finish.<id>`.\\n    \\\\*/\\n    elproto.setTime = function (anim, value) {\\n        if (anim && value != null) {\\n            this.status(anim, mmin(value, anim.ms) / anim.ms);\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.status\\n     [ method ]\\n     **\\n     * Gets or sets the status of animation of the element.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     - value (number) #optional 0 – 1. If specified, method works like a setter and sets the status of a given animation to the value. This will cause animation to jump to the given position.\\n     **\\n     = (number) status\\n     * or\\n     = (array) status if `anim` is not specified. Array of objects in format:\\n     o {\\n     o     anim: (object) animation object\\n     o     status: (number) status\\n     o }\\n     * or\\n     = (object) original element if `value` is specified\\n    \\\\*/\\n    elproto.status = function (anim, value) {\\n        var out = [],\\n            i = 0,\\n            len,\\n            e;\\n        if (value != null) {\\n            runAnimation(anim, this, -1, mmin(value, 1));\\n            return this;\\n        } else {\\n            len = animationElements.length;\\n            for (; i < len; i++) {\\n                e = animationElements[i];\\n                if (e.el.id == this.id && (!anim || e.anim == anim)) {\\n                    if (anim) {\\n                        return e.status;\\n                    }\\n                    out.push({\\n                        anim: e.anim,\\n                        status: e.status\\n                    });\\n                }\\n            }\\n            if (anim) {\\n                return 0;\\n            }\\n            return out;\\n        }\\n    };\\n    /*\\\\\\n     * Element.pause\\n     [ method ]\\n     **\\n     * Stops animation of the element with ability to resume it later on.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.pause = function (anim) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\\n            if (eve(\\\"raphael.anim.pause.\\\" + this.id, this, animationElements[i].anim) !== false) {\\n                animationElements[i].paused = true;\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.resume\\n     [ method ]\\n     **\\n     * Resumes animation if it was paused with @Element.pause method.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.resume = function (anim) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\\n            var e = animationElements[i];\\n            if (eve(\\\"raphael.anim.resume.\\\" + this.id, this, e.anim) !== false) {\\n                delete e.paused;\\n                this.status(e.anim, e.status);\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.stop\\n     [ method ]\\n     **\\n     * Stops animation of the element.\\n     **\\n     > Parameters\\n     **\\n     - anim (object) #optional animation object\\n     **\\n     = (object) original element\\n    \\\\*/\\n    elproto.stop = function (anim) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\\n            if (eve(\\\"raphael.anim.stop.\\\" + this.id, this, animationElements[i].anim) !== false) {\\n                animationElements.splice(i--, 1);\\n            }\\n        }\\n        return this;\\n    };\\n    function stopAnimation(paper) {\\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.paper == paper) {\\n            animationElements.splice(i--, 1);\\n        }\\n    }\\n    eve.on(\\\"raphael.remove\\\", stopAnimation);\\n    eve.on(\\\"raphael.clear\\\", stopAnimation);\\n    elproto.toString = function () {\\n        return \\\"Rapha\\\\xebl\\\\u2019s object\\\";\\n    };\\n\\n    // Set\\n    var Set = function (items) {\\n        this.items = [];\\n        this.length = 0;\\n        this.type = \\\"set\\\";\\n        if (items) {\\n            for (var i = 0, ii = items.length; i < ii; i++) {\\n                if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {\\n                    this[this.items.length] = this.items[this.items.length] = items[i];\\n                    this.length++;\\n                }\\n            }\\n        }\\n    },\\n    setproto = Set.prototype;\\n    /*\\\\\\n     * Set.push\\n     [ method ]\\n     **\\n     * Adds each argument to the current set.\\n     = (object) original element\\n    \\\\*/\\n    setproto.push = function () {\\n        var item,\\n            len;\\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\\n            item = arguments[i];\\n            if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {\\n                len = this.items.length;\\n                this[len] = this.items[len] = item;\\n                this.length++;\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Set.pop\\n     [ method ]\\n     **\\n     * Removes last element and returns it.\\n     = (object) element\\n    \\\\*/\\n    setproto.pop = function () {\\n        this.length && delete this[this.length--];\\n        return this.items.pop();\\n    };\\n    /*\\\\\\n     * Set.forEach\\n     [ method ]\\n     **\\n     * Executes given function for each element in the set.\\n     *\\n     * If function returns `false` it will stop loop running.\\n     **\\n     > Parameters\\n     **\\n     - callback (function) function to run\\n     - thisArg (object) context object for the callback\\n     = (object) Set object\\n    \\\\*/\\n    setproto.forEach = function (callback, thisArg) {\\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\\n            if (callback.call(thisArg, this.items[i], i) === false) {\\n                return this;\\n            }\\n        }\\n        return this;\\n    };\\n    for (var method in elproto) if (elproto[has](method)) {\\n        setproto[method] = (function (methodname) {\\n            return function () {\\n                var arg = arguments;\\n                return this.forEach(function (el) {\\n                    el[methodname][apply](el, arg);\\n                });\\n            };\\n        })(method);\\n    }\\n    setproto.attr = function (name, value) {\\n        if (name && R.is(name, array) && R.is(name[0], \\\"object\\\")) {\\n            for (var j = 0, jj = name.length; j < jj; j++) {\\n                this.items[j].attr(name[j]);\\n            }\\n        } else {\\n            for (var i = 0, ii = this.items.length; i < ii; i++) {\\n                this.items[i].attr(name, value);\\n            }\\n        }\\n        return this;\\n    };\\n    /*\\\\\\n     * Set.clear\\n     [ method ]\\n     **\\n     * Removes all elements from the set\\n    \\\\*/\\n    setproto.clear = function () {\\n        while (this.length) {\\n            this.pop();\\n        }\\n    };\\n    /*\\\\\\n     * Set.splice\\n     [ method ]\\n     **\\n     * Removes given element from the set\\n     **\\n     > Parameters\\n     **\\n     - index (number) position of the deletion\\n     - count (number) number of element to remove\\n     - insertion… (object) #optional elements to insert\\n     = (object) set elements that were deleted\\n    \\\\*/\\n    setproto.splice = function (index, count, insertion) {\\n        index = index < 0 ? mmax(this.length + index, 0) : index;\\n        count = mmax(0, mmin(this.length - index, count));\\n        var tail = [],\\n            todel = [],\\n            args = [],\\n            i;\\n        for (i = 2; i < arguments.length; i++) {\\n            args.push(arguments[i]);\\n        }\\n        for (i = 0; i < count; i++) {\\n            todel.push(this[index + i]);\\n        }\\n        for (; i < this.length - index; i++) {\\n            tail.push(this[index + i]);\\n        }\\n        var arglen = args.length;\\n        for (i = 0; i < arglen + tail.length; i++) {\\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\\n        }\\n        i = this.items.length = this.length -= count - arglen;\\n        while (this[i]) {\\n            delete this[i++];\\n        }\\n        return new Set(todel);\\n    };\\n    /*\\\\\\n     * Set.exclude\\n     [ method ]\\n     **\\n     * Removes given element from the set\\n     **\\n     > Parameters\\n     **\\n     - element (object) element to remove\\n     = (boolean) `true` if object was found & removed from the set\\n    \\\\*/\\n    setproto.exclude = function (el) {\\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\\n            this.splice(i, 1);\\n            return true;\\n        }\\n    };\\n    setproto.animate = function (params, ms, easing, callback) {\\n        (R.is(easing, \\\"function\\\") || !easing) && (callback = easing || null);\\n        var len = this.items.length,\\n            i = len,\\n            item,\\n            set = this,\\n            collector;\\n        if (!len) {\\n            return this;\\n        }\\n        callback && (collector = function () {\\n            !--len && callback.call(set);\\n        });\\n        easing = R.is(easing, string) ? easing : collector;\\n        var anim = R.animation(params, ms, easing, collector);\\n        item = this.items[--i].animate(anim);\\n        while (i--) {\\n            this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);\\n            (this.items[i] && !this.items[i].removed) || len--;\\n        }\\n        return this;\\n    };\\n    setproto.insertAfter = function (el) {\\n        var i = this.items.length;\\n        while (i--) {\\n            this.items[i].insertAfter(el);\\n        }\\n        return this;\\n    };\\n    setproto.getBBox = function () {\\n        var x = [],\\n            y = [],\\n            x2 = [],\\n            y2 = [];\\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\\n            var box = this.items[i].getBBox();\\n            x.push(box.x);\\n            y.push(box.y);\\n            x2.push(box.x + box.width);\\n            y2.push(box.y + box.height);\\n        }\\n        x = mmin[apply](0, x);\\n        y = mmin[apply](0, y);\\n        x2 = mmax[apply](0, x2);\\n        y2 = mmax[apply](0, y2);\\n        return {\\n            x: x,\\n            y: y,\\n            x2: x2,\\n            y2: y2,\\n            width: x2 - x,\\n            height: y2 - y\\n        };\\n    };\\n    setproto.clone = function (s) {\\n        s = this.paper.set();\\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\\n            s.push(this.items[i].clone());\\n        }\\n        return s;\\n    };\\n    setproto.toString = function () {\\n        return \\\"Rapha\\\\xebl\\\\u2018s set\\\";\\n    };\\n\\n    setproto.glow = function(glowConfig) {\\n        var ret = this.paper.set();\\n        this.forEach(function(shape, index){\\n            var g = shape.glow(glowConfig);\\n            if(g != null){\\n                g.forEach(function(shape2, index2){\\n                    ret.push(shape2);\\n                });\\n            }\\n        });\\n        return ret;\\n    };\\n\\n\\n    /*\\\\\\n     * Set.isPointInside\\n     [ method ]\\n     **\\n     * Determine if given point is inside this set’s elements\\n     **\\n     > Parameters\\n     **\\n     - x (number) x coordinate of the point\\n     - y (number) y coordinate of the point\\n     = (boolean) `true` if point is inside any of the set's elements\\n     \\\\*/\\n    setproto.isPointInside = function (x, y) {\\n        var isPointInside = false;\\n        this.forEach(function (el) {\\n            if (el.isPointInside(x, y)) {\\n                isPointInside = true;\\n                return false; // stop loop\\n            }\\n        });\\n        return isPointInside;\\n    };\\n\\n    /*\\\\\\n     * Raphael.registerFont\\n     [ method ]\\n     **\\n     * Adds given font to the registered set of fonts for Raphaël. Should be used as an internal call from within Cufón’s font file.\\n     * Returns original parameter, so it could be used with chaining.\\n     # <a href=\\\"http://wiki.github.com/sorccu/cufon/about\\\">More about Cufón and how to convert your font form TTF, OTF, etc to JavaScript file.</a>\\n     **\\n     > Parameters\\n     **\\n     - font (object) the font to register\\n     = (object) the font you passed in\\n     > Usage\\n     | Cufon.registerFont(Raphael.registerFont({…}));\\n    \\\\*/\\n    R.registerFont = function (font) {\\n        if (!font.face) {\\n            return font;\\n        }\\n        this.fonts = this.fonts || {};\\n        var fontcopy = {\\n                w: font.w,\\n                face: {},\\n                glyphs: {}\\n            },\\n            family = font.face[\\\"font-family\\\"];\\n        for (var prop in font.face) if (font.face[has](prop)) {\\n            fontcopy.face[prop] = font.face[prop];\\n        }\\n        if (this.fonts[family]) {\\n            this.fonts[family].push(fontcopy);\\n        } else {\\n            this.fonts[family] = [fontcopy];\\n        }\\n        if (!font.svg) {\\n            fontcopy.face[\\\"units-per-em\\\"] = toInt(font.face[\\\"units-per-em\\\"], 10);\\n            for (var glyph in font.glyphs) if (font.glyphs[has](glyph)) {\\n                var path = font.glyphs[glyph];\\n                fontcopy.glyphs[glyph] = {\\n                    w: path.w,\\n                    k: {},\\n                    d: path.d && \\\"M\\\" + path.d.replace(/[mlcxtrv]/g, function (command) {\\n                            return {l: \\\"L\\\", c: \\\"C\\\", x: \\\"z\\\", t: \\\"m\\\", r: \\\"l\\\", v: \\\"c\\\"}[command] || \\\"M\\\";\\n                        }) + \\\"z\\\"\\n                };\\n                if (path.k) {\\n                    for (var k in path.k) if (path[has](k)) {\\n                        fontcopy.glyphs[glyph].k[k] = path.k[k];\\n                    }\\n                }\\n            }\\n        }\\n        return font;\\n    };\\n    /*\\\\\\n     * Paper.getFont\\n     [ method ]\\n     **\\n     * Finds font object in the registered fonts by given parameters. You could specify only one word from the font name, like “Myriad” for “Myriad Pro”.\\n     **\\n     > Parameters\\n     **\\n     - family (string) font family name or any word from it\\n     - weight (string) #optional font weight\\n     - style (string) #optional font style\\n     - stretch (string) #optional font stretch\\n     = (object) the font object\\n     > Usage\\n     | paper.print(100, 100, \\\"Test string\\\", paper.getFont(\\\"Times\\\", 800), 30);\\n    \\\\*/\\n    paperproto.getFont = function (family, weight, style, stretch) {\\n        stretch = stretch || \\\"normal\\\";\\n        style = style || \\\"normal\\\";\\n        weight = +weight || {normal: 400, bold: 700, lighter: 300, bolder: 800}[weight] || 400;\\n        if (!R.fonts) {\\n            return;\\n        }\\n        var font = R.fonts[family];\\n        if (!font) {\\n            var name = new RegExp(\\\"(^|\\\\\\\\s)\\\" + family.replace(/[^\\\\w\\\\d\\\\s+!~.:_-]/g, E) + \\\"(\\\\\\\\s|$)\\\", \\\"i\\\");\\n            for (var fontName in R.fonts) if (R.fonts[has](fontName)) {\\n                if (name.test(fontName)) {\\n                    font = R.fonts[fontName];\\n                    break;\\n                }\\n            }\\n        }\\n        var thefont;\\n        if (font) {\\n            for (var i = 0, ii = font.length; i < ii; i++) {\\n                thefont = font[i];\\n                if (thefont.face[\\\"font-weight\\\"] == weight && (thefont.face[\\\"font-style\\\"] == style || !thefont.face[\\\"font-style\\\"]) && thefont.face[\\\"font-stretch\\\"] == stretch) {\\n                    break;\\n                }\\n            }\\n        }\\n        return thefont;\\n    };\\n    /*\\\\\\n     * Paper.print\\n     [ method ]\\n     **\\n     * Creates path that represent given text written using given font at given position with given size.\\n     * Result of the method is path element that contains whole text as a separate path.\\n     **\\n     > Parameters\\n     **\\n     - x (number) x position of the text\\n     - y (number) y position of the text\\n     - string (string) text to print\\n     - font (object) font object, see @Paper.getFont\\n     - size (number) #optional size of the font, default is `16`\\n     - origin (string) #optional could be `\\\"baseline\\\"` or `\\\"middle\\\"`, default is `\\\"middle\\\"`\\n     - letter_spacing (number) #optional number in range `-1..1`, default is `0`\\n     - line_spacing (number) #optional number in range `1..3`, default is `1`\\n     = (object) resulting path element, which consist of all letters\\n     > Usage\\n     | var txt = r.print(10, 50, \\\"print\\\", r.getFont(\\\"Museo\\\"), 30).attr({fill: \\\"#fff\\\"});\\n    \\\\*/\\n    paperproto.print = function (x, y, string, font, size, origin, letter_spacing, line_spacing) {\\n        origin = origin || \\\"middle\\\"; // baseline|middle\\n        letter_spacing = mmax(mmin(letter_spacing || 0, 1), -1);\\n        line_spacing = mmax(mmin(line_spacing || 1, 3), 1);\\n        var letters = Str(string)[split](E),\\n            shift = 0,\\n            notfirst = 0,\\n            path = E,\\n            scale;\\n        R.is(font, \\\"string\\\") && (font = this.getFont(font));\\n        if (font) {\\n            scale = (size || 16) / font.face[\\\"units-per-em\\\"];\\n            var bb = font.face.bbox[split](separator),\\n                top = +bb[0],\\n                lineHeight = bb[3] - bb[1],\\n                shifty = 0,\\n                height = +bb[1] + (origin == \\\"baseline\\\" ? lineHeight + (+font.face.descent) : lineHeight / 2);\\n            for (var i = 0, ii = letters.length; i < ii; i++) {\\n                if (letters[i] == \\\"\\\\n\\\") {\\n                    shift = 0;\\n                    curr = 0;\\n                    notfirst = 0;\\n                    shifty += lineHeight * line_spacing;\\n                } else {\\n                    var prev = notfirst && font.glyphs[letters[i - 1]] || {},\\n                        curr = font.glyphs[letters[i]];\\n                    shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letter_spacing) : 0;\\n                    notfirst = 1;\\n                }\\n                if (curr && curr.d) {\\n                    path += R.transformPath(curr.d, [\\\"t\\\", shift * scale, shifty * scale, \\\"s\\\", scale, scale, top, height, \\\"t\\\", (x - top) / scale, (y - height) / scale]);\\n                }\\n            }\\n        }\\n        return this.path(path).attr({\\n            fill: \\\"#000\\\",\\n            stroke: \\\"none\\\"\\n        });\\n    };\\n\\n    /*\\\\\\n     * Paper.add\\n     [ method ]\\n     **\\n     * Imports elements in JSON array in format `{type: type, <attributes>}`\\n     **\\n     > Parameters\\n     **\\n     - json (array)\\n     = (object) resulting set of imported elements\\n     > Usage\\n     | paper.add([\\n     |     {\\n     |         type: \\\"circle\\\",\\n     |         cx: 10,\\n     |         cy: 10,\\n     |         r: 5\\n     |     },\\n     |     {\\n     |         type: \\\"rect\\\",\\n     |         x: 10,\\n     |         y: 10,\\n     |         width: 10,\\n     |         height: 10,\\n     |         fill: \\\"#fc0\\\"\\n     |     }\\n     | ]);\\n    \\\\*/\\n    paperproto.add = function (json) {\\n        if (R.is(json, \\\"array\\\")) {\\n            var res = this.set(),\\n                i = 0,\\n                ii = json.length,\\n                j;\\n            for (; i < ii; i++) {\\n                j = json[i] || {};\\n                elements[has](j.type) && res.push(this[j.type]().attr(j));\\n            }\\n        }\\n        return res;\\n    };\\n\\n    /*\\\\\\n     * Raphael.format\\n     [ method ]\\n     **\\n     * Simple format function. Replaces construction of type “`{<number>}`” to the corresponding argument.\\n     **\\n     > Parameters\\n     **\\n     - token (string) string to format\\n     - … (string) rest of arguments will be treated as parameters for replacement\\n     = (string) formated string\\n     > Usage\\n     | var x = 10,\\n     |     y = 20,\\n     |     width = 40,\\n     |     height = 50;\\n     | // this will draw a rectangular shape equivalent to \\\"M10,20h40v50h-40z\\\"\\n     | paper.path(Raphael.format(\\\"M{0},{1}h{2}v{3}h{4}z\\\", x, y, width, height, -width));\\n    \\\\*/\\n    R.format = function (token, params) {\\n        var args = R.is(params, array) ? [0][concat](params) : arguments;\\n        token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function (str, i) {\\n            return args[++i] == null ? E : args[i];\\n        }));\\n        return token || E;\\n    };\\n    /*\\\\\\n     * Raphael.fullfill\\n     [ method ]\\n     **\\n     * A little bit more advanced format function than @Raphael.format. Replaces construction of type “`{<name>}`” to the corresponding argument.\\n     **\\n     > Parameters\\n     **\\n     - token (string) string to format\\n     - json (object) object which properties will be used as a replacement\\n     = (string) formated string\\n     > Usage\\n     | // this will draw a rectangular shape equivalent to \\\"M10,20h40v50h-40z\\\"\\n     | paper.path(Raphael.fullfill(\\\"M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z\\\", {\\n     |     x: 10,\\n     |     y: 20,\\n     |     dim: {\\n     |         width: 40,\\n     |         height: 50,\\n     |         \\\"negative width\\\": -40\\n     |     }\\n     | }));\\n    \\\\*/\\n    R.fullfill = (function () {\\n        var tokenRegex = /\\\\{([^\\\\}]+)\\\\}/g,\\n            objNotationRegex = /(?:(?:^|\\\\.)(.+?)(?=\\\\[|\\\\.|$|\\\\()|\\\\[('|\\\")(.+?)\\\\2\\\\])(\\\\(\\\\))?/g, // matches .xxxxx or [\\\"xxxxx\\\"] to run over object properties\\n            replacer = function (all, key, obj) {\\n                var res = obj;\\n                key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\\n                    name = name || quotedName;\\n                    if (res) {\\n                        if (name in res) {\\n                            res = res[name];\\n                        }\\n                        typeof res == \\\"function\\\" && isFunc && (res = res());\\n                    }\\n                });\\n                res = (res == null || res == obj ? all : res) + \\\"\\\";\\n                return res;\\n            };\\n        return function (str, obj) {\\n            return String(str).replace(tokenRegex, function (all, key) {\\n                return replacer(all, key, obj);\\n            });\\n        };\\n    })();\\n    /*\\\\\\n     * Raphael.ninja\\n     [ method ]\\n     **\\n     * If you want to leave no trace of Raphaël (Well, Raphaël creates only one global variable `Raphael`, but anyway.) You can use `ninja` method.\\n     * Beware, that in this case plugins could stop working, because they are depending on global variable existence.\\n     **\\n     = (object) Raphael object\\n     > Usage\\n     | (function (local_raphael) {\\n     |     var paper = local_raphael(10, 10, 320, 200);\\n     |     …\\n     | })(Raphael.ninja());\\n    \\\\*/\\n    R.ninja = function () {\\n        if (oldRaphael.was) {\\n            g.win.Raphael = oldRaphael.is;\\n        } else {\\n            // IE8 raises an error when deleting window property\\n            window.Raphael = undefined;\\n            try {\\n                delete window.Raphael;\\n            } catch(e) {}\\n        }\\n        return R;\\n    };\\n    /*\\\\\\n     * Raphael.st\\n     [ property (object) ]\\n     **\\n     * You can add your own method to elements and sets. It is wise to add a set method for each element method\\n     * you added, so you will be able to call the same method on sets too.\\n     **\\n     * See also @Raphael.el.\\n     > Usage\\n     | Raphael.el.red = function () {\\n     |     this.attr({fill: \\\"#f00\\\"});\\n     | };\\n     | Raphael.st.red = function () {\\n     |     this.forEach(function (el) {\\n     |         el.red();\\n     |     });\\n     | };\\n     | // then use it\\n     | paper.set(paper.circle(100, 100, 20), paper.circle(110, 100, 20)).red();\\n    \\\\*/\\n    R.st = setproto;\\n\\n    eve.on(\\\"raphael.DOMload\\\", function () {\\n        loaded = true;\\n    });\\n\\n    // Firefox <3.6 fix: http://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html\\n    (function (doc, loaded, f) {\\n        if (doc.readyState == null && doc.addEventListener){\\n            doc.addEventListener(loaded, f = function () {\\n                doc.removeEventListener(loaded, f, false);\\n                doc.readyState = \\\"complete\\\";\\n            }, false);\\n            doc.readyState = \\\"loading\\\";\\n        }\\n        function isLoaded() {\\n            (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve(\\\"raphael.DOMload\\\");\\n        }\\n        isLoaded();\\n    })(document, \\\"DOMContentLoaded\\\");\\n\\n    return R;\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5jb3JlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL2Rldi9yYXBoYWVsLmNvcmUuanM/OTRkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoW1wiZXZlXCJdLCBmdW5jdGlvbihldmUpIHtcblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIG9iamVjdCBvbiB3aGljaCB0byBkcmF3LlxuICAgICAqIFlvdSBtdXN0IGRvIHRoaXMgZmlyc3QsIGFzIGFsbCBmdXR1cmUgY2FsbHMgdG8gZHJhd2luZyBtZXRob2RzXG4gICAgICogZnJvbSB0aGlzIGluc3RhbmNlIHdpbGwgYmUgYm91bmQgdG8gdGhpcyBjYW52YXMuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGNvbnRhaW5lciAoSFRNTEVsZW1lbnR8c3RyaW5nKSBET00gZWxlbWVudCBvciBpdHMgSUQgd2hpY2ggaXMgZ29pbmcgdG8gYmUgYSBwYXJlbnQgZm9yIGRyYXdpbmcgc3VyZmFjZVxuICAgICAtIHdpZHRoIChudW1iZXIpXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggaXMgZ29pbmcgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGNvbnRleHQgb2YgbmV3bHkgY3JlYXRlZCBwYXBlclxuICAgICAqIG9yXG4gICAgIC0geCAobnVtYmVyKVxuICAgICAtIHkgKG51bWJlcilcbiAgICAgLSB3aWR0aCAobnVtYmVyKVxuICAgICAtIGhlaWdodCAobnVtYmVyKVxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIGFsbCAoYXJyYXkpIChmaXJzdCAzIG9yIDQgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBlcXVhbCB0byBbY29udGFpbmVySUQsIHdpZHRoLCBoZWlnaHRdIG9yIFt4LCB5LCB3aWR0aCwgaGVpZ2h0XS4gVGhlIHJlc3QgYXJlIGVsZW1lbnQgZGVzY3JpcHRpb25zIGluIGZvcm1hdCB7dHlwZTogdHlwZSwgPGF0dHJpYnV0ZXM+fSkuIFNlZSBAUGFwZXIuYWRkLlxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIG9uUmVhZHlDYWxsYmFjayAoZnVuY3Rpb24pIGZ1bmN0aW9uIHRoYXQgaXMgZ29pbmcgdG8gYmUgY2FsbGVkIG9uIERPTSByZWFkeSBldmVudC4gWW91IGNhbiBhbHNvIHN1YnNjcmliZSB0byB0aGlzIGV2ZW50IHZpYSBFdmXigJlzIOKAnERPTUxvYWTigJ0gZXZlbnQuIEluIHRoaXMgY2FzZSBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgPSAob2JqZWN0KSBAUGFwZXJcbiAgICAgPiBVc2FnZVxuICAgICB8IC8vIEVhY2ggb2YgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBjcmVhdGUgYSBjYW52YXNcbiAgICAgfCAvLyB0aGF0IGlzIDMyMHB4IHdpZGUgYnkgMjAwcHggaGlnaC5cbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdmlld3BvcnTigJlzIDEwLDUwIGNvb3JkaW5hdGUuXG4gICAgIHwgdmFyIHBhcGVyID0gUmFwaGFlbCgxMCwgNTAsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSAjbm90ZXBhZCBlbGVtZW50XG4gICAgIHwgLy8gKG9yIGl0cyB0b3AgcmlnaHQgY29ybmVyIGluIGRpcj1cInJ0bFwiIGVsZW1lbnRzKVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RlcGFkXCIpLCAzMjAsIDIwMCk7XG4gICAgIHwgLy8gU2FtZSBhcyBhYm92ZVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoXCJub3RlcGFkXCIsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBJbWFnZSBkdW1wXG4gICAgIHwgdmFyIHNldCA9IFJhcGhhZWwoW1wibm90ZXBhZFwiLCAzMjAsIDIwMCwge1xuICAgICB8ICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgfCAgICAgeDogMTAsXG4gICAgIHwgICAgIHk6IDEwLFxuICAgICB8ICAgICB3aWR0aDogMjUsXG4gICAgIHwgICAgIGhlaWdodDogMjUsXG4gICAgIHwgICAgIHN0cm9rZTogXCIjZjAwXCJcbiAgICAgfCB9LCB7XG4gICAgIHwgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICB8ICAgICB4OiAzMCxcbiAgICAgfCAgICAgeTogNDAsXG4gICAgIHwgICAgIHRleHQ6IFwiRHVtcFwiXG4gICAgIHwgfV0pO1xuICAgIFxcKi9cbiAgICBmdW5jdGlvbiBSKGZpcnN0KSB7XG4gICAgICAgIGlmIChSLmlzKGZpcnN0LCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVkID8gZmlyc3QoKSA6IGV2ZS5vbihcInJhcGhhZWwuRE9NbG9hZFwiLCBmaXJzdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoUi5pcyhmaXJzdCwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgZmlyc3Quc3BsaWNlKDAsIDMgKyBSLmlzKGZpcnN0WzBdLCBudSkpKS5hZGQoZmlyc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgaWYgKFIuaXMoYXJnc1thcmdzLmxlbmd0aCAtIDFdLCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZWQgPyBmLmNhbGwoUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgYXJncykpIDogZXZlLm9uKFwicmFwaGFlbC5ET01sb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZi5jYWxsKFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUi52ZXJzaW9uID0gXCIyLjIuMFwiO1xuICAgIFIuZXZlID0gZXZlO1xuICAgIHZhciBsb2FkZWQsXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGVsZW1lbnRzID0ge2NpcmNsZTogMSwgcmVjdDogMSwgcGF0aDogMSwgZWxsaXBzZTogMSwgdGV4dDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBmb3JtYXRyZyA9IC9cXHsoXFxkKylcXH0vZyxcbiAgICAgICAgcHJvdG8gPSBcInByb3RvdHlwZVwiLFxuICAgICAgICBoYXMgPSBcImhhc093blByb3BlcnR5XCIsXG4gICAgICAgIGcgPSB7XG4gICAgICAgICAgICBkb2M6IGRvY3VtZW50LFxuICAgICAgICAgICAgd2luOiB3aW5kb3dcbiAgICAgICAgfSxcbiAgICAgICAgb2xkUmFwaGFlbCA9IHtcbiAgICAgICAgICAgIHdhczogT2JqZWN0LnByb3RvdHlwZVtoYXNdLmNhbGwoZy53aW4sIFwiUmFwaGFlbFwiKSxcbiAgICAgICAgICAgIGlzOiBnLndpbi5SYXBoYWVsXG4gICAgICAgIH0sXG4gICAgICAgIFBhcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLypcXFxuICAgICAgICAgICAgICogUGFwZXIuY2FcbiAgICAgICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICAgICAqKlxuICAgICAgICAgICAgICogU2hvcnRjdXQgZm9yIEBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICAvKlxcXG4gICAgICAgICAgICAgKiBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAgICAgKipcbiAgICAgICAgICAgICAqIElmIHlvdSBoYXZlIGEgc2V0IG9mIGF0dHJpYnV0ZXMgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZXByZXNlbnRcbiAgICAgICAgICAgICAqIGFzIGEgZnVuY3Rpb24gb2Ygc29tZSBudW1iZXIgeW91IGNhbiBkbyBpdCBlYXNpbHkgd2l0aCBjdXN0b20gYXR0cmlidXRlczpcbiAgICAgICAgICAgICA+IFVzYWdlXG4gICAgICAgICAgICAgfCBwYXBlci5jdXN0b21BdHRyaWJ1dGVzLmh1ZSA9IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgICAgICB8ICAgICBudW0gPSBudW0gJSAxO1xuICAgICAgICAgICAgIHwgICAgIHJldHVybiB7ZmlsbDogXCJoc2IoXCIgKyBudW0gKyBcIiwgMC43NSwgMSlcIn07XG4gICAgICAgICAgICAgfCB9O1xuICAgICAgICAgICAgIHwgLy8gQ3VzdG9tIGF0dHJpYnV0ZSDigJxodWXigJ0gd2lsbCBjaGFuZ2UgZmlsbFxuICAgICAgICAgICAgIHwgLy8gdG8gYmUgZ2l2ZW4gaHVlIHdpdGggZml4ZWQgc2F0dXJhdGlvbiBhbmQgYnJpZ2h0bmVzcy5cbiAgICAgICAgICAgICB8IC8vIE5vdyB5b3UgY2FuIHVzZSBpdCBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCB2YXIgYyA9IHBhcGVyLmNpcmNsZSgxMCwgMTAsIDEwKS5hdHRyKHtodWU6IC40NX0pO1xuICAgICAgICAgICAgIHwgLy8gb3IgZXZlbiBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCBjLmFuaW1hdGUoe2h1ZTogMX0sIDFlMyk7XG4gICAgICAgICAgICAgfFxuICAgICAgICAgICAgIHwgLy8gWW91IGNvdWxkIGFsc28gY3JlYXRlIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICB8IC8vIHdpdGggbXVsdGlwbGUgcGFyYW1ldGVyczpcbiAgICAgICAgICAgICB8IHBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMuaHNiID0gZnVuY3Rpb24gKGgsIHMsIGIpIHtcbiAgICAgICAgICAgICB8ICAgICByZXR1cm4ge2ZpbGw6IFwiaHNiKFwiICsgW2gsIHMsIGJdLmpvaW4oXCIsXCIpICsgXCIpXCJ9O1xuICAgICAgICAgICAgIHwgfTtcbiAgICAgICAgICAgICB8IGMuYXR0cih7aHNiOiBcIjAuNSAuOCAxXCJ9KTtcbiAgICAgICAgICAgICB8IGMuYW5pbWF0ZSh7aHNiOiBbMSwgMCwgMC41XX0sIDFlMyk7XG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICB0aGlzLmNhID0gdGhpcy5jdXN0b21BdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH0sXG4gICAgICAgIHBhcGVycHJvdG8sXG4gICAgICAgIGFwcGVuZENoaWxkID0gXCJhcHBlbmRDaGlsZFwiLFxuICAgICAgICBhcHBseSA9IFwiYXBwbHlcIixcbiAgICAgICAgY29uY2F0ID0gXCJjb25jYXRcIixcbiAgICAgICAgc3VwcG9ydHNUb3VjaCA9ICgnb250b3VjaHN0YXJ0JyBpbiBnLndpbikgfHwgZy53aW4uRG9jdW1lbnRUb3VjaCAmJiBnLmRvYyBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gsIC8vdGFrZW4gZnJvbSBNb2Rlcm5penIgdG91Y2ggdGVzdFxuICAgICAgICBFID0gXCJcIixcbiAgICAgICAgUyA9IFwiIFwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHNwbGl0ID0gXCJzcGxpdFwiLFxuICAgICAgICBldmVudHMgPSBcImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZW1vdmUgbW91c2VvdXQgbW91c2VvdmVyIG1vdXNldXAgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWxcIltzcGxpdF0oUyksXG4gICAgICAgIHRvdWNoTWFwID0ge1xuICAgICAgICAgICAgbW91c2Vkb3duOiBcInRvdWNoc3RhcnRcIixcbiAgICAgICAgICAgIG1vdXNlbW92ZTogXCJ0b3VjaG1vdmVcIixcbiAgICAgICAgICAgIG1vdXNldXA6IFwidG91Y2hlbmRcIlxuICAgICAgICB9LFxuICAgICAgICBsb3dlckNhc2UgPSBTdHIucHJvdG90eXBlLnRvTG93ZXJDYXNlLFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgbW1heCA9IG1hdGgubWF4LFxuICAgICAgICBtbWluID0gbWF0aC5taW4sXG4gICAgICAgIGFicyA9IG1hdGguYWJzLFxuICAgICAgICBwb3cgPSBtYXRoLnBvdyxcbiAgICAgICAgUEkgPSBtYXRoLlBJLFxuICAgICAgICBudSA9IFwibnVtYmVyXCIsXG4gICAgICAgIHN0cmluZyA9IFwic3RyaW5nXCIsXG4gICAgICAgIGFycmF5ID0gXCJhcnJheVwiLFxuICAgICAgICB0b1N0cmluZyA9IFwidG9TdHJpbmdcIixcbiAgICAgICAgZmlsbFN0cmluZyA9IFwiZmlsbFwiLFxuICAgICAgICBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgICAgIHBhcGVyID0ge30sXG4gICAgICAgIHB1c2ggPSBcInB1c2hcIixcbiAgICAgICAgSVNVUkwgPSBSLl9JU1VSTCA9IC9edXJsXFwoWydcIl0/KC4rPylbJ1wiXT9cXCkkL2ksXG4gICAgICAgIGNvbG91clJlZ0V4cCA9IC9eXFxzKigoI1thLWZcXGRdezZ9KXwoI1thLWZcXGRdezN9KXxyZ2JhP1xcKFxccyooW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyU/KD86XFxzKixcXHMqW1xcZFxcLl0rJT8pPylcXHMqXFwpfGhzYmE/XFwoXFxzKihbXFxkXFwuXSsoPzpkZWd8XFx4YjB8JSk/XFxzKixcXHMqW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSsoPzolP1xccyosXFxzKltcXGRcXC5dKyk/KSU/XFxzKlxcKXxoc2xhP1xcKFxccyooW1xcZFxcLl0rKD86ZGVnfFxceGIwfCUpP1xccyosXFxzKltcXGRcXC5dKyU/XFxzKixcXHMqW1xcZFxcLl0rKD86JT9cXHMqLFxccypbXFxkXFwuXSspPyklP1xccypcXCkpXFxzKiQvaSxcbiAgICAgICAgaXNuYW4gPSB7XCJOYU5cIjogMSwgXCJJbmZpbml0eVwiOiAxLCBcIi1JbmZpbml0eVwiOiAxfSxcbiAgICAgICAgYmV6aWVycmcgPSAvXig/OmN1YmljLSk/YmV6aWVyXFwoKFteLF0rKSwoW14sXSspLChbXixdKyksKFteXFwpXSspXFwpLyxcbiAgICAgICAgcm91bmQgPSBtYXRoLnJvdW5kLFxuICAgICAgICBzZXRBdHRyaWJ1dGUgPSBcInNldEF0dHJpYnV0ZVwiLFxuICAgICAgICB0b0Zsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgICAgdG9JbnQgPSBwYXJzZUludCxcbiAgICAgICAgdXBwZXJDYXNlID0gU3RyLnByb3RvdHlwZS50b1VwcGVyQ2FzZSxcbiAgICAgICAgYXZhaWxhYmxlQXR0cnMgPSBSLl9hdmFpbGFibGVBdHRycyA9IHtcbiAgICAgICAgICAgIFwiYXJyb3ctZW5kXCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgXCJhcnJvdy1zdGFydFwiOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJsdXI6IDAsXG4gICAgICAgICAgICBcImNsaXAtcmVjdFwiOiBcIjAgMCAxZTkgMWU5XCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgY3g6IDAsXG4gICAgICAgICAgICBjeTogMCxcbiAgICAgICAgICAgIGZpbGw6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogMSxcbiAgICAgICAgICAgIGZvbnQ6ICcxMHB4IFwiQXJpYWxcIicsXG4gICAgICAgICAgICBcImZvbnQtZmFtaWx5XCI6ICdcIkFyaWFsXCInLFxuICAgICAgICAgICAgXCJmb250LXNpemVcIjogXCIxMFwiLFxuICAgICAgICAgICAgXCJmb250LXN0eWxlXCI6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBcImZvbnQtd2VpZ2h0XCI6IDQwMCxcbiAgICAgICAgICAgIGdyYWRpZW50OiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgaHJlZjogXCJodHRwOi8vcmFwaGFlbGpzLmNvbS9cIixcbiAgICAgICAgICAgIFwibGV0dGVyLXNwYWNpbmdcIjogMCxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBwYXRoOiBcIk0wLDBcIixcbiAgICAgICAgICAgIHI6IDAsXG4gICAgICAgICAgICByeDogMCxcbiAgICAgICAgICAgIHJ5OiAwLFxuICAgICAgICAgICAgc3JjOiBcIlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICAgICAgICAgIFwic3Ryb2tlLWRhc2hhcnJheVwiOiBcIlwiLFxuICAgICAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiBcImJ1dHRcIixcbiAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwiYnV0dFwiLFxuICAgICAgICAgICAgXCJzdHJva2UtbWl0ZXJsaW1pdFwiOiAwLFxuICAgICAgICAgICAgXCJzdHJva2Utb3BhY2l0eVwiOiAxLFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogMSxcbiAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgIFwidGV4dC1hbmNob3JcIjogXCJtaWRkbGVcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlJhcGhhZWxcIixcbiAgICAgICAgICAgIHRyYW5zZm9ybTogXCJcIixcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBcImNsYXNzXCI6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXZhaWxhYmxlQW5pbUF0dHJzID0gUi5fYXZhaWxhYmxlQW5pbUF0dHJzID0ge1xuICAgICAgICAgICAgYmx1cjogbnUsXG4gICAgICAgICAgICBcImNsaXAtcmVjdFwiOiBcImNzdlwiLFxuICAgICAgICAgICAgY3g6IG51LFxuICAgICAgICAgICAgY3k6IG51LFxuICAgICAgICAgICAgZmlsbDogXCJjb2xvdXJcIixcbiAgICAgICAgICAgIFwiZmlsbC1vcGFjaXR5XCI6IG51LFxuICAgICAgICAgICAgXCJmb250LXNpemVcIjogbnUsXG4gICAgICAgICAgICBoZWlnaHQ6IG51LFxuICAgICAgICAgICAgb3BhY2l0eTogbnUsXG4gICAgICAgICAgICBwYXRoOiBcInBhdGhcIixcbiAgICAgICAgICAgIHI6IG51LFxuICAgICAgICAgICAgcng6IG51LFxuICAgICAgICAgICAgcnk6IG51LFxuICAgICAgICAgICAgc3Ryb2tlOiBcImNvbG91clwiLFxuICAgICAgICAgICAgXCJzdHJva2Utb3BhY2l0eVwiOiBudSxcbiAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IG51LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgd2lkdGg6IG51LFxuICAgICAgICAgICAgeDogbnUsXG4gICAgICAgICAgICB5OiBudVxuICAgICAgICB9LFxuICAgICAgICB3aGl0ZXNwYWNlID0gL1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0vZyxcbiAgICAgICAgY29tbWFTcGFjZXMgPSAvW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSovLFxuICAgICAgICBoc3JnID0ge2hzOiAxLCByZzogMX0sXG4gICAgICAgIHAycyA9IC8sPyhbYWNobG1xcnN0dnh6XSksPy9naSxcbiAgICAgICAgcGF0aENvbW1hbmQgPSAvKFthY2hsbXJxc3R2el0pW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5LF0qKCgtP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosP1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qKSspL2lnLFxuICAgICAgICB0Q29tbWFuZCA9IC8oW3JzdG1dKVtcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOSxdKigoLT9cXGQqXFwuP1xcZCooPzplW1xcLStdP1xcZCspP1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qLD9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKikrKS9pZyxcbiAgICAgICAgcGF0aFZhbHVlcyA9IC8oLT9cXGQqXFwuP1xcZCooPzplW1xcLStdP1xcZCspPylbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKiw/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSovaWcsXG4gICAgICAgIHJhZGlhbF9ncmFkaWVudCA9IFIuX3JhZGlhbF9ncmFkaWVudCA9IC9ecig/OlxcKChbXixdKz8pW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSooW15cXCldKz8pXFwpKT8vLFxuICAgICAgICBlbGRhdGEgPSB7fSxcbiAgICAgICAgc29ydEJ5S2V5ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLmtleSAtIGIua2V5O1xuICAgICAgICB9LFxuICAgICAgICBzb3J0QnlOdW1iZXIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIHRvRmxvYXQoYSkgLSB0b0Zsb2F0KGIpO1xuICAgICAgICB9LFxuICAgICAgICBmdW4gPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgcGlwZSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjdFBhdGggPSBSLl9yZWN0UGF0aCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCByKSB7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbW1wiTVwiLCB4ICsgciwgeV0sIFtcImxcIiwgdyAtIHIgKiAyLCAwXSwgW1wiYVwiLCByLCByLCAwLCAwLCAxLCByLCByXSwgW1wibFwiLCAwLCBoIC0gciAqIDJdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIC1yLCByXSwgW1wibFwiLCByICogMiAtIHcsIDBdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIC1yLCAtcl0sIFtcImxcIiwgMCwgciAqIDIgLSBoXSwgW1wiYVwiLCByLCByLCAwLCAwLCAxLCByLCAtcl0sIFtcInpcIl1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtbXCJNXCIsIHgsIHldLCBbXCJsXCIsIHcsIDBdLCBbXCJsXCIsIDAsIGhdLCBbXCJsXCIsIC13LCAwXSwgW1wielwiXV07XG4gICAgICAgIH0sXG4gICAgICAgIGVsbGlwc2VQYXRoID0gZnVuY3Rpb24gKHgsIHksIHJ4LCByeSkge1xuICAgICAgICAgICAgaWYgKHJ5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByeSA9IHJ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtbXCJNXCIsIHgsIHldLCBbXCJtXCIsIDAsIC1yeV0sIFtcImFcIiwgcngsIHJ5LCAwLCAxLCAxLCAwLCAyICogcnldLCBbXCJhXCIsIHJ4LCByeSwgMCwgMSwgMSwgMCwgLTIgKiByeV0sIFtcInpcIl1dO1xuICAgICAgICB9LFxuICAgICAgICBnZXRQYXRoID0gUi5fZ2V0UGF0aCA9IHtcbiAgICAgICAgICAgIHBhdGg6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5hdHRyKFwicGF0aFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaXJjbGU6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gZWwuYXR0cnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsbGlwc2VQYXRoKGEuY3gsIGEuY3ksIGEucik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWxsaXBzZTogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBlbC5hdHRycztcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxsaXBzZVBhdGgoYS5jeCwgYS5jeSwgYS5yeCwgYS5yeSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVjdDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBlbC5hdHRycztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdFBhdGgoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLnIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGVsLmF0dHJzO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBiYm94ID0gZWwuX2dldEJCb3goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdFBhdGgoYmJveC54LCBiYm94LnksIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHZhciBiYm94ID0gZWwuX2dldEJCb3goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdFBhdGgoYmJveC54LCBiYm94LnksIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBSYXBoYWVsLm1hcFBhdGhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFRyYW5zZm9ybSB0aGUgcGF0aCBzdHJpbmcgd2l0aCBnaXZlbiBtYXRyaXguXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAgICAgLSBtYXRyaXggKG9iamVjdCkgc2VlIEBNYXRyaXhcbiAgICAgICAgID0gKHN0cmluZykgdHJhbnNmb3JtZWQgcGF0aCBzdHJpbmdcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXBQYXRoID0gUi5tYXBQYXRoID0gZnVuY3Rpb24gKHBhdGgsIG1hdHJpeCkge1xuICAgICAgICAgICAgaWYgKCFtYXRyaXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB4LCB5LCBpLCBqLCBpaSwgamosIHBhdGhpO1xuICAgICAgICAgICAgcGF0aCA9IHBhdGgyY3VydmUocGF0aCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHBhdGgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhdGhpID0gcGF0aFtpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IHBhdGhpLmxlbmd0aDsgaiA8IGpqOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IG1hdHJpeC54KHBhdGhpW2pdLCBwYXRoaVtqICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB5ID0gbWF0cml4LnkocGF0aGlbal0sIHBhdGhpW2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhpW2pdID0geDtcbiAgICAgICAgICAgICAgICAgICAgcGF0aGlbaiArIDFdID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfTtcblxuICAgIFIuX2cgPSBnO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnR5cGVcbiAgICAgWyBwcm9wZXJ0eSAoc3RyaW5nKSBdXG4gICAgICoqXG4gICAgICogQ2FuIGJlIOKAnFNWR+KAnSwg4oCcVk1M4oCdIG9yIGVtcHR5LCBkZXBlbmRpbmcgb24gYnJvd3NlciBzdXBwb3J0LlxuICAgIFxcKi9cbiAgICBSLnR5cGUgPSAoZy53aW4uU1ZHQW5nbGUgfHwgZy5kb2MuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmVcIiwgXCIxLjFcIikgPyBcIlNWR1wiIDogXCJWTUxcIik7XG4gICAgaWYgKFIudHlwZSA9PSBcIlZNTFwiKSB7XG4gICAgICAgIHZhciBkID0gZy5kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGI7XG4gICAgICAgIGQuaW5uZXJIVE1MID0gJzx2OnNoYXBlIGFkaj1cIjFcIi8+JztcbiAgICAgICAgYiA9IGQuZmlyc3RDaGlsZDtcbiAgICAgICAgYi5zdHlsZS5iZWhhdmlvciA9IFwidXJsKCNkZWZhdWx0I1ZNTClcIjtcbiAgICAgICAgaWYgKCEoYiAmJiB0eXBlb2YgYi5hZGogPT0gXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgIHJldHVybiAoUi50eXBlID0gRSk7XG4gICAgICAgIH1cbiAgICAgICAgZCA9IG51bGw7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnN2Z1xuICAgICBbIHByb3BlcnR5IChib29sZWFuKSBdXG4gICAgICoqXG4gICAgICogYHRydWVgIGlmIGJyb3dzZXIgc3VwcG9ydHMgU1ZHLlxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC52bWxcbiAgICAgWyBwcm9wZXJ0eSAoYm9vbGVhbikgXVxuICAgICAqKlxuICAgICAqIGB0cnVlYCBpZiBicm93c2VyIHN1cHBvcnRzIFZNTC5cbiAgICBcXCovXG4gICAgUi5zdmcgPSAhKFIudm1sID0gUi50eXBlID09IFwiVk1MXCIpO1xuICAgIFIuX1BhcGVyID0gUGFwZXI7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZm5cbiAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICoqXG4gICAgICogWW91IGNhbiBhZGQgeW91ciBvd24gbWV0aG9kIHRvIHRoZSBjYW52YXMuIEZvciBleGFtcGxlIGlmIHlvdSB3YW50IHRvIGRyYXcgYSBwaWUgY2hhcnQsXG4gICAgICogeW91IGNhbiBjcmVhdGUgeW91ciBvd24gcGllIGNoYXJ0IGZ1bmN0aW9uIGFuZCBzaGlwIGl0IGFzIGEgUmFwaGHDq2wgcGx1Z2luLiBUbyBkbyB0aGlzXG4gICAgICogeW91IG5lZWQgdG8gZXh0ZW5kIHRoZSBgUmFwaGFlbC5mbmAgb2JqZWN0LiBZb3Ugc2hvdWxkIG1vZGlmeSB0aGUgYGZuYCBvYmplY3QgYmVmb3JlIGFcbiAgICAgKiBSYXBoYcOrbCBpbnN0YW5jZSBpcyBjcmVhdGVkLCBvdGhlcndpc2UgaXQgd2lsbCB0YWtlIG5vIGVmZmVjdC4gUGxlYXNlIG5vdGUgdGhhdCB0aGVcbiAgICAgKiBhYmlsaXR5IGZvciBuYW1lc3BhY2VkIHBsdWdpbnMgd2FzIHJlbW92ZWQgaW4gUmFwaGFlbCAyLjAuIEl0IGlzIHVwIHRvIHRoZSBwbHVnaW4gdG9cbiAgICAgKiBlbnN1cmUgYW55IG5hbWVzcGFjaW5nIGVuc3VyZXMgcHJvcGVyIGNvbnRleHQuXG4gICAgID4gVXNhZ2VcbiAgICAgfCBSYXBoYWVsLmZuLmFycm93ID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCBzaXplKSB7XG4gICAgIHwgICAgIHJldHVybiB0aGlzLnBhdGgoIC4uLiApO1xuICAgICB8IH07XG4gICAgIHwgLy8gb3IgY3JlYXRlIG5hbWVzcGFjZVxuICAgICB8IFJhcGhhZWwuZm4ubXlzdHVmZiA9IHtcbiAgICAgfCAgICAgYXJyb3c6IGZ1bmN0aW9uICgpIHvigKZ9LFxuICAgICB8ICAgICBzdGFyOiBmdW5jdGlvbiAoKSB74oCmfSxcbiAgICAgfCAgICAgLy8gZXRj4oCmXG4gICAgIHwgfTtcbiAgICAgfCB2YXIgcGFwZXIgPSBSYXBoYWVsKDEwLCAxMCwgNjMwLCA0ODApO1xuICAgICB8IC8vIHRoZW4gdXNlIGl0XG4gICAgIHwgcGFwZXIuYXJyb3coMTAsIDEwLCAzMCwgMzAsIDUpLmF0dHIoe2ZpbGw6IFwiI2YwMFwifSk7XG4gICAgIHwgcGFwZXIubXlzdHVmZi5hcnJvdygpO1xuICAgICB8IHBhcGVyLm15c3R1ZmYuc3RhcigpO1xuICAgIFxcKi9cbiAgICBSLmZuID0gcGFwZXJwcm90byA9IFBhcGVyLnByb3RvdHlwZSA9IFIucHJvdG90eXBlO1xuICAgIFIuX2lkID0gMDtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5pc1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSGFuZGZ1bCBvZiByZXBsYWNlbWVudHMgZm9yIGB0eXBlb2ZgIG9wZXJhdG9yLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBvICjigKYpIGFueSBvYmplY3Qgb3IgcHJpbWl0aXZlXG4gICAgIC0gdHlwZSAoc3RyaW5nKSBuYW1lIG9mIHRoZSB0eXBlLCBpLmUuIOKAnHN0cmluZ+KAnSwg4oCcZnVuY3Rpb27igJ0sIOKAnG51bWJlcuKAnSwgZXRjLlxuICAgICA9IChib29sZWFuKSBpcyBnaXZlbiB2YWx1ZSBpcyBvZiBnaXZlbiB0eXBlXG4gICAgXFwqL1xuICAgIFIuaXMgPSBmdW5jdGlvbiAobywgdHlwZSkge1xuICAgICAgICB0eXBlID0gbG93ZXJDYXNlLmNhbGwodHlwZSk7XG4gICAgICAgIGlmICh0eXBlID09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAhaXNuYW5baGFzXSgrbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbyBpbnN0YW5jZW9mIEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAgKHR5cGUgPT0gXCJudWxsXCIgJiYgbyA9PT0gbnVsbCkgfHxcbiAgICAgICAgICAgICAgICAodHlwZSA9PSB0eXBlb2YgbyAmJiBvICE9PSBudWxsKSB8fFxuICAgICAgICAgICAgICAgICh0eXBlID09IFwib2JqZWN0XCIgJiYgbyA9PT0gT2JqZWN0KG8pKSB8fFxuICAgICAgICAgICAgICAgICh0eXBlID09IFwiYXJyYXlcIiAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkobykpIHx8XG4gICAgICAgICAgICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSA9PSB0eXBlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gXCJmdW5jdGlvblwiIHx8IE9iamVjdChvYmopICE9PSBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcyA9IG5ldyBvYmouY29uc3RydWN0b3I7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChvYmpbaGFzXShrZXkpKSB7XG4gICAgICAgICAgICByZXNba2V5XSA9IGNsb25lKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmFuZ2xlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGFuZ2xlIGJldHdlZW4gdHdvIG9yIHRocmVlIHBvaW50c1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSB4MSAobnVtYmVyKSB4IGNvb3JkIG9mIGZpcnN0IHBvaW50XG4gICAgIC0geTEgKG51bWJlcikgeSBjb29yZCBvZiBmaXJzdCBwb2ludFxuICAgICAtIHgyIChudW1iZXIpIHggY29vcmQgb2Ygc2Vjb25kIHBvaW50XG4gICAgIC0geTIgKG51bWJlcikgeSBjb29yZCBvZiBzZWNvbmQgcG9pbnRcbiAgICAgLSB4MyAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZCBvZiB0aGlyZCBwb2ludFxuICAgICAtIHkzIChudW1iZXIpICNvcHRpb25hbCB5IGNvb3JkIG9mIHRoaXJkIHBvaW50XG4gICAgID0gKG51bWJlcikgYW5nbGUgaW4gZGVncmVlcy5cbiAgICBcXCovXG4gICAgUi5hbmdsZSA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7XG4gICAgICAgIGlmICh4MyA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHgxIC0geDIsXG4gICAgICAgICAgICAgICAgeSA9IHkxIC0geTI7XG4gICAgICAgICAgICBpZiAoIXggJiYgIXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoMTgwICsgbWF0aC5hdGFuMigteSwgLXgpICogMTgwIC8gUEkgKyAzNjApICUgMzYwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFIuYW5nbGUoeDEsIHkxLCB4MywgeTMpIC0gUi5hbmdsZSh4MiwgeTIsIHgzLCB5Myk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnJhZFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVHJhbnNmb3JtIGFuZ2xlIHRvIHJhZGlhbnNcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZGVnIChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgPSAobnVtYmVyKSBhbmdsZSBpbiByYWRpYW5zLlxuICAgIFxcKi9cbiAgICBSLnJhZCA9IGZ1bmN0aW9uIChkZWcpIHtcbiAgICAgICAgcmV0dXJuIGRlZyAlIDM2MCAqIFBJIC8gMTgwO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZGVnXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBUcmFuc2Zvcm0gYW5nbGUgdG8gZGVncmVlc1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByYWQgKG51bWJlcikgYW5nbGUgaW4gcmFkaWFuc1xuICAgICA9IChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgXFwqL1xuICAgIFIuZGVnID0gZnVuY3Rpb24gKHJhZCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCAoKHJhZCAqIDE4MCAvIFBJJSAzNjApKiAxMDAwKSAvIDEwMDA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5zbmFwVG9cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNuYXBzIGdpdmVuIHZhbHVlIHRvIGdpdmVuIGdyaWQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHZhbHVlcyAoYXJyYXl8bnVtYmVyKSBnaXZlbiBhcnJheSBvZiB2YWx1ZXMgb3Igc3RlcCBvZiB0aGUgZ3JpZFxuICAgICAtIHZhbHVlIChudW1iZXIpIHZhbHVlIHRvIGFkanVzdFxuICAgICAtIHRvbGVyYW5jZSAobnVtYmVyKSAjb3B0aW9uYWwgdG9sZXJhbmNlIGZvciBzbmFwcGluZy4gRGVmYXVsdCBpcyBgMTBgLlxuICAgICA9IChudW1iZXIpIGFkanVzdGVkIHZhbHVlLlxuICAgIFxcKi9cbiAgICBSLnNuYXBUbyA9IGZ1bmN0aW9uICh2YWx1ZXMsIHZhbHVlLCB0b2xlcmFuY2UpIHtcbiAgICAgICAgdG9sZXJhbmNlID0gUi5pcyh0b2xlcmFuY2UsIFwiZmluaXRlXCIpID8gdG9sZXJhbmNlIDogMTA7XG4gICAgICAgIGlmIChSLmlzKHZhbHVlcywgYXJyYXkpKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSBpZiAoYWJzKHZhbHVlc1tpXSAtIHZhbHVlKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVzID0gK3ZhbHVlcztcbiAgICAgICAgICAgIHZhciByZW0gPSB2YWx1ZSAlIHZhbHVlcztcbiAgICAgICAgICAgIGlmIChyZW0gPCB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSByZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtID4gdmFsdWVzIC0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC0gcmVtICsgdmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuY3JlYXRlVVVJRFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyBSRkM0MTIyLCB2ZXJzaW9uIDQgSURcbiAgICBcXCovXG4gICAgdmFyIGNyZWF0ZVVVSUQgPSBSLmNyZWF0ZVVVSUQgPSAoZnVuY3Rpb24gKHV1aWRSZWdFeCwgdXVpZFJlcGxhY2VyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKHV1aWRSZWdFeCwgdXVpZFJlcGxhY2VyKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9O1xuICAgIH0pKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHZhciByID0gbWF0aC5yYW5kb20oKSAqIDE2IHwgMCxcbiAgICAgICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMyB8IDgpO1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5zZXRXaW5kb3dcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFVzZWQgd2hlbiB5b3UgbmVlZCB0byBkcmF3IGluIGAmbHQ7aWZyYW1lPmAuIFN3aXRjaGVkIHdpbmRvdyB0byB0aGUgaWZyYW1lIG9uZS5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gbmV3d2luICh3aW5kb3cpIG5ldyB3aW5kb3cgb2JqZWN0XG4gICAgXFwqL1xuICAgIFIuc2V0V2luZG93ID0gZnVuY3Rpb24gKG5ld3dpbikge1xuICAgICAgICBldmUoXCJyYXBoYWVsLnNldFdpbmRvd1wiLCBSLCBnLndpbiwgbmV3d2luKTtcbiAgICAgICAgZy53aW4gPSBuZXd3aW47XG4gICAgICAgIGcuZG9jID0gZy53aW4uZG9jdW1lbnQ7XG4gICAgICAgIGlmIChSLl9lbmdpbmUuaW5pdFdpbikge1xuICAgICAgICAgICAgUi5fZW5naW5lLmluaXRXaW4oZy53aW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgdG9IZXggPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgaWYgKFIudm1sKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8vZGVhbi5lZHdhcmRzLm5hbWUvd2VibG9nLzIwMDkvMTAvY29udmVydC1hbnktY29sb3VyLXZhbHVlLXRvLWhleC1pbi1tc2llL1xuICAgICAgICAgICAgdmFyIHRyaW0gPSAvXlxccyt8XFxzKyQvZztcbiAgICAgICAgICAgIHZhciBib2Q7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bSA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7XG4gICAgICAgICAgICAgICAgZG9jdW0ud3JpdGUoXCI8Ym9keT5cIik7XG4gICAgICAgICAgICAgICAgZG9jdW0uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBib2QgPSBkb2N1bS5ib2R5O1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgYm9kID0gY3JlYXRlUG9wdXAoKS5kb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlID0gYm9kLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgdG9IZXggPSBjYWNoZXIoZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYm9kLnN0eWxlLmNvbG9yID0gU3RyKGNvbG9yKS5yZXBsYWNlKHRyaW0sIEUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByYW5nZS5xdWVyeUNvbW1hbmRWYWx1ZShcIkZvcmVDb2xvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoKHZhbHVlICYgMjU1KSA8PCAxNikgfCAodmFsdWUgJiA2NTI4MCkgfCAoKHZhbHVlICYgMTY3MTE2ODApID4+PiAxNik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiNcIiArIChcIjAwMDAwMFwiICsgdmFsdWUudG9TdHJpbmcoMTYpKS5zbGljZSgtNik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpID0gZy5kb2MuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgICAgICBpLnRpdGxlID0gXCJSYXBoYVxceGVibCBDb2xvdXIgUGlja2VyXCI7XG4gICAgICAgICAgICBpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGcuZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaSk7XG4gICAgICAgICAgICB0b0hleCA9IGNhY2hlcihmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICBpLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGcuZG9jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaSwgRSkuZ2V0UHJvcGVydHlWYWx1ZShcImNvbG9yXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvSGV4KGNvbG9yKTtcbiAgICB9LFxuICAgIGhzYnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJoc2IoXCIgKyBbdGhpcy5oLCB0aGlzLnMsIHRoaXMuYl0gKyBcIilcIjtcbiAgICB9LFxuICAgIGhzbHRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJoc2woXCIgKyBbdGhpcy5oLCB0aGlzLnMsIHRoaXMubF0gKyBcIilcIjtcbiAgICB9LFxuICAgIHJnYnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZXg7XG4gICAgfSxcbiAgICBwcmVwYXJlUkdCID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgICAgICAgaWYgKGcgPT0gbnVsbCAmJiBSLmlzKHIsIFwib2JqZWN0XCIpICYmIFwiclwiIGluIHIgJiYgXCJnXCIgaW4gciAmJiBcImJcIiBpbiByKSB7XG4gICAgICAgICAgICBiID0gci5iO1xuICAgICAgICAgICAgZyA9IHIuZztcbiAgICAgICAgICAgIHIgPSByLnI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGcgPT0gbnVsbCAmJiBSLmlzKHIsIHN0cmluZykpIHtcbiAgICAgICAgICAgIHZhciBjbHIgPSBSLmdldFJHQihyKTtcbiAgICAgICAgICAgIHIgPSBjbHIucjtcbiAgICAgICAgICAgIGcgPSBjbHIuZztcbiAgICAgICAgICAgIGIgPSBjbHIuYjtcbiAgICAgICAgfVxuICAgICAgICBpZiAociA+IDEgfHwgZyA+IDEgfHwgYiA+IDEpIHtcbiAgICAgICAgICAgIHIgLz0gMjU1O1xuICAgICAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfSxcbiAgICBwYWNrYWdlUkdCID0gZnVuY3Rpb24gKHIsIGcsIGIsIG8pIHtcbiAgICAgICAgciAqPSAyNTU7XG4gICAgICAgIGcgKj0gMjU1O1xuICAgICAgICBiICo9IDI1NTtcbiAgICAgICAgdmFyIHJnYiA9IHtcbiAgICAgICAgICAgIHI6IHIsXG4gICAgICAgICAgICBnOiBnLFxuICAgICAgICAgICAgYjogYixcbiAgICAgICAgICAgIGhleDogUi5yZ2IociwgZywgYiksXG4gICAgICAgICAgICB0b1N0cmluZzogcmdidG9TdHJpbmdcbiAgICAgICAgfTtcbiAgICAgICAgUi5pcyhvLCBcImZpbml0ZVwiKSAmJiAocmdiLm9wYWNpdHkgPSBvKTtcbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuY29sb3JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFBhcnNlcyB0aGUgY29sb3Igc3RyaW5nIGFuZCByZXR1cm5zIG9iamVjdCB3aXRoIGFsbCB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBjb2xvci5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gY2xyIChzdHJpbmcpIGNvbG9yIHN0cmluZyBpbiBvbmUgb2YgdGhlIHN1cHBvcnRlZCBmb3JtYXRzIChzZWUgQFJhcGhhZWwuZ2V0UkdCKVxuICAgICA9IChvYmplY3QpIENvbWJpbmVkIFJHQiAmIEhTQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZSxcbiAgICAgbyAgICAgaGV4IChzdHJpbmcpIGNvbG9yIGluIEhUTUwvQ1NTIGZvcm1hdDogI+KAouKAouKAouKAouKAouKAoixcbiAgICAgbyAgICAgZXJyb3IgKGJvb2xlYW4pIGB0cnVlYCBpZiBzdHJpbmcgY2Fu4oCZdCBiZSBwYXJzZWQsXG4gICAgIG8gICAgIGggKG51bWJlcikgaHVlLFxuICAgICBvICAgICBzIChudW1iZXIpIHNhdHVyYXRpb24sXG4gICAgIG8gICAgIHYgKG51bWJlcikgdmFsdWUgKGJyaWdodG5lc3MpLFxuICAgICBvICAgICBsIChudW1iZXIpIGxpZ2h0bmVzc1xuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5jb2xvciA9IGZ1bmN0aW9uIChjbHIpIHtcbiAgICAgICAgdmFyIHJnYjtcbiAgICAgICAgaWYgKFIuaXMoY2xyLCBcIm9iamVjdFwiKSAmJiBcImhcIiBpbiBjbHIgJiYgXCJzXCIgaW4gY2xyICYmIFwiYlwiIGluIGNscikge1xuICAgICAgICAgICAgcmdiID0gUi5oc2IycmdiKGNscik7XG4gICAgICAgICAgICBjbHIuciA9IHJnYi5yO1xuICAgICAgICAgICAgY2xyLmcgPSByZ2IuZztcbiAgICAgICAgICAgIGNsci5iID0gcmdiLmI7XG4gICAgICAgICAgICBjbHIuaGV4ID0gcmdiLmhleDtcbiAgICAgICAgfSBlbHNlIGlmIChSLmlzKGNsciwgXCJvYmplY3RcIikgJiYgXCJoXCIgaW4gY2xyICYmIFwic1wiIGluIGNsciAmJiBcImxcIiBpbiBjbHIpIHtcbiAgICAgICAgICAgIHJnYiA9IFIuaHNsMnJnYihjbHIpO1xuICAgICAgICAgICAgY2xyLnIgPSByZ2IucjtcbiAgICAgICAgICAgIGNsci5nID0gcmdiLmc7XG4gICAgICAgICAgICBjbHIuYiA9IHJnYi5iO1xuICAgICAgICAgICAgY2xyLmhleCA9IHJnYi5oZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoUi5pcyhjbHIsIFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgY2xyID0gUi5nZXRSR0IoY2xyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChSLmlzKGNsciwgXCJvYmplY3RcIikgJiYgXCJyXCIgaW4gY2xyICYmIFwiZ1wiIGluIGNsciAmJiBcImJcIiBpbiBjbHIpIHtcbiAgICAgICAgICAgICAgICByZ2IgPSBSLnJnYjJoc2woY2xyKTtcbiAgICAgICAgICAgICAgICBjbHIuaCA9IHJnYi5oO1xuICAgICAgICAgICAgICAgIGNsci5zID0gcmdiLnM7XG4gICAgICAgICAgICAgICAgY2xyLmwgPSByZ2IubDtcbiAgICAgICAgICAgICAgICByZ2IgPSBSLnJnYjJoc2IoY2xyKTtcbiAgICAgICAgICAgICAgICBjbHIudiA9IHJnYi5iO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbHIgPSB7aGV4OiBcIm5vbmVcIn07XG4gICAgICAgICAgICAgICAgY2xyLnIgPSBjbHIuZyA9IGNsci5iID0gY2xyLmggPSBjbHIucyA9IGNsci52ID0gY2xyLmwgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbHIudG9TdHJpbmcgPSByZ2J0b1N0cmluZztcbiAgICAgICAgcmV0dXJuIGNscjtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmhzYjJyZ2JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIEhTQiB2YWx1ZXMgdG8gUkdCIG9iamVjdC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaCAobnVtYmVyKSBodWVcbiAgICAgLSBzIChudW1iZXIpIHNhdHVyYXRpb25cbiAgICAgLSB2IChudW1iZXIpIHZhbHVlIG9yIGJyaWdodG5lc3NcbiAgICAgPSAob2JqZWN0KSBSR0Igb2JqZWN0IGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHIgKG51bWJlcikgcmVkLFxuICAgICBvICAgICBnIChudW1iZXIpIGdyZWVuLFxuICAgICBvICAgICBiIChudW1iZXIpIGJsdWUsXG4gICAgIG8gICAgIGhleCAoc3RyaW5nKSBjb2xvciBpbiBIVE1ML0NTUyBmb3JtYXQ6ICPigKLigKLigKLigKLigKLigKJcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuaHNiMnJnYiA9IGZ1bmN0aW9uIChoLCBzLCB2LCBvKSB7XG4gICAgICAgIGlmICh0aGlzLmlzKGgsIFwib2JqZWN0XCIpICYmIFwiaFwiIGluIGggJiYgXCJzXCIgaW4gaCAmJiBcImJcIiBpbiBoKSB7XG4gICAgICAgICAgICB2ID0gaC5iO1xuICAgICAgICAgICAgcyA9IGgucztcbiAgICAgICAgICAgIG8gPSBoLm87XG4gICAgICAgICAgICBoID0gaC5oO1xuICAgICAgICB9XG4gICAgICAgIGggKj0gMzYwO1xuICAgICAgICB2YXIgUiwgRywgQiwgWCwgQztcbiAgICAgICAgaCA9IChoICUgMzYwKSAvIDYwO1xuICAgICAgICBDID0gdiAqIHM7XG4gICAgICAgIFggPSBDICogKDEgLSBhYnMoaCAlIDIgLSAxKSk7XG4gICAgICAgIFIgPSBHID0gQiA9IHYgLSBDO1xuXG4gICAgICAgIGggPSB+fmg7XG4gICAgICAgIFIgKz0gW0MsIFgsIDAsIDAsIFgsIENdW2hdO1xuICAgICAgICBHICs9IFtYLCBDLCBDLCBYLCAwLCAwXVtoXTtcbiAgICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG4gICAgICAgIHJldHVybiBwYWNrYWdlUkdCKFIsIEcsIEIsIG8pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaHNsMnJnYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgSFNMIHZhbHVlcyB0byBSR0Igb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoIChudW1iZXIpIGh1ZVxuICAgICAtIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICAtIGwgKG51bWJlcikgbHVtaW5vc2l0eVxuICAgICA9IChvYmplY3QpIFJHQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZSxcbiAgICAgbyAgICAgaGV4IChzdHJpbmcpIGNvbG9yIGluIEhUTUwvQ1NTIGZvcm1hdDogI+KAouKAouKAouKAouKAouKAolxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5oc2wycmdiID0gZnVuY3Rpb24gKGgsIHMsIGwsIG8pIHtcbiAgICAgICAgaWYgKHRoaXMuaXMoaCwgXCJvYmplY3RcIikgJiYgXCJoXCIgaW4gaCAmJiBcInNcIiBpbiBoICYmIFwibFwiIGluIGgpIHtcbiAgICAgICAgICAgIGwgPSBoLmw7XG4gICAgICAgICAgICBzID0gaC5zO1xuICAgICAgICAgICAgaCA9IGguaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaCA+IDEgfHwgcyA+IDEgfHwgbCA+IDEpIHtcbiAgICAgICAgICAgIGggLz0gMzYwO1xuICAgICAgICAgICAgcyAvPSAxMDA7XG4gICAgICAgICAgICBsIC89IDEwMDtcbiAgICAgICAgfVxuICAgICAgICBoICo9IDM2MDtcbiAgICAgICAgdmFyIFIsIEcsIEIsIFgsIEM7XG4gICAgICAgIGggPSAoaCAlIDM2MCkgLyA2MDtcbiAgICAgICAgQyA9IDIgKiBzICogKGwgPCAuNSA/IGwgOiAxIC0gbCk7XG4gICAgICAgIFggPSBDICogKDEgLSBhYnMoaCAlIDIgLSAxKSk7XG4gICAgICAgIFIgPSBHID0gQiA9IGwgLSBDIC8gMjtcblxuICAgICAgICBoID0gfn5oO1xuICAgICAgICBSICs9IFtDLCBYLCAwLCAwLCBYLCBDXVtoXTtcbiAgICAgICAgRyArPSBbWCwgQywgQywgWCwgMCwgMF1baF07XG4gICAgICAgIEIgKz0gWzAsIDAsIFgsIEMsIEMsIFhdW2hdO1xuICAgICAgICByZXR1cm4gcGFja2FnZVJHQihSLCBHLCBCLCBvKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnJnYjJoc2JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIFJHQiB2YWx1ZXMgdG8gSFNCIG9iamVjdC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gciAobnVtYmVyKSByZWRcbiAgICAgLSBnIChudW1iZXIpIGdyZWVuXG4gICAgIC0gYiAobnVtYmVyKSBibHVlXG4gICAgID0gKG9iamVjdCkgSFNCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICBoIChudW1iZXIpIGh1ZVxuICAgICBvICAgICBzIChudW1iZXIpIHNhdHVyYXRpb25cbiAgICAgbyAgICAgYiAobnVtYmVyKSBicmlnaHRuZXNzXG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLnJnYjJoc2IgPSBmdW5jdGlvbiAociwgZywgYikge1xuICAgICAgICBiID0gcHJlcGFyZVJHQihyLCBnLCBiKTtcbiAgICAgICAgciA9IGJbMF07XG4gICAgICAgIGcgPSBiWzFdO1xuICAgICAgICBiID0gYlsyXTtcblxuICAgICAgICB2YXIgSCwgUywgViwgQztcbiAgICAgICAgViA9IG1tYXgociwgZywgYik7XG4gICAgICAgIEMgPSBWIC0gbW1pbihyLCBnLCBiKTtcbiAgICAgICAgSCA9IChDID09IDAgPyBudWxsIDpcbiAgICAgICAgICAgICBWID09IHIgPyAoZyAtIGIpIC8gQyA6XG4gICAgICAgICAgICAgViA9PSBnID8gKGIgLSByKSAvIEMgKyAyIDpcbiAgICAgICAgICAgICAgICAgICAgICAociAtIGcpIC8gQyArIDRcbiAgICAgICAgICAgICk7XG4gICAgICAgIEggPSAoKEggKyAzNjApICUgNikgKiA2MCAvIDM2MDtcbiAgICAgICAgUyA9IEMgPT0gMCA/IDAgOiBDIC8gVjtcbiAgICAgICAgcmV0dXJuIHtoOiBILCBzOiBTLCBiOiBWLCB0b1N0cmluZzogaHNidG9TdHJpbmd9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmdiMmhzbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgUkdCIHZhbHVlcyB0byBIU0wgb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByIChudW1iZXIpIHJlZFxuICAgICAtIGcgKG51bWJlcikgZ3JlZW5cbiAgICAgLSBiIChudW1iZXIpIGJsdWVcbiAgICAgPSAob2JqZWN0KSBIU0wgb2JqZWN0IGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIGggKG51bWJlcikgaHVlXG4gICAgIG8gICAgIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICBvICAgICBsIChudW1iZXIpIGx1bWlub3NpdHlcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIucmdiMmhzbCA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gICAgICAgIGIgPSBwcmVwYXJlUkdCKHIsIGcsIGIpO1xuICAgICAgICByID0gYlswXTtcbiAgICAgICAgZyA9IGJbMV07XG4gICAgICAgIGIgPSBiWzJdO1xuXG4gICAgICAgIHZhciBILCBTLCBMLCBNLCBtLCBDO1xuICAgICAgICBNID0gbW1heChyLCBnLCBiKTtcbiAgICAgICAgbSA9IG1taW4ociwgZywgYik7XG4gICAgICAgIEMgPSBNIC0gbTtcbiAgICAgICAgSCA9IChDID09IDAgPyBudWxsIDpcbiAgICAgICAgICAgICBNID09IHIgPyAoZyAtIGIpIC8gQyA6XG4gICAgICAgICAgICAgTSA9PSBnID8gKGIgLSByKSAvIEMgKyAyIDpcbiAgICAgICAgICAgICAgICAgICAgICAociAtIGcpIC8gQyArIDQpO1xuICAgICAgICBIID0gKChIICsgMzYwKSAlIDYpICogNjAgLyAzNjA7XG4gICAgICAgIEwgPSAoTSArIG0pIC8gMjtcbiAgICAgICAgUyA9IChDID09IDAgPyAwIDpcbiAgICAgICAgICAgICBMIDwgLjUgPyBDIC8gKDIgKiBMKSA6XG4gICAgICAgICAgICAgICAgICAgICAgQyAvICgyIC0gMiAqIEwpKTtcbiAgICAgICAgcmV0dXJuIHtoOiBILCBzOiBTLCBsOiBMLCB0b1N0cmluZzogaHNsdG9TdHJpbmd9O1xuICAgIH07XG4gICAgUi5fcGF0aDJzdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpvaW4oXCIsXCIpLnJlcGxhY2UocDJzLCBcIiQxXCIpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gcmVwdXNoKGFycmF5LCBpdGVtKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIGlmIChhcnJheVtpXSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGksIDEpWzBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYWNoZXIoZiwgc2NvcGUsIHBvc3Rwcm9jZXNzb3IpIHtcbiAgICAgICAgZnVuY3Rpb24gbmV3ZigpIHtcbiAgICAgICAgICAgIHZhciBhcmcgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmcuam9pbihcIlxcdTI0MDBcIiksXG4gICAgICAgICAgICAgICAgY2FjaGUgPSBuZXdmLmNhY2hlID0gbmV3Zi5jYWNoZSB8fCB7fSxcbiAgICAgICAgICAgICAgICBjb3VudCA9IG5ld2YuY291bnQgPSBuZXdmLmNvdW50IHx8IFtdO1xuICAgICAgICAgICAgaWYgKGNhY2hlW2hhc10oYXJncykpIHtcbiAgICAgICAgICAgICAgICByZXB1c2goY291bnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3N0cHJvY2Vzc29yID8gcG9zdHByb2Nlc3NvcihjYWNoZVthcmdzXSkgOiBjYWNoZVthcmdzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50Lmxlbmd0aCA+PSAxZTMgJiYgZGVsZXRlIGNhY2hlW2NvdW50LnNoaWZ0KCldO1xuICAgICAgICAgICAgY291bnQucHVzaChhcmdzKTtcbiAgICAgICAgICAgIGNhY2hlW2FyZ3NdID0gZlthcHBseV0oc2NvcGUsIGFyZyk7XG4gICAgICAgICAgICByZXR1cm4gcG9zdHByb2Nlc3NvciA/IHBvc3Rwcm9jZXNzb3IoY2FjaGVbYXJnc10pIDogY2FjaGVbYXJnc107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld2Y7XG4gICAgfVxuXG4gICAgdmFyIHByZWxvYWQgPSBSLl9wcmVsb2FkID0gZnVuY3Rpb24gKHNyYywgZikge1xuICAgICAgICB2YXIgaW1nID0gZy5kb2MuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgaW1nLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbVwiO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgZy5kb2MuYm9keS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnLmRvYy5ib2R5LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBnLmRvYy5ib2R5LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsclRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZXg7XG4gICAgfVxuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0UkdCXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBQYXJzZXMgY29sb3VyIHN0cmluZyBhcyBSR0Igb2JqZWN0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGNvbG91ciAoc3RyaW5nKSBjb2xvdXIgc3RyaW5nIGluIG9uZSBvZiBmb3JtYXRzOlxuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPkNvbG91ciBuYW1lICjigJw8Y29kZT5yZWQ8L2NvZGU+4oCdLCDigJw8Y29kZT5ncmVlbjwvY29kZT7igJ0sIOKAnDxjb2RlPmNvcm5mbG93ZXJibHVlPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCiIOKAlCBzaG9ydGVuZWQgSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2ZjMDwvY29kZT7igJ0sIGV0Yyk8L2xpPlxuICAgICAjICAgICA8bGk+I+KAouKAouKAouKAouKAouKAoiDigJQgZnVsbCBsZW5ndGggSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2JkMjMwMDwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2IoMjAwLCZuYnNwOzEwMCwmbmJzcDswKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2IoMTAwJSwmbmJzcDsxNzUlLCZuYnNwOzAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgaHVlLCBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzIHZhbHVlczogKOKAnDxjb2RlPmhzYigwLjUsJm5ic3A7MC4yNSwmbmJzcDsxKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNsKOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGhzYjwvbGk+XG4gICAgICMgICAgIDxsaT5oc2wo4oCi4oCi4oCiJSwg4oCi4oCi4oCiJSwg4oCi4oCi4oCiJSkg4oCUIHNhbWUgYXMgaHNiPC9saT5cbiAgICAgIyA8L3VsPlxuICAgICA9IChvYmplY3QpIFJHQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZVxuICAgICBvICAgICBoZXggKHN0cmluZykgY29sb3IgaW4gSFRNTC9DU1MgZm9ybWF0OiAj4oCi4oCi4oCi4oCi4oCi4oCiLFxuICAgICBvICAgICBlcnJvciAoYm9vbGVhbikgdHJ1ZSBpZiBzdHJpbmcgY2Fu4oCZdCBiZSBwYXJzZWRcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuZ2V0UkdCID0gY2FjaGVyKGZ1bmN0aW9uIChjb2xvdXIpIHtcbiAgICAgICAgaWYgKCFjb2xvdXIgfHwgISEoKGNvbG91ciA9IFN0cihjb2xvdXIpKS5pbmRleE9mKFwiLVwiKSArIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge3I6IC0xLCBnOiAtMSwgYjogLTEsIGhleDogXCJub25lXCIsIGVycm9yOiAxLCB0b1N0cmluZzogY2xyVG9TdHJpbmd9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2xvdXIgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7cjogLTEsIGc6IC0xLCBiOiAtMSwgaGV4OiBcIm5vbmVcIiwgdG9TdHJpbmc6IGNsclRvU3RyaW5nfTtcbiAgICAgICAgfVxuICAgICAgICAhKGhzcmdbaGFzXShjb2xvdXIudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwgMikpIHx8IGNvbG91ci5jaGFyQXQoKSA9PSBcIiNcIikgJiYgKGNvbG91ciA9IHRvSGV4KGNvbG91cikpO1xuICAgICAgICB2YXIgcmVzLFxuICAgICAgICAgICAgcmVkLFxuICAgICAgICAgICAgZ3JlZW4sXG4gICAgICAgICAgICBibHVlLFxuICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICByZ2IgPSBjb2xvdXIubWF0Y2goY29sb3VyUmVnRXhwKTtcbiAgICAgICAgaWYgKHJnYikge1xuICAgICAgICAgICAgaWYgKHJnYlsyXSkge1xuICAgICAgICAgICAgICAgIGJsdWUgPSB0b0ludChyZ2JbMl0uc3Vic3RyaW5nKDUpLCAxNik7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0ludChyZ2JbMl0uc3Vic3RyaW5nKDMsIDUpLCAxNik7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9JbnQocmdiWzJdLnN1YnN0cmluZygxLCAzKSwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYlszXSkge1xuICAgICAgICAgICAgICAgIGJsdWUgPSB0b0ludCgodCA9IHJnYlszXS5jaGFyQXQoMykpICsgdCwgMTYpO1xuICAgICAgICAgICAgICAgIGdyZWVuID0gdG9JbnQoKHQgPSByZ2JbM10uY2hhckF0KDIpKSArIHQsIDE2KTtcbiAgICAgICAgICAgICAgICByZWQgPSB0b0ludCgodCA9IHJnYlszXS5jaGFyQXQoMSkpICsgdCwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYls0XSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJnYls0XVtzcGxpdF0oY29tbWFTcGFjZXMpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiJVwiICYmIChyZWQgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0Zsb2F0KHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzFdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAoZ3JlZW4gKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvRmxvYXQodmFsdWVzWzJdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMl0uc2xpY2UoLTEpID09IFwiJVwiICYmIChibHVlICo9IDIuNTUpO1xuICAgICAgICAgICAgICAgIHJnYlsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDQpID09IFwicmdiYVwiICYmIChvcGFjaXR5ID0gdG9GbG9hdCh2YWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbM10gJiYgdmFsdWVzWzNdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAob3BhY2l0eSAvPSAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYls1XSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJnYls1XVtzcGxpdF0oY29tbWFTcGFjZXMpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiJVwiICYmIChyZWQgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0Zsb2F0KHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzFdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAoZ3JlZW4gKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvRmxvYXQodmFsdWVzWzJdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMl0uc2xpY2UoLTEpID09IFwiJVwiICYmIChibHVlICo9IDIuNTUpO1xuICAgICAgICAgICAgICAgICh2YWx1ZXNbMF0uc2xpY2UoLTMpID09IFwiZGVnXCIgfHwgdmFsdWVzWzBdLnNsaWNlKC0xKSA9PSBcIlxceGIwXCIpICYmIChyZWQgLz0gMzYwKTtcbiAgICAgICAgICAgICAgICByZ2JbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLCA0KSA9PSBcImhzYmFcIiAmJiAob3BhY2l0eSA9IHRvRmxvYXQodmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzNdICYmIHZhbHVlc1szXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKG9wYWNpdHkgLz0gMTAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5oc2IycmdiKHJlZCwgZ3JlZW4sIGJsdWUsIG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJnYls2XSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJnYls2XVtzcGxpdF0oY29tbWFTcGFjZXMpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvRmxvYXQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiJVwiICYmIChyZWQgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0Zsb2F0KHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzFdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAoZ3JlZW4gKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvRmxvYXQodmFsdWVzWzJdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMl0uc2xpY2UoLTEpID09IFwiJVwiICYmIChibHVlICo9IDIuNTUpO1xuICAgICAgICAgICAgICAgICh2YWx1ZXNbMF0uc2xpY2UoLTMpID09IFwiZGVnXCIgfHwgdmFsdWVzWzBdLnNsaWNlKC0xKSA9PSBcIlxceGIwXCIpICYmIChyZWQgLz0gMzYwKTtcbiAgICAgICAgICAgICAgICByZ2JbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLCA0KSA9PSBcImhzbGFcIiAmJiAob3BhY2l0eSA9IHRvRmxvYXQodmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzWzNdICYmIHZhbHVlc1szXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKG9wYWNpdHkgLz0gMTAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5oc2wycmdiKHJlZCwgZ3JlZW4sIGJsdWUsIG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiID0ge3I6IHJlZCwgZzogZ3JlZW4sIGI6IGJsdWUsIHRvU3RyaW5nOiBjbHJUb1N0cmluZ307XG4gICAgICAgICAgICByZ2IuaGV4ID0gXCIjXCIgKyAoMTY3NzcyMTYgfCBibHVlIHwgKGdyZWVuIDw8IDgpIHwgKHJlZCA8PCAxNikpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbiAgICAgICAgICAgIFIuaXMob3BhY2l0eSwgXCJmaW5pdGVcIikgJiYgKHJnYi5vcGFjaXR5ID0gb3BhY2l0eSk7XG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7cjogLTEsIGc6IC0xLCBiOiAtMSwgaGV4OiBcIm5vbmVcIiwgZXJyb3I6IDEsIHRvU3RyaW5nOiBjbHJUb1N0cmluZ307XG4gICAgfSwgUik7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaHNiXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBIU0IgdmFsdWVzIHRvIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoIChudW1iZXIpIGh1ZVxuICAgICAtIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICAtIGIgKG51bWJlcikgdmFsdWUgb3IgYnJpZ2h0bmVzc1xuICAgICA9IChzdHJpbmcpIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgIFxcKi9cbiAgICBSLmhzYiA9IGNhY2hlcihmdW5jdGlvbiAoaCwgcywgYikge1xuICAgICAgICByZXR1cm4gUi5oc2IycmdiKGgsIHMsIGIpLmhleDtcbiAgICB9KTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5oc2xcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIEhTTCB2YWx1ZXMgdG8gaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGggKG51bWJlcikgaHVlXG4gICAgIC0gcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIC0gbCAobnVtYmVyKSBsdW1pbm9zaXR5XG4gICAgID0gKHN0cmluZykgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgXFwqL1xuICAgIFIuaHNsID0gY2FjaGVyKGZ1bmN0aW9uIChoLCBzLCBsKSB7XG4gICAgICAgIHJldHVybiBSLmhzbDJyZ2IoaCwgcywgbCkuaGV4O1xuICAgIH0pO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnJnYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgUkdCIHZhbHVlcyB0byBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gciAobnVtYmVyKSByZWRcbiAgICAgLSBnIChudW1iZXIpIGdyZWVuXG4gICAgIC0gYiAobnVtYmVyKSBibHVlXG4gICAgID0gKHN0cmluZykgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgXFwqL1xuICAgIFIucmdiID0gY2FjaGVyKGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gICAgICAgIGZ1bmN0aW9uIHJvdW5kKHgpIHsgcmV0dXJuICh4ICsgMC41KSB8IDA7IH1cbiAgICAgICAgcmV0dXJuIFwiI1wiICsgKDE2Nzc3MjE2IHwgcm91bmQoYikgfCAocm91bmQoZykgPDwgOCkgfCAocm91bmQocikgPDwgMTYpKS50b1N0cmluZygxNikuc2xpY2UoMSk7XG4gICAgfSk7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0Q29sb3JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE9uIGVhY2ggY2FsbCByZXR1cm5zIG5leHQgY29sb3VyIGluIHRoZSBzcGVjdHJ1bS4gVG8gcmVzZXQgaXQgYmFjayB0byByZWQgY2FsbCBAUmFwaGFlbC5nZXRDb2xvci5yZXNldFxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSB2YWx1ZSAobnVtYmVyKSAjb3B0aW9uYWwgYnJpZ2h0bmVzcywgZGVmYXVsdCBpcyBgMC43NWBcbiAgICAgPSAoc3RyaW5nKSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICBcXCovXG4gICAgUi5nZXRDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmdldENvbG9yLnN0YXJ0ID0gdGhpcy5nZXRDb2xvci5zdGFydCB8fCB7aDogMCwgczogMSwgYjogdmFsdWUgfHwgLjc1fSxcbiAgICAgICAgICAgIHJnYiA9IHRoaXMuaHNiMnJnYihzdGFydC5oLCBzdGFydC5zLCBzdGFydC5iKTtcbiAgICAgICAgc3RhcnQuaCArPSAuMDc1O1xuICAgICAgICBpZiAoc3RhcnQuaCA+IDEpIHtcbiAgICAgICAgICAgIHN0YXJ0LmggPSAwO1xuICAgICAgICAgICAgc3RhcnQucyAtPSAuMjtcbiAgICAgICAgICAgIHN0YXJ0LnMgPD0gMCAmJiAodGhpcy5nZXRDb2xvci5zdGFydCA9IHtoOiAwLCBzOiAxLCBiOiBzdGFydC5ifSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYi5oZXg7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRDb2xvci5yZXNldFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVzZXRzIHNwZWN0cnVtIHBvc2l0aW9uIGZvciBAUmFwaGFlbC5nZXRDb2xvciBiYWNrIHRvIHJlZC5cbiAgICBcXCovXG4gICAgUi5nZXRDb2xvci5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhcnQ7XG4gICAgfTtcblxuICAgIC8vIGh0dHA6Ly9zY2hlcGVycy5jYy9nZXR0aW5nLXRvLXRoZS1wb2ludFxuICAgIGZ1bmN0aW9uIGNhdG11bGxSb20yYmV6aWVyKGNycCwgeikge1xuICAgICAgICB2YXIgZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaUxlbiA9IGNycC5sZW5ndGg7IGlMZW4gLSAyICogIXogPiBpOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBwID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAge3g6ICtjcnBbaSAtIDJdLCB5OiArY3JwW2kgLSAxXX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7eDogK2NycFtpXSwgICAgIHk6ICtjcnBbaSArIDFdfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHt4OiArY3JwW2kgKyAyXSwgeTogK2NycFtpICsgM119LFxuICAgICAgICAgICAgICAgICAgICAgICAge3g6ICtjcnBbaSArIDRdLCB5OiArY3JwW2kgKyA1XX1cbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmICh6KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbMF0gPSB7eDogK2NycFtpTGVuIC0gMl0sIHk6ICtjcnBbaUxlbiAtIDFdfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlMZW4gLSA0ID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFszXSA9IHt4OiArY3JwWzBdLCB5OiArY3JwWzFdfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlMZW4gLSAyID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFsyXSA9IHt4OiArY3JwWzBdLCB5OiArY3JwWzFdfTtcbiAgICAgICAgICAgICAgICAgICAgcFszXSA9IHt4OiArY3JwWzJdLCB5OiArY3JwWzNdfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpTGVuIC0gNCA9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbM10gPSBwWzJdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFswXSA9IHt4OiArY3JwW2ldLCB5OiArY3JwW2kgKyAxXX07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZC5wdXNoKFtcIkNcIixcbiAgICAgICAgICAgICAgICAgICgtcFswXS54ICsgNiAqIHBbMV0ueCArIHBbMl0ueCkgLyA2LFxuICAgICAgICAgICAgICAgICAgKC1wWzBdLnkgKyA2ICogcFsxXS55ICsgcFsyXS55KSAvIDYsXG4gICAgICAgICAgICAgICAgICAocFsxXS54ICsgNiAqIHBbMl0ueCAtIHBbM10ueCkgLyA2LFxuICAgICAgICAgICAgICAgICAgKHBbMV0ueSArIDYqcFsyXS55IC0gcFszXS55KSAvIDYsXG4gICAgICAgICAgICAgICAgICBwWzJdLngsXG4gICAgICAgICAgICAgICAgICBwWzJdLnlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhcnNlUGF0aFN0cmluZ1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBQYXJzZXMgZ2l2ZW4gcGF0aCBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBhcnJheXMgb2YgcGF0aCBzZWdtZW50cy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aFN0cmluZyAoc3RyaW5nfGFycmF5KSBwYXRoIHN0cmluZyBvciBhcnJheSBvZiBzZWdtZW50cyAoaW4gdGhlIGxhc3QgY2FzZSBpdCB3aWxsIGJlIHJldHVybmVkIHN0cmFpZ2h0IGF3YXkpXG4gICAgID0gKGFycmF5KSBhcnJheSBvZiBzZWdtZW50cy5cbiAgICBcXCovXG4gICAgUi5wYXJzZVBhdGhTdHJpbmcgPSBmdW5jdGlvbiAocGF0aFN0cmluZykge1xuICAgICAgICBpZiAoIXBhdGhTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwdGggPSBwYXRocyhwYXRoU3RyaW5nKTtcbiAgICAgICAgaWYgKHB0aC5hcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmFycik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyYW1Db3VudHMgPSB7YTogNywgYzogNiwgaDogMSwgbDogMiwgbTogMiwgcjogNCwgcTogNCwgczogNCwgdDogMiwgdjogMSwgejogMH0sXG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgIGlmIChSLmlzKHBhdGhTdHJpbmcsIGFycmF5KSAmJiBSLmlzKHBhdGhTdHJpbmdbMF0sIGFycmF5KSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgICAgICAgICBkYXRhID0gcGF0aENsb25lKHBhdGhTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIFN0cihwYXRoU3RyaW5nKS5yZXBsYWNlKHBhdGhDb21tYW5kLCBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjLnJlcGxhY2UocGF0aFZhbHVlcywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgYiAmJiBwYXJhbXMucHVzaCgrYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJtXCIgJiYgcGFyYW1zLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFtiXVtjb25jYXRdKHBhcmFtcy5zcGxpY2UoMCwgMikpKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IFwibFwiO1xuICAgICAgICAgICAgICAgICAgICBiID0gYiA9PSBcIm1cIiA/IFwibFwiIDogXCJMXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09IFwiclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChbYl1bY29uY2F0XShwYXJhbXMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Ugd2hpbGUgKHBhcmFtcy5sZW5ndGggPj0gcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFtiXVtjb25jYXRdKHBhcmFtcy5zcGxpY2UoMCwgcGFyYW1Db3VudHNbbmFtZV0pKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS50b1N0cmluZyA9IFIuX3BhdGgyc3RyaW5nO1xuICAgICAgICBwdGguYXJyID0gcGF0aENsb25lKGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhcnNlVHJhbnNmb3JtU3RyaW5nXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFBhcnNlcyBnaXZlbiBwYXRoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIHRyYW5zZm9ybWF0aW9ucy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gVFN0cmluZyAoc3RyaW5nfGFycmF5KSB0cmFuc2Zvcm0gc3RyaW5nIG9yIGFycmF5IG9mIHRyYW5zZm9ybWF0aW9ucyAoaW4gdGhlIGxhc3QgY2FzZSBpdCB3aWxsIGJlIHJldHVybmVkIHN0cmFpZ2h0IGF3YXkpXG4gICAgID0gKGFycmF5KSBhcnJheSBvZiB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgXFwqL1xuICAgIFIucGFyc2VUcmFuc2Zvcm1TdHJpbmcgPSBjYWNoZXIoZnVuY3Rpb24gKFRTdHJpbmcpIHtcbiAgICAgICAgaWYgKCFUU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1Db3VudHMgPSB7cjogMywgczogNCwgdDogMiwgbTogNn0sXG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgIGlmIChSLmlzKFRTdHJpbmcsIGFycmF5KSAmJiBSLmlzKFRTdHJpbmdbMF0sIGFycmF5KSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgICAgICAgICBkYXRhID0gcGF0aENsb25lKFRTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIFN0cihUU3RyaW5nKS5yZXBsYWNlKHRDb21tYW5kLCBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGxvd2VyQ2FzZS5jYWxsKGIpO1xuICAgICAgICAgICAgICAgIGMucmVwbGFjZShwYXRoVmFsdWVzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBiICYmIHBhcmFtcy5wdXNoKCtiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goW2JdW2NvbmNhdF0ocGFyYW1zKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICAgIC8vIFBBVEhTXG4gICAgdmFyIHBhdGhzID0gZnVuY3Rpb24gKHBzKSB7XG4gICAgICAgIHZhciBwID0gcGF0aHMucHMgPSBwYXRocy5wcyB8fCB7fTtcbiAgICAgICAgaWYgKHBbcHNdKSB7XG4gICAgICAgICAgICBwW3BzXS5zbGVlcCA9IDEwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBbcHNdID0ge1xuICAgICAgICAgICAgICAgIHNsZWVwOiAxMDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcCkgaWYgKHBbaGFzXShrZXkpICYmIGtleSAhPSBwcykge1xuICAgICAgICAgICAgICAgIHBba2V5XS5zbGVlcC0tO1xuICAgICAgICAgICAgICAgICFwW2tleV0uc2xlZXAgJiYgZGVsZXRlIHBba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwW3BzXTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmZpbmREb3RzQXRTZWdtZW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIEZpbmQgZG90IGNvb3JkaW5hdGVzIG9uIHRoZSBnaXZlbiBjdWJpYyBiZXppZXIgY3VydmUgYXQgdGhlIGdpdmVuIHQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHAxeCAobnVtYmVyKSB4IG9mIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBwMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gYzF4IChudW1iZXIpIHggb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeSAobnVtYmVyKSB5IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gcDJ5IChudW1iZXIpIHkgb2YgdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSB0IChudW1iZXIpIHBvc2l0aW9uIG9uIHRoZSBjdXJ2ZSAoMC4uMSlcbiAgICAgPSAob2JqZWN0KSBwb2ludCBpbmZvcm1hdGlvbiBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIG8gICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgbToge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IGFuY2hvclxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IGFuY2hvclxuICAgICBvICAgICB9XG4gICAgIG8gICAgIG46IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYW5jaG9yXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IGFuY2hvclxuICAgICBvICAgICB9XG4gICAgIG8gICAgIHN0YXJ0OiB7XG4gICAgIG8gICAgICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHN0YXJ0IG9mIHRoZSBjdXJ2ZVxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBzdGFydCBvZiB0aGUgY3VydmVcbiAgICAgbyAgICAgfVxuICAgICBvICAgICBlbmQ6IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBjdXJ2ZVxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGN1cnZlXG4gICAgIG8gICAgIH1cbiAgICAgbyAgICAgYWxwaGE6IChudW1iZXIpIGFuZ2xlIG9mIHRoZSBjdXJ2ZSBkZXJpdmF0aXZlIGF0IHRoZSBwb2ludFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5maW5kRG90c0F0U2VnbWVudCA9IGZ1bmN0aW9uIChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdCkge1xuICAgICAgICB2YXIgdDEgPSAxIC0gdCxcbiAgICAgICAgICAgIHQxMyA9IHBvdyh0MSwgMyksXG4gICAgICAgICAgICB0MTIgPSBwb3codDEsIDIpLFxuICAgICAgICAgICAgdDIgPSB0ICogdCxcbiAgICAgICAgICAgIHQzID0gdDIgKiB0LFxuICAgICAgICAgICAgeCA9IHQxMyAqIHAxeCArIHQxMiAqIDMgKiB0ICogYzF4ICsgdDEgKiAzICogdCAqIHQgKiBjMnggKyB0MyAqIHAyeCxcbiAgICAgICAgICAgIHkgPSB0MTMgKiBwMXkgKyB0MTIgKiAzICogdCAqIGMxeSArIHQxICogMyAqIHQgKiB0ICogYzJ5ICsgdDMgKiBwMnksXG4gICAgICAgICAgICBteCA9IHAxeCArIDIgKiB0ICogKGMxeCAtIHAxeCkgKyB0MiAqIChjMnggLSAyICogYzF4ICsgcDF4KSxcbiAgICAgICAgICAgIG15ID0gcDF5ICsgMiAqIHQgKiAoYzF5IC0gcDF5KSArIHQyICogKGMyeSAtIDIgKiBjMXkgKyBwMXkpLFxuICAgICAgICAgICAgbnggPSBjMXggKyAyICogdCAqIChjMnggLSBjMXgpICsgdDIgKiAocDJ4IC0gMiAqIGMyeCArIGMxeCksXG4gICAgICAgICAgICBueSA9IGMxeSArIDIgKiB0ICogKGMyeSAtIGMxeSkgKyB0MiAqIChwMnkgLSAyICogYzJ5ICsgYzF5KSxcbiAgICAgICAgICAgIGF4ID0gdDEgKiBwMXggKyB0ICogYzF4LFxuICAgICAgICAgICAgYXkgPSB0MSAqIHAxeSArIHQgKiBjMXksXG4gICAgICAgICAgICBjeCA9IHQxICogYzJ4ICsgdCAqIHAyeCxcbiAgICAgICAgICAgIGN5ID0gdDEgKiBjMnkgKyB0ICogcDJ5LFxuICAgICAgICAgICAgYWxwaGEgPSAoOTAgLSBtYXRoLmF0YW4yKG14IC0gbngsIG15IC0gbnkpICogMTgwIC8gUEkpO1xuICAgICAgICAobXggPiBueCB8fCBteSA8IG55KSAmJiAoYWxwaGEgKz0gMTgwKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgbToge3g6IG14LCB5OiBteX0sXG4gICAgICAgICAgICBuOiB7eDogbngsIHk6IG55fSxcbiAgICAgICAgICAgIHN0YXJ0OiB7eDogYXgsIHk6IGF5fSxcbiAgICAgICAgICAgIGVuZDoge3g6IGN4LCB5OiBjeX0sXG4gICAgICAgICAgICBhbHBoYTogYWxwaGFcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmJlemllckJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJuIGJvdW5kaW5nIGJveCBvZiBhIGdpdmVuIGN1YmljIGJlemllciBjdXJ2ZVxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwMXggKG51bWJlcikgeCBvZiB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gcDF5IChudW1iZXIpIHkgb2YgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMxeCAobnVtYmVyKSB4IG9mIHRoZSBmaXJzdCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gYzF5IChudW1iZXIpIHkgb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMnggKG51bWJlcikgeCBvZiB0aGUgc2Vjb25kIGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMnkgKG51bWJlcikgeSBvZiB0aGUgc2Vjb25kIGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBwMnggKG51bWJlcikgeCBvZiB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAyeSAobnVtYmVyKSB5IG9mIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgICogb3JcbiAgICAgLSBiZXogKGFycmF5KSBhcnJheSBvZiBzaXggcG9pbnRzIGZvciBiZXppZXIgY3VydmVcbiAgICAgPSAob2JqZWN0KSBwb2ludCBpbmZvcm1hdGlvbiBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICBtaW46IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgbGVmdCBwb2ludFxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSB0b3AgcG9pbnRcbiAgICAgbyAgICAgfVxuICAgICBvICAgICBtYXg6IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgcG9pbnRcbiAgICAgbyAgICAgICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIHBvaW50XG4gICAgIG8gICAgIH1cbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuYmV6aWVyQkJveCA9IGZ1bmN0aW9uIChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSkge1xuICAgICAgICBpZiAoIVIuaXMocDF4LCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICBwMXggPSBbcDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYm94ID0gY3VydmVEaW0uYXBwbHkobnVsbCwgcDF4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGJib3gubWluLngsXG4gICAgICAgICAgICB5OiBiYm94Lm1pbi55LFxuICAgICAgICAgICAgeDI6IGJib3gubWF4LngsXG4gICAgICAgICAgICB5MjogYmJveC5tYXgueSxcbiAgICAgICAgICAgIHdpZHRoOiBiYm94Lm1heC54IC0gYmJveC5taW4ueCxcbiAgICAgICAgICAgIGhlaWdodDogYmJveC5tYXgueSAtIGJib3gubWluLnlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmlzUG9pbnRJbnNpZGVCQm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGdpdmVuIHBvaW50IGlzIGluc2lkZSBib3VuZGluZyBib3hlcy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYmJveCAoc3RyaW5nKSBib3VuZGluZyBib3hcbiAgICAgLSB4IChzdHJpbmcpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgLSB5IChzdHJpbmcpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgPSAoYm9vbGVhbikgYHRydWVgIGlmIHBvaW50IGluc2lkZVxuICAgIFxcKi9cbiAgICBSLmlzUG9pbnRJbnNpZGVCQm94ID0gZnVuY3Rpb24gKGJib3gsIHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHggPj0gYmJveC54ICYmIHggPD0gYmJveC54MiAmJiB5ID49IGJib3gueSAmJiB5IDw9IGJib3gueTI7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5pc0JCb3hJbnRlcnNlY3RcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdHdvIGJvdW5kaW5nIGJveGVzIGludGVyc2VjdFxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBiYm94MSAoc3RyaW5nKSBmaXJzdCBib3VuZGluZyBib3hcbiAgICAgLSBiYm94MiAoc3RyaW5nKSBzZWNvbmQgYm91bmRpbmcgYm94XG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiB0aGV5IGludGVyc2VjdFxuICAgIFxcKi9cbiAgICBSLmlzQkJveEludGVyc2VjdCA9IGZ1bmN0aW9uIChiYm94MSwgYmJveDIpIHtcbiAgICAgICAgdmFyIGkgPSBSLmlzUG9pbnRJbnNpZGVCQm94O1xuICAgICAgICByZXR1cm4gaShiYm94MiwgYmJveDEueCwgYmJveDEueSlcbiAgICAgICAgICAgIHx8IGkoYmJveDIsIGJib3gxLngyLCBiYm94MS55KVxuICAgICAgICAgICAgfHwgaShiYm94MiwgYmJveDEueCwgYmJveDEueTIpXG4gICAgICAgICAgICB8fCBpKGJib3gyLCBiYm94MS54MiwgYmJveDEueTIpXG4gICAgICAgICAgICB8fCBpKGJib3gxLCBiYm94Mi54LCBiYm94Mi55KVxuICAgICAgICAgICAgfHwgaShiYm94MSwgYmJveDIueDIsIGJib3gyLnkpXG4gICAgICAgICAgICB8fCBpKGJib3gxLCBiYm94Mi54LCBiYm94Mi55MilcbiAgICAgICAgICAgIHx8IGkoYmJveDEsIGJib3gyLngyLCBiYm94Mi55MilcbiAgICAgICAgICAgIHx8IChiYm94MS54IDwgYmJveDIueDIgJiYgYmJveDEueCA+IGJib3gyLnggfHwgYmJveDIueCA8IGJib3gxLngyICYmIGJib3gyLnggPiBiYm94MS54KVxuICAgICAgICAgICAgJiYgKGJib3gxLnkgPCBiYm94Mi55MiAmJiBiYm94MS55ID4gYmJveDIueSB8fCBiYm94Mi55IDwgYmJveDEueTIgJiYgYmJveDIueSA+IGJib3gxLnkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gYmFzZTModCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgdmFyIHQxID0gLTMgKiBwMSArIDkgKiBwMiAtIDkgKiBwMyArIDMgKiBwNCxcbiAgICAgICAgICAgIHQyID0gdCAqIHQxICsgNiAqIHAxIC0gMTIgKiBwMiArIDYgKiBwMztcbiAgICAgICAgcmV0dXJuIHQgKiB0MiAtIDMgKiBwMSArIDMgKiBwMjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmV6bGVuKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCwgeikge1xuICAgICAgICBpZiAoeiA9PSBudWxsKSB7XG4gICAgICAgICAgICB6ID0gMTtcbiAgICAgICAgfVxuICAgICAgICB6ID0geiA+IDEgPyAxIDogeiA8IDAgPyAwIDogejtcbiAgICAgICAgdmFyIHoyID0geiAvIDIsXG4gICAgICAgICAgICBuID0gMTIsXG4gICAgICAgICAgICBUdmFsdWVzID0gWy0wLjEyNTIsMC4xMjUyLC0wLjM2NzgsMC4zNjc4LC0wLjU4NzMsMC41ODczLC0wLjc2OTksMC43Njk5LC0wLjkwNDEsMC45MDQxLC0wLjk4MTYsMC45ODE2XSxcbiAgICAgICAgICAgIEN2YWx1ZXMgPSBbMC4yNDkxLDAuMjQ5MSwwLjIzMzUsMC4yMzM1LDAuMjAzMiwwLjIwMzIsMC4xNjAxLDAuMTYwMSwwLjEwNjksMC4xMDY5LDAuMDQ3MiwwLjA0NzJdLFxuICAgICAgICAgICAgc3VtID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjdCA9IHoyICogVHZhbHVlc1tpXSArIHoyLFxuICAgICAgICAgICAgICAgIHhiYXNlID0gYmFzZTMoY3QsIHgxLCB4MiwgeDMsIHg0KSxcbiAgICAgICAgICAgICAgICB5YmFzZSA9IGJhc2UzKGN0LCB5MSwgeTIsIHkzLCB5NCksXG4gICAgICAgICAgICAgICAgY29tYiA9IHhiYXNlICogeGJhc2UgKyB5YmFzZSAqIHliYXNlO1xuICAgICAgICAgICAgc3VtICs9IEN2YWx1ZXNbaV0gKiBtYXRoLnNxcnQoY29tYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHoyICogc3VtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXRMZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCBsbCkge1xuICAgICAgICBpZiAobGwgPCAwIHx8IGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIDwgbGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdCA9IDEsXG4gICAgICAgICAgICBzdGVwID0gdCAvIDIsXG4gICAgICAgICAgICB0MiA9IHQgLSBzdGVwLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGUgPSAuMDE7XG4gICAgICAgIGwgPSBiZXpsZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB0Mik7XG4gICAgICAgIHdoaWxlIChhYnMobCAtIGxsKSA+IGUpIHtcbiAgICAgICAgICAgIHN0ZXAgLz0gMjtcbiAgICAgICAgICAgIHQyICs9IChsIDwgbGwgPyAxIDogLTEpICogc3RlcDtcbiAgICAgICAgICAgIGwgPSBiZXpsZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB0Mik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcnNlY3QoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIG1tYXgoeDEsIHgyKSA8IG1taW4oeDMsIHg0KSB8fFxuICAgICAgICAgICAgbW1pbih4MSwgeDIpID4gbW1heCh4MywgeDQpIHx8XG4gICAgICAgICAgICBtbWF4KHkxLCB5MikgPCBtbWluKHkzLCB5NCkgfHxcbiAgICAgICAgICAgIG1taW4oeTEsIHkyKSA+IG1tYXgoeTMsIHk0KVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnggPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHgzIC0geDQpIC0gKHgxIC0geDIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcbiAgICAgICAgICAgIG55ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksXG4gICAgICAgICAgICBkZW5vbWluYXRvciA9ICh4MSAtIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAtIHg0KTtcblxuICAgICAgICBpZiAoIWRlbm9taW5hdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHB4ID0gbnggLyBkZW5vbWluYXRvcixcbiAgICAgICAgICAgIHB5ID0gbnkgLyBkZW5vbWluYXRvcixcbiAgICAgICAgICAgIHB4MiA9ICtweC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgcHkyID0gK3B5LnRvRml4ZWQoMik7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHB4MiA8ICttbWluKHgxLCB4MikudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHgyID4gK21tYXgoeDEsIHgyKS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweDIgPCArbW1pbih4MywgeDQpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB4MiA+ICttbWF4KHgzLCB4NCkudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHkyIDwgK21taW4oeTEsIHkyKS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweTIgPiArbW1heCh5MSwgeTIpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB5MiA8ICttbWluKHkzLCB5NCkudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHkyID4gK21tYXgoeTMsIHk0KS50b0ZpeGVkKDIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7eDogcHgsIHk6IHB5fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXIoYmV6MSwgYmV6Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJIZWxwZXIoYmV6MSwgYmV6Mik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVyQ291bnQoYmV6MSwgYmV6Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJIZWxwZXIoYmV6MSwgYmV6MiwgMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVySGVscGVyKGJlejEsIGJlejIsIGp1c3RDb3VudCkge1xuICAgICAgICB2YXIgYmJveDEgPSBSLmJlemllckJCb3goYmV6MSksXG4gICAgICAgICAgICBiYm94MiA9IFIuYmV6aWVyQkJveChiZXoyKTtcbiAgICAgICAgaWYgKCFSLmlzQkJveEludGVyc2VjdChiYm94MSwgYmJveDIpKSB7XG4gICAgICAgICAgICByZXR1cm4ganVzdENvdW50ID8gMCA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsMSA9IGJlemxlbi5hcHBseSgwLCBiZXoxKSxcbiAgICAgICAgICAgIGwyID0gYmV6bGVuLmFwcGx5KDAsIGJlejIpLFxuICAgICAgICAgICAgbjEgPSBtbWF4KH5+KGwxIC8gNSksIDEpLFxuICAgICAgICAgICAgbjIgPSBtbWF4KH5+KGwyIC8gNSksIDEpLFxuICAgICAgICAgICAgZG90czEgPSBbXSxcbiAgICAgICAgICAgIGRvdHMyID0gW10sXG4gICAgICAgICAgICB4eSA9IHt9LFxuICAgICAgICAgICAgcmVzID0ganVzdENvdW50ID8gMCA6IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4xICsgMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFIuZmluZERvdHNBdFNlZ21lbnQuYXBwbHkoUiwgYmV6MS5jb25jYXQoaSAvIG4xKSk7XG4gICAgICAgICAgICBkb3RzMS5wdXNoKHt4OiBwLngsIHk6IHAueSwgdDogaSAvIG4xfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG4yICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBwID0gUi5maW5kRG90c0F0U2VnbWVudC5hcHBseShSLCBiZXoyLmNvbmNhdChpIC8gbjIpKTtcbiAgICAgICAgICAgIGRvdHMyLnB1c2goe3g6IHAueCwgeTogcC55LCB0OiBpIC8gbjJ9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjE7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpID0gZG90czFbaV0sXG4gICAgICAgICAgICAgICAgICAgIGRpMSA9IGRvdHMxW2kgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgZGogPSBkb3RzMltqXSxcbiAgICAgICAgICAgICAgICAgICAgZGoxID0gZG90czJbaiArIDFdLFxuICAgICAgICAgICAgICAgICAgICBjaSA9IGFicyhkaTEueCAtIGRpLngpIDwgLjAwMSA/IFwieVwiIDogXCJ4XCIsXG4gICAgICAgICAgICAgICAgICAgIGNqID0gYWJzKGRqMS54IC0gZGoueCkgPCAuMDAxID8gXCJ5XCIgOiBcInhcIixcbiAgICAgICAgICAgICAgICAgICAgaXMgPSBpbnRlcnNlY3QoZGkueCwgZGkueSwgZGkxLngsIGRpMS55LCBkai54LCBkai55LCBkajEueCwgZGoxLnkpO1xuICAgICAgICAgICAgICAgIGlmIChpcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeHlbaXMueC50b0ZpeGVkKDQpXSA9PSBpcy55LnRvRml4ZWQoNCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHh5W2lzLngudG9GaXhlZCg0KV0gPSBpcy55LnRvRml4ZWQoNCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IGRpLnQgKyBhYnMoKGlzW2NpXSAtIGRpW2NpXSkgLyAoZGkxW2NpXSAtIGRpW2NpXSkpICogKGRpMS50IC0gZGkudCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0MiA9IGRqLnQgKyBhYnMoKGlzW2NqXSAtIGRqW2NqXSkgLyAoZGoxW2NqXSAtIGRqW2NqXSkpICogKGRqMS50IC0gZGoudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0MSA+PSAwICYmIHQxIDw9IDEuMDAxICYmIHQyID49IDAgJiYgdDIgPD0gMS4wMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBpcy54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBpcy55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0MTogbW1pbih0MSwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQyOiBtbWluKHQyLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhdGhJbnRlcnNlY3Rpb25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogRmluZHMgaW50ZXJzZWN0aW9ucyBvZiB0d28gcGF0aHNcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aDEgKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgLSBwYXRoMiAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICA9IChhcnJheSkgZG90cyBvZiBpbnRlcnNlY3Rpb25cbiAgICAgbyBbXG4gICAgIG8gICAgIHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgICAgIHQxOiAobnVtYmVyKSB0IHZhbHVlIGZvciBzZWdtZW50IG9mIHBhdGgxXG4gICAgIG8gICAgICAgICB0MjogKG51bWJlcikgdCB2YWx1ZSBmb3Igc2VnbWVudCBvZiBwYXRoMlxuICAgICBvICAgICAgICAgc2VnbWVudDE6IChudW1iZXIpIG9yZGVyIG51bWJlciBmb3Igc2VnbWVudCBvZiBwYXRoMVxuICAgICBvICAgICAgICAgc2VnbWVudDI6IChudW1iZXIpIG9yZGVyIG51bWJlciBmb3Igc2VnbWVudCBvZiBwYXRoMlxuICAgICBvICAgICAgICAgYmV6MTogKGFycmF5KSBlaWdodCBjb29yZGluYXRlcyByZXByZXNlbnRpbmcgYmV6acOpciBjdXJ2ZSBmb3IgdGhlIHNlZ21lbnQgb2YgcGF0aDFcbiAgICAgbyAgICAgICAgIGJlejI6IChhcnJheSkgZWlnaHQgY29vcmRpbmF0ZXMgcmVwcmVzZW50aW5nIGJlemnDqXIgY3VydmUgZm9yIHRoZSBzZWdtZW50IG9mIHBhdGgyXG4gICAgIG8gICAgIH1cbiAgICAgbyBdXG4gICAgXFwqL1xuICAgIFIucGF0aEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIpIHtcbiAgICAgICAgcmV0dXJuIGludGVyUGF0aEhlbHBlcihwYXRoMSwgcGF0aDIpO1xuICAgIH07XG4gICAgUi5wYXRoSW50ZXJzZWN0aW9uTnVtYmVyID0gZnVuY3Rpb24gKHBhdGgxLCBwYXRoMikge1xuICAgICAgICByZXR1cm4gaW50ZXJQYXRoSGVscGVyKHBhdGgxLCBwYXRoMiwgMSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpbnRlclBhdGhIZWxwZXIocGF0aDEsIHBhdGgyLCBqdXN0Q291bnQpIHtcbiAgICAgICAgcGF0aDEgPSBSLl9wYXRoMmN1cnZlKHBhdGgxKTtcbiAgICAgICAgcGF0aDIgPSBSLl9wYXRoMmN1cnZlKHBhdGgyKTtcbiAgICAgICAgdmFyIHgxLCB5MSwgeDIsIHkyLCB4MW0sIHkxbSwgeDJtLCB5Mm0sIGJlejEsIGJlejIsXG4gICAgICAgICAgICByZXMgPSBqdXN0Q291bnQgPyAwIDogW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBhdGgxLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwaSA9IHBhdGgxW2ldO1xuICAgICAgICAgICAgaWYgKHBpWzBdID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgeDEgPSB4MW0gPSBwaVsxXTtcbiAgICAgICAgICAgICAgICB5MSA9IHkxbSA9IHBpWzJdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGlbMF0gPT0gXCJDXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYmV6MSA9IFt4MSwgeTFdLmNvbmNhdChwaS5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgIHgxID0gYmV6MVs2XTtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBiZXoxWzddO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlejEgPSBbeDEsIHkxLCB4MSwgeTEsIHgxbSwgeTFtLCB4MW0sIHkxbV07XG4gICAgICAgICAgICAgICAgICAgIHgxID0geDFtO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IHkxbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gcGF0aDIubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGogPSBwYXRoMltqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBqWzBdID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHgybSA9IHBqWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSB5Mm0gPSBwalsyXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwalswXSA9PSBcIkNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyXS5jb25jYXQocGouc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gYmV6Mls2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGJlejJbN107XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyLCB4MiwgeTIsIHgybSwgeTJtLCB4Mm0sIHkybV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSB4Mm07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSB5Mm07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW50ciA9IGludGVySGVscGVyKGJlejEsIGJlejIsIGp1c3RDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanVzdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9IGludHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IGludHIubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRyW2tdLnNlZ21lbnQxID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cltrXS5zZWdtZW50MiA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHJba10uYmV6MSA9IGJlejE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHJba10uYmV6MiA9IGJlejI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQoaW50cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaXNQb2ludEluc2lkZVBhdGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIGEgZ2l2ZW4gY2xvc2VkIHBhdGguXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGggKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgLSB4IChudW1iZXIpIHggb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSB0cnVlLCBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIHBhdGhcbiAgICBcXCovXG4gICAgUi5pc1BvaW50SW5zaWRlUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCB4LCB5KSB7XG4gICAgICAgIHZhciBiYm94ID0gUi5wYXRoQkJveChwYXRoKTtcbiAgICAgICAgcmV0dXJuIFIuaXNQb2ludEluc2lkZUJCb3goYmJveCwgeCwgeSkgJiZcbiAgICAgICAgICAgICAgIGludGVyUGF0aEhlbHBlcihwYXRoLCBbW1wiTVwiLCB4LCB5XSwgW1wiSFwiLCBiYm94LngyICsgMTBdXSwgMSkgJSAyID09IDE7XG4gICAgfTtcbiAgICBSLl9yZW1vdmVkRmFjdG9yeSA9IGZ1bmN0aW9uIChtZXRob2RuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmxvZ1wiLCBudWxsLCBcIlJhcGhhXFx4ZWJsOiB5b3UgYXJlIGNhbGxpbmcgdG8gbWV0aG9kIFxcdTIwMWNcIiArIG1ldGhvZG5hbWUgKyBcIlxcdTIwMWQgb2YgcmVtb3ZlZCBvYmplY3RcIiwgbWV0aG9kbmFtZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5wYXRoQkJveFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm4gYm91bmRpbmcgYm94IG9mIGEgZ2l2ZW4gcGF0aFxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgID0gKG9iamVjdCkgYm91bmRpbmcgYm94XG4gICAgIG8ge1xuICAgICBvICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgdG9wIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHRvcCBwb2ludCBvZiB0aGUgYm94XG4gICAgIG8gICAgIHgyOiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IGJvdHRvbSBwb2ludCBvZiB0aGUgYm94XG4gICAgIG8gICAgIHkyOiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IGJvdHRvbSBwb2ludCBvZiB0aGUgYm94XG4gICAgIG8gICAgIHdpZHRoOiAobnVtYmVyKSB3aWR0aCBvZiB0aGUgYm94XG4gICAgIG8gICAgIGhlaWdodDogKG51bWJlcikgaGVpZ2h0IG9mIHRoZSBib3hcbiAgICAgbyAgICAgY3g6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBib3hcbiAgICAgbyAgICAgY3k6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBib3hcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIHZhciBwYXRoRGltZW5zaW9ucyA9IFIucGF0aEJCb3ggPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB2YXIgcHRoID0gcGF0aHMocGF0aCk7XG4gICAgICAgIGlmIChwdGguYmJveCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lKHB0aC5iYm94KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7eDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCwgeDI6IDAsIHkyOiAwfTtcbiAgICAgICAgfVxuICAgICAgICBwYXRoID0gcGF0aDJjdXJ2ZShwYXRoKTtcbiAgICAgICAgdmFyIHggPSAwLFxuICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICBYID0gW10sXG4gICAgICAgICAgICBZID0gW10sXG4gICAgICAgICAgICBwO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXRoLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHAgPSBwYXRoW2ldO1xuICAgICAgICAgICAgaWYgKHBbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICB4ID0gcFsxXTtcbiAgICAgICAgICAgICAgICB5ID0gcFsyXTtcbiAgICAgICAgICAgICAgICBYLnB1c2goeCk7XG4gICAgICAgICAgICAgICAgWS5wdXNoKHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGltID0gY3VydmVEaW0oeCwgeSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSwgcFs2XSk7XG4gICAgICAgICAgICAgICAgWCA9IFhbY29uY2F0XShkaW0ubWluLngsIGRpbS5tYXgueCk7XG4gICAgICAgICAgICAgICAgWSA9IFlbY29uY2F0XShkaW0ubWluLnksIGRpbS5tYXgueSk7XG4gICAgICAgICAgICAgICAgeCA9IHBbNV07XG4gICAgICAgICAgICAgICAgeSA9IHBbNl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHhtaW4gPSBtbWluW2FwcGx5XSgwLCBYKSxcbiAgICAgICAgICAgIHltaW4gPSBtbWluW2FwcGx5XSgwLCBZKSxcbiAgICAgICAgICAgIHhtYXggPSBtbWF4W2FwcGx5XSgwLCBYKSxcbiAgICAgICAgICAgIHltYXggPSBtbWF4W2FwcGx5XSgwLCBZKSxcbiAgICAgICAgICAgIHdpZHRoID0geG1heCAtIHhtaW4sXG4gICAgICAgICAgICBoZWlnaHQgPSB5bWF4IC0geW1pbixcbiAgICAgICAgICAgICAgICBiYiA9IHtcbiAgICAgICAgICAgICAgICB4OiB4bWluLFxuICAgICAgICAgICAgICAgIHk6IHltaW4sXG4gICAgICAgICAgICAgICAgeDI6IHhtYXgsXG4gICAgICAgICAgICAgICAgeTI6IHltYXgsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGN4OiB4bWluICsgd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGN5OiB5bWluICsgaGVpZ2h0IC8gMlxuICAgICAgICAgICAgfTtcbiAgICAgICAgcHRoLmJib3ggPSBjbG9uZShiYik7XG4gICAgICAgIHJldHVybiBiYjtcbiAgICB9LFxuICAgICAgICBwYXRoQ2xvbmUgPSBmdW5jdGlvbiAocGF0aEFycmF5KSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gY2xvbmUocGF0aEFycmF5KTtcbiAgICAgICAgICAgIHJlcy50b1N0cmluZyA9IFIuX3BhdGgyc3RyaW5nO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSxcbiAgICAgICAgcGF0aFRvUmVsYXRpdmUgPSBSLl9wYXRoVG9SZWxhdGl2ZSA9IGZ1bmN0aW9uIChwYXRoQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBwdGggPSBwYXRocyhwYXRoQXJyYXkpO1xuICAgICAgICAgICAgaWYgKHB0aC5yZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aENsb25lKHB0aC5yZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFSLmlzKHBhdGhBcnJheSwgYXJyYXkpIHx8ICFSLmlzKHBhdGhBcnJheSAmJiBwYXRoQXJyYXlbMF0sIGFycmF5KSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgICAgICAgICAgICAgcGF0aEFycmF5ID0gUi5wYXJzZVBhdGhTdHJpbmcocGF0aEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgICAgICB5ID0gMCxcbiAgICAgICAgICAgICAgICBteCA9IDAsXG4gICAgICAgICAgICAgICAgbXkgPSAwLFxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGlmIChwYXRoQXJyYXlbMF1bMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICB4ID0gcGF0aEFycmF5WzBdWzFdO1xuICAgICAgICAgICAgICAgIHkgPSBwYXRoQXJyYXlbMF1bMl07XG4gICAgICAgICAgICAgICAgbXggPSB4O1xuICAgICAgICAgICAgICAgIG15ID0geTtcbiAgICAgICAgICAgICAgICBzdGFydCsrO1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKFtcIk1cIiwgeCwgeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBpaSA9IHBhdGhBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSByZXNbaV0gPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcGEgPSBwYXRoQXJyYXlbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBhWzBdICE9IGxvd2VyQ2FzZS5jYWxsKHBhWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICByWzBdID0gbG93ZXJDYXNlLmNhbGwocGFbMF0pO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsxXSA9IHBhWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMl0gPSBwYVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzNdID0gcGFbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls0XSA9IHBhWzRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNV0gPSBwYVs1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzZdID0gKyhwYVs2XSAtIHgpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls3XSA9ICsocGFbN10gLSB5KS50b0ZpeGVkKDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gKyhwYVsxXSAtIHkpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gcGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXkgPSBwYVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gcGEubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByW2pdID0gKyhwYVtqXSAtICgoaiAlIDIpID8geCA6IHkpKS50b0ZpeGVkKDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSByZXNbaV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhWzBdID09IFwibVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBteCA9IHBhWzFdICsgeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15ID0gcGFbMl0gKyB5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IHBhLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1tpXVtrXSA9IHBhW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSByZXNbaV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzW2ldWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gbXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gbXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK3Jlc1tpXVtsZW4gLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSArcmVzW2ldW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICtyZXNbaV1bbGVuIC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICtyZXNbaV1bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgICAgICBwdGgucmVsID0gcGF0aENsb25lKHJlcyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICBwYXRoVG9BYnNvbHV0ZSA9IFIuX3BhdGhUb0Fic29sdXRlID0gZnVuY3Rpb24gKHBhdGhBcnJheSkge1xuICAgICAgICAgICAgdmFyIHB0aCA9IHBhdGhzKHBhdGhBcnJheSk7XG4gICAgICAgICAgICBpZiAocHRoLmFicykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmFicyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIVIuaXMocGF0aEFycmF5LCBhcnJheSkgfHwgIVIuaXMocGF0aEFycmF5ICYmIHBhdGhBcnJheVswXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgICAgICBwYXRoQXJyYXkgPSBSLnBhcnNlUGF0aFN0cmluZyhwYXRoQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXRoQXJyYXkgfHwgIXBhdGhBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tcIk1cIiwgMCwgMF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgICAgIG14ID0gMCxcbiAgICAgICAgICAgICAgICBteSA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHBhdGhBcnJheVswXVswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgIHggPSArcGF0aEFycmF5WzBdWzFdO1xuICAgICAgICAgICAgICAgIHkgPSArcGF0aEFycmF5WzBdWzJdO1xuICAgICAgICAgICAgICAgIG14ID0geDtcbiAgICAgICAgICAgICAgICBteSA9IHk7XG4gICAgICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgICAgICAgICByZXNbMF0gPSBbXCJNXCIsIHgsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNyeiA9IHBhdGhBcnJheS5sZW5ndGggPT0gMyAmJiBwYXRoQXJyYXlbMF1bMF0gPT0gXCJNXCIgJiYgcGF0aEFycmF5WzFdWzBdLnRvVXBwZXJDYXNlKCkgPT0gXCJSXCIgJiYgcGF0aEFycmF5WzJdWzBdLnRvVXBwZXJDYXNlKCkgPT0gXCJaXCI7XG4gICAgICAgICAgICBmb3IgKHZhciByLCBwYSwgaSA9IHN0YXJ0LCBpaSA9IHBhdGhBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gociA9IFtdKTtcbiAgICAgICAgICAgICAgICBwYSA9IHBhdGhBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocGFbMF0gIT0gdXBwZXJDYXNlLmNhbGwocGFbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJbMF0gPSB1cHBlckNhc2UuY2FsbChwYVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gcGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsyXSA9IHBhWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbM10gPSBwYVszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzRdID0gcGFbNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls1XSA9IHBhWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNl0gPSArKHBhWzZdICsgeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls3XSA9ICsocGFbN10gKyB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsxXSA9ICtwYVsxXSArIHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMV0gPSArcGFbMV0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG90cyA9IFt4LCB5XVtjb25jYXRdKHBhLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMiwgamogPSBkb3RzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90c1tqXSA9ICtkb3RzW2pdICsgeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90c1srK2pdID0gK2RvdHNbal0gKyB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW2NvbmNhdF0oY2F0bXVsbFJvbTJiZXppZXIoZG90cywgY3J6KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gK3BhWzFdICsgeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteSA9ICtwYVsyXSArIHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDEsIGpqID0gcGEubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByW2pdID0gK3BhW2pdICsgKChqICUgMikgPyB4IDogeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYVswXSA9PSBcIlJcIikge1xuICAgICAgICAgICAgICAgICAgICBkb3RzID0gW3gsIHldW2NvbmNhdF0ocGEuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICByZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlc1tjb25jYXRdKGNhdG11bGxSb20yYmV6aWVyKGRvdHMsIGNyeikpO1xuICAgICAgICAgICAgICAgICAgICByID0gW1wiUlwiXVtjb25jYXRdKHBhLnNsaWNlKC0yKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gcGEubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcltrXSA9IHBhW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IG14O1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG15O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gclsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHJbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gcltyLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXkgPSByW3IubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcltyLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudG9TdHJpbmcgPSBSLl9wYXRoMnN0cmluZztcbiAgICAgICAgICAgIHB0aC5hYnMgPSBwYXRoQ2xvbmUocmVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGwyYyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgcmV0dXJuIFt4MSwgeTEsIHgyLCB5MiwgeDIsIHkyXTtcbiAgICAgICAgfSxcbiAgICAgICAgcTJjID0gZnVuY3Rpb24gKHgxLCB5MSwgYXgsIGF5LCB4MiwgeTIpIHtcbiAgICAgICAgICAgIHZhciBfMTMgPSAxIC8gMyxcbiAgICAgICAgICAgICAgICBfMjMgPSAyIC8gMztcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHgxICsgXzIzICogYXgsXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHkxICsgXzIzICogYXksXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHgyICsgXzIzICogYXgsXG4gICAgICAgICAgICAgICAgICAgIF8xMyAqIHkyICsgXzIzICogYXksXG4gICAgICAgICAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgICAgICAgICB5MlxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG4gICAgICAgIGEyYyA9IGZ1bmN0aW9uICh4MSwgeTEsIHJ4LCByeSwgYW5nbGUsIGxhcmdlX2FyY19mbGFnLCBzd2VlcF9mbGFnLCB4MiwgeTIsIHJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgLy8gZm9yIG1vcmUgaW5mb3JtYXRpb24gb2Ygd2hlcmUgdGhpcyBtYXRoIGNhbWUgZnJvbSB2aXNpdDpcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ltcGxub3RlLmh0bWwjQXJjSW1wbGVtZW50YXRpb25Ob3Rlc1xuICAgICAgICAgICAgdmFyIF8xMjAgPSBQSSAqIDEyMCAvIDE4MCxcbiAgICAgICAgICAgICAgICByYWQgPSBQSSAvIDE4MCAqICgrYW5nbGUgfHwgMCksXG4gICAgICAgICAgICAgICAgcmVzID0gW10sXG4gICAgICAgICAgICAgICAgeHksXG4gICAgICAgICAgICAgICAgcm90YXRlID0gY2FjaGVyKGZ1bmN0aW9uICh4LCB5LCByYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFggPSB4ICogbWF0aC5jb3MocmFkKSAtIHkgKiBtYXRoLnNpbihyYWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgWSA9IHggKiBtYXRoLnNpbihyYWQpICsgeSAqIG1hdGguY29zKHJhZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7eDogWCwgeTogWX07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgICAgIHh5ID0gcm90YXRlKHgxLCB5MSwgLXJhZCk7XG4gICAgICAgICAgICAgICAgeDEgPSB4eS54O1xuICAgICAgICAgICAgICAgIHkxID0geHkueTtcbiAgICAgICAgICAgICAgICB4eSA9IHJvdGF0ZSh4MiwgeTIsIC1yYWQpO1xuICAgICAgICAgICAgICAgIHgyID0geHkueDtcbiAgICAgICAgICAgICAgICB5MiA9IHh5Lnk7XG4gICAgICAgICAgICAgICAgdmFyIGNvcyA9IG1hdGguY29zKFBJIC8gMTgwICogYW5nbGUpLFxuICAgICAgICAgICAgICAgICAgICBzaW4gPSBtYXRoLnNpbihQSSAvIDE4MCAqIGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgeCA9ICh4MSAtIHgyKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHkgPSAoeTEgLSB5MikgLyAyO1xuICAgICAgICAgICAgICAgIHZhciBoID0gKHggKiB4KSAvIChyeCAqIHJ4KSArICh5ICogeSkgLyAocnkgKiByeSk7XG4gICAgICAgICAgICAgICAgaWYgKGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGggPSBtYXRoLnNxcnQoaCk7XG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gaCAqIHJ4O1xuICAgICAgICAgICAgICAgICAgICByeSA9IGggKiByeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJ4MiA9IHJ4ICogcngsXG4gICAgICAgICAgICAgICAgICAgIHJ5MiA9IHJ5ICogcnksXG4gICAgICAgICAgICAgICAgICAgIGsgPSAobGFyZ2VfYXJjX2ZsYWcgPT0gc3dlZXBfZmxhZyA/IC0xIDogMSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0aC5zcXJ0KGFicygocngyICogcnkyIC0gcngyICogeSAqIHkgLSByeTIgKiB4ICogeCkgLyAocngyICogeSAqIHkgKyByeTIgKiB4ICogeCkpKSxcbiAgICAgICAgICAgICAgICAgICAgY3ggPSBrICogcnggKiB5IC8gcnkgKyAoeDEgKyB4MikgLyAyLFxuICAgICAgICAgICAgICAgICAgICBjeSA9IGsgKiAtcnkgKiB4IC8gcnggKyAoeTEgKyB5MikgLyAyLFxuICAgICAgICAgICAgICAgICAgICBmMSA9IG1hdGguYXNpbigoKHkxIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpLFxuICAgICAgICAgICAgICAgICAgICBmMiA9IG1hdGguYXNpbigoKHkyIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpO1xuXG4gICAgICAgICAgICAgICAgZjEgPSB4MSA8IGN4ID8gUEkgLSBmMSA6IGYxO1xuICAgICAgICAgICAgICAgIGYyID0geDIgPCBjeCA/IFBJIC0gZjIgOiBmMjtcbiAgICAgICAgICAgICAgICBmMSA8IDAgJiYgKGYxID0gUEkgKiAyICsgZjEpO1xuICAgICAgICAgICAgICAgIGYyIDwgMCAmJiAoZjIgPSBQSSAqIDIgKyBmMik7XG4gICAgICAgICAgICAgICAgaWYgKHN3ZWVwX2ZsYWcgJiYgZjEgPiBmMikge1xuICAgICAgICAgICAgICAgICAgICBmMSA9IGYxIC0gUEkgKiAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXN3ZWVwX2ZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgICAgICAgICAgICAgICBmMiA9IGYyIC0gUEkgKiAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZjEgPSByZWN1cnNpdmVbMF07XG4gICAgICAgICAgICAgICAgZjIgPSByZWN1cnNpdmVbMV07XG4gICAgICAgICAgICAgICAgY3ggPSByZWN1cnNpdmVbMl07XG4gICAgICAgICAgICAgICAgY3kgPSByZWN1cnNpdmVbM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGYgPSBmMiAtIGYxO1xuICAgICAgICAgICAgaWYgKGFicyhkZikgPiBfMTIwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYyb2xkID0gZjIsXG4gICAgICAgICAgICAgICAgICAgIHgyb2xkID0geDIsXG4gICAgICAgICAgICAgICAgICAgIHkyb2xkID0geTI7XG4gICAgICAgICAgICAgICAgZjIgPSBmMSArIF8xMjAgKiAoc3dlZXBfZmxhZyAmJiBmMiA+IGYxID8gMSA6IC0xKTtcbiAgICAgICAgICAgICAgICB4MiA9IGN4ICsgcnggKiBtYXRoLmNvcyhmMik7XG4gICAgICAgICAgICAgICAgeTIgPSBjeSArIHJ5ICogbWF0aC5zaW4oZjIpO1xuICAgICAgICAgICAgICAgIHJlcyA9IGEyYyh4MiwgeTIsIHJ4LCByeSwgYW5nbGUsIDAsIHN3ZWVwX2ZsYWcsIHgyb2xkLCB5Mm9sZCwgW2YyLCBmMm9sZCwgY3gsIGN5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZiA9IGYyIC0gZjE7XG4gICAgICAgICAgICB2YXIgYzEgPSBtYXRoLmNvcyhmMSksXG4gICAgICAgICAgICAgICAgczEgPSBtYXRoLnNpbihmMSksXG4gICAgICAgICAgICAgICAgYzIgPSBtYXRoLmNvcyhmMiksXG4gICAgICAgICAgICAgICAgczIgPSBtYXRoLnNpbihmMiksXG4gICAgICAgICAgICAgICAgdCA9IG1hdGgudGFuKGRmIC8gNCksXG4gICAgICAgICAgICAgICAgaHggPSA0IC8gMyAqIHJ4ICogdCxcbiAgICAgICAgICAgICAgICBoeSA9IDQgLyAzICogcnkgKiB0LFxuICAgICAgICAgICAgICAgIG0xID0gW3gxLCB5MV0sXG4gICAgICAgICAgICAgICAgbTIgPSBbeDEgKyBoeCAqIHMxLCB5MSAtIGh5ICogYzFdLFxuICAgICAgICAgICAgICAgIG0zID0gW3gyICsgaHggKiBzMiwgeTIgLSBoeSAqIGMyXSxcbiAgICAgICAgICAgICAgICBtNCA9IFt4MiwgeTJdO1xuICAgICAgICAgICAgbTJbMF0gPSAyICogbTFbMF0gLSBtMlswXTtcbiAgICAgICAgICAgIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG4gICAgICAgICAgICBpZiAocmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFttMiwgbTMsIG00XVtjb25jYXRdKHJlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcyA9IFttMiwgbTMsIG00XVtjb25jYXRdKHJlcykuam9pbigpW3NwbGl0XShcIixcIik7XG4gICAgICAgICAgICAgICAgdmFyIG5ld3JlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld3Jlc1tpXSA9IGkgJSAyID8gcm90YXRlKHJlc1tpIC0gMV0sIHJlc1tpXSwgcmFkKS55IDogcm90YXRlKHJlc1tpXSwgcmVzW2kgKyAxXSwgcmFkKS54O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3cmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaW5kRG90QXRTZWdtZW50ID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0KSB7XG4gICAgICAgICAgICB2YXIgdDEgPSAxIC0gdDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogcG93KHQxLCAzKSAqIHAxeCArIHBvdyh0MSwgMikgKiAzICogdCAqIGMxeCArIHQxICogMyAqIHQgKiB0ICogYzJ4ICsgcG93KHQsIDMpICogcDJ4LFxuICAgICAgICAgICAgICAgIHk6IHBvdyh0MSwgMykgKiBwMXkgKyBwb3codDEsIDIpICogMyAqIHQgKiBjMXkgKyB0MSAqIDMgKiB0ICogdCAqIGMyeSArIHBvdyh0LCAzKSAqIHAyeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY3VydmVEaW0gPSBjYWNoZXIoZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5KSB7XG4gICAgICAgICAgICB2YXIgYSA9IChjMnggLSAyICogYzF4ICsgcDF4KSAtIChwMnggLSAyICogYzJ4ICsgYzF4KSxcbiAgICAgICAgICAgICAgICBiID0gMiAqIChjMXggLSBwMXgpIC0gMiAqIChjMnggLSBjMXgpLFxuICAgICAgICAgICAgICAgIGMgPSBwMXggLSBjMXgsXG4gICAgICAgICAgICAgICAgdDEgPSAoLWIgKyBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhLFxuICAgICAgICAgICAgICAgIHQyID0gKC1iIC0gbWF0aC5zcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSkgLyAyIC8gYSxcbiAgICAgICAgICAgICAgICB5ID0gW3AxeSwgcDJ5XSxcbiAgICAgICAgICAgICAgICB4ID0gW3AxeCwgcDJ4XSxcbiAgICAgICAgICAgICAgICBkb3Q7XG4gICAgICAgICAgICBhYnModDEpID4gXCIxZTEyXCIgJiYgKHQxID0gLjUpO1xuICAgICAgICAgICAgYWJzKHQyKSA+IFwiMWUxMlwiICYmICh0MiA9IC41KTtcbiAgICAgICAgICAgIGlmICh0MSA+IDAgJiYgdDEgPCAxKSB7XG4gICAgICAgICAgICAgICAgZG90ID0gZmluZERvdEF0U2VnbWVudChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdDEpO1xuICAgICAgICAgICAgICAgIHgucHVzaChkb3QueCk7XG4gICAgICAgICAgICAgICAgeS5wdXNoKGRvdC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0MiA+IDAgJiYgdDIgPCAxKSB7XG4gICAgICAgICAgICAgICAgZG90ID0gZmluZERvdEF0U2VnbWVudChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdDIpO1xuICAgICAgICAgICAgICAgIHgucHVzaChkb3QueCk7XG4gICAgICAgICAgICAgICAgeS5wdXNoKGRvdC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSAoYzJ5IC0gMiAqIGMxeSArIHAxeSkgLSAocDJ5IC0gMiAqIGMyeSArIGMxeSk7XG4gICAgICAgICAgICBiID0gMiAqIChjMXkgLSBwMXkpIC0gMiAqIChjMnkgLSBjMXkpO1xuICAgICAgICAgICAgYyA9IHAxeSAtIGMxeTtcbiAgICAgICAgICAgIHQxID0gKC1iICsgbWF0aC5zcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSkgLyAyIC8gYTtcbiAgICAgICAgICAgIHQyID0gKC1iIC0gbWF0aC5zcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSkgLyAyIC8gYTtcbiAgICAgICAgICAgIGFicyh0MSkgPiBcIjFlMTJcIiAmJiAodDEgPSAuNSk7XG4gICAgICAgICAgICBhYnModDIpID4gXCIxZTEyXCIgJiYgKHQyID0gLjUpO1xuICAgICAgICAgICAgaWYgKHQxID4gMCAmJiB0MSA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0MSk7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0Mik7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IHt4OiBtbWluW2FwcGx5XSgwLCB4KSwgeTogbW1pblthcHBseV0oMCwgeSl9LFxuICAgICAgICAgICAgICAgIG1heDoge3g6IG1tYXhbYXBwbHldKDAsIHgpLCB5OiBtbWF4W2FwcGx5XSgwLCB5KX1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBwYXRoMmN1cnZlID0gUi5fcGF0aDJjdXJ2ZSA9IGNhY2hlcihmdW5jdGlvbiAocGF0aCwgcGF0aDIpIHtcbiAgICAgICAgICAgIHZhciBwdGggPSAhcGF0aDIgJiYgcGF0aHMocGF0aCk7XG4gICAgICAgICAgICBpZiAoIXBhdGgyICYmIHB0aC5jdXJ2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmN1cnZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwID0gcGF0aFRvQWJzb2x1dGUocGF0aCksXG4gICAgICAgICAgICAgICAgcDIgPSBwYXRoMiAmJiBwYXRoVG9BYnNvbHV0ZShwYXRoMiksXG4gICAgICAgICAgICAgICAgYXR0cnMgPSB7eDogMCwgeTogMCwgYng6IDAsIGJ5OiAwLCBYOiAwLCBZOiAwLCBxeDogbnVsbCwgcXk6IG51bGx9LFxuICAgICAgICAgICAgICAgIGF0dHJzMiA9IHt4OiAwLCB5OiAwLCBieDogMCwgYnk6IDAsIFg6IDAsIFk6IDAsIHF4OiBudWxsLCBxeTogbnVsbH0sXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1BhdGggPSBmdW5jdGlvbiAocGF0aCwgZCwgcGNvbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbngsIG55LCB0cSA9IHtUOjEsIFE6MX07XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcIkNcIiwgZC54LCBkLnksIGQueCwgZC55LCBkLngsIGQueV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIShwYXRoWzBdIGluIHRxKSAmJiAoZC5xeCA9IGQucXkgPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYXRoWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuWCA9IHBhdGhbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5ZID0gcGF0aFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShhMmNbYXBwbHldKDAsIFtkLngsIGQueV1bY29uY2F0XShwYXRoLnNsaWNlKDEpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGNvbSA9PSBcIkNcIiB8fCBwY29tID09IFwiU1wiKSB7IC8vIEluIFwiU1wiIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgQy9TLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueCA9IGQueCAqIDIgLSBkLmJ4OyAgICAgICAgICAvLyBBbmQgcmVmbGVjdCB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnkgPSBkLnkgKiAyIC0gZC5ieTsgICAgICAgICAgLy8gY29tbWFuZCdzIGNvbnRyb2wgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcG9pbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBzb21lIGVsc2Ugb3Igbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueCA9IGQueDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnkgPSBkLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBbXCJDXCIsIG54LCBueV1bY29uY2F0XShwYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBjb20gPT0gXCJRXCIgfHwgcGNvbSA9PSBcIlRcIikgeyAvLyBJbiBcIlRcIiBjYXNlIHdlIGhhdmUgdG8gdGFrZSBpbnRvIGFjY291bnQsIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIGlzIFEvVC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeCA9IGQueCAqIDIgLSBkLnF4OyAgICAgICAgLy8gQW5kIG1ha2UgYSByZWZsZWN0aW9uIHNpbWlsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeSA9IGQueSAqIDIgLSBkLnF5OyAgICAgICAgLy8gdG8gY2FzZSBcIlNcIi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHNvbWV0aGluZyBlbHNlIG9yIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeCA9IGQueDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeSA9IGQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShxMmMoZC54LCBkLnksIGQucXgsIGQucXksIHBhdGhbMV0sIHBhdGhbMl0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeCA9IHBhdGhbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xeSA9IHBhdGhbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShxMmMoZC54LCBkLnksIHBhdGhbMV0sIHBhdGhbMl0sIHBhdGhbM10sIHBhdGhbNF0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShsMmMoZC54LCBkLnksIHBhdGhbMV0sIHBhdGhbMl0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShsMmMoZC54LCBkLnksIHBhdGhbMV0sIGQueSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGwyYyhkLngsIGQueSwgZC54LCBwYXRoWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBbXCJDXCJdW2NvbmNhdF0obDJjKGQueCwgZC55LCBkLlgsIGQuWSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZml4QXJjID0gZnVuY3Rpb24gKHBwLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcFtpXS5sZW5ndGggPiA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcFtpXS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpID0gcHBbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNvbXMxW2ldPVwiQVwiOyAvLyBpZiBjcmVhdGVkIG11bHRpcGxlIEM6cywgdGhlaXIgb3JpZ2luYWwgc2VnIGlzIHNhdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDIgJiYgKHBjb21zMltpXT1cIkFcIik7IC8vIHRoZSBzYW1lIGFzIGFib3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHAuc3BsaWNlKGkrKywgMCwgW1wiQ1wiXVtjb25jYXRdKHBpLnNwbGljZSgwLCA2KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHAuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWkgPSBtbWF4KHAubGVuZ3RoLCBwMiAmJiBwMi5sZW5ndGggfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpeE0gPSBmdW5jdGlvbiAocGF0aDEsIHBhdGgyLCBhMSwgYTIsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgxICYmIHBhdGgyICYmIHBhdGgxW2ldWzBdID09IFwiTVwiICYmIHBhdGgyW2ldWzBdICE9IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoMi5zcGxpY2UoaSwgMCwgW1wiTVwiLCBhMi54LCBhMi55XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS5ieCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS5ieSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS54ID0gcGF0aDFbaV1bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBhMS55ID0gcGF0aDFbaV1bMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpaSA9IG1tYXgocC5sZW5ndGgsIHAyICYmIHAyLmxlbmd0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGNvbXMxID0gW10sIC8vIHBhdGggY29tbWFuZHMgb2Ygb3JpZ2luYWwgcGF0aCBwXG4gICAgICAgICAgICAgICAgcGNvbXMyID0gW10sIC8vIHBhdGggY29tbWFuZHMgb2Ygb3JpZ2luYWwgcGF0aCBwMlxuICAgICAgICAgICAgICAgIHBmaXJzdCA9IFwiXCIsIC8vIHRlbXBvcmFyeSBob2xkZXIgZm9yIG9yaWdpbmFsIHBhdGggY29tbWFuZFxuICAgICAgICAgICAgICAgIHBjb20gPSBcIlwiOyAvLyBob2xkZXIgZm9yIHByZXZpb3VzIHBhdGggY29tbWFuZCBvZiBvcmlnaW5hbCBwYXRoXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBtbWF4KHAubGVuZ3RoLCBwMiAmJiBwMi5sZW5ndGggfHwgMCk7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFtpXSAmJiAocGZpcnN0ID0gcFtpXVswXSk7IC8vIHNhdmUgY3VycmVudCBwYXRoIGNvbW1hbmRcblxuICAgICAgICAgICAgICAgIGlmIChwZmlyc3QgIT0gXCJDXCIpIC8vIEMgaXMgbm90IHNhdmVkIHlldCwgYmVjYXVzZSBpdCBtYXkgYmUgcmVzdWx0IG9mIGNvbnZlcnNpb25cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHBjb21zMVtpXSA9IHBmaXJzdDsgLy8gU2F2ZSBjdXJyZW50IHBhdGggY29tbWFuZFxuICAgICAgICAgICAgICAgICAgICBpICYmICggcGNvbSA9IHBjb21zMVtpLTFdKTsgLy8gR2V0IHByZXZpb3VzIHBhdGggY29tbWFuZCBwY29tXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBbaV0gPSBwcm9jZXNzUGF0aChwW2ldLCBhdHRycywgcGNvbSk7IC8vIFByZXZpb3VzIHBhdGggY29tbWFuZCBpcyBpbnB1dHRlZCB0byBwcm9jZXNzUGF0aFxuXG4gICAgICAgICAgICAgICAgaWYgKHBjb21zMVtpXSAhPSBcIkFcIiAmJiBwZmlyc3QgPT0gXCJDXCIpIHBjb21zMVtpXSA9IFwiQ1wiOyAvLyBBIGlzIHRoZSBvbmx5IGNvbW1hbmRcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBtYXkgcHJvZHVjZSBtdWx0aXBsZSBDOnNcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBoYXZlIHRvIG1ha2Ugc3VyZSB0aGF0IEMgaXMgYWxzbyBDIGluIG9yaWdpbmFsIHBhdGhcblxuICAgICAgICAgICAgICAgIGZpeEFyYyhwLCBpKTsgLy8gZml4QXJjIGFkZHMgYWxzbyB0aGUgcmlnaHQgYW1vdW50IG9mIEE6cyB0byBwY29tczFcblxuICAgICAgICAgICAgICAgIGlmIChwMikgeyAvLyB0aGUgc2FtZSBwcm9jZWR1cmVzIGlzIGRvbmUgdG8gcDJcbiAgICAgICAgICAgICAgICAgICAgcDJbaV0gJiYgKHBmaXJzdCA9IHAyW2ldWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBmaXJzdCAhPSBcIkNcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGNvbXMyW2ldID0gcGZpcnN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaSAmJiAocGNvbSA9IHBjb21zMltpLTFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwMltpXSA9IHByb2Nlc3NQYXRoKHAyW2ldLCBhdHRyczIsIHBjb20pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwY29tczJbaV0hPVwiQVwiICYmIHBmaXJzdD09XCJDXCIpIHBjb21zMltpXT1cIkNcIjtcblxuICAgICAgICAgICAgICAgICAgICBmaXhBcmMocDIsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaXhNKHAsIHAyLCBhdHRycywgYXR0cnMyLCBpKTtcbiAgICAgICAgICAgICAgICBmaXhNKHAyLCBwLCBhdHRyczIsIGF0dHJzLCBpKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VnID0gcFtpXSxcbiAgICAgICAgICAgICAgICAgICAgc2VnMiA9IHAyICYmIHAyW2ldLFxuICAgICAgICAgICAgICAgICAgICBzZWdsZW4gPSBzZWcubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBzZWcybGVuID0gcDIgJiYgc2VnMi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYXR0cnMueCA9IHNlZ1tzZWdsZW4gLSAyXTtcbiAgICAgICAgICAgICAgICBhdHRycy55ID0gc2VnW3NlZ2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgIGF0dHJzLmJ4ID0gdG9GbG9hdChzZWdbc2VnbGVuIC0gNF0pIHx8IGF0dHJzLng7XG4gICAgICAgICAgICAgICAgYXR0cnMuYnkgPSB0b0Zsb2F0KHNlZ1tzZWdsZW4gLSAzXSkgfHwgYXR0cnMueTtcbiAgICAgICAgICAgICAgICBhdHRyczIuYnggPSBwMiAmJiAodG9GbG9hdChzZWcyW3NlZzJsZW4gLSA0XSkgfHwgYXR0cnMyLngpO1xuICAgICAgICAgICAgICAgIGF0dHJzMi5ieSA9IHAyICYmICh0b0Zsb2F0KHNlZzJbc2VnMmxlbiAtIDNdKSB8fCBhdHRyczIueSk7XG4gICAgICAgICAgICAgICAgYXR0cnMyLnggPSBwMiAmJiBzZWcyW3NlZzJsZW4gLSAyXTtcbiAgICAgICAgICAgICAgICBhdHRyczIueSA9IHAyICYmIHNlZzJbc2VnMmxlbiAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwMikge1xuICAgICAgICAgICAgICAgIHB0aC5jdXJ2ZSA9IHBhdGhDbG9uZShwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwMiA/IFtwLCBwMl0gOiBwO1xuICAgICAgICB9LCBudWxsLCBwYXRoQ2xvbmUpLFxuICAgICAgICBwYXJzZURvdHMgPSBSLl9wYXJzZURvdHMgPSBjYWNoZXIoZnVuY3Rpb24gKGdyYWRpZW50KSB7XG4gICAgICAgICAgICB2YXIgZG90cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ3JhZGllbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkb3QgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgcGFyID0gZ3JhZGllbnRbaV0ubWF0Y2goL14oW146XSopOj8oW1xcZFxcLl0qKS8pO1xuICAgICAgICAgICAgICAgIGRvdC5jb2xvciA9IFIuZ2V0UkdCKHBhclsxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGRvdC5jb2xvci5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG90Lm9wYWNpdHkgPSBkb3QuY29sb3Iub3BhY2l0eTtcbiAgICAgICAgICAgICAgICBkb3QuY29sb3IgPSBkb3QuY29sb3IuaGV4O1xuICAgICAgICAgICAgICAgIHBhclsyXSAmJiAoZG90Lm9mZnNldCA9IHBhclsyXSArIFwiJVwiKTtcbiAgICAgICAgICAgICAgICBkb3RzLnB1c2goZG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGlpID0gZG90cy5sZW5ndGggLSAxOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghZG90c1tpXS5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdG9GbG9hdChkb3RzW2kgLSAxXS5vZmZzZXQgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCBpaTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG90c1tqXS5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBkb3RzW2pdLm9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IGlpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvRmxvYXQoZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSAoZW5kIC0gc3RhcnQpIC8gKGogLSBpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCArPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG90c1tpXS5vZmZzZXQgPSBzdGFydCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRvdHM7XG4gICAgICAgIH0pLFxuICAgICAgICB0ZWFyID0gUi5fdGVhciA9IGZ1bmN0aW9uIChlbCwgcGFwZXIpIHtcbiAgICAgICAgICAgIGVsID09IHBhcGVyLnRvcCAmJiAocGFwZXIudG9wID0gZWwucHJldik7XG4gICAgICAgICAgICBlbCA9PSBwYXBlci5ib3R0b20gJiYgKHBhcGVyLmJvdHRvbSA9IGVsLm5leHQpO1xuICAgICAgICAgICAgZWwubmV4dCAmJiAoZWwubmV4dC5wcmV2ID0gZWwucHJldik7XG4gICAgICAgICAgICBlbC5wcmV2ICYmIChlbC5wcmV2Lm5leHQgPSBlbC5uZXh0KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9mcm9udCA9IFIuX3RvZnJvbnQgPSBmdW5jdGlvbiAoZWwsIHBhcGVyKSB7XG4gICAgICAgICAgICBpZiAocGFwZXIudG9wID09PSBlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlYXIoZWwsIHBhcGVyKTtcbiAgICAgICAgICAgIGVsLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgZWwucHJldiA9IHBhcGVyLnRvcDtcbiAgICAgICAgICAgIHBhcGVyLnRvcC5uZXh0ID0gZWw7XG4gICAgICAgICAgICBwYXBlci50b3AgPSBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgdG9iYWNrID0gUi5fdG9iYWNrID0gZnVuY3Rpb24gKGVsLCBwYXBlcikge1xuICAgICAgICAgICAgaWYgKHBhcGVyLmJvdHRvbSA9PT0gZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZWFyKGVsLCBwYXBlcik7XG4gICAgICAgICAgICBlbC5uZXh0ID0gcGFwZXIuYm90dG9tO1xuICAgICAgICAgICAgZWwucHJldiA9IG51bGw7XG4gICAgICAgICAgICBwYXBlci5ib3R0b20ucHJldiA9IGVsO1xuICAgICAgICAgICAgcGFwZXIuYm90dG9tID0gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGluc2VydGFmdGVyID0gUi5faW5zZXJ0YWZ0ZXIgPSBmdW5jdGlvbiAoZWwsIGVsMiwgcGFwZXIpIHtcbiAgICAgICAgICAgIHRlYXIoZWwsIHBhcGVyKTtcbiAgICAgICAgICAgIGVsMiA9PSBwYXBlci50b3AgJiYgKHBhcGVyLnRvcCA9IGVsKTtcbiAgICAgICAgICAgIGVsMi5uZXh0ICYmIChlbDIubmV4dC5wcmV2ID0gZWwpO1xuICAgICAgICAgICAgZWwubmV4dCA9IGVsMi5uZXh0O1xuICAgICAgICAgICAgZWwucHJldiA9IGVsMjtcbiAgICAgICAgICAgIGVsMi5uZXh0ID0gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGluc2VydGJlZm9yZSA9IFIuX2luc2VydGJlZm9yZSA9IGZ1bmN0aW9uIChlbCwgZWwyLCBwYXBlcikge1xuICAgICAgICAgICAgdGVhcihlbCwgcGFwZXIpO1xuICAgICAgICAgICAgZWwyID09IHBhcGVyLmJvdHRvbSAmJiAocGFwZXIuYm90dG9tID0gZWwpO1xuICAgICAgICAgICAgZWwyLnByZXYgJiYgKGVsMi5wcmV2Lm5leHQgPSBlbCk7XG4gICAgICAgICAgICBlbC5wcmV2ID0gZWwyLnByZXY7XG4gICAgICAgICAgICBlbDIucHJldiA9IGVsO1xuICAgICAgICAgICAgZWwubmV4dCA9IGVsMjtcbiAgICAgICAgfSxcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBSYXBoYWVsLnRvTWF0cml4XG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJucyBtYXRyaXggb2YgdHJhbnNmb3JtYXRpb25zIGFwcGxpZWQgdG8gYSBnaXZlbiBwYXRoXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAgICAgLSB0cmFuc2Zvcm0gKHN0cmluZ3xhcnJheSkgdHJhbnNmb3JtYXRpb24gc3RyaW5nXG4gICAgICAgICA9IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICB0b01hdHJpeCA9IFIudG9NYXRyaXggPSBmdW5jdGlvbiAocGF0aCwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYmIgPSBwYXRoRGltZW5zaW9ucyhwYXRoKSxcbiAgICAgICAgICAgICAgICBlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgXzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBFXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldEJCb3g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBleHRyYWN0VHJhbnNmb3JtKGVsLCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuIGVsLm1hdHJpeDtcbiAgICAgICAgfSxcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBSYXBoYWVsLnRyYW5zZm9ybVBhdGhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm5zIHBhdGggdHJhbnNmb3JtZWQgYnkgYSBnaXZlbiB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICAgICAtIHBhdGggKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgICAgIC0gdHJhbnNmb3JtIChzdHJpbmd8YXJyYXkpIHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAgICAgPSAoc3RyaW5nKSBwYXRoXG4gICAgICAgIFxcKi9cbiAgICAgICAgdHJhbnNmb3JtUGF0aCA9IFIudHJhbnNmb3JtUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBQYXRoKHBhdGgsIHRvTWF0cml4KHBhdGgsIHRyYW5zZm9ybSkpO1xuICAgICAgICB9LFxuICAgICAgICBleHRyYWN0VHJhbnNmb3JtID0gUi5fZXh0cmFjdFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChlbCwgdHN0cikge1xuICAgICAgICAgICAgaWYgKHRzdHIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRzdHIgPSBTdHIodHN0cikucmVwbGFjZSgvXFwuezN9fFxcdTIwMjYvZywgZWwuXy50cmFuc2Zvcm0gfHwgRSk7XG4gICAgICAgICAgICB2YXIgdGRhdGEgPSBSLnBhcnNlVHJhbnNmb3JtU3RyaW5nKHRzdHIpLFxuICAgICAgICAgICAgICAgIGRlZyA9IDAsXG4gICAgICAgICAgICAgICAgZHggPSAwLFxuICAgICAgICAgICAgICAgIGR5ID0gMCxcbiAgICAgICAgICAgICAgICBzeCA9IDEsXG4gICAgICAgICAgICAgICAgc3kgPSAxLFxuICAgICAgICAgICAgICAgIF8gPSBlbC5fLFxuICAgICAgICAgICAgICAgIG0gPSBuZXcgTWF0cml4O1xuICAgICAgICAgICAgXy50cmFuc2Zvcm0gPSB0ZGF0YSB8fCBbXTtcbiAgICAgICAgICAgIGlmICh0ZGF0YSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRkYXRhLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0ZGF0YVtpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRsZW4gPSB0Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSBTdHIodFswXSkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFic29sdXRlID0gdFswXSAhPSBjb21tYW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXIgPSBhYnNvbHV0ZSA/IG0uaW52ZXJ0KCkgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT0gXCJ0XCIgJiYgdGxlbiA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MSA9IGludmVyLngoMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTEgPSBpbnZlci55KDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gaW52ZXIueCh0WzFdLCB0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGludmVyLnkodFsxXSwgdFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS50cmFuc2xhdGUoeDIgLSB4MSwgeTIgLSB5MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0udHJhbnNsYXRlKHRbMV0sIHRbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT0gXCJyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bGVuID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYiA9IGJiIHx8IGVsLmdldEJCb3goMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5yb3RhdGUodFsxXSwgYmIueCArIGJiLndpZHRoIC8gMiwgYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZyArPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0bGVuID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBpbnZlci54KHRbMl0sIHRbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGludmVyLnkodFsyXSwgdFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0ucm90YXRlKHRbMV0sIHgyLCB5Mik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5yb3RhdGUodFsxXSwgdFsyXSwgdFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZyArPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT0gXCJzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bGVuID09IDIgfHwgdGxlbiA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmIgPSBiYiB8fCBlbC5nZXRCQm94KDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uc2NhbGUodFsxXSwgdFt0bGVuIC0gMV0sIGJiLnggKyBiYi53aWR0aCAvIDIsIGJiLnkgKyBiYi5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeCAqPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5ICo9IHRbdGxlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0bGVuID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBpbnZlci54KHRbM10sIHRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IGludmVyLnkodFszXSwgdFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uc2NhbGUodFsxXSwgdFsyXSwgeDIsIHkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnNjYWxlKHRbMV0sIHRbMl0sIHRbM10sIHRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeCAqPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5ICo9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PSBcIm1cIiAmJiB0bGVuID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uYWRkKHRbMV0sIHRbMl0sIHRbM10sIHRbNF0sIHRbNV0sIHRbNl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF8uZGlydHlUID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWwubWF0cml4ID0gbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qXFxcbiAgICAgICAgICAgICAqIEVsZW1lbnQubWF0cml4XG4gICAgICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAgICAgKipcbiAgICAgICAgICAgICAqIEtlZXBzIEBNYXRyaXggb2JqZWN0LCB3aGljaCByZXByZXNlbnRzIGVsZW1lbnQgdHJhbnNmb3JtYXRpb25cbiAgICAgICAgICAgIFxcKi9cbiAgICAgICAgICAgIGVsLm1hdHJpeCA9IG07XG5cbiAgICAgICAgICAgIF8uc3ggPSBzeDtcbiAgICAgICAgICAgIF8uc3kgPSBzeTtcbiAgICAgICAgICAgIF8uZGVnID0gZGVnO1xuICAgICAgICAgICAgXy5keCA9IGR4ID0gbS5lO1xuICAgICAgICAgICAgXy5keSA9IGR5ID0gbS5mO1xuXG4gICAgICAgICAgICBpZiAoc3ggPT0gMSAmJiBzeSA9PSAxICYmICFkZWcgJiYgXy5iYm94KSB7XG4gICAgICAgICAgICAgICAgXy5iYm94LnggKz0gK2R4O1xuICAgICAgICAgICAgICAgIF8uYmJveC55ICs9ICtkeTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRFbXB0eSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgbCA9IGl0ZW1bMF07XG4gICAgICAgICAgICBzd2l0Y2ggKGwudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6IHJldHVybiBbbCwgMCwgMF07XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjogcmV0dXJuIFtsLCAxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiclwiOiBpZiAoaXRlbS5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2wsIDAsIGl0ZW1bMl0sIGl0ZW1bM11dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6IGlmIChpdGVtLmxlbmd0aCA9PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMSwgMSwgaXRlbVszXSwgaXRlbVs0XV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMSwgMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVxdWFsaXNlVHJhbnNmb3JtID0gUi5fZXF1YWxpc2VUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodDEsIHQyKSB7XG4gICAgICAgICAgICB0MiA9IFN0cih0MikucmVwbGFjZSgvXFwuezN9fFxcdTIwMjYvZywgdDEpO1xuICAgICAgICAgICAgdDEgPSBSLnBhcnNlVHJhbnNmb3JtU3RyaW5nKHQxKSB8fCBbXTtcbiAgICAgICAgICAgIHQyID0gUi5wYXJzZVRyYW5zZm9ybVN0cmluZyh0MikgfHwgW107XG4gICAgICAgICAgICB2YXIgbWF4bGVuZ3RoID0gbW1heCh0MS5sZW5ndGgsIHQyLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgZnJvbSA9IFtdLFxuICAgICAgICAgICAgICAgIHRvID0gW10sXG4gICAgICAgICAgICAgICAgaSA9IDAsIGosIGpqLFxuICAgICAgICAgICAgICAgIHR0MSwgdHQyO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBtYXhsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHR0MSA9IHQxW2ldIHx8IGdldEVtcHR5KHQyW2ldKTtcbiAgICAgICAgICAgICAgICB0dDIgPSB0MltpXSB8fCBnZXRFbXB0eSh0dDEpO1xuICAgICAgICAgICAgICAgIGlmICgodHQxWzBdICE9IHR0MlswXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR0MVswXS50b0xvd2VyQ2FzZSgpID09IFwiclwiICYmICh0dDFbMl0gIT0gdHQyWzJdIHx8IHR0MVszXSAhPSB0dDJbM10pKSB8fFxuICAgICAgICAgICAgICAgICAgICAodHQxWzBdLnRvTG93ZXJDYXNlKCkgPT0gXCJzXCIgJiYgKHR0MVszXSAhPSB0dDJbM10gfHwgdHQxWzRdICE9IHR0Mls0XSkpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZyb21baV0gPSBbXTtcbiAgICAgICAgICAgICAgICB0b1tpXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gbW1heCh0dDEubGVuZ3RoLCB0dDIubGVuZ3RoKTsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaiBpbiB0dDEgJiYgKGZyb21baV1bal0gPSB0dDFbal0pO1xuICAgICAgICAgICAgICAgICAgICBqIGluIHR0MiAmJiAodG9baV1bal0gPSB0dDJbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogdG9cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgUi5fZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyID0gaCA9PSBudWxsICYmICFSLmlzKHgsIFwib2JqZWN0XCIpID8gZy5kb2MuZ2V0RWxlbWVudEJ5SWQoeCkgOiB4O1xuICAgICAgICBpZiAoY29udGFpbmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbmVyLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIGlmICh5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci5zdHlsZS5waXhlbFdpZHRoIHx8IGNvbnRhaW5lci5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjb250YWluZXIuc3R5bGUucGl4ZWxIZWlnaHQgfHwgY29udGFpbmVyLm9mZnNldEhlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogeSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB3XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGFpbmVyOiAxLFxuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgIGhlaWdodDogaFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGF0aFRvUmVsYXRpdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogQ29udmVydHMgcGF0aCB0byByZWxhdGl2ZSBmb3JtXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGhTdHJpbmcgKHN0cmluZ3xhcnJheSkgcGF0aCBzdHJpbmcgb3IgYXJyYXkgb2Ygc2VnbWVudHNcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHNlZ21lbnRzLlxuICAgIFxcKi9cbiAgICBSLnBhdGhUb1JlbGF0aXZlID0gcGF0aFRvUmVsYXRpdmU7XG4gICAgUi5fZW5naW5lID0ge307XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGF0aDJjdXJ2ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBwYXRoIHRvIGEgbmV3IHBhdGggd2hlcmUgYWxsIHNlZ21lbnRzIGFyZSBjdWJpYyBiZXppZXIgY3VydmVzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoU3RyaW5nIChzdHJpbmd8YXJyYXkpIHBhdGggc3RyaW5nIG9yIGFycmF5IG9mIHNlZ21lbnRzXG4gICAgID0gKGFycmF5KSBhcnJheSBvZiBzZWdtZW50cy5cbiAgICBcXCovXG4gICAgUi5wYXRoMmN1cnZlID0gcGF0aDJjdXJ2ZTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5tYXRyaXhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBtYXRyaXggYmFzZWQgb24gZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYSAobnVtYmVyKVxuICAgICAtIGIgKG51bWJlcilcbiAgICAgLSBjIChudW1iZXIpXG4gICAgIC0gZCAobnVtYmVyKVxuICAgICAtIGUgKG51bWJlcilcbiAgICAgLSBmIChudW1iZXIpXG4gICAgID0gKG9iamVjdCkgQE1hdHJpeFxuICAgIFxcKi9cbiAgICBSLm1hdHJpeCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hID0gK2E7XG4gICAgICAgICAgICB0aGlzLmIgPSArYjtcbiAgICAgICAgICAgIHRoaXMuYyA9ICtjO1xuICAgICAgICAgICAgdGhpcy5kID0gK2Q7XG4gICAgICAgICAgICB0aGlzLmUgPSArZTtcbiAgICAgICAgICAgIHRoaXMuZiA9ICtmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgICAgIHRoaXMuYiA9IDA7XG4gICAgICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgICAgIHRoaXMuZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmYgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIChmdW5jdGlvbiAobWF0cml4cHJvdG8pIHtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguYWRkXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBBZGRzIGdpdmVuIG1hdHJpeCB0byBleGlzdGluZyBvbmUuXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gYSAobnVtYmVyKVxuICAgICAgICAgLSBiIChudW1iZXIpXG4gICAgICAgICAtIGMgKG51bWJlcilcbiAgICAgICAgIC0gZCAobnVtYmVyKVxuICAgICAgICAgLSBlIChudW1iZXIpXG4gICAgICAgICAtIGYgKG51bWJlcilcbiAgICAgICAgIG9yXG4gICAgICAgICAtIG1hdHJpeCAob2JqZWN0KSBATWF0cml4XG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uYWRkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbW10sIFtdLCBbXV0sXG4gICAgICAgICAgICAgICAgbSA9IFtbdGhpcy5hLCB0aGlzLmMsIHRoaXMuZV0sIFt0aGlzLmIsIHRoaXMuZCwgdGhpcy5mXSwgWzAsIDAsIDFdXSxcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBbW2EsIGMsIGVdLCBbYiwgZCwgZl0sIFswLCAwLCAxXV0sXG4gICAgICAgICAgICAgICAgeCwgeSwgeiwgcmVzO1xuXG4gICAgICAgICAgICBpZiAoYSAmJiBhIGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgICAgICAgICAgbWF0cml4ID0gW1thLmEsIGEuYywgYS5lXSwgW2EuYiwgYS5kLCBhLmZdLCBbMCwgMCwgMV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgMzsgeCsrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh5ID0gMDsgeSA8IDM7IHkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHogPSAwOyB6IDwgMzsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgKz0gbVt4XVt6XSAqIG1hdHJpeFt6XVt5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXRbeF1beV0gPSByZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hID0gb3V0WzBdWzBdO1xuICAgICAgICAgICAgdGhpcy5iID0gb3V0WzFdWzBdO1xuICAgICAgICAgICAgdGhpcy5jID0gb3V0WzBdWzFdO1xuICAgICAgICAgICAgdGhpcy5kID0gb3V0WzFdWzFdO1xuICAgICAgICAgICAgdGhpcy5lID0gb3V0WzBdWzJdO1xuICAgICAgICAgICAgdGhpcy5mID0gb3V0WzFdWzJdO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5pbnZlcnRcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybnMgaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGUgbWF0cml4XG4gICAgICAgICA9IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHggPSBtZS5hICogbWUuZCAtIG1lLmIgKiBtZS5jO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgobWUuZCAvIHgsIC1tZS5iIC8geCwgLW1lLmMgLyB4LCBtZS5hIC8geCwgKG1lLmMgKiBtZS5mIC0gbWUuZCAqIG1lLmUpIC8geCwgKG1lLmIgKiBtZS5lIC0gbWUuYSAqIG1lLmYpIC8geCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LmNsb25lXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm5zIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgICAgICAgPSAob2JqZWN0KSBATWF0cml4XG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCh0aGlzLmEsIHRoaXMuYiwgdGhpcy5jLCB0aGlzLmQsIHRoaXMuZSwgdGhpcy5mKTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXgudHJhbnNsYXRlXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBUcmFuc2xhdGUgdGhlIG1hdHJpeFxuICAgICAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICAgICAtIHggKG51bWJlcilcbiAgICAgICAgIC0geSAobnVtYmVyKVxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICB0aGlzLmFkZCgxLCAwLCAwLCAxLCB4LCB5KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguc2NhbGVcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFNjYWxlcyB0aGUgbWF0cml4XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0geCAobnVtYmVyKVxuICAgICAgICAgLSB5IChudW1iZXIpICNvcHRpb25hbFxuICAgICAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWxcbiAgICAgICAgIC0gY3kgKG51bWJlcikgI29wdGlvbmFsXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSwgY3gsIGN5KSB7XG4gICAgICAgICAgICB5ID09IG51bGwgJiYgKHkgPSB4KTtcbiAgICAgICAgICAgIChjeCB8fCBjeSkgJiYgdGhpcy5hZGQoMSwgMCwgMCwgMSwgY3gsIGN5KTtcbiAgICAgICAgICAgIHRoaXMuYWRkKHgsIDAsIDAsIHksIDAsIDApO1xuICAgICAgICAgICAgKGN4IHx8IGN5KSAmJiB0aGlzLmFkZCgxLCAwLCAwLCAxLCAtY3gsIC1jeSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnJvdGF0ZVxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUm90YXRlcyB0aGUgbWF0cml4XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gYSAobnVtYmVyKVxuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcilcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5yb3RhdGUgPSBmdW5jdGlvbiAoYSwgeCwgeSkge1xuICAgICAgICAgICAgYSA9IFIucmFkKGEpO1xuICAgICAgICAgICAgeCA9IHggfHwgMDtcbiAgICAgICAgICAgIHkgPSB5IHx8IDA7XG4gICAgICAgICAgICB2YXIgY29zID0gK21hdGguY29zKGEpLnRvRml4ZWQoOSksXG4gICAgICAgICAgICAgICAgc2luID0gK21hdGguc2luKGEpLnRvRml4ZWQoOSk7XG4gICAgICAgICAgICB0aGlzLmFkZChjb3MsIHNpbiwgLXNpbiwgY29zLCB4LCB5KTtcbiAgICAgICAgICAgIHRoaXMuYWRkKDEsIDAsIDAsIDEsIC14LCAteSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybiB4IGNvb3JkaW5hdGUgZm9yIGdpdmVuIHBvaW50IGFmdGVyIHRyYW5zZm9ybWF0aW9uIGRlc2NyaWJlZCBieSB0aGUgbWF0cml4LiBTZWUgYWxzbyBATWF0cml4LnlcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcilcbiAgICAgICAgID0gKG51bWJlcikgeFxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnggPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIHggKiB0aGlzLmEgKyB5ICogdGhpcy5jICsgdGhpcy5lO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC55XG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm4geSBjb29yZGluYXRlIGZvciBnaXZlbiBwb2ludCBhZnRlciB0cmFuc2Zvcm1hdGlvbiBkZXNjcmliZWQgYnkgdGhlIG1hdHJpeC4gU2VlIGFsc28gQE1hdHJpeC54XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0geCAobnVtYmVyKVxuICAgICAgICAgLSB5IChudW1iZXIpXG4gICAgICAgICA9IChudW1iZXIpIHlcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by55ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiB4ICogdGhpcy5iICsgeSAqIHRoaXMuZCArIHRoaXMuZjtcbiAgICAgICAgfTtcbiAgICAgICAgbWF0cml4cHJvdG8uZ2V0ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiArdGhpc1tTdHIuZnJvbUNoYXJDb2RlKDk3ICsgaSldLnRvRml4ZWQoNCk7XG4gICAgICAgIH07XG4gICAgICAgIG1hdHJpeHByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFIuc3ZnID9cbiAgICAgICAgICAgICAgICBcIm1hdHJpeChcIiArIFt0aGlzLmdldCgwKSwgdGhpcy5nZXQoMSksIHRoaXMuZ2V0KDIpLCB0aGlzLmdldCgzKSwgdGhpcy5nZXQoNCksIHRoaXMuZ2V0KDUpXS5qb2luKCkgKyBcIilcIiA6XG4gICAgICAgICAgICAgICAgW3RoaXMuZ2V0KDApLCB0aGlzLmdldCgyKSwgdGhpcy5nZXQoMSksIHRoaXMuZ2V0KDMpLCAwLCAwXS5qb2luKCk7XG4gICAgICAgIH07XG4gICAgICAgIG1hdHJpeHByb3RvLnRvRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9XCIgKyB0aGlzLmdldCgwKSArXG4gICAgICAgICAgICAgICAgXCIsIE0xMj1cIiArIHRoaXMuZ2V0KDIpICsgXCIsIE0yMT1cIiArIHRoaXMuZ2V0KDEpICsgXCIsIE0yMj1cIiArIHRoaXMuZ2V0KDMpICtcbiAgICAgICAgICAgICAgICBcIiwgRHg9XCIgKyB0aGlzLmdldCg0KSArIFwiLCBEeT1cIiArIHRoaXMuZ2V0KDUpICsgXCIsIHNpemluZ21ldGhvZD0nYXV0byBleHBhbmQnKVwiO1xuICAgICAgICB9O1xuICAgICAgICBtYXRyaXhwcm90by5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuZS50b0ZpeGVkKDQpLCB0aGlzLmYudG9GaXhlZCg0KV07XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIG5vcm0oYSkge1xuICAgICAgICAgICAgcmV0dXJuIGFbMF0gKiBhWzBdICsgYVsxXSAqIGFbMV07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplKGEpIHtcbiAgICAgICAgICAgIHZhciBtYWcgPSBtYXRoLnNxcnQobm9ybShhKSk7XG4gICAgICAgICAgICBhWzBdICYmIChhWzBdIC89IG1hZyk7XG4gICAgICAgICAgICBhWzFdICYmIChhWzFdIC89IG1hZyk7XG4gICAgICAgIH1cbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguc3BsaXRcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFNwbGl0cyBtYXRyaXggaW50byBwcmltaXRpdmUgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgICA9IChvYmplY3QpIGluIGZvcm1hdDpcbiAgICAgICAgIG8gZHggKG51bWJlcikgdHJhbnNsYXRpb24gYnkgeFxuICAgICAgICAgbyBkeSAobnVtYmVyKSB0cmFuc2xhdGlvbiBieSB5XG4gICAgICAgICBvIHNjYWxleCAobnVtYmVyKSBzY2FsZSBieSB4XG4gICAgICAgICBvIHNjYWxleSAobnVtYmVyKSBzY2FsZSBieSB5XG4gICAgICAgICBvIHNoZWFyIChudW1iZXIpIHNoZWFyXG4gICAgICAgICBvIHJvdGF0ZSAobnVtYmVyKSByb3RhdGlvbiBpbiBkZWdcbiAgICAgICAgIG8gaXNTaW1wbGUgKGJvb2xlYW4pIGNvdWxkIGl0IGJlIHJlcHJlc2VudGVkIHZpYSBzaW1wbGUgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8uc3BsaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3V0ID0ge307XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGlvblxuICAgICAgICAgICAgb3V0LmR4ID0gdGhpcy5lO1xuICAgICAgICAgICAgb3V0LmR5ID0gdGhpcy5mO1xuXG4gICAgICAgICAgICAvLyBzY2FsZSBhbmQgc2hlYXJcbiAgICAgICAgICAgIHZhciByb3cgPSBbW3RoaXMuYSwgdGhpcy5jXSwgW3RoaXMuYiwgdGhpcy5kXV07XG4gICAgICAgICAgICBvdXQuc2NhbGV4ID0gbWF0aC5zcXJ0KG5vcm0ocm93WzBdKSk7XG4gICAgICAgICAgICBub3JtYWxpemUocm93WzBdKTtcblxuICAgICAgICAgICAgb3V0LnNoZWFyID0gcm93WzBdWzBdICogcm93WzFdWzBdICsgcm93WzBdWzFdICogcm93WzFdWzFdO1xuICAgICAgICAgICAgcm93WzFdID0gW3Jvd1sxXVswXSAtIHJvd1swXVswXSAqIG91dC5zaGVhciwgcm93WzFdWzFdIC0gcm93WzBdWzFdICogb3V0LnNoZWFyXTtcblxuICAgICAgICAgICAgb3V0LnNjYWxleSA9IG1hdGguc3FydChub3JtKHJvd1sxXSkpO1xuICAgICAgICAgICAgbm9ybWFsaXplKHJvd1sxXSk7XG4gICAgICAgICAgICBvdXQuc2hlYXIgLz0gb3V0LnNjYWxleTtcblxuICAgICAgICAgICAgLy8gcm90YXRpb25cbiAgICAgICAgICAgIHZhciBzaW4gPSAtcm93WzBdWzFdLFxuICAgICAgICAgICAgICAgIGNvcyA9IHJvd1sxXVsxXTtcbiAgICAgICAgICAgIGlmIChjb3MgPCAwKSB7XG4gICAgICAgICAgICAgICAgb3V0LnJvdGF0ZSA9IFIuZGVnKG1hdGguYWNvcyhjb3MpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2luIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucm90YXRlID0gMzYwIC0gb3V0LnJvdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dC5yb3RhdGUgPSBSLmRlZyhtYXRoLmFzaW4oc2luKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dC5pc1NpbXBsZSA9ICErb3V0LnNoZWFyLnRvRml4ZWQoOSkgJiYgKG91dC5zY2FsZXgudG9GaXhlZCg5KSA9PSBvdXQuc2NhbGV5LnRvRml4ZWQoOSkgfHwgIW91dC5yb3RhdGUpO1xuICAgICAgICAgICAgb3V0LmlzU3VwZXJTaW1wbGUgPSAhK291dC5zaGVhci50b0ZpeGVkKDkpICYmIG91dC5zY2FsZXgudG9GaXhlZCg5KSA9PSBvdXQuc2NhbGV5LnRvRml4ZWQoOSkgJiYgIW91dC5yb3RhdGU7XG4gICAgICAgICAgICBvdXQubm9Sb3RhdGlvbiA9ICErb3V0LnNoZWFyLnRvRml4ZWQoOSkgJiYgIW91dC5yb3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC50b1RyYW5zZm9ybVN0cmluZ1xuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJuIHRyYW5zZm9ybSBzdHJpbmcgdGhhdCByZXByZXNlbnRzIGdpdmVuIG1hdHJpeFxuICAgICAgICAgPSAoc3RyaW5nKSB0cmFuc2Zvcm0gc3RyaW5nXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8udG9UcmFuc2Zvcm1TdHJpbmcgPSBmdW5jdGlvbiAoc2hvcnRlcikge1xuICAgICAgICAgICAgdmFyIHMgPSBzaG9ydGVyIHx8IHRoaXNbc3BsaXRdKCk7XG4gICAgICAgICAgICBpZiAocy5pc1NpbXBsZSkge1xuICAgICAgICAgICAgICAgIHMuc2NhbGV4ID0gK3Muc2NhbGV4LnRvRml4ZWQoNCk7XG4gICAgICAgICAgICAgICAgcy5zY2FsZXkgPSArcy5zY2FsZXkudG9GaXhlZCg0KTtcbiAgICAgICAgICAgICAgICBzLnJvdGF0ZSA9ICtzLnJvdGF0ZS50b0ZpeGVkKDQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAgKHMuZHggfHwgcy5keSA/IFwidFwiICsgW3MuZHgsIHMuZHldIDogRSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHMuc2NhbGV4ICE9IDEgfHwgcy5zY2FsZXkgIT0gMSA/IFwic1wiICsgW3Muc2NhbGV4LCBzLnNjYWxleSwgMCwgMF0gOiBFKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAocy5yb3RhdGUgPyBcInJcIiArIFtzLnJvdGF0ZSwgMCwgMF0gOiBFKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibVwiICsgW3RoaXMuZ2V0KDApLCB0aGlzLmdldCgxKSwgdGhpcy5nZXQoMiksIHRoaXMuZ2V0KDMpLCB0aGlzLmdldCg0KSwgdGhpcy5nZXQoNSldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKE1hdHJpeC5wcm90b3R5cGUpO1xuXG4gICAgdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfSxcbiAgICBwcmV2ZW50VG91Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9LFxuICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH0sXG4gICAgc3RvcFRvdWNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sXG4gICAgZ2V0RXZlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzY3JvbGxZID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBnLmRvYy5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICAgIHNjcm9sbFggPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBnLmRvYy5ib2R5LnNjcm9sbExlZnQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGUuY2xpZW50WCArIHNjcm9sbFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFkgKyBzY3JvbGxZXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhZGRFdmVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChnLmRvYy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgdHlwZSwgZm4sIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBnZXRFdmVudFBvc2l0aW9uKGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbChlbGVtZW50LCBlLCBwb3MueCwgcG9zLnkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1cHBvcnRzVG91Y2ggJiYgdG91Y2hNYXBbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBnZXRFdmVudFBvc2l0aW9uKGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZGUgPSBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXRUb3VjaGVzW2ldLnRhcmdldCA9PSBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGUudGFyZ2V0VG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5vcmlnaW5hbEV2ZW50ID0gb2xkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnRUb3VjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24gPSBzdG9wVG91Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbWVudCwgZSwgcG9zLngsIHBvcy55KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hNYXBbdHlwZV0sIF9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0c1RvdWNoICYmIHRvdWNoTWFwW3R5cGVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hNYXBbdHlwZV0sIF9mLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZy5kb2MuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IGUgfHwgZy53aW4uZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxZID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBnLmRvYy5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFggPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBnLmRvYy5ib2R5LnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gZS5jbGllbnRYICsgc2Nyb2xsWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBlLmNsaWVudFkgKyBzY3JvbGxZO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gZS5wcmV2ZW50RGVmYXVsdCB8fCBwcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24gPSBlLnN0b3BQcm9wYWdhdGlvbiB8fCBzdG9wUHJvcGFnYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIGUsIHgsIHkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb2JqLmF0dGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgICAgICAgICAgICAgIHZhciBkZXRhY2hlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmRldGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXRhY2hlcjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KSgpLFxuICAgIGRyYWcgPSBbXSxcbiAgICBkcmFnTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB4ID0gZS5jbGllbnRYLFxuICAgICAgICAgICAgeSA9IGUuY2xpZW50WSxcbiAgICAgICAgICAgIHNjcm9sbFkgPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGcuZG9jLmJvZHkuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIGRyYWdpLFxuICAgICAgICAgICAgaiA9IGRyYWcubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICBkcmFnaSA9IGRyYWdbal07XG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNUb3VjaCAmJiBlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGUudG91Y2hlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09IGRyYWdpLmVsLl9kcmFnLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgKGUub3JpZ2luYWxFdmVudCA/IGUub3JpZ2luYWxFdmVudCA6IGUpLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vZGUgPSBkcmFnaS5lbC5ub2RlLFxuICAgICAgICAgICAgICAgIG8sXG4gICAgICAgICAgICAgICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBub2RlLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgICAgICBnLndpbi5vcGVyYSAmJiBwYXJlbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIG8gPSBkcmFnaS5lbC5wYXBlci5nZXRFbGVtZW50QnlQb2ludCh4LCB5KTtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgICAgICBnLndpbi5vcGVyYSAmJiAobmV4dCA/IHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCkgOiBwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSkpO1xuICAgICAgICAgICAgbyAmJiBldmUoXCJyYXBoYWVsLmRyYWcub3Zlci5cIiArIGRyYWdpLmVsLmlkLCBkcmFnaS5lbCwgbyk7XG4gICAgICAgICAgICB4ICs9IHNjcm9sbFg7XG4gICAgICAgICAgICB5ICs9IHNjcm9sbFk7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRyYWcubW92ZS5cIiArIGRyYWdpLmVsLmlkLCBkcmFnaS5tb3ZlX3Njb3BlIHx8IGRyYWdpLmVsLCB4IC0gZHJhZ2kuZWwuX2RyYWcueCwgeSAtIGRyYWdpLmVsLl9kcmFnLnksIHgsIHksIGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkcmFnVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBSLnVubW91c2Vtb3ZlKGRyYWdNb3ZlKS51bm1vdXNldXAoZHJhZ1VwKTtcbiAgICAgICAgdmFyIGkgPSBkcmFnLmxlbmd0aCxcbiAgICAgICAgICAgIGRyYWdpO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBkcmFnaSA9IGRyYWdbaV07XG4gICAgICAgICAgICBkcmFnaS5lbC5fZHJhZyA9IHt9O1xuICAgICAgICAgICAgZXZlKFwicmFwaGFlbC5kcmFnLmVuZC5cIiArIGRyYWdpLmVsLmlkLCBkcmFnaS5lbmRfc2NvcGUgfHwgZHJhZ2kuc3RhcnRfc2NvcGUgfHwgZHJhZ2kubW92ZV9zY29wZSB8fCBkcmFnaS5lbCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhZyA9IFtdO1xuICAgIH0sXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZWxcbiAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICoqXG4gICAgICogWW91IGNhbiBhZGQgeW91ciBvd24gbWV0aG9kIHRvIGVsZW1lbnRzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGhhY2sgZGVmYXVsdCBmdW5jdGlvbmFsaXR5IG9yXG4gICAgICogd2FudCB0byB3cmFwIHNvbWUgY29tbW9uIHRyYW5zZm9ybWF0aW9uIG9yIGF0dHJpYnV0ZXMgaW4gb25lIG1ldGhvZC4gSW4gZGlmZmVyZW5jZSB0byBjYW52YXMgbWV0aG9kcyxcbiAgICAgKiB5b3UgY2FuIHJlZGVmaW5lIGVsZW1lbnQgbWV0aG9kIGF0IGFueSB0aW1lLiBFeHBlbmRpbmcgZWxlbWVudCBtZXRob2RzIHdvdWxkbuKAmXQgYWZmZWN0IHNldC5cbiAgICAgPiBVc2FnZVxuICAgICB8IFJhcGhhZWwuZWwucmVkID0gZnVuY3Rpb24gKCkge1xuICAgICB8ICAgICB0aGlzLmF0dHIoe2ZpbGw6IFwiI2YwMFwifSk7XG4gICAgIHwgfTtcbiAgICAgfCAvLyB0aGVuIHVzZSBpdFxuICAgICB8IHBhcGVyLmNpcmNsZSgxMDAsIDEwMCwgMjApLnJlZCgpO1xuICAgIFxcKi9cbiAgICBlbHByb3RvID0gUi5lbCA9IHt9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmNsaWNrXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIGNsaWNrIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZGJsY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgZG91YmxlIGNsaWNrIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuZGJsY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgZG91YmxlIGNsaWNrIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50Lm1vdXNlZG93blxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZWRvd25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2Vkb3duIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50Lm1vdXNlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW1vdmUgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZW1vdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2Vtb3ZlIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50Lm1vdXNlb3V0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlb3V0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVubW91c2VvdXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2VvdXQgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2VvdmVyXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlb3ZlciBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bm1vdXNlb3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW92ZXIgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2V1cFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZXVwIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVubW91c2V1cFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZXVwIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNoc3RhcnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hzdGFydCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bnRvdWNoc3RhcnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hzdGFydCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b3VjaG1vdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2htb3ZlIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2htb3ZlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNobW92ZSBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b3VjaGVuZFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaGVuZCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bnRvdWNoZW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoZW5kIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNoY2FuY2VsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoY2FuY2VsIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2hjYW5jZWxcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hjYW5jZWwgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGZvciAodmFyIGkgPSBldmVudHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICBSW2V2ZW50TmFtZV0gPSBlbHByb3RvW2V2ZW50TmFtZV0gPSBmdW5jdGlvbiAoZm4sIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFIuaXMoZm4sIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaCh7bmFtZTogZXZlbnROYW1lLCBmOiBmbiwgdW5iaW5kOiBhZGRFdmVudCh0aGlzLnNoYXBlIHx8IHRoaXMubm9kZSB8fCBnLmRvYywgZXZlbnROYW1lLCBmbiwgc2NvcGUgfHwgdGhpcyl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUltcInVuXCIgKyBldmVudE5hbWVdID0gZWxwcm90b1tcInVuXCIgKyBldmVudE5hbWVdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IFtdLFxuICAgICAgICAgICAgICAgICAgICBsID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobC0tKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tsXS5uYW1lID09IGV2ZW50TmFtZSAmJiAoUi5pcyhmbiwgXCJ1bmRlZmluZWRcIikgfHwgZXZlbnRzW2xdLmYgPT0gZm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHNbbF0udW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGwsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgIWV2ZW50cy5sZW5ndGggJiYgZGVsZXRlIHRoaXMuZXZlbnRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoZXZlbnRzW2ldKTtcbiAgICB9XG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5kYXRhXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIG9yIHJldHJpZXZlcyBnaXZlbiB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggZ2l2ZW4ga2V5LlxuICAgICAqKlxuICAgICAqIFNlZSBhbHNvIEBFbGVtZW50LnJlbW92ZURhdGFcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0ga2V5IChzdHJpbmcpIGtleSB0byBzdG9yZSBkYXRhXG4gICAgIC0gdmFsdWUgKGFueSkgI29wdGlvbmFsIHZhbHVlIHRvIHN0b3JlXG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICAgKiBvciwgaWYgdmFsdWUgaXMgbm90IHNwZWNpZmllZDpcbiAgICAgPSAoYW55KSB2YWx1ZVxuICAgICAqIG9yLCBpZiBrZXkgYW5kIHZhbHVlIGFyZSBub3Qgc3BlY2lmaWVkOlxuICAgICA9IChvYmplY3QpIEtleS92YWx1ZSBwYWlycyBmb3IgYWxsIHRoZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudC5cbiAgICAgPiBVc2FnZVxuICAgICB8IGZvciAodmFyIGkgPSAwLCBpIDwgNSwgaSsrKSB7XG4gICAgIHwgICAgIHBhcGVyLmNpcmNsZSgxMCArIDE1ICogaSwgMTAsIDEwKVxuICAgICB8ICAgICAgICAgIC5hdHRyKHtmaWxsOiBcIiMwMDBcIn0pXG4gICAgIHwgICAgICAgICAgLmRhdGEoXCJpXCIsIGkpXG4gICAgIHwgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgfCAgICAgICAgICAgICBhbGVydCh0aGlzLmRhdGEoXCJpXCIpKTtcbiAgICAgfCAgICAgICAgICB9KTtcbiAgICAgfCB9XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBkYXRhID0gZWxkYXRhW3RoaXMuaWRdID0gZWxkYXRhW3RoaXMuaWRdIHx8IHt9O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoUi5pcyhrZXksIFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBrZXkpIGlmIChrZXlbaGFzXShpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEoaSwga2V5W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRhdGEuZ2V0LlwiICsgdGhpcy5pZCwgdGhpcywgZGF0YVtrZXldLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgZXZlKFwicmFwaGFlbC5kYXRhLnNldC5cIiArIHRoaXMuaWQsIHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlbW92ZURhdGFcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGFuIGVsZW1lbnQgYnkgZ2l2ZW4ga2V5LlxuICAgICAqIElmIGtleSBpcyBub3QgcHJvdmlkZWQsIHJlbW92ZXMgYWxsIHRoZSBkYXRhIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBrZXkgKHN0cmluZykgI29wdGlvbmFsIGtleVxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8ucmVtb3ZlRGF0YSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbGRhdGFbdGhpcy5pZF0gPSB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZGF0YVt0aGlzLmlkXSAmJiBkZWxldGUgZWxkYXRhW3RoaXMuaWRdW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0RGF0YVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0cmlldmVzIHRoZSBlbGVtZW50IGRhdGFcbiAgICAgPSAob2JqZWN0KSBkYXRhXG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lKGVsZGF0YVt0aGlzLmlkXSB8fCB7fSk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5ob3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgaG92ZXIgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBmX2luIChmdW5jdGlvbikgaGFuZGxlciBmb3IgaG92ZXIgaW5cbiAgICAgLSBmX291dCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIG91dFxuICAgICAtIGljb250ZXh0IChvYmplY3QpICNvcHRpb25hbCBjb250ZXh0IGZvciBob3ZlciBpbiBoYW5kbGVyXG4gICAgIC0gb2NvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIGhvdmVyIG91dCBoYW5kbGVyXG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5ob3ZlciA9IGZ1bmN0aW9uIChmX2luLCBmX291dCwgc2NvcGVfaW4sIHNjb3BlX291dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZW92ZXIoZl9pbiwgc2NvcGVfaW4pLm1vdXNlb3V0KGZfb3V0LCBzY29wZV9vdXQgfHwgc2NvcGVfaW4pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5ob3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVycyBmb3IgaG92ZXIgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBmX2luIChmdW5jdGlvbikgaGFuZGxlciBmb3IgaG92ZXIgaW5cbiAgICAgLSBmX291dCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIG91dFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8udW5ob3ZlciA9IGZ1bmN0aW9uIChmX2luLCBmX291dCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bm1vdXNlb3ZlcihmX2luKS51bm1vdXNlb3V0KGZfb3V0KTtcbiAgICB9O1xuICAgIHZhciBkcmFnZ2FibGUgPSBbXTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5kcmFnXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIGZvciBkcmFnIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBvbm1vdmUgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciBtb3ZpbmdcbiAgICAgLSBvbnN0YXJ0IChmdW5jdGlvbikgaGFuZGxlciBmb3IgZHJhZyBzdGFydFxuICAgICAtIG9uZW5kIChmdW5jdGlvbikgaGFuZGxlciBmb3IgZHJhZyBlbmRcbiAgICAgLSBtY29udGV4dCAob2JqZWN0KSAjb3B0aW9uYWwgY29udGV4dCBmb3IgbW92aW5nIGhhbmRsZXJcbiAgICAgLSBzY29udGV4dCAob2JqZWN0KSAjb3B0aW9uYWwgY29udGV4dCBmb3IgZHJhZyBzdGFydCBoYW5kbGVyXG4gICAgIC0gZWNvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIGRyYWcgZW5kIGhhbmRsZXJcbiAgICAgKiBBZGRpdGlvbmFsbHkgZm9sbG93aW5nIGBkcmFnYCBldmVudHMgd2lsbCBiZSB0cmlnZ2VyZWQ6IGBkcmFnLnN0YXJ0LjxpZD5gIG9uIHN0YXJ0LFxuICAgICAqIGBkcmFnLmVuZC48aWQ+YCBvbiBlbmQgYW5kIGBkcmFnLm1vdmUuPGlkPmAgb24gZXZlcnkgbW92ZS4gV2hlbiBlbGVtZW50IHdpbGwgYmUgZHJhZ2dlZCBvdmVyIGFub3RoZXIgZWxlbWVudFxuICAgICAqIGBkcmFnLm92ZXIuPGlkPmAgd2lsbCBiZSBmaXJlZCBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogU3RhcnQgZXZlbnQgYW5kIHN0YXJ0IGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gc3BlY2lmaWVkIGNvbnRleHQgb3IgaW4gY29udGV4dCBvZiB0aGUgZWxlbWVudCB3aXRoIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICBvIHggKG51bWJlcikgeCBwb3NpdGlvbiBvZiB0aGUgbW91c2VcbiAgICAgbyB5IChudW1iZXIpIHkgcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgIG8gZXZlbnQgKG9iamVjdCkgRE9NIGV2ZW50IG9iamVjdFxuICAgICAqIE1vdmUgZXZlbnQgYW5kIG1vdmUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiBzcGVjaWZpZWQgY29udGV4dCBvciBpbiBjb250ZXh0IG9mIHRoZSBlbGVtZW50IHdpdGggZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgIG8gZHggKG51bWJlcikgc2hpZnQgYnkgeCBmcm9tIHRoZSBzdGFydCBwb2ludFxuICAgICBvIGR5IChudW1iZXIpIHNoaWZ0IGJ5IHkgZnJvbSB0aGUgc3RhcnQgcG9pbnRcbiAgICAgbyB4IChudW1iZXIpIHggcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgIG8geSAobnVtYmVyKSB5IHBvc2l0aW9uIG9mIHRoZSBtb3VzZVxuICAgICBvIGV2ZW50IChvYmplY3QpIERPTSBldmVudCBvYmplY3RcbiAgICAgKiBFbmQgZXZlbnQgYW5kIGVuZCBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHNwZWNpZmllZCBjb250ZXh0IG9yIGluIGNvbnRleHQgb2YgdGhlIGVsZW1lbnQgd2l0aCBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgbyBldmVudCAob2JqZWN0KSBET00gZXZlbnQgb2JqZWN0XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5kcmFnID0gZnVuY3Rpb24gKG9ubW92ZSwgb25zdGFydCwgb25lbmQsIG1vdmVfc2NvcGUsIHN0YXJ0X3Njb3BlLCBlbmRfc2NvcGUpIHtcbiAgICAgICAgZnVuY3Rpb24gc3RhcnQoZSkge1xuICAgICAgICAgICAgKGUub3JpZ2luYWxFdmVudCB8fCBlKS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIHggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSxcbiAgICAgICAgICAgICAgICBzY3JvbGxZID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBnLmRvYy5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICBzY3JvbGxYID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZy5kb2MuYm9keS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdGhpcy5fZHJhZy5pZCA9IGUuaWRlbnRpZmllcjtcbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1RvdWNoICYmIGUudG91Y2hlcykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gZS50b3VjaGVzLmxlbmd0aCwgdG91Y2g7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUudG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZy5pZCA9IHRvdWNoLmlkZW50aWZpZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09IHRoaXMuX2RyYWcuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RyYWcueCA9IHggKyBzY3JvbGxYO1xuICAgICAgICAgICAgdGhpcy5fZHJhZy55ID0geSArIHNjcm9sbFk7XG4gICAgICAgICAgICAhZHJhZy5sZW5ndGggJiYgUi5tb3VzZW1vdmUoZHJhZ01vdmUpLm1vdXNldXAoZHJhZ1VwKTtcbiAgICAgICAgICAgIGRyYWcucHVzaCh7ZWw6IHRoaXMsIG1vdmVfc2NvcGU6IG1vdmVfc2NvcGUsIHN0YXJ0X3Njb3BlOiBzdGFydF9zY29wZSwgZW5kX3Njb3BlOiBlbmRfc2NvcGV9KTtcbiAgICAgICAgICAgIG9uc3RhcnQgJiYgZXZlLm9uKFwicmFwaGFlbC5kcmFnLnN0YXJ0LlwiICsgdGhpcy5pZCwgb25zdGFydCk7XG4gICAgICAgICAgICBvbm1vdmUgJiYgZXZlLm9uKFwicmFwaGFlbC5kcmFnLm1vdmUuXCIgKyB0aGlzLmlkLCBvbm1vdmUpO1xuICAgICAgICAgICAgb25lbmQgJiYgZXZlLm9uKFwicmFwaGFlbC5kcmFnLmVuZC5cIiArIHRoaXMuaWQsIG9uZW5kKTtcbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuZHJhZy5zdGFydC5cIiArIHRoaXMuaWQsIHN0YXJ0X3Njb3BlIHx8IG1vdmVfc2NvcGUgfHwgdGhpcywgZS5jbGllbnRYICsgc2Nyb2xsWCwgZS5jbGllbnRZICsgc2Nyb2xsWSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhZyA9IHt9O1xuICAgICAgICBkcmFnZ2FibGUucHVzaCh7ZWw6IHRoaXMsIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICB0aGlzLm1vdXNlZG93bihzdGFydCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQub25EcmFnT3ZlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU2hvcnRjdXQgZm9yIGFzc2lnbmluZyBldmVudCBoYW5kbGVyIGZvciBgZHJhZy5vdmVyLjxpZD5gIGV2ZW50LCB3aGVyZSBpZCBpcyBpZCBvZiB0aGUgZWxlbWVudCAoc2VlIEBFbGVtZW50LmlkKS5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZiAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGV2ZW50LCBmaXJzdCBhcmd1bWVudCB3b3VsZCBiZSB0aGUgZWxlbWVudCB5b3UgYXJlIGRyYWdnaW5nIG92ZXJcbiAgICBcXCovXG4gICAgZWxwcm90by5vbkRyYWdPdmVyID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgZiA/IGV2ZS5vbihcInJhcGhhZWwuZHJhZy5vdmVyLlwiICsgdGhpcy5pZCwgZikgOiBldmUudW5iaW5kKFwicmFwaGFlbC5kcmFnLm92ZXIuXCIgKyB0aGlzLmlkKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuZHJhZ1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBhbGwgZHJhZyBldmVudCBoYW5kbGVycyBmcm9tIGdpdmVuIGVsZW1lbnQuXG4gICAgXFwqL1xuICAgIGVscHJvdG8udW5kcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaSA9IGRyYWdnYWJsZS5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIGlmIChkcmFnZ2FibGVbaV0uZWwgPT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy51bm1vdXNlZG93bihkcmFnZ2FibGVbaV0uc3RhcnQpO1xuICAgICAgICAgICAgZHJhZ2dhYmxlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGV2ZS51bmJpbmQoXCJyYXBoYWVsLmRyYWcuKi5cIiArIHRoaXMuaWQpO1xuICAgICAgICB9XG4gICAgICAgICFkcmFnZ2FibGUubGVuZ3RoICYmIFIudW5tb3VzZW1vdmUoZHJhZ01vdmUpLnVubW91c2V1cChkcmFnVXApO1xuICAgICAgICBkcmFnID0gW107XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuY2lyY2xlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEcmF3cyBhIGNpcmNsZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRyZVxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmVcbiAgICAgLSByIChudW1iZXIpIHJhZGl1c1xuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJxjaXJjbGXigJ1cbiAgICAgKipcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciBjID0gcGFwZXIuY2lyY2xlKDUwLCA1MCwgNDApO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmNpcmNsZSA9IGZ1bmN0aW9uICh4LCB5LCByKSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUuY2lyY2xlKHRoaXMsIHggfHwgMCwgeSB8fCAwLCByIHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5yZWN0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHRvcCBsZWZ0IGNvcm5lclxuICAgICAtIHdpZHRoIChudW1iZXIpIHdpZHRoXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpIGhlaWdodFxuICAgICAtIHIgKG51bWJlcikgI29wdGlvbmFsIHJhZGl1cyBmb3Igcm91bmRlZCBjb3JuZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdCB3aXRoIHR5cGUg4oCccmVjdOKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgLy8gcmVndWxhciByZWN0YW5nbGVcbiAgICAgfCB2YXIgYyA9IHBhcGVyLnJlY3QoMTAsIDEwLCA1MCwgNTApO1xuICAgICB8IC8vIHJlY3RhbmdsZSB3aXRoIHJvdW5kZWQgY29ybmVyc1xuICAgICB8IHZhciBjID0gcGFwZXIucmVjdCg0MCwgNDAsIDUwLCA1MCwgMTApO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnJlY3QgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgcikge1xuICAgICAgICB2YXIgb3V0ID0gUi5fZW5naW5lLnJlY3QodGhpcywgeCB8fCAwLCB5IHx8IDAsIHcgfHwgMCwgaCB8fCAwLCByIHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5lbGxpcHNlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEcmF3cyBhbiBlbGxpcHNlLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudHJlXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRyZVxuICAgICAtIHJ4IChudW1iZXIpIGhvcml6b250YWwgcmFkaXVzXG4gICAgIC0gcnkgKG51bWJlcikgdmVydGljYWwgcmFkaXVzXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3Qgd2l0aCB0eXBlIOKAnGVsbGlwc2XigJ1cbiAgICAgKipcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciBjID0gcGFwZXIuZWxsaXBzZSg1MCwgNTAsIDQwLCAyMCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZWxsaXBzZSA9IGZ1bmN0aW9uICh4LCB5LCByeCwgcnkpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS5lbGxpcHNlKHRoaXMsIHggfHwgMCwgeSB8fCAwLCByeCB8fCAwLCByeSB8fCAwKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIucGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBhIHBhdGggZWxlbWVudCBieSBnaXZlbiBwYXRoIGRhdGEgc3RyaW5nLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoU3RyaW5nIChzdHJpbmcpICNvcHRpb25hbCBwYXRoIHN0cmluZyBpbiBTVkcgZm9ybWF0LlxuICAgICAqIFBhdGggc3RyaW5nIGNvbnNpc3RzIG9mIG9uZS1sZXR0ZXIgY29tbWFuZHMsIGZvbGxvd2VkIGJ5IGNvbW1hIHNlcHJhcmF0ZWQgYXJndW1lbnRzIGluIG51bWVyY2FsIGZvcm0uIEV4YW1wbGU6XG4gICAgIHwgXCJNMTAsMjBMMzAsNDBcIlxuICAgICAqIEhlcmUgd2UgY2FuIHNlZSB0d28gY29tbWFuZHM6IOKAnE3igJ0sIHdpdGggYXJndW1lbnRzIGAoMTAsIDIwKWAgYW5kIOKAnEzigJ0gd2l0aCBhcmd1bWVudHMgYCgzMCwgNDApYC4gVXBwZXIgY2FzZSBsZXR0ZXIgbWVhbiBjb21tYW5kIGlzIGFic29sdXRlLCBsb3dlciBjYXNl4oCUcmVsYXRpdmUuXG4gICAgICpcbiAgICAgIyA8cD5IZXJlIGlzIHNob3J0IGxpc3Qgb2YgY29tbWFuZHMgYXZhaWxhYmxlLCBmb3IgbW9yZSBkZXRhaWxzIHNlZSA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcIiB0aXRsZT1cIkRldGFpbHMgb2YgYSBwYXRoJ3MgZGF0YSBhdHRyaWJ1dGUncyBmb3JtYXQgYXJlIGRlc2NyaWJlZCBpbiB0aGUgU1ZHIHNwZWNpZmljYXRpb24uXCI+U1ZHIHBhdGggc3RyaW5nIGZvcm1hdDwvYT4uPC9wPlxuICAgICAjIDx0YWJsZT48dGhlYWQ+PHRyPjx0aD5Db21tYW5kPC90aD48dGg+TmFtZTwvdGg+PHRoPlBhcmFtZXRlcnM8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+XG4gICAgICMgPHRyPjx0ZD5NPC90ZD48dGQ+bW92ZXRvPC90ZD48dGQ+KHggeSkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+WjwvdGQ+PHRkPmNsb3NlcGF0aDwvdGQ+PHRkPihub25lKTwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkw8L3RkPjx0ZD5saW5ldG88L3RkPjx0ZD4oeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5IPC90ZD48dGQ+aG9yaXpvbnRhbCBsaW5ldG88L3RkPjx0ZD54KzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPlY8L3RkPjx0ZD52ZXJ0aWNhbCBsaW5ldG88L3RkPjx0ZD55KzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkM8L3RkPjx0ZD5jdXJ2ZXRvPC90ZD48dGQ+KHgxIHkxIHgyIHkyIHggeSkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+UzwvdGQ+PHRkPnNtb290aCBjdXJ2ZXRvPC90ZD48dGQ+KHgyIHkyIHggeSkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+UTwvdGQ+PHRkPnF1YWRyYXRpYyBCw6l6aWVyIGN1cnZldG88L3RkPjx0ZD4oeDEgeTEgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5UPC90ZD48dGQ+c21vb3RoIHF1YWRyYXRpYyBCw6l6aWVyIGN1cnZldG88L3RkPjx0ZD4oeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5BPC90ZD48dGQ+ZWxsaXB0aWNhbCBhcmM8L3RkPjx0ZD4ocnggcnkgeC1heGlzLXJvdGF0aW9uIGxhcmdlLWFyYy1mbGFnIHN3ZWVwLWZsYWcgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5SPC90ZD48dGQ+PGEgaHJlZj1cImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F0bXVsbOKAk1JvbV9zcGxpbmUjQ2F0bXVsbC5FMi44MC45M1JvbV9zcGxpbmVcIj5DYXRtdWxsLVJvbSBjdXJ2ZXRvPC9hPio8L3RkPjx0ZD54MSB5MSAoeCB5KSs8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPlxuICAgICAqICog4oCcQ2F0bXVsbC1Sb20gY3VydmV0b+KAnSBpcyBhIG5vdCBzdGFuZGFyZCBTVkcgY29tbWFuZCBhbmQgYWRkZWQgaW4gMi4wIHRvIG1ha2UgbGlmZSBlYXNpZXIuXG4gICAgICogTm90ZTogdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlbiBwYXRoIGNvbnNpc3Qgb2YganVzdCB0aHJlZSBjb21tYW5kczog4oCcTTEwLDEwUuKApnrigJ0uIEluIHRoaXMgY2FzZSBwYXRoIHdpbGwgc21vb3RobHkgY29ubmVjdHMgdG8gaXRzIGJlZ2lubmluZy5cbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciBjID0gcGFwZXIucGF0aChcIk0xMCAxMEw5MCA5MFwiKTtcbiAgICAgfCAvLyBkcmF3IGEgZGlhZ29uYWwgbGluZTpcbiAgICAgfCAvLyBtb3ZlIHRvIDEwLDEwLCBsaW5lIHRvIDkwLDkwXG4gICAgICogRm9yIGV4YW1wbGUgb2YgcGF0aCBzdHJpbmdzLCBjaGVjayBvdXQgdGhlc2UgaWNvbnM6IGh0dHA6Ly9yYXBoYWVsanMuY29tL2ljb25zL1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnBhdGggPSBmdW5jdGlvbiAocGF0aFN0cmluZykge1xuICAgICAgICBwYXRoU3RyaW5nICYmICFSLmlzKHBhdGhTdHJpbmcsIHN0cmluZykgJiYgIVIuaXMocGF0aFN0cmluZ1swXSwgYXJyYXkpICYmIChwYXRoU3RyaW5nICs9IEUpO1xuICAgICAgICB2YXIgb3V0ID0gUi5fZW5naW5lLnBhdGgoUi5mb3JtYXRbYXBwbHldKFIsIGFyZ3VtZW50cyksIHRoaXMpO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5pbWFnZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRW1iZWRzIGFuIGltYWdlIGludG8gdGhlIHN1cmZhY2UuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHNyYyAoc3RyaW5nKSBVUkkgb2YgdGhlIHNvdXJjZSBpbWFnZVxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIHBvc2l0aW9uXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgcG9zaXRpb25cbiAgICAgLSB3aWR0aCAobnVtYmVyKSB3aWR0aCBvZiB0aGUgaW1hZ2VcbiAgICAgLSBoZWlnaHQgKG51bWJlcikgaGVpZ2h0IG9mIHRoZSBpbWFnZVxuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJxpbWFnZeKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5pbWFnZShcImFwcGxlLnBuZ1wiLCAxMCwgMTAsIDgwLCA4MCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uaW1hZ2UgPSBmdW5jdGlvbiAoc3JjLCB4LCB5LCB3LCBoKSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUuaW1hZ2UodGhpcywgc3JjIHx8IFwiYWJvdXQ6YmxhbmtcIiwgeCB8fCAwLCB5IHx8IDAsIHcgfHwgMCwgaCB8fCAwKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIudGV4dFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRHJhd3MgYSB0ZXh0IHN0cmluZy4gSWYgeW91IG5lZWQgbGluZSBicmVha3MsIHB1dCDigJxcXG7igJ0gaW4gdGhlIHN0cmluZy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgcG9zaXRpb25cbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBwb3NpdGlvblxuICAgICAtIHRleHQgKHN0cmluZykgVGhlIHRleHQgc3RyaW5nIHRvIGRyYXdcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdCB3aXRoIHR5cGUg4oCcdGV4dOKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIHQgPSBwYXBlci50ZXh0KDUwLCA1MCwgXCJSYXBoYcOrbFxcbmtpY2tzXFxuYnV0dCFcIik7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8udGV4dCA9IGZ1bmN0aW9uICh4LCB5LCB0ZXh0KSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUudGV4dCh0aGlzLCB4IHx8IDAsIHkgfHwgMCwgU3RyKHRleHQpKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGtlZXAgYW5kIG9wZXJhdGUgc2V2ZXJhbCBlbGVtZW50cyBhdCBvbmNlLlxuICAgICAqIFdhcm5pbmc6IGl0IGRvZXNu4oCZdCBjcmVhdGUgYW55IGVsZW1lbnRzIGZvciBpdHNlbGYgaW4gdGhlIHBhZ2UsIGl0IGp1c3QgZ3JvdXBzIGV4aXN0aW5nIGVsZW1lbnRzLlxuICAgICAqIFNldHMgYWN0IGFzIHBzZXVkbyBlbGVtZW50cyDigJQgYWxsIG1ldGhvZHMgYXZhaWxhYmxlIHRvIGFuIGVsZW1lbnQgY2FuIGJlIHVzZWQgb24gYSBzZXQuXG4gICAgID0gKG9iamVjdCkgYXJyYXktbGlrZSBvYmplY3QgdGhhdCByZXByZXNlbnRzIHNldCBvZiBlbGVtZW50c1xuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIHN0ID0gcGFwZXIuc2V0KCk7XG4gICAgIHwgc3QucHVzaChcbiAgICAgfCAgICAgcGFwZXIuY2lyY2xlKDEwLCAxMCwgNSksXG4gICAgIHwgICAgIHBhcGVyLmNpcmNsZSgzMCwgMTAsIDUpXG4gICAgIHwgKTtcbiAgICAgfCBzdC5hdHRyKHtmaWxsOiBcInJlZFwifSk7IC8vIGNoYW5nZXMgdGhlIGZpbGwgb2YgYm90aCBjaXJjbGVzXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uc2V0ID0gZnVuY3Rpb24gKGl0ZW1zQXJyYXkpIHtcbiAgICAgICAgIVIuaXMoaXRlbXNBcnJheSwgXCJhcnJheVwiKSAmJiAoaXRlbXNBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDAsIGFyZ3VtZW50cy5sZW5ndGgpKTtcbiAgICAgICAgdmFyIG91dCA9IG5ldyBTZXQoaXRlbXNBcnJheSk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICBvdXRbXCJwYXBlclwiXSA9IHRoaXM7XG4gICAgICAgIG91dFtcInR5cGVcIl0gPSBcInNldFwiO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnNldFN0YXJ0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIEBQYXBlci5zZXQuIEFsbCBlbGVtZW50cyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kIGFuZCBiZWZvcmUgY2FsbGluZ1xuICAgICAqIEBQYXBlci5zZXRGaW5pc2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgc2V0LlxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIuc2V0U3RhcnQoKTtcbiAgICAgfCBwYXBlci5jaXJjbGUoMTAsIDEwLCA1KSxcbiAgICAgfCBwYXBlci5jaXJjbGUoMzAsIDEwLCA1KVxuICAgICB8IHZhciBzdCA9IHBhcGVyLnNldEZpbmlzaCgpO1xuICAgICB8IHN0LmF0dHIoe2ZpbGw6IFwicmVkXCJ9KTsgLy8gY2hhbmdlcyB0aGUgZmlsbCBvZiBib3RoIGNpcmNsZXNcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5zZXRTdGFydCA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgdGhpcy5fX3NldF9fID0gc2V0IHx8IHRoaXMuc2V0KCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0RmluaXNoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZWUgQFBhcGVyLnNldFN0YXJ0LiBUaGlzIG1ldGhvZCBmaW5pc2hlcyBjYXRjaGluZyBhbmQgcmV0dXJucyByZXN1bHRpbmcgc2V0LlxuICAgICAqKlxuICAgICA9IChvYmplY3QpIHNldFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldEZpbmlzaCA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgdmFyIG91dCA9IHRoaXMuX19zZXRfXztcbiAgICAgICAgZGVsZXRlIHRoaXMuX19zZXRfXztcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5nZXRTaXplXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBPYnRhaW5zIGN1cnJlbnQgcGFwZXIgYWN0dWFsIHNpemUuXG4gICAgICoqXG4gICAgID0gKG9iamVjdClcbiAgICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY2FudmFzLnBhcmVudE5vZGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogY29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjb250YWluZXIub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0U2l6ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSWYgeW91IG5lZWQgdG8gY2hhbmdlIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhcyBjYWxsIHRoaXMgbWV0aG9kXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHdpZHRoIChudW1iZXIpIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gUi5fZW5naW5lLnNldFNpemUuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRWaWV3Qm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZXRzIHRoZSB2aWV3IGJveCBvZiB0aGUgcGFwZXIuIFByYWN0aWNhbGx5IGl0IGdpdmVzIHlvdSBhYmlsaXR5IHRvIHpvb20gYW5kIHBhbiB3aG9sZSBwYXBlciBzdXJmYWNlIGJ5XG4gICAgICogc3BlY2lmeWluZyBuZXcgYm91bmRhcmllcy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSBuZXcgeCBwb3NpdGlvbiwgZGVmYXVsdCBpcyBgMGBcbiAgICAgLSB5IChudW1iZXIpIG5ldyB5IHBvc2l0aW9uLCBkZWZhdWx0IGlzIGAwYFxuICAgICAtIHcgKG51bWJlcikgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgLSBoIChudW1iZXIpIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAtIGZpdCAoYm9vbGVhbikgYHRydWVgIGlmIHlvdSB3YW50IGdyYXBoaWNzIHRvIGZpdCBpbnRvIG5ldyBib3VuZGFyeSBib3hcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5zZXRWaWV3Qm94ID0gZnVuY3Rpb24gKHgsIHksIHcsIGgsIGZpdCkge1xuICAgICAgICByZXR1cm4gUi5fZW5naW5lLnNldFZpZXdCb3guY2FsbCh0aGlzLCB4LCB5LCB3LCBoLCBmaXQpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnRvcFxuICAgICBbIHByb3BlcnR5IF1cbiAgICAgKipcbiAgICAgKiBQb2ludHMgdG8gdGhlIHRvcG1vc3QgZWxlbWVudCBvbiB0aGUgcGFwZXJcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIFBhcGVyLmJvdHRvbVxuICAgICBbIHByb3BlcnR5IF1cbiAgICAgKipcbiAgICAgKiBQb2ludHMgdG8gdGhlIGJvdHRvbSBlbGVtZW50IG9uIHRoZSBwYXBlclxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnRvcCA9IHBhcGVycHJvdG8uYm90dG9tID0gbnVsbDtcbiAgICAvKlxcXG4gICAgICogUGFwZXIucmFwaGFlbFxuICAgICBbIHByb3BlcnR5IF1cbiAgICAgKipcbiAgICAgKiBQb2ludHMgdG8gdGhlIEBSYXBoYWVsIG9iamVjdC9mdW5jdGlvblxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnJhcGhhZWwgPSBSO1xuICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcbiAgICAgICAgICAgIGJvZHkgPSBkb2MuYm9keSxcbiAgICAgICAgICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICAgICAgY2xpZW50VG9wID0gZG9jRWxlbS5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMCwgY2xpZW50TGVmdCA9IGRvY0VsZW0uY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMCxcbiAgICAgICAgICAgIHRvcCAgPSBib3gudG9wICArIChnLndpbi5wYWdlWU9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbFRvcCB8fCBib2R5LnNjcm9sbFRvcCApIC0gY2xpZW50VG9wLFxuICAgICAgICAgICAgbGVmdCA9IGJveC5sZWZ0ICsgKGcud2luLnBhZ2VYT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsTGVmdCB8fCBib2R5LnNjcm9sbExlZnQpIC0gY2xpZW50TGVmdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHk6IHRvcCxcbiAgICAgICAgICAgIHg6IGxlZnRcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5nZXRFbGVtZW50QnlQb2ludFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyB5b3UgdG9wbW9zdCBlbGVtZW50IHVuZGVyIGdpdmVuIHBvaW50LlxuICAgICAqKlxuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIGZyb20gdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgd2luZG93XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSB3aW5kb3dcbiAgICAgPiBVc2FnZVxuICAgICB8IHBhcGVyLmdldEVsZW1lbnRCeVBvaW50KG1vdXNlWCwgbW91c2VZKS5hdHRyKHtzdHJva2U6IFwiI2YwMFwifSk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0RWxlbWVudEJ5UG9pbnQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgcGFwZXIgPSB0aGlzLFxuICAgICAgICAgICAgc3ZnID0gcGFwZXIuY2FudmFzLFxuICAgICAgICAgICAgdGFyZ2V0ID0gZy5kb2MuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgaWYgKGcud2luLm9wZXJhICYmIHRhcmdldC50YWdOYW1lID09IFwic3ZnXCIpIHtcbiAgICAgICAgICAgIHZhciBzbyA9IGdldE9mZnNldChzdmcpLFxuICAgICAgICAgICAgICAgIHNyID0gc3ZnLmNyZWF0ZVNWR1JlY3QoKTtcbiAgICAgICAgICAgIHNyLnggPSB4IC0gc28ueDtcbiAgICAgICAgICAgIHNyLnkgPSB5IC0gc28ueTtcbiAgICAgICAgICAgIHNyLndpZHRoID0gc3IuaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIHZhciBoaXRzID0gc3ZnLmdldEludGVyc2VjdGlvbkxpc3Qoc3IsIG51bGwpO1xuICAgICAgICAgICAgaWYgKGhpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gaGl0c1toaXRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGFyZ2V0LnBhcmVudE5vZGUgJiYgdGFyZ2V0ICE9IHN2Zy5wYXJlbnROb2RlICYmICF0YXJnZXQucmFwaGFlbCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0ID09IHBhcGVyLmNhbnZhcy5wYXJlbnROb2RlICYmICh0YXJnZXQgPSBzdmcpO1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQgJiYgdGFyZ2V0LnJhcGhhZWwgPyBwYXBlci5nZXRCeUlkKHRhcmdldC5yYXBoYWVsaWQpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEVsZW1lbnRzQnlCQm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHNldCBvZiBlbGVtZW50cyB0aGF0IGhhdmUgYW4gaW50ZXJzZWN0aW5nIGJvdW5kaW5nIGJveFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBiYm94IChvYmplY3QpIGJib3ggdG8gY2hlY2sgd2l0aFxuICAgICA9IChvYmplY3QpIEBTZXRcbiAgICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0RWxlbWVudHNCeUJCb3ggPSBmdW5jdGlvbiAoYmJveCkge1xuICAgICAgICB2YXIgc2V0ID0gdGhpcy5zZXQoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKFIuaXNCQm94SW50ZXJzZWN0KGVsLmdldEJCb3goKSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICBzZXQucHVzaChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2V0O1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0QnlJZFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyB5b3UgZWxlbWVudCBieSBpdHMgaW50ZXJuYWwgSUQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGlkIChudW1iZXIpIGlkXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3RcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBib3QgPSB0aGlzLmJvdHRvbTtcbiAgICAgICAgd2hpbGUgKGJvdCkge1xuICAgICAgICAgICAgaWYgKGJvdC5pZCA9PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBib3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3QgPSBib3QubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5mb3JFYWNoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBFeGVjdXRlcyBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IG9uIHRoZSBwYXBlclxuICAgICAqXG4gICAgICogSWYgY2FsbGJhY2sgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIGl0IHdpbGwgc3RvcCBsb29wIHJ1bm5pbmcuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgZnVuY3Rpb24gdG8gcnVuXG4gICAgIC0gdGhpc0FyZyAob2JqZWN0KSBjb250ZXh0IG9iamVjdCBmb3IgdGhlIGNhbGxiYWNrXG4gICAgID0gKG9iamVjdCkgUGFwZXIgb2JqZWN0XG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICB8ICAgICBlbC5hdHRyKHsgc3Ryb2tlOiBcImJsdWVcIiB9KTtcbiAgICAgfCB9KTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBib3QgPSB0aGlzLmJvdHRvbTtcbiAgICAgICAgd2hpbGUgKGJvdCkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgYm90KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvdCA9IGJvdC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEVsZW1lbnRzQnlQb2ludFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyBzZXQgb2YgZWxlbWVudHMgdGhhdCBoYXZlIGNvbW1vbiBwb2ludCBpbnNpZGVcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgID0gKG9iamVjdCkgQFNldFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmdldEVsZW1lbnRzQnlQb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBzZXQgPSB0aGlzLnNldCgpO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoZWwuaXNQb2ludEluc2lkZSh4LCB5KSkge1xuICAgICAgICAgICAgICAgIHNldC5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiB4X3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKyBTICsgdGhpcy55O1xuICAgIH1cbiAgICBmdW5jdGlvbiB4X3lfd19oKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICsgUyArIHRoaXMueSArIFMgKyB0aGlzLndpZHRoICsgXCIgXFx4ZDcgXCIgKyB0aGlzLmhlaWdodDtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaXNQb2ludEluc2lkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGdpdmVuIHBvaW50IGlzIGluc2lkZSB0aGlzIGVsZW1lbnTigJlzIHNoYXBlXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgcG9pbnQgaW5zaWRlIHRoZSBzaGFwZVxuICAgIFxcKi9cbiAgICBlbHByb3RvLmlzUG9pbnRJbnNpZGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgcnAgPSB0aGlzLnJlYWxQYXRoID0gZ2V0UGF0aFt0aGlzLnR5cGVdKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5hdHRyKCd0cmFuc2Zvcm0nKSAmJiB0aGlzLmF0dHIoJ3RyYW5zZm9ybScpLmxlbmd0aCkge1xuICAgICAgICAgICAgcnAgPSBSLnRyYW5zZm9ybVBhdGgocnAsIHRoaXMuYXR0cigndHJhbnNmb3JtJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSLmlzUG9pbnRJbnNpZGVQYXRoKHJwLCB4LCB5KTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldEJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybiBib3VuZGluZyBib3ggZm9yIGEgZ2l2ZW4gZWxlbWVudFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBpc1dpdGhvdXRUcmFuc2Zvcm0gKGJvb2xlYW4pIGZsYWcsIGB0cnVlYCBpZiB5b3Ugd2FudCB0byBoYXZlIGJvdW5kaW5nIGJveCBiZWZvcmUgdHJhbnNmb3JtYXRpb25zLiBEZWZhdWx0IGlzIGBmYWxzZWAuXG4gICAgID0gKG9iamVjdCkgQm91bmRpbmcgYm94IG9iamVjdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHRvcCBsZWZ0IGNvcm5lciB4XG4gICAgIG8gICAgIHk6IChudW1iZXIpIHRvcCBsZWZ0IGNvcm5lciB5XG4gICAgIG8gICAgIHgyOiAobnVtYmVyKSBib3R0b20gcmlnaHQgY29ybmVyIHhcbiAgICAgbyAgICAgeTI6IChudW1iZXIpIGJvdHRvbSByaWdodCBjb3JuZXIgeVxuICAgICBvICAgICB3aWR0aDogKG51bWJlcikgd2lkdGhcbiAgICAgbyAgICAgaGVpZ2h0OiAobnVtYmVyKSBoZWlnaHRcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0QkJveCA9IGZ1bmN0aW9uIChpc1dpdGhvdXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfID0gdGhpcy5fO1xuICAgICAgICBpZiAoaXNXaXRob3V0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBpZiAoXy5kaXJ0eSB8fCAhXy5iYm94d3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWxQYXRoID0gZ2V0UGF0aFt0aGlzLnR5cGVdKHRoaXMpO1xuICAgICAgICAgICAgICAgIF8uYmJveHd0ID0gcGF0aERpbWVuc2lvbnModGhpcy5yZWFsUGF0aCk7XG4gICAgICAgICAgICAgICAgXy5iYm94d3QudG9TdHJpbmcgPSB4X3lfd19oO1xuICAgICAgICAgICAgICAgIF8uZGlydHkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF8uYmJveHd0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmRpcnR5IHx8IF8uZGlydHlUIHx8ICFfLmJib3gpIHtcbiAgICAgICAgICAgIGlmIChfLmRpcnR5IHx8ICF0aGlzLnJlYWxQYXRoKSB7XG4gICAgICAgICAgICAgICAgXy5iYm94d3QgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhbFBhdGggPSBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmJib3ggPSBwYXRoRGltZW5zaW9ucyhtYXBQYXRoKHRoaXMucmVhbFBhdGgsIHRoaXMubWF0cml4KSk7XG4gICAgICAgICAgICBfLmJib3gudG9TdHJpbmcgPSB4X3lfd19oO1xuICAgICAgICAgICAgXy5kaXJ0eSA9IF8uZGlydHlUID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXy5iYm94O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuY2xvbmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICA9IChvYmplY3QpIGNsb25lIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICAgICAqKlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0ID0gdGhpcy5wYXBlclt0aGlzLnR5cGVdKCkuYXR0cih0aGlzLmF0dHIoKSk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2xvd1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIHNldCBvZiBlbGVtZW50cyB0aGF0IGNyZWF0ZSBnbG93LWxpa2UgZWZmZWN0IGFyb3VuZCBnaXZlbiBlbGVtZW50LiBTZWUgQFBhcGVyLnNldC5cbiAgICAgKlxuICAgICAqIE5vdGU6IEdsb3cgaXMgbm90IGNvbm5lY3RlZCB0byB0aGUgZWxlbWVudC4gSWYgeW91IGNoYW5nZSBlbGVtZW50IGF0dHJpYnV0ZXMgaXQgd29u4oCZdCBhZGp1c3QgaXRzZWxmLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBnbG93IChvYmplY3QpICNvcHRpb25hbCBwYXJhbWV0ZXJzIG9iamVjdCB3aXRoIGFsbCBwcm9wZXJ0aWVzIG9wdGlvbmFsOlxuICAgICBvIHtcbiAgICAgbyAgICAgd2lkdGggKG51bWJlcikgc2l6ZSBvZiB0aGUgZ2xvdywgZGVmYXVsdCBpcyBgMTBgXG4gICAgIG8gICAgIGZpbGwgKGJvb2xlYW4pIHdpbGwgaXQgYmUgZmlsbGVkLCBkZWZhdWx0IGlzIGBmYWxzZWBcbiAgICAgbyAgICAgb3BhY2l0eSAobnVtYmVyKSBvcGFjaXR5LCBkZWZhdWx0IGlzIGAwLjVgXG4gICAgIG8gICAgIG9mZnNldHggKG51bWJlcikgaG9yaXpvbnRhbCBvZmZzZXQsIGRlZmF1bHQgaXMgYDBgXG4gICAgIG8gICAgIG9mZnNldHkgKG51bWJlcikgdmVydGljYWwgb2Zmc2V0LCBkZWZhdWx0IGlzIGAwYFxuICAgICBvICAgICBjb2xvciAoc3RyaW5nKSBnbG93IGNvbG91ciwgZGVmYXVsdCBpcyBgYmxhY2tgXG4gICAgIG8gfVxuICAgICA9IChvYmplY3QpIEBQYXBlci5zZXQgb2YgZWxlbWVudHMgdGhhdCByZXByZXNlbnRzIGdsb3dcbiAgICBcXCovXG4gICAgZWxwcm90by5nbG93ID0gZnVuY3Rpb24gKGdsb3cpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcInRleHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvdyA9IGdsb3cgfHwge307XG4gICAgICAgIHZhciBzID0ge1xuICAgICAgICAgICAgd2lkdGg6IChnbG93LndpZHRoIHx8IDEwKSArICgrdGhpcy5hdHRyKFwic3Ryb2tlLXdpZHRoXCIpIHx8IDEpLFxuICAgICAgICAgICAgZmlsbDogZ2xvdy5maWxsIHx8IGZhbHNlLFxuICAgICAgICAgICAgb3BhY2l0eTogZ2xvdy5vcGFjaXR5ID09IG51bGwgPyAuNSA6IGdsb3cub3BhY2l0eSxcbiAgICAgICAgICAgIG9mZnNldHg6IGdsb3cub2Zmc2V0eCB8fCAwLFxuICAgICAgICAgICAgb2Zmc2V0eTogZ2xvdy5vZmZzZXR5IHx8IDAsXG4gICAgICAgICAgICBjb2xvcjogZ2xvdy5jb2xvciB8fCBcIiMwMDBcIlxuICAgICAgICB9LFxuICAgICAgICAgICAgYyA9IHMud2lkdGggLyAyLFxuICAgICAgICAgICAgciA9IHRoaXMucGFwZXIsXG4gICAgICAgICAgICBvdXQgPSByLnNldCgpLFxuICAgICAgICAgICAgcGF0aCA9IHRoaXMucmVhbFBhdGggfHwgZ2V0UGF0aFt0aGlzLnR5cGVdKHRoaXMpO1xuICAgICAgICBwYXRoID0gdGhpcy5tYXRyaXggPyBtYXBQYXRoKHBhdGgsIHRoaXMubWF0cml4KSA6IHBhdGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYyArIDE7IGkrKykge1xuICAgICAgICAgICAgb3V0LnB1c2goci5wYXRoKHBhdGgpLmF0dHIoe1xuICAgICAgICAgICAgICAgIHN0cm9rZTogcy5jb2xvcixcbiAgICAgICAgICAgICAgICBmaWxsOiBzLmZpbGwgPyBzLmNvbG9yIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgXCJzdHJva2UtbGluZWpvaW5cIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6ICsocy53aWR0aCAvIGMgKiBpKS50b0ZpeGVkKDMpLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICsocy5vcGFjaXR5IC8gYykudG9GaXhlZCgzKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQuaW5zZXJ0QmVmb3JlKHRoaXMpLnRyYW5zbGF0ZShzLm9mZnNldHgsIHMub2Zmc2V0eSk7XG4gICAgfTtcbiAgICB2YXIgY3VydmVzbGVuZ3RocyA9IHt9LFxuICAgIGdldFBvaW50QXRTZWdtZW50TGVuZ3RoID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYmV6bGVuKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSLmZpbmREb3RzQXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCBnZXRUYXRMZW4ocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIGxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRMZW5ndGhGYWN0b3J5ID0gZnVuY3Rpb24gKGlzdG90YWwsIHN1YnBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXRoLCBsZW5ndGgsIG9ubHlzdGFydCkge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGgyY3VydmUocGF0aCk7XG4gICAgICAgICAgICB2YXIgeCwgeSwgcCwgbCwgc3AgPSBcIlwiLCBzdWJwYXRocyA9IHt9LCBwb2ludCxcbiAgICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGF0aC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcCA9IHBhdGhbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9ICtwWzFdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gK3BbMl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGdldFBvaW50QXRTZWdtZW50TGVuZ3RoKHgsIHksIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIHBbNl0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVuICsgbCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnBhdGggJiYgIXN1YnBhdGhzLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSBnZXRQb2ludEF0U2VnbWVudExlbmd0aCh4LCB5LCBwWzFdLCBwWzJdLCBwWzNdLCBwWzRdLCBwWzVdLCBwWzZdLCBsZW5ndGggLSBsZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwICs9IFtcIkNcIiArIHBvaW50LnN0YXJ0LngsIHBvaW50LnN0YXJ0LnksIHBvaW50Lm0ueCwgcG9pbnQubS55LCBwb2ludC54LCBwb2ludC55XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25seXN0YXJ0KSB7cmV0dXJuIHNwO31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJwYXRocy5zdGFydCA9IHNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwID0gW1wiTVwiICsgcG9pbnQueCwgcG9pbnQueSArIFwiQ1wiICsgcG9pbnQubi54LCBwb2ludC5uLnksIHBvaW50LmVuZC54LCBwb2ludC5lbmQueSwgcFs1XSwgcFs2XV0uam9pbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiArPSBsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSArcFs1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gK3BbNl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzdG90YWwgJiYgIXN1YnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IGdldFBvaW50QXRTZWdtZW50TGVuZ3RoKHgsIHksIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIHBbNl0sIGxlbmd0aCAtIGxlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt4OiBwb2ludC54LCB5OiBwb2ludC55LCBhbHBoYTogcG9pbnQuYWxwaGF9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlbiArPSBsO1xuICAgICAgICAgICAgICAgICAgICB4ID0gK3BbNV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSArcFs2XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3AgKz0gcC5zaGlmdCgpICsgcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnBhdGhzLmVuZCA9IHNwO1xuICAgICAgICAgICAgcG9pbnQgPSBpc3RvdGFsID8gbGVuIDogc3VicGF0aCA/IHN1YnBhdGhzIDogUi5maW5kRG90c0F0U2VnbWVudCh4LCB5LCBwWzBdLCBwWzFdLCBwWzJdLCBwWzNdLCBwWzRdLCBwWzVdLCAxKTtcbiAgICAgICAgICAgIHBvaW50LmFscGhhICYmIChwb2ludCA9IHt4OiBwb2ludC54LCB5OiBwb2ludC55LCBhbHBoYTogcG9pbnQuYWxwaGF9KTtcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBnZXRUb3RhbExlbmd0aCA9IGdldExlbmd0aEZhY3RvcnkoMSksXG4gICAgICAgIGdldFBvaW50QXRMZW5ndGggPSBnZXRMZW5ndGhGYWN0b3J5KCksXG4gICAgICAgIGdldFN1YnBhdGhzQXRMZW5ndGggPSBnZXRMZW5ndGhGYWN0b3J5KDAsIDEpO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmdldFRvdGFsTGVuZ3RoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGxlbmd0aCBvZiB0aGUgZ2l2ZW4gcGF0aCBpbiBwaXhlbHMuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHBhdGggKHN0cmluZykgU1ZHIHBhdGggc3RyaW5nLlxuICAgICAqKlxuICAgICA9IChudW1iZXIpIGxlbmd0aC5cbiAgICBcXCovXG4gICAgUi5nZXRUb3RhbExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmdldFBvaW50QXRMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybiBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgbG9jYXRlZCBhdCB0aGUgZ2l2ZW4gbGVuZ3RoIG9uIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZ1xuICAgICAtIGxlbmd0aCAobnVtYmVyKVxuICAgICAqKlxuICAgICA9IChvYmplY3QpIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2ludDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZVxuICAgICBvICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGVcbiAgICAgbyAgICAgYWxwaGE6IChudW1iZXIpIGFuZ2xlIG9mIGRlcml2YXRpdmVcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIuZ2V0UG9pbnRBdExlbmd0aCA9IGdldFBvaW50QXRMZW5ndGg7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0U3VicGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIHN1YnBhdGggb2YgYSBnaXZlbiBwYXRoIGZyb20gZ2l2ZW4gbGVuZ3RoIHRvIGdpdmVuIGxlbmd0aC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGF0aCAoc3RyaW5nKSBTVkcgcGF0aCBzdHJpbmdcbiAgICAgLSBmcm9tIChudW1iZXIpIHBvc2l0aW9uIG9mIHRoZSBzdGFydCBvZiB0aGUgc2VnbWVudFxuICAgICAtIHRvIChudW1iZXIpIHBvc2l0aW9uIG9mIHRoZSBlbmQgb2YgdGhlIHNlZ21lbnRcbiAgICAgKipcbiAgICAgPSAoc3RyaW5nKSBwYXRoc3RyaW5nIGZvciB0aGUgc2VnbWVudFxuICAgIFxcKi9cbiAgICBSLmdldFN1YnBhdGggPSBmdW5jdGlvbiAocGF0aCwgZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0VG90YWxMZW5ndGgocGF0aCkgLSB0byA8IDFlLTYpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRTdWJwYXRoc0F0TGVuZ3RoKHBhdGgsIGZyb20pLmVuZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYSA9IGdldFN1YnBhdGhzQXRMZW5ndGgocGF0aCwgdG8sIDEpO1xuICAgICAgICByZXR1cm4gZnJvbSA/IGdldFN1YnBhdGhzQXRMZW5ndGgoYSwgZnJvbSkuZW5kIDogYTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldFRvdGFsTGVuZ3RoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGxlbmd0aCBvZiB0aGUgcGF0aCBpbiBwaXhlbHMuIE9ubHkgd29ya3MgZm9yIGVsZW1lbnQgb2Yg4oCccGF0aOKAnSB0eXBlLlxuICAgICA9IChudW1iZXIpIGxlbmd0aC5cbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRUb3RhbExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKTtcbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub2RlLmdldFRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0VG90YWxMZW5ndGgocGF0aCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nZXRQb2ludEF0TGVuZ3RoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gY29vcmRpbmF0ZXMgb2YgdGhlIHBvaW50IGxvY2F0ZWQgYXQgdGhlIGdpdmVuIGxlbmd0aCBvbiB0aGUgZ2l2ZW4gcGF0aC4gT25seSB3b3JrcyBmb3IgZWxlbWVudCBvZiDigJxwYXRo4oCdIHR5cGUuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGxlbmd0aCAobnVtYmVyKVxuICAgICAqKlxuICAgICA9IChvYmplY3QpIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwb2ludDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZVxuICAgICBvICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGVcbiAgICAgbyAgICAgYWxwaGE6IChudW1iZXIpIGFuZ2xlIG9mIGRlcml2YXRpdmVcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0UG9pbnRBdExlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKTtcbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0UG9pbnRBdExlbmd0aChwYXRoLCBsZW5ndGgpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0UGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJucyBwYXRoIG9mIHRoZSBlbGVtZW50LiBPbmx5IHdvcmtzIGZvciBlbGVtZW50cyBvZiDigJxwYXRo4oCdIHR5cGUgYW5kIHNpbXBsZSBlbGVtZW50cyBsaWtlIGNpcmNsZS5cbiAgICAgPSAob2JqZWN0KSBwYXRoXG4gICAgICoqXG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0UGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhdGgsXG4gICAgICAgICAgICBnZXRQYXRoID0gUi5fZ2V0UGF0aFt0aGlzLnR5cGVdO1xuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT0gXCJ0ZXh0XCIgfHwgdGhpcy50eXBlID09IFwic2V0XCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZXRQYXRoKSB7XG4gICAgICAgICAgICBwYXRoID0gZ2V0UGF0aCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0U3VicGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIHN1YnBhdGggb2YgYSBnaXZlbiBlbGVtZW50IGZyb20gZ2l2ZW4gbGVuZ3RoIHRvIGdpdmVuIGxlbmd0aC4gT25seSB3b3JrcyBmb3IgZWxlbWVudCBvZiDigJxwYXRo4oCdIHR5cGUuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGZyb20gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IG9mIHRoZSBzZWdtZW50XG4gICAgIC0gdG8gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiB0aGUgc2VnbWVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIHBhdGhzdHJpbmcgZm9yIHRoZSBzZWdtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZ2V0U3VicGF0aCA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSLmdldFN1YnBhdGgocGF0aCwgZnJvbSwgdG8pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIE9iamVjdCB0aGF0IGNvbnRhaW5zIGVhc2luZyBmb3JtdWxhcyBmb3IgYW5pbWF0aW9uLiBZb3UgY291bGQgZXh0ZW5kIGl0IHdpdGggeW91ciBvd24uIEJ5IGRlZmF1bHQgaXQgaGFzIGZvbGxvd2luZyBsaXN0IG9mIGVhc2luZzpcbiAgICAgIyA8dWw+XG4gICAgICMgICAgIDxsaT7igJxsaW5lYXLigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcJmx0O+KAnSBvciDigJxlYXNlSW7igJ0gb3Ig4oCcZWFzZS1pbuKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJw+4oCdIG9yIOKAnGVhc2VPdXTigJ0gb3Ig4oCcZWFzZS1vdXTigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcJmx0Oz7igJ0gb3Ig4oCcZWFzZUluT3V04oCdIG9yIOKAnGVhc2UtaW4tb3V04oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnGJhY2tJbuKAnSBvciDigJxiYWNrLWlu4oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnGJhY2tPdXTigJ0gb3Ig4oCcYmFjay1vdXTigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcZWxhc3RpY+KAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJxib3VuY2XigJ08L2xpPlxuICAgICAjIDwvdWw+XG4gICAgICMgPHA+U2VlIGFsc28gPGEgaHJlZj1cImh0dHA6Ly9yYXBoYWVsanMuY29tL2Vhc2luZy5odG1sXCI+RWFzaW5nIGRlbW88L2E+LjwvcD5cbiAgICBcXCovXG4gICAgdmFyIGVmID0gUi5lYXNpbmdfZm9ybXVsYXMgPSB7XG4gICAgICAgIGxpbmVhcjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9LFxuICAgICAgICBcIjxcIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBwb3cobiwgMS43KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCI+XCI6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICByZXR1cm4gcG93KG4sIC40OCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiPD5cIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciBxID0gLjQ4IC0gbiAvIDEuMDQsXG4gICAgICAgICAgICAgICAgUSA9IG1hdGguc3FydCguMTczNCArIHEgKiBxKSxcbiAgICAgICAgICAgICAgICB4ID0gUSAtIHEsXG4gICAgICAgICAgICAgICAgWCA9IHBvdyhhYnMoeCksIDEgLyAzKSAqICh4IDwgMCA/IC0xIDogMSksXG4gICAgICAgICAgICAgICAgeSA9IC1RIC0gcSxcbiAgICAgICAgICAgICAgICBZID0gcG93KGFicyh5KSwgMSAvIDMpICogKHkgPCAwID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgICB0ID0gWCArIFkgKyAuNTtcbiAgICAgICAgICAgIHJldHVybiAoMSAtIHQpICogMyAqIHQgKiB0ICsgdCAqIHQgKiB0O1xuICAgICAgICB9LFxuICAgICAgICBiYWNrSW46IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICByZXR1cm4gbiAqIG4gKiAoKHMgKyAxKSAqIG4gLSBzKTtcbiAgICAgICAgfSxcbiAgICAgICAgYmFja091dDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIG4gPSBuIC0gMTtcbiAgICAgICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgICAgIHJldHVybiBuICogbiAqICgocyArIDEpICogbiArIHMpICsgMTtcbiAgICAgICAgfSxcbiAgICAgICAgZWxhc3RpYzogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIGlmIChuID09ICEhbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBvdygyLCAtMTAgKiBuKSAqIG1hdGguc2luKChuIC0gLjA3NSkgKiAoMiAqIFBJKSAvIC4zKSArIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGJvdW5jZTogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciBzID0gNy41NjI1LFxuICAgICAgICAgICAgICAgIHAgPSAyLjc1LFxuICAgICAgICAgICAgICAgIGw7XG4gICAgICAgICAgICBpZiAobiA8ICgxIC8gcCkpIHtcbiAgICAgICAgICAgICAgICBsID0gcyAqIG4gKiBuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobiA8ICgyIC8gcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbiAtPSAoMS41IC8gcCk7XG4gICAgICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG4gKyAuNzU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPCAoMi41IC8gcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gLT0gKDIuMjUgLyBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG4gKyAuOTM3NTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gLT0gKDIuNjI1IC8gcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gcyAqIG4gKiBuICsgLjk4NDM3NTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBlZi5lYXNlSW4gPSBlZltcImVhc2UtaW5cIl0gPSBlZltcIjxcIl07XG4gICAgZWYuZWFzZU91dCA9IGVmW1wiZWFzZS1vdXRcIl0gPSBlZltcIj5cIl07XG4gICAgZWYuZWFzZUluT3V0ID0gZWZbXCJlYXNlLWluLW91dFwiXSA9IGVmW1wiPD5cIl07XG4gICAgZWZbXCJiYWNrLWluXCJdID0gZWYuYmFja0luO1xuICAgIGVmW1wiYmFjay1vdXRcIl0gPSBlZi5iYWNrT3V0O1xuXG4gICAgdmFyIGFuaW1hdGlvbkVsZW1lbnRzID0gW10sXG4gICAgICAgIHJlcXVlc3RBbmltRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICBhbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgTm93ID0gK25ldyBEYXRlLFxuICAgICAgICAgICAgICAgIGwgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGwgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgICAgIHZhciBlID0gYW5pbWF0aW9uRWxlbWVudHNbbF07XG4gICAgICAgICAgICAgICAgaWYgKGUuZWwucmVtb3ZlZCB8fCBlLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBOb3cgLSBlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBtcyA9IGUubXMsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZyA9IGUuZWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICBmcm9tID0gZS5mcm9tLFxuICAgICAgICAgICAgICAgICAgICBkaWZmID0gZS5kaWZmLFxuICAgICAgICAgICAgICAgICAgICB0byA9IGUudG8sXG4gICAgICAgICAgICAgICAgICAgIHQgPSBlLnQsXG4gICAgICAgICAgICAgICAgICAgIHRoYXQgPSBlLmVsLFxuICAgICAgICAgICAgICAgICAgICBzZXQgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgICAgICBpbml0ID0ge30sXG4gICAgICAgICAgICAgICAgICAgIGtleTtcbiAgICAgICAgICAgICAgICBpZiAoZS5pbml0c3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSAoZS5pbml0c3RhdHVzICogZS5hbmltLnRvcCAtIGUucHJldikgLyAoZS5wZXJjZW50IC0gZS5wcmV2KSAqIG1zO1xuICAgICAgICAgICAgICAgICAgICBlLnN0YXR1cyA9IGUuaW5pdHN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuaW5pdHN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wICYmIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShsLS0sIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RhdHVzID0gKGUucHJldiArIChlLnBlcmNlbnQgLSBlLnByZXYpICogKHRpbWUgLyBtcykpIC8gZS5hbmltLnRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZSA8IG1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBlYXNpbmcodGltZSAvIG1zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBmcm9tKSBpZiAoZnJvbVtoYXNdKGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGF2YWlsYWJsZUFuaW1BdHRyc1thdHRyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgbnU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9ICtmcm9tW2F0dHJdICsgcG9zICogbXMgKiBkaWZmW2F0dHJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29sb3VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFwicmdiKFwiICsgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0bzI1NShyb3VuZChmcm9tW2F0dHJdLnIgKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl0ucikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0bzI1NShyb3VuZChmcm9tW2F0dHJdLmcgKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl0uZykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0bzI1NShyb3VuZChmcm9tW2F0dHJdLmIgKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl0uYikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbihcIixcIikgKyBcIilcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZyb21bYXR0cl0ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gW2Zyb21bYXR0cl1baV1bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gZnJvbVthdHRyXVtpXS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldW2pdID0gK2Zyb21bYXR0cl1baV1bal0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV1bal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSBub3dbaV0uam9pbihTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBub3cuam9pbihTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZlthdHRyXS5yZWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gW2Zyb21bYXR0cl1baV1bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDEsIGpqID0gZnJvbVthdHRyXVtpXS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vd1tpXVtqXSA9IGZyb21bYXR0cl1baV1bal0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV1bal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldCA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICtmcm9tW2F0dHJdW2ldICsgcG9zICogbXMgKiBkaWZmW2F0dHJdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdyA9IFtbXCJyXCIsIGdldCgyKSwgMCwgMF0sIFtcInRcIiwgZ2V0KDMpLCBnZXQoNCldLCBbXCJzXCIsIGdldCgwKSwgZ2V0KDEpLCAwLCAwXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbW1wibVwiLCBnZXQoMCksIGdldCgxKSwgZ2V0KDIpLCBnZXQoMyksIGdldCg0KSwgZ2V0KDUpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNzdlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ciA9PSBcImNsaXAtcmVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vd1tpXSA9ICtmcm9tW2F0dHJdW2ldICsgcG9zICogbXMgKiBkaWZmW2F0dHJdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9tMiA9IFtdW2NvbmNhdF0oZnJvbVthdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gdGhhdC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2F0dHJdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gK2Zyb20yW2ldICsgcG9zICogbXMgKiBkaWZmW2F0dHJdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0W2F0dHJdID0gbm93O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXR0cihzZXQpO1xuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKGlkLCB0aGF0LCBhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyBpZCwgdGhhdCwgYW5pbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkodGhhdC5pZCwgdGhhdCwgZS5hbmltKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oZiwgZWwsIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlKFwicmFwaGFlbC5hbmltLmZyYW1lLlwiICsgZWwuaWQsIGVsLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uZmluaXNoLlwiICsgZWwuaWQsIGVsLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLmlzKGYsIFwiZnVuY3Rpb25cIikgJiYgZi5jYWxsKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KShlLmNhbGxiYWNrLCB0aGF0LCBlLmFuaW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmF0dHIodG8pO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UobC0tLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucmVwZWF0ID4gMSAmJiAhZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiB0bykgaWYgKHRvW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRba2V5XSA9IGUudG90YWxPcmlnaW5ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZWwuYXR0cihpbml0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bkFuaW1hdGlvbihlLmFuaW0sIGUuZWwsIGUuYW5pbS5wZXJjZW50c1swXSwgbnVsbCwgZS50b3RhbE9yaWdpbiwgZS5yZXBlYXQgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5uZXh0ICYmICFlLnN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bkFuaW1hdGlvbihlLmFuaW0sIGUuZWwsIGUubmV4dCwgbnVsbCwgZS50b3RhbE9yaWdpbiwgZS5yZXBlYXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoICYmIHJlcXVlc3RBbmltRnJhbWUoYW5pbWF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXB0bzI1NSA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yID4gMjU1ID8gMjU1IDogY29sb3IgPCAwID8gMCA6IGNvbG9yO1xuICAgICAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmFuaW1hdGVXaXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBY3RzIHNpbWlsYXIgdG8gQEVsZW1lbnQuYW5pbWF0ZSwgYnV0IGVuc3VyZSB0aGF0IGdpdmVuIGFuaW1hdGlvbiBydW5zIGluIHN5bmMgd2l0aCBhbm90aGVyIGdpdmVuIGVsZW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGVsIChvYmplY3QpIGVsZW1lbnQgdG8gc3luYyB3aXRoXG4gICAgIC0gYW5pbSAob2JqZWN0KSBhbmltYXRpb24gdG8gc3luYyB3aXRoXG4gICAgIC0gcGFyYW1zIChvYmplY3QpICNvcHRpb25hbCBmaW5hbCBhdHRyaWJ1dGVzIGZvciB0aGUgZWxlbWVudCwgc2VlIGFsc28gQEVsZW1lbnQuYXR0clxuICAgICAtIG1zIChudW1iZXIpICNvcHRpb25hbCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhbmltYXRpb24gdG8gcnVuXG4gICAgIC0gZWFzaW5nIChzdHJpbmcpICNvcHRpb25hbCBlYXNpbmcgdHlwZS4gQWNjZXB0IG9uIG9mIEBSYXBoYWVsLmVhc2luZ19mb3JtdWxhcyBvciBDU1MgZm9ybWF0OiBgY3ViaWMmI3gyMDEwO2JlemllcihYWCwmIzE2MDtYWCwmIzE2MDtYWCwmIzE2MDtYWClgXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24uIFdpbGwgYmUgY2FsbGVkIGF0IHRoZSBlbmQgb2YgYW5pbWF0aW9uLlxuICAgICAqIG9yXG4gICAgIC0gZWxlbWVudCAob2JqZWN0KSBlbGVtZW50IHRvIHN5bmMgd2l0aFxuICAgICAtIGFuaW0gKG9iamVjdCkgYW5pbWF0aW9uIHRvIHN5bmMgd2l0aFxuICAgICAtIGFuaW1hdGlvbiAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdCwgc2VlIEBSYXBoYWVsLmFuaW1hdGlvblxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5hbmltYXRlV2l0aCA9IGZ1bmN0aW9uIChlbCwgYW5pbSwgcGFyYW1zLCBtcywgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIGlmIChlbGVtZW50LnJlbW92ZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYSA9IHBhcmFtcyBpbnN0YW5jZW9mIEFuaW1hdGlvbiA/IHBhcmFtcyA6IFIuYW5pbWF0aW9uKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spLFxuICAgICAgICAgICAgeCwgeTtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGEsIGVsZW1lbnQsIGEucGVyY2VudHNbMF0sIG51bGwsIGVsZW1lbnQuYXR0cigpKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0gPT0gYW5pbSAmJiBhbmltYXRpb25FbGVtZW50c1tpXS5lbCA9PSBlbCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzW2lpIC0gMV0uc3RhcnQgPSBhbmltYXRpb25FbGVtZW50c1tpXS5zdGFydDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy8gdmFyIGEgPSBwYXJhbXMgPyBSLmFuaW1hdGlvbihwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSA6IGFuaW0sXG4gICAgICAgIC8vICAgICBzdGF0dXMgPSBlbGVtZW50LnN0YXR1cyhhbmltKTtcbiAgICAgICAgLy8gcmV0dXJuIHRoaXMuYW5pbWF0ZShhKS5zdGF0dXMoYSwgc3RhdHVzICogYW5pbS5tcyAvIGEubXMpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ3ViaWNCZXppZXJBdFRpbWUodCwgcDF4LCBwMXksIHAyeCwgcDJ5LCBkdXJhdGlvbikge1xuICAgICAgICB2YXIgY3ggPSAzICogcDF4LFxuICAgICAgICAgICAgYnggPSAzICogKHAyeCAtIHAxeCkgLSBjeCxcbiAgICAgICAgICAgIGF4ID0gMSAtIGN4IC0gYngsXG4gICAgICAgICAgICBjeSA9IDMgKiBwMXksXG4gICAgICAgICAgICBieSA9IDMgKiAocDJ5IC0gcDF5KSAtIGN5LFxuICAgICAgICAgICAgYXkgPSAxIC0gY3kgLSBieTtcbiAgICAgICAgZnVuY3Rpb24gc2FtcGxlQ3VydmVYKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKGF4ICogdCArIGJ4KSAqIHQgKyBjeCkgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNvbHZlKHgsIGVwc2lsb24pIHtcbiAgICAgICAgICAgIHZhciB0ID0gc29sdmVDdXJ2ZVgoeCwgZXBzaWxvbik7XG4gICAgICAgICAgICByZXR1cm4gKChheSAqIHQgKyBieSkgKiB0ICsgY3kpICogdDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzb2x2ZUN1cnZlWCh4LCBlcHNpbG9uKSB7XG4gICAgICAgICAgICB2YXIgdDAsIHQxLCB0MiwgeDIsIGQyLCBpO1xuICAgICAgICAgICAgZm9yKHQyID0geCwgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICB4MiA9IHNhbXBsZUN1cnZlWCh0MikgLSB4O1xuICAgICAgICAgICAgICAgIGlmIChhYnMoeDIpIDwgZXBzaWxvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGQyID0gKDMgKiBheCAqIHQyICsgMiAqIGJ4KSAqIHQyICsgY3g7XG4gICAgICAgICAgICAgICAgaWYgKGFicyhkMikgPCAxZS02KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0MiA9IHQyIC0geDIgLyBkMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQwID0gMDtcbiAgICAgICAgICAgIHQxID0gMTtcbiAgICAgICAgICAgIHQyID0geDtcbiAgICAgICAgICAgIGlmICh0MiA8IHQwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQyID4gdDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAodDAgPCB0MSkge1xuICAgICAgICAgICAgICAgIHgyID0gc2FtcGxlQ3VydmVYKHQyKTtcbiAgICAgICAgICAgICAgICBpZiAoYWJzKHgyIC0geCkgPCBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHggPiB4Mikge1xuICAgICAgICAgICAgICAgICAgICB0MCA9IHQyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHQxID0gdDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQyID0gKHQxIC0gdDApIC8gMiArIHQwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2x2ZSh0LCAxIC8gKDIwMCAqIGR1cmF0aW9uKSk7XG4gICAgfVxuICAgIGVscHJvdG8ub25BbmltYXRpb24gPSBmdW5jdGlvbiAoZikge1xuICAgICAgICBmID8gZXZlLm9uKFwicmFwaGFlbC5hbmltLmZyYW1lLlwiICsgdGhpcy5pZCwgZikgOiBldmUudW5iaW5kKFwicmFwaGFlbC5hbmltLmZyYW1lLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uKGFuaW0sIG1zKSB7XG4gICAgICAgIHZhciBwZXJjZW50cyA9IFtdLFxuICAgICAgICAgICAgbmV3QW5pbSA9IHt9O1xuICAgICAgICB0aGlzLm1zID0gbXM7XG4gICAgICAgIHRoaXMudGltZXMgPSAxO1xuICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBhbmltKSBpZiAoYW5pbVtoYXNdKGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgbmV3QW5pbVt0b0Zsb2F0KGF0dHIpXSA9IGFuaW1bYXR0cl07XG4gICAgICAgICAgICAgICAgcGVyY2VudHMucHVzaCh0b0Zsb2F0KGF0dHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcmNlbnRzLnNvcnQoc29ydEJ5TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW0gPSBuZXdBbmltO1xuICAgICAgICB0aGlzLnRvcCA9IHBlcmNlbnRzW3BlcmNlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnBlcmNlbnRzID0gcGVyY2VudHM7XG4gICAgfVxuICAgIC8qXFxcbiAgICAgKiBBbmltYXRpb24uZGVsYXlcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIGV4aXN0aW5nIGFuaW1hdGlvbiBvYmplY3Qgd2l0aCBnaXZlbiBkZWxheS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZGVsYXkgKG51bWJlcikgbnVtYmVyIG9mIG1zIHRvIHBhc3MgYmV0d2VlbiBhbmltYXRpb24gc3RhcnQgYW5kIGFjdHVhbCBhbmltYXRpb25cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBuZXcgYWx0ZXJlZCBBbmltYXRpb24gb2JqZWN0XG4gICAgIHwgdmFyIGFuaW0gPSBSYXBoYWVsLmFuaW1hdGlvbih7Y3g6IDEwLCBjeTogMjB9LCAyZTMpO1xuICAgICB8IGNpcmNsZTEuYW5pbWF0ZShhbmltKTsgLy8gcnVuIHRoZSBnaXZlbiBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgfCBjaXJjbGUyLmFuaW1hdGUoYW5pbS5kZWxheSg1MDApKTsgLy8gcnVuIHRoZSBnaXZlbiBhbmltYXRpb24gYWZ0ZXIgNTAwIG1zXG4gICAgXFwqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAoZGVsYXkpIHtcbiAgICAgICAgdmFyIGEgPSBuZXcgQW5pbWF0aW9uKHRoaXMuYW5pbSwgdGhpcy5tcyk7XG4gICAgICAgIGEudGltZXMgPSB0aGlzLnRpbWVzO1xuICAgICAgICBhLmRlbCA9ICtkZWxheSB8fCAwO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBBbmltYXRpb24ucmVwZWF0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgY29weSBvZiBleGlzdGluZyBhbmltYXRpb24gb2JqZWN0IHdpdGggZ2l2ZW4gcmVwZXRpdGlvbi5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcmVwZWF0IChudW1iZXIpIG51bWJlciBpdGVyYXRpb25zIG9mIGFuaW1hdGlvbi4gRm9yIGluZmluaXRlIGFuaW1hdGlvbiBwYXNzIGBJbmZpbml0eWBcbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBuZXcgYWx0ZXJlZCBBbmltYXRpb24gb2JqZWN0XG4gICAgXFwqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUucmVwZWF0ID0gZnVuY3Rpb24gKHRpbWVzKSB7XG4gICAgICAgIHZhciBhID0gbmV3IEFuaW1hdGlvbih0aGlzLmFuaW0sIHRoaXMubXMpO1xuICAgICAgICBhLmRlbCA9IHRoaXMuZGVsO1xuICAgICAgICBhLnRpbWVzID0gbWF0aC5mbG9vcihtbWF4KHRpbWVzLCAwKSkgfHwgMTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBydW5BbmltYXRpb24oYW5pbSwgZWxlbWVudCwgcGVyY2VudCwgc3RhdHVzLCB0b3RhbE9yaWdpbiwgdGltZXMpIHtcbiAgICAgICAgcGVyY2VudCA9IHRvRmxvYXQocGVyY2VudCk7XG4gICAgICAgIHZhciBwYXJhbXMsXG4gICAgICAgICAgICBpc0luQW5pbSxcbiAgICAgICAgICAgIGlzSW5BbmltU2V0LFxuICAgICAgICAgICAgcGVyY2VudHMgPSBbXSxcbiAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICBwcmV2LFxuICAgICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgICAgbXMgPSBhbmltLm1zLFxuICAgICAgICAgICAgZnJvbSA9IHt9LFxuICAgICAgICAgICAgdG8gPSB7fSxcbiAgICAgICAgICAgIGRpZmYgPSB7fTtcbiAgICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBhbmltYXRpb25FbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZS5lbC5pZCA9PSBlbGVtZW50LmlkICYmIGUuYW5pbSA9PSBhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnBlcmNlbnQgIT0gcGVyY2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkFuaW1TZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkFuaW0gPSBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihlLnRvdGFsT3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzID0gK3RvOyAvLyBOYU5cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhbmltLnBlcmNlbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbmltLnBlcmNlbnRzW2ldID09IHBlcmNlbnQgfHwgYW5pbS5wZXJjZW50c1tpXSA+IHN0YXR1cyAqIGFuaW0udG9wKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudCA9IGFuaW0ucGVyY2VudHNbaV07XG4gICAgICAgICAgICAgICAgcHJldiA9IGFuaW0ucGVyY2VudHNbaSAtIDFdIHx8IDA7XG4gICAgICAgICAgICAgICAgbXMgPSBtcyAvIGFuaW0udG9wICogKHBlcmNlbnQgLSBwcmV2KTtcbiAgICAgICAgICAgICAgICBuZXh0ID0gYW5pbS5wZXJjZW50c1tpICsgMV07XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gYW5pbS5hbmltW3BlcmNlbnRdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoYW5pbS5hbmltW2FuaW0ucGVyY2VudHNbaV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNJbkFuaW0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gcGFyYW1zKSBpZiAocGFyYW1zW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXZhaWxhYmxlQW5pbUF0dHJzW2hhc10oYXR0cikgfHwgZWxlbWVudC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVthdHRyXSA9IGVsZW1lbnQuYXR0cihhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgKGZyb21bYXR0cl0gPT0gbnVsbCkgJiYgKGZyb21bYXR0cl0gPSBhdmFpbGFibGVBdHRyc1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gcGFyYW1zW2F0dHJdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGF2YWlsYWJsZUFuaW1BdHRyc1thdHRyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBudTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdID0gKHRvW2F0dHJdIC0gZnJvbVthdHRyXSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xvdXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gUi5nZXRSR0IoZnJvbVthdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvQ29sb3VyID0gUi5nZXRSR0IodG9bYXR0cl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6ICh0b0NvbG91ci5yIC0gZnJvbVthdHRyXS5yKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnOiAodG9Db2xvdXIuZyAtIGZyb21bYXR0cl0uZykgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYjogKHRvQ29sb3VyLmIgLSBmcm9tW2F0dHJdLmIpIC8gbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aGVzID0gcGF0aDJjdXJ2ZShmcm9tW2F0dHJdLCB0b1thdHRyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvUGF0aCA9IHBhdGhlc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gcGF0aGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGZyb21bYXR0cl0ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV1bal0gPSAodG9QYXRoW2ldW2pdIC0gZnJvbVthdHRyXVtpXVtqXSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgXyA9IGVsZW1lbnQuXyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXEgPSBlcXVhbGlzZVRyYW5zZm9ybShfW2F0dHJdLCB0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBlcS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1thdHRyXSA9IGVxLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0ucmVhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldID0gW2Zyb21bYXR0cl1baV1bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldW2pdID0gKHRvW2F0dHJdW2ldW2pdIC0gZnJvbVthdHRyXVtpXVtqXSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gKGVsZW1lbnQubWF0cml4IHx8IG5ldyBNYXRyaXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IHt0cmFuc2Zvcm06IF8udHJhbnNmb3JtfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRCQm94OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEJCb3goMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbVthdHRyXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0VHJhbnNmb3JtKHRvMiwgdG9bYXR0cl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1thdHRyXSA9IHRvMi5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmEgLSBtLmEpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5iIC0gbS5iKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguYyAtIG0uYykgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmQgLSBtLmQpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5lIC0gbS5lKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguZiAtIG0uZikgLyBtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tW2F0dHJdID0gW18uc3gsIF8uc3ksIF8uZGVnLCBfLmR4LCBfLmR5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHRvMiA9IHtfOnt9LCBnZXRCQm94OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbGVtZW50LmdldEJCb3goKTsgfX07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4dHJhY3RUcmFuc2Zvcm0odG8yLCB0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZbYXR0cl0gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAodG8yLl8uc3ggLSBfLnN4KSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKHRvMi5fLnN5IC0gXy5zeSkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5kZWcgLSBfLmRlZykgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5keCAtIF8uZHgpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAodG8yLl8uZHkgLSBfLmR5KSAvIG1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNzdlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBTdHIocGFyYW1zW2F0dHJdKVtzcGxpdF0oc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTIgPSBTdHIoZnJvbVthdHRyXSlbc3BsaXRdKHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHIgPT0gXCJjbGlwLXJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gZnJvbTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGZyb20yLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXVtpXSA9ICh2YWx1ZXNbaV0gLSBmcm9tW2F0dHJdW2ldKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSBbXVtjb25jYXRdKHBhcmFtc1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTIgPSBbXVtjb25jYXRdKGZyb21bYXR0cl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gZWxlbWVudC5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW2F0dHJdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV0gPSAoKHZhbHVlc1tpXSB8fCAwKSAtIChmcm9tMltpXSB8fCAwKSkgLyBtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyxcbiAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IFIuZWFzaW5nX2Zvcm11bGFzW2Vhc2luZ107XG4gICAgICAgICAgICBpZiAoIWVhc3llYXN5KSB7XG4gICAgICAgICAgICAgICAgZWFzeWVhc3kgPSBTdHIoZWFzaW5nKS5tYXRjaChiZXppZXJyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGVhc3llYXN5ICYmIGVhc3llYXN5Lmxlbmd0aCA9PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZSA9IGVhc3llYXN5O1xuICAgICAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ3ViaWNCZXppZXJBdFRpbWUodCwgK2N1cnZlWzFdLCArY3VydmVbMl0sICtjdXJ2ZVszXSwgK2N1cnZlWzRdLCBtcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWFzeWVhc3kgPSBwaXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHBhcmFtcy5zdGFydCB8fCBhbmltLnN0YXJ0IHx8ICtuZXcgRGF0ZTtcbiAgICAgICAgICAgIGUgPSB7XG4gICAgICAgICAgICAgICAgYW5pbTogYW5pbSxcbiAgICAgICAgICAgICAgICBwZXJjZW50OiBwZXJjZW50LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aW1lc3RhbXAgKyAoYW5pbS5kZWwgfHwgMCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAwLFxuICAgICAgICAgICAgICAgIGluaXRzdGF0dXM6IHN0YXR1cyB8fCAwLFxuICAgICAgICAgICAgICAgIHN0b3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1zOiBtcyxcbiAgICAgICAgICAgICAgICBlYXNpbmc6IGVhc3llYXN5LFxuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgZGlmZjogZGlmZixcbiAgICAgICAgICAgICAgICB0bzogdG8sXG4gICAgICAgICAgICAgICAgZWw6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHBhcmFtcy5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICBwcmV2OiBwcmV2LFxuICAgICAgICAgICAgICAgIG5leHQ6IG5leHQsXG4gICAgICAgICAgICAgICAgcmVwZWF0OiB0aW1lcyB8fCBhbmltLnRpbWVzLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogZWxlbWVudC5hdHRyKCksXG4gICAgICAgICAgICAgICAgdG90YWxPcmlnaW46IHRvdGFsT3JpZ2luXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMucHVzaChlKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgJiYgIWlzSW5BbmltICYmICFpc0luQW5pbVNldCkge1xuICAgICAgICAgICAgICAgIGUuc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZS5zdGFydCA9IG5ldyBEYXRlIC0gbXMgKiBzdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNJbkFuaW1TZXQpIHtcbiAgICAgICAgICAgICAgICBlLnN0YXJ0ID0gbmV3IERhdGUgLSBlLm1zICogc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoID09IDEgJiYgcmVxdWVzdEFuaW1GcmFtZShhbmltYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNJbkFuaW0uaW5pdHN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgIGlzSW5BbmltLnN0YXJ0ID0gbmV3IERhdGUgLSBpc0luQW5pbS5tcyAqIHN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uc3RhcnQuXCIgKyBlbGVtZW50LmlkLCBlbGVtZW50LCBhbmltKTtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuYW5pbWF0aW9uXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGFuIGFuaW1hdGlvbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBARWxlbWVudC5hbmltYXRlIG9yIEBFbGVtZW50LmFuaW1hdGVXaXRoIG1ldGhvZHMuXG4gICAgICogU2VlIGFsc28gQEFuaW1hdGlvbi5kZWxheSBhbmQgQEFuaW1hdGlvbi5yZXBlYXQgbWV0aG9kcy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGFyYW1zIChvYmplY3QpIGZpbmFsIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LCBzZWUgYWxzbyBARWxlbWVudC5hdHRyXG4gICAgIC0gbXMgKG51bWJlcikgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBmb3IgYW5pbWF0aW9uIHRvIHJ1blxuICAgICAtIGVhc2luZyAoc3RyaW5nKSAjb3B0aW9uYWwgZWFzaW5nIHR5cGUuIEFjY2VwdCBvbmUgb2YgQFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzIG9yIENTUyBmb3JtYXQ6IGBjdWJpYyYjeDIwMTA7YmV6aWVyKFhYLCYjMTYwO1hYLCYjMTYwO1hYLCYjMTYwO1hYKWBcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pICNvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbi4gV2lsbCBiZSBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgQEFuaW1hdGlvblxuICAgIFxcKi9cbiAgICBSLmFuaW1hdGlvbiA9IGZ1bmN0aW9uIChwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChwYXJhbXMgaW5zdGFuY2VvZiBBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFIuaXMoZWFzaW5nLCBcImZ1bmN0aW9uXCIpIHx8ICFlYXNpbmcpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZWFzaW5nIHx8IG51bGw7XG4gICAgICAgICAgICBlYXNpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcyA9IE9iamVjdChwYXJhbXMpO1xuICAgICAgICBtcyA9ICttcyB8fCAwO1xuICAgICAgICB2YXIgcCA9IHt9LFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIGF0dHI7XG4gICAgICAgIGZvciAoYXR0ciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShhdHRyKSAmJiB0b0Zsb2F0KGF0dHIpICE9IGF0dHIgJiYgdG9GbG9hdChhdHRyKSArIFwiJVwiICE9IGF0dHIpIHtcbiAgICAgICAgICAgIGpzb24gPSB0cnVlO1xuICAgICAgICAgICAgcFthdHRyXSA9IHBhcmFtc1thdHRyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWpzb24pIHtcbiAgICAgICAgICAgIC8vIGlmIHBlcmNlbnQtbGlrZSBzeW50YXggaXMgdXNlZCBhbmQgZW5kLW9mLWFsbCBhbmltYXRpb24gY2FsbGJhY2sgdXNlZFxuICAgICAgICAgICAgaWYoY2FsbGJhY2spe1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RLZXkgPSAwO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSBpbiBwYXJhbXMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IHRvSW50KGkpO1xuICAgICAgICAgICAgICAgICAgICBpZihwYXJhbXNbaGFzXShpKSAmJiBwZXJjZW50ID4gbGFzdEtleSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0S2V5ID0gcGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0S2V5ICs9ICclJztcbiAgICAgICAgICAgICAgICAvLyBpZiBhbHJlYWR5IGRlZmluZWQgY2FsbGJhY2sgaW4gdGhlIGxhc3Qga2V5ZnJhbWUsIHNraXBcbiAgICAgICAgICAgICAgICAhcGFyYW1zW2xhc3RLZXldLmNhbGxiYWNrICYmIChwYXJhbXNbbGFzdEtleV0uY2FsbGJhY2sgPSBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24ocGFyYW1zLCBtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlYXNpbmcgJiYgKHAuZWFzaW5nID0gZWFzaW5nKTtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIChwLmNhbGxiYWNrID0gY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24oezEwMDogcH0sIG1zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYW5pbWF0ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBhbmQgc3RhcnRzIGFuaW1hdGlvbiBmb3IgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGFyYW1zIChvYmplY3QpIGZpbmFsIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LCBzZWUgYWxzbyBARWxlbWVudC5hdHRyXG4gICAgIC0gbXMgKG51bWJlcikgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBmb3IgYW5pbWF0aW9uIHRvIHJ1blxuICAgICAtIGVhc2luZyAoc3RyaW5nKSAjb3B0aW9uYWwgZWFzaW5nIHR5cGUuIEFjY2VwdCBvbmUgb2YgQFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzIG9yIENTUyBmb3JtYXQ6IGBjdWJpYyYjeDIwMTA7YmV6aWVyKFhYLCYjMTYwO1hYLCYjMTYwO1hYLCYjMTYwO1hYKWBcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pICNvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbi4gV2lsbCBiZSBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gICAgICogb3JcbiAgICAgLSBhbmltYXRpb24gKG9iamVjdCkgYW5pbWF0aW9uIG9iamVjdCwgc2VlIEBSYXBoYWVsLmFuaW1hdGlvblxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5hbmltYXRlID0gZnVuY3Rpb24gKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzO1xuICAgICAgICBpZiAoZWxlbWVudC5yZW1vdmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFuaW0gPSBwYXJhbXMgaW5zdGFuY2VvZiBBbmltYXRpb24gPyBwYXJhbXMgOiBSLmFuaW1hdGlvbihwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGFuaW0sIGVsZW1lbnQsIGFuaW0ucGVyY2VudHNbMF0sIG51bGwsIGVsZW1lbnQuYXR0cigpKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zZXRUaW1lXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0dXMgb2YgYW5pbWF0aW9uIG9mIHRoZSBlbGVtZW50IGluIG1pbGxpc2Vjb25kcy4gU2ltaWxhciB0byBARWxlbWVudC5zdGF0dXMgbWV0aG9kLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBhbmltIChvYmplY3QpIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgLSB2YWx1ZSAobnVtYmVyKSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYW5pbWF0aW9uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudCBpZiBgdmFsdWVgIGlzIHNwZWNpZmllZFxuICAgICAqIE5vdGUsIHRoYXQgZHVyaW5nIGFuaW1hdGlvbiBmb2xsb3dpbmcgZXZlbnRzIGFyZSB0cmlnZ2VyZWQ6XG4gICAgICpcbiAgICAgKiBPbiBlYWNoIGFuaW1hdGlvbiBmcmFtZSBldmVudCBgYW5pbS5mcmFtZS48aWQ+YCwgb24gc3RhcnQgYGFuaW0uc3RhcnQuPGlkPmAgYW5kIG9uIGVuZCBgYW5pbS5maW5pc2guPGlkPmAuXG4gICAgXFwqL1xuICAgIGVscHJvdG8uc2V0VGltZSA9IGZ1bmN0aW9uIChhbmltLCB2YWx1ZSkge1xuICAgICAgICBpZiAoYW5pbSAmJiB2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyhhbmltLCBtbWluKHZhbHVlLCBhbmltLm1zKSAvIGFuaW0ubXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuc3RhdHVzXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIHN0YXR1cyBvZiBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGFuaW0gKG9iamVjdCkgI29wdGlvbmFsIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgLSB2YWx1ZSAobnVtYmVyKSAjb3B0aW9uYWwgMCDigJMgMS4gSWYgc3BlY2lmaWVkLCBtZXRob2Qgd29ya3MgbGlrZSBhIHNldHRlciBhbmQgc2V0cyB0aGUgc3RhdHVzIG9mIGEgZ2l2ZW4gYW5pbWF0aW9uIHRvIHRoZSB2YWx1ZS4gVGhpcyB3aWxsIGNhdXNlIGFuaW1hdGlvbiB0byBqdW1wIHRvIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKipcbiAgICAgPSAobnVtYmVyKSBzdGF0dXNcbiAgICAgKiBvclxuICAgICA9IChhcnJheSkgc3RhdHVzIGlmIGBhbmltYCBpcyBub3Qgc3BlY2lmaWVkLiBBcnJheSBvZiBvYmplY3RzIGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIGFuaW06IChvYmplY3QpIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgbyAgICAgc3RhdHVzOiAobnVtYmVyKSBzdGF0dXNcbiAgICAgbyB9XG4gICAgICogb3JcbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50IGlmIGB2YWx1ZWAgaXMgc3BlY2lmaWVkXG4gICAgXFwqL1xuICAgIGVscHJvdG8uc3RhdHVzID0gZnVuY3Rpb24gKGFuaW0sIHZhbHVlKSB7XG4gICAgICAgIHZhciBvdXQgPSBbXSxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgbGVuLFxuICAgICAgICAgICAgZTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJ1bkFuaW1hdGlvbihhbmltLCB0aGlzLCAtMSwgbW1pbih2YWx1ZSwgMSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZSA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlLmVsLmlkID09IHRoaXMuaWQgJiYgKCFhbmltIHx8IGUuYW5pbSA9PSBhbmltKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW06IGUuYW5pbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZS5zdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnBhdXNlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTdG9wcyBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQgd2l0aCBhYmlsaXR5IHRvIHJlc3VtZSBpdCBsYXRlciBvbi5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5wYXVzZSA9IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpKyspIGlmIChhbmltYXRpb25FbGVtZW50c1tpXS5lbC5pZCA9PSB0aGlzLmlkICYmICghYW5pbSB8fCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICBpZiAoZXZlKFwicmFwaGFlbC5hbmltLnBhdXNlLlwiICsgdGhpcy5pZCwgdGhpcywgYW5pbWF0aW9uRWxlbWVudHNbaV0uYW5pbSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHNbaV0ucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlc3VtZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVzdW1lcyBhbmltYXRpb24gaWYgaXQgd2FzIHBhdXNlZCB3aXRoIEBFbGVtZW50LnBhdXNlIG1ldGhvZC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5yZXN1bWUgPSBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSsrKSBpZiAoYW5pbWF0aW9uRWxlbWVudHNbaV0uZWwuaWQgPT0gdGhpcy5pZCAmJiAoIWFuaW0gfHwgYW5pbWF0aW9uRWxlbWVudHNbaV0uYW5pbSA9PSBhbmltKSkge1xuICAgICAgICAgICAgdmFyIGUgPSBhbmltYXRpb25FbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChldmUoXCJyYXBoYWVsLmFuaW0ucmVzdW1lLlwiICsgdGhpcy5pZCwgdGhpcywgZS5hbmltKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZS5wYXVzZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMoZS5hbmltLCBlLnN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zdG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTdG9wcyBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGFuaW0gKG9iamVjdCkgI29wdGlvbmFsIGFuaW1hdGlvbiBvYmplY3RcbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uc3RvcCA9IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpKyspIGlmIChhbmltYXRpb25FbGVtZW50c1tpXS5lbC5pZCA9PSB0aGlzLmlkICYmICghYW5pbSB8fCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICBpZiAoZXZlKFwicmFwaGFlbC5hbmltLnN0b3AuXCIgKyB0aGlzLmlkLCB0aGlzLCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHN0b3BBbmltYXRpb24ocGFwZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsLnBhcGVyID09IHBhcGVyKSB7XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBldmUub24oXCJyYXBoYWVsLnJlbW92ZVwiLCBzdG9wQW5pbWF0aW9uKTtcbiAgICBldmUub24oXCJyYXBoYWVsLmNsZWFyXCIsIHN0b3BBbmltYXRpb24pO1xuICAgIGVscHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIlJhcGhhXFx4ZWJsXFx1MjAxOXMgb2JqZWN0XCI7XG4gICAgfTtcblxuICAgIC8vIFNldFxuICAgIHZhciBTZXQgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IFwic2V0XCI7XG4gICAgICAgIGlmIChpdGVtcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaXRlbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXSAmJiAoaXRlbXNbaV0uY29uc3RydWN0b3IgPT0gZWxwcm90by5jb25zdHJ1Y3RvciB8fCBpdGVtc1tpXS5jb25zdHJ1Y3RvciA9PSBTZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbdGhpcy5pdGVtcy5sZW5ndGhdID0gdGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aF0gPSBpdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldHByb3RvID0gU2V0LnByb3RvdHlwZTtcbiAgICAvKlxcXG4gICAgICogU2V0LnB1c2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZWFjaCBhcmd1bWVudCB0byB0aGUgY3VycmVudCBzZXQuXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBzZXRwcm90by5wdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlbSxcbiAgICAgICAgICAgIGxlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAoaXRlbS5jb25zdHJ1Y3RvciA9PSBlbHByb3RvLmNvbnN0cnVjdG9yIHx8IGl0ZW0uY29uc3RydWN0b3IgPT0gU2V0KSkge1xuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXNbbGVuXSA9IHRoaXMuaXRlbXNbbGVuXSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQucG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGxhc3QgZWxlbWVudCBhbmQgcmV0dXJucyBpdC5cbiAgICAgPSAob2JqZWN0KSBlbGVtZW50XG4gICAgXFwqL1xuICAgIHNldHByb3RvLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggJiYgZGVsZXRlIHRoaXNbdGhpcy5sZW5ndGgtLV07XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLnBvcCgpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFNldC5mb3JFYWNoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBFeGVjdXRlcyBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXG4gICAgICpcbiAgICAgKiBJZiBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgaXQgd2lsbCBzdG9wIGxvb3AgcnVubmluZy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSBmdW5jdGlvbiB0byBydW5cbiAgICAgLSB0aGlzQXJnIChvYmplY3QpIGNvbnRleHQgb2JqZWN0IGZvciB0aGUgY2FsbGJhY2tcbiAgICAgPSAob2JqZWN0KSBTZXQgb2JqZWN0XG4gICAgXFwqL1xuICAgIHNldHByb3RvLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLml0ZW1zW2ldLCBpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGZvciAodmFyIG1ldGhvZCBpbiBlbHByb3RvKSBpZiAoZWxwcm90b1toYXNdKG1ldGhvZCkpIHtcbiAgICAgICAgc2V0cHJvdG9bbWV0aG9kXSA9IChmdW5jdGlvbiAobWV0aG9kbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsW21ldGhvZG5hbWVdW2FwcGx5XShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxuICAgIHNldHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG5hbWUgJiYgUi5pcyhuYW1lLCBhcnJheSkgJiYgUi5pcyhuYW1lWzBdLCBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gbmFtZS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tqXS5hdHRyKG5hbWVbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5hdHRyKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQuY2xlYXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhlIHNldFxuICAgIFxcKi9cbiAgICBzZXRwcm90by5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogU2V0LnNwbGljZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBnaXZlbiBlbGVtZW50IGZyb20gdGhlIHNldFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBpbmRleCAobnVtYmVyKSBwb3NpdGlvbiBvZiB0aGUgZGVsZXRpb25cbiAgICAgLSBjb3VudCAobnVtYmVyKSBudW1iZXIgb2YgZWxlbWVudCB0byByZW1vdmVcbiAgICAgLSBpbnNlcnRpb27igKYgKG9iamVjdCkgI29wdGlvbmFsIGVsZW1lbnRzIHRvIGluc2VydFxuICAgICA9IChvYmplY3QpIHNldCBlbGVtZW50cyB0aGF0IHdlcmUgZGVsZXRlZFxuICAgIFxcKi9cbiAgICBzZXRwcm90by5zcGxpY2UgPSBmdW5jdGlvbiAoaW5kZXgsIGNvdW50LCBpbnNlcnRpb24pIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBtbWF4KHRoaXMubGVuZ3RoICsgaW5kZXgsIDApIDogaW5kZXg7XG4gICAgICAgIGNvdW50ID0gbW1heCgwLCBtbWluKHRoaXMubGVuZ3RoIC0gaW5kZXgsIGNvdW50KSk7XG4gICAgICAgIHZhciB0YWlsID0gW10sXG4gICAgICAgICAgICB0b2RlbCA9IFtdLFxuICAgICAgICAgICAgYXJncyA9IFtdLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgZm9yIChpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRvZGVsLnB1c2godGhpc1tpbmRleCArIGldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgaSA8IHRoaXMubGVuZ3RoIC0gaW5kZXg7IGkrKykge1xuICAgICAgICAgICAgdGFpbC5wdXNoKHRoaXNbaW5kZXggKyBpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ2xlbiA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJnbGVuICsgdGFpbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleCArIGldID0gdGhpc1tpbmRleCArIGldID0gaSA8IGFyZ2xlbiA/IGFyZ3NbaV0gOiB0YWlsW2kgLSBhcmdsZW5dO1xuICAgICAgICB9XG4gICAgICAgIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCA9IHRoaXMubGVuZ3RoIC09IGNvdW50IC0gYXJnbGVuO1xuICAgICAgICB3aGlsZSAodGhpc1tpXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXNbaSsrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNldCh0b2RlbCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogU2V0LmV4Y2x1ZGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gZWxlbWVudCBmcm9tIHRoZSBzZXRcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZWxlbWVudCAob2JqZWN0KSBlbGVtZW50IHRvIHJlbW92ZVxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgb2JqZWN0IHdhcyBmb3VuZCAmIHJlbW92ZWQgZnJvbSB0aGUgc2V0XG4gICAgXFwqL1xuICAgIHNldHByb3RvLmV4Y2x1ZGUgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAodGhpc1tpXSA9PSBlbCkge1xuICAgICAgICAgICAgdGhpcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc2V0cHJvdG8uYW5pbWF0ZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIChSLmlzKGVhc2luZywgXCJmdW5jdGlvblwiKSB8fCAhZWFzaW5nKSAmJiAoY2FsbGJhY2sgPSBlYXNpbmcgfHwgbnVsbCk7XG4gICAgICAgIHZhciBsZW4gPSB0aGlzLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGkgPSBsZW4sXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgc2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGNvbGxlY3RvcjtcbiAgICAgICAgaWYgKCFsZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrICYmIChjb2xsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAhLS1sZW4gJiYgY2FsbGJhY2suY2FsbChzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWFzaW5nID0gUi5pcyhlYXNpbmcsIHN0cmluZykgPyBlYXNpbmcgOiBjb2xsZWN0b3I7XG4gICAgICAgIHZhciBhbmltID0gUi5hbmltYXRpb24ocGFyYW1zLCBtcywgZWFzaW5nLCBjb2xsZWN0b3IpO1xuICAgICAgICBpdGVtID0gdGhpcy5pdGVtc1stLWldLmFuaW1hdGUoYW5pbSk7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0gJiYgIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCAmJiB0aGlzLml0ZW1zW2ldLmFuaW1hdGVXaXRoKGl0ZW0sIGFuaW0sIGFuaW0pO1xuICAgICAgICAgICAgKHRoaXMuaXRlbXNbaV0gJiYgIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCkgfHwgbGVuLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBzZXRwcm90by5pbnNlcnRBZnRlciA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmluc2VydEFmdGVyKGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHNldHByb3RvLmdldEJCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4ID0gW10sXG4gICAgICAgICAgICB5ID0gW10sXG4gICAgICAgICAgICB4MiA9IFtdLFxuICAgICAgICAgICAgeTIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpLS07KSBpZiAoIXRoaXMuaXRlbXNbaV0ucmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGJveCA9IHRoaXMuaXRlbXNbaV0uZ2V0QkJveCgpO1xuICAgICAgICAgICAgeC5wdXNoKGJveC54KTtcbiAgICAgICAgICAgIHkucHVzaChib3gueSk7XG4gICAgICAgICAgICB4Mi5wdXNoKGJveC54ICsgYm94LndpZHRoKTtcbiAgICAgICAgICAgIHkyLnB1c2goYm94LnkgKyBib3guaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB4ID0gbW1pblthcHBseV0oMCwgeCk7XG4gICAgICAgIHkgPSBtbWluW2FwcGx5XSgwLCB5KTtcbiAgICAgICAgeDIgPSBtbWF4W2FwcGx5XSgwLCB4Mik7XG4gICAgICAgIHkyID0gbW1heFthcHBseV0oMCwgeTIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB4MjogeDIsXG4gICAgICAgICAgICB5MjogeTIsXG4gICAgICAgICAgICB3aWR0aDogeDIgLSB4LFxuICAgICAgICAgICAgaGVpZ2h0OiB5MiAtIHlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHNldHByb3RvLmNsb25lID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcyA9IHRoaXMucGFwZXIuc2V0KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgcy5wdXNoKHRoaXMuaXRlbXNbaV0uY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBzZXRwcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmFwaGFcXHhlYmxcXHUyMDE4cyBzZXRcIjtcbiAgICB9O1xuXG4gICAgc2V0cHJvdG8uZ2xvdyA9IGZ1bmN0aW9uKGdsb3dDb25maWcpIHtcbiAgICAgICAgdmFyIHJldCA9IHRoaXMucGFwZXIuc2V0KCk7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbihzaGFwZSwgaW5kZXgpe1xuICAgICAgICAgICAgdmFyIGcgPSBzaGFwZS5nbG93KGdsb3dDb25maWcpO1xuICAgICAgICAgICAgaWYoZyAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICBnLmZvckVhY2goZnVuY3Rpb24oc2hhcGUyLCBpbmRleDIpe1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaChzaGFwZTIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG5cbiAgICAvKlxcXG4gICAgICogU2V0LmlzUG9pbnRJbnNpZGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERldGVybWluZSBpZiBnaXZlbiBwb2ludCBpcyBpbnNpZGUgdGhpcyBzZXTigJlzIGVsZW1lbnRzXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgcG9pbnQgaXMgaW5zaWRlIGFueSBvZiB0aGUgc2V0J3MgZWxlbWVudHNcbiAgICAgXFwqL1xuICAgIHNldHByb3RvLmlzUG9pbnRJbnNpZGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgaXNQb2ludEluc2lkZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoZWwuaXNQb2ludEluc2lkZSh4LCB5KSkge1xuICAgICAgICAgICAgICAgIGlzUG9pbnRJbnNpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gc3RvcCBsb29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNQb2ludEluc2lkZTtcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmVnaXN0ZXJGb250XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGdpdmVuIGZvbnQgdG8gdGhlIHJlZ2lzdGVyZWQgc2V0IG9mIGZvbnRzIGZvciBSYXBoYcOrbC4gU2hvdWxkIGJlIHVzZWQgYXMgYW4gaW50ZXJuYWwgY2FsbCBmcm9tIHdpdGhpbiBDdWbDs27igJlzIGZvbnQgZmlsZS5cbiAgICAgKiBSZXR1cm5zIG9yaWdpbmFsIHBhcmFtZXRlciwgc28gaXQgY291bGQgYmUgdXNlZCB3aXRoIGNoYWluaW5nLlxuICAgICAjIDxhIGhyZWY9XCJodHRwOi8vd2lraS5naXRodWIuY29tL3NvcmNjdS9jdWZvbi9hYm91dFwiPk1vcmUgYWJvdXQgQ3Vmw7NuIGFuZCBob3cgdG8gY29udmVydCB5b3VyIGZvbnQgZm9ybSBUVEYsIE9URiwgZXRjIHRvIEphdmFTY3JpcHQgZmlsZS48L2E+XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGZvbnQgKG9iamVjdCkgdGhlIGZvbnQgdG8gcmVnaXN0ZXJcbiAgICAgPSAob2JqZWN0KSB0aGUgZm9udCB5b3UgcGFzc2VkIGluXG4gICAgID4gVXNhZ2VcbiAgICAgfCBDdWZvbi5yZWdpc3RlckZvbnQoUmFwaGFlbC5yZWdpc3RlckZvbnQoe+KApn0pKTtcbiAgICBcXCovXG4gICAgUi5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICBpZiAoIWZvbnQuZmFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb250cyA9IHRoaXMuZm9udHMgfHwge307XG4gICAgICAgIHZhciBmb250Y29weSA9IHtcbiAgICAgICAgICAgICAgICB3OiBmb250LncsXG4gICAgICAgICAgICAgICAgZmFjZToge30sXG4gICAgICAgICAgICAgICAgZ2x5cGhzOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbWlseSA9IGZvbnQuZmFjZVtcImZvbnQtZmFtaWx5XCJdO1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGZvbnQuZmFjZSkgaWYgKGZvbnQuZmFjZVtoYXNdKHByb3ApKSB7XG4gICAgICAgICAgICBmb250Y29weS5mYWNlW3Byb3BdID0gZm9udC5mYWNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZvbnRzW2ZhbWlseV0pIHtcbiAgICAgICAgICAgIHRoaXMuZm9udHNbZmFtaWx5XS5wdXNoKGZvbnRjb3B5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9udHNbZmFtaWx5XSA9IFtmb250Y29weV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb250LnN2Zykge1xuICAgICAgICAgICAgZm9udGNvcHkuZmFjZVtcInVuaXRzLXBlci1lbVwiXSA9IHRvSW50KGZvbnQuZmFjZVtcInVuaXRzLXBlci1lbVwiXSwgMTApO1xuICAgICAgICAgICAgZm9yICh2YXIgZ2x5cGggaW4gZm9udC5nbHlwaHMpIGlmIChmb250LmdseXBoc1toYXNdKGdseXBoKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gZm9udC5nbHlwaHNbZ2x5cGhdO1xuICAgICAgICAgICAgICAgIGZvbnRjb3B5LmdseXBoc1tnbHlwaF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHc6IHBhdGgudyxcbiAgICAgICAgICAgICAgICAgICAgazoge30sXG4gICAgICAgICAgICAgICAgICAgIGQ6IHBhdGguZCAmJiBcIk1cIiArIHBhdGguZC5yZXBsYWNlKC9bbWxjeHRydl0vZywgZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2w6IFwiTFwiLCBjOiBcIkNcIiwgeDogXCJ6XCIsIHQ6IFwibVwiLCByOiBcImxcIiwgdjogXCJjXCJ9W2NvbW1hbmRdIHx8IFwiTVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkgKyBcInpcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHBhdGguaykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIHBhdGguaykgaWYgKHBhdGhbaGFzXShrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udGNvcHkuZ2x5cGhzW2dseXBoXS5rW2tdID0gcGF0aC5rW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEZvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEZpbmRzIGZvbnQgb2JqZWN0IGluIHRoZSByZWdpc3RlcmVkIGZvbnRzIGJ5IGdpdmVuIHBhcmFtZXRlcnMuIFlvdSBjb3VsZCBzcGVjaWZ5IG9ubHkgb25lIHdvcmQgZnJvbSB0aGUgZm9udCBuYW1lLCBsaWtlIOKAnE15cmlhZOKAnSBmb3Ig4oCcTXlyaWFkIFByb+KAnS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZmFtaWx5IChzdHJpbmcpIGZvbnQgZmFtaWx5IG5hbWUgb3IgYW55IHdvcmQgZnJvbSBpdFxuICAgICAtIHdlaWdodCAoc3RyaW5nKSAjb3B0aW9uYWwgZm9udCB3ZWlnaHRcbiAgICAgLSBzdHlsZSAoc3RyaW5nKSAjb3B0aW9uYWwgZm9udCBzdHlsZVxuICAgICAtIHN0cmV0Y2ggKHN0cmluZykgI29wdGlvbmFsIGZvbnQgc3RyZXRjaFxuICAgICA9IChvYmplY3QpIHRoZSBmb250IG9iamVjdFxuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIucHJpbnQoMTAwLCAxMDAsIFwiVGVzdCBzdHJpbmdcIiwgcGFwZXIuZ2V0Rm9udChcIlRpbWVzXCIsIDgwMCksIDMwKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRGb250ID0gZnVuY3Rpb24gKGZhbWlseSwgd2VpZ2h0LCBzdHlsZSwgc3RyZXRjaCkge1xuICAgICAgICBzdHJldGNoID0gc3RyZXRjaCB8fCBcIm5vcm1hbFwiO1xuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IFwibm9ybWFsXCI7XG4gICAgICAgIHdlaWdodCA9ICt3ZWlnaHQgfHwge25vcm1hbDogNDAwLCBib2xkOiA3MDAsIGxpZ2h0ZXI6IDMwMCwgYm9sZGVyOiA4MDB9W3dlaWdodF0gfHwgNDAwO1xuICAgICAgICBpZiAoIVIuZm9udHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IFIuZm9udHNbZmFtaWx5XTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGZhbWlseS5yZXBsYWNlKC9bXlxcd1xcZFxccyshfi46Xy1dL2csIEUpICsgXCIoXFxcXHN8JClcIiwgXCJpXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgZm9udE5hbWUgaW4gUi5mb250cykgaWYgKFIuZm9udHNbaGFzXShmb250TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS50ZXN0KGZvbnROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBmb250ID0gUi5mb250c1tmb250TmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhlZm9udDtcbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZvbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoZWZvbnQgPSBmb250W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0aGVmb250LmZhY2VbXCJmb250LXdlaWdodFwiXSA9PSB3ZWlnaHQgJiYgKHRoZWZvbnQuZmFjZVtcImZvbnQtc3R5bGVcIl0gPT0gc3R5bGUgfHwgIXRoZWZvbnQuZmFjZVtcImZvbnQtc3R5bGVcIl0pICYmIHRoZWZvbnQuZmFjZVtcImZvbnQtc3RyZXRjaFwiXSA9PSBzdHJldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhlZm9udDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5wcmludFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBwYXRoIHRoYXQgcmVwcmVzZW50IGdpdmVuIHRleHQgd3JpdHRlbiB1c2luZyBnaXZlbiBmb250IGF0IGdpdmVuIHBvc2l0aW9uIHdpdGggZ2l2ZW4gc2l6ZS5cbiAgICAgKiBSZXN1bHQgb2YgdGhlIG1ldGhvZCBpcyBwYXRoIGVsZW1lbnQgdGhhdCBjb250YWlucyB3aG9sZSB0ZXh0IGFzIGEgc2VwYXJhdGUgcGF0aC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IHBvc2l0aW9uIG9mIHRoZSB0ZXh0XG4gICAgIC0geSAobnVtYmVyKSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0XG4gICAgIC0gc3RyaW5nIChzdHJpbmcpIHRleHQgdG8gcHJpbnRcbiAgICAgLSBmb250IChvYmplY3QpIGZvbnQgb2JqZWN0LCBzZWUgQFBhcGVyLmdldEZvbnRcbiAgICAgLSBzaXplIChudW1iZXIpICNvcHRpb25hbCBzaXplIG9mIHRoZSBmb250LCBkZWZhdWx0IGlzIGAxNmBcbiAgICAgLSBvcmlnaW4gKHN0cmluZykgI29wdGlvbmFsIGNvdWxkIGJlIGBcImJhc2VsaW5lXCJgIG9yIGBcIm1pZGRsZVwiYCwgZGVmYXVsdCBpcyBgXCJtaWRkbGVcImBcbiAgICAgLSBsZXR0ZXJfc3BhY2luZyAobnVtYmVyKSAjb3B0aW9uYWwgbnVtYmVyIGluIHJhbmdlIGAtMS4uMWAsIGRlZmF1bHQgaXMgYDBgXG4gICAgIC0gbGluZV9zcGFjaW5nIChudW1iZXIpICNvcHRpb25hbCBudW1iZXIgaW4gcmFuZ2UgYDEuLjNgLCBkZWZhdWx0IGlzIGAxYFxuICAgICA9IChvYmplY3QpIHJlc3VsdGluZyBwYXRoIGVsZW1lbnQsIHdoaWNoIGNvbnNpc3Qgb2YgYWxsIGxldHRlcnNcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciB0eHQgPSByLnByaW50KDEwLCA1MCwgXCJwcmludFwiLCByLmdldEZvbnQoXCJNdXNlb1wiKSwgMzApLmF0dHIoe2ZpbGw6IFwiI2ZmZlwifSk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucHJpbnQgPSBmdW5jdGlvbiAoeCwgeSwgc3RyaW5nLCBmb250LCBzaXplLCBvcmlnaW4sIGxldHRlcl9zcGFjaW5nLCBsaW5lX3NwYWNpbmcpIHtcbiAgICAgICAgb3JpZ2luID0gb3JpZ2luIHx8IFwibWlkZGxlXCI7IC8vIGJhc2VsaW5lfG1pZGRsZVxuICAgICAgICBsZXR0ZXJfc3BhY2luZyA9IG1tYXgobW1pbihsZXR0ZXJfc3BhY2luZyB8fCAwLCAxKSwgLTEpO1xuICAgICAgICBsaW5lX3NwYWNpbmcgPSBtbWF4KG1taW4obGluZV9zcGFjaW5nIHx8IDEsIDMpLCAxKTtcbiAgICAgICAgdmFyIGxldHRlcnMgPSBTdHIoc3RyaW5nKVtzcGxpdF0oRSksXG4gICAgICAgICAgICBzaGlmdCA9IDAsXG4gICAgICAgICAgICBub3RmaXJzdCA9IDAsXG4gICAgICAgICAgICBwYXRoID0gRSxcbiAgICAgICAgICAgIHNjYWxlO1xuICAgICAgICBSLmlzKGZvbnQsIFwic3RyaW5nXCIpICYmIChmb250ID0gdGhpcy5nZXRGb250KGZvbnQpKTtcbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIHNjYWxlID0gKHNpemUgfHwgMTYpIC8gZm9udC5mYWNlW1widW5pdHMtcGVyLWVtXCJdO1xuICAgICAgICAgICAgdmFyIGJiID0gZm9udC5mYWNlLmJib3hbc3BsaXRdKHNlcGFyYXRvciksXG4gICAgICAgICAgICAgICAgdG9wID0gK2JiWzBdLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSBiYlszXSAtIGJiWzFdLFxuICAgICAgICAgICAgICAgIHNoaWZ0eSA9IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gK2JiWzFdICsgKG9yaWdpbiA9PSBcImJhc2VsaW5lXCIgPyBsaW5lSGVpZ2h0ICsgKCtmb250LmZhY2UuZGVzY2VudCkgOiBsaW5lSGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsZXR0ZXJzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGV0dGVyc1tpXSA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY3VyciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIG5vdGZpcnN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnR5ICs9IGxpbmVIZWlnaHQgKiBsaW5lX3NwYWNpbmc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXYgPSBub3RmaXJzdCAmJiBmb250LmdseXBoc1tsZXR0ZXJzW2kgLSAxXV0gfHwge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gZm9udC5nbHlwaHNbbGV0dGVyc1tpXV07XG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0ICs9IG5vdGZpcnN0ID8gKHByZXYudyB8fCBmb250LncpICsgKHByZXYuayAmJiBwcmV2LmtbbGV0dGVyc1tpXV0gfHwgMCkgKyAoZm9udC53ICogbGV0dGVyX3NwYWNpbmcpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgbm90Zmlyc3QgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VyciAmJiBjdXJyLmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSBSLnRyYW5zZm9ybVBhdGgoY3Vyci5kLCBbXCJ0XCIsIHNoaWZ0ICogc2NhbGUsIHNoaWZ0eSAqIHNjYWxlLCBcInNcIiwgc2NhbGUsIHNjYWxlLCB0b3AsIGhlaWdodCwgXCJ0XCIsICh4IC0gdG9wKSAvIHNjYWxlLCAoeSAtIGhlaWdodCkgLyBzY2FsZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wYXRoKHBhdGgpLmF0dHIoe1xuICAgICAgICAgICAgZmlsbDogXCIjMDAwXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUGFwZXIuYWRkXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJbXBvcnRzIGVsZW1lbnRzIGluIEpTT04gYXJyYXkgaW4gZm9ybWF0IGB7dHlwZTogdHlwZSwgPGF0dHJpYnV0ZXM+fWBcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0ganNvbiAoYXJyYXkpXG4gICAgID0gKG9iamVjdCkgcmVzdWx0aW5nIHNldCBvZiBpbXBvcnRlZCBlbGVtZW50c1xuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIuYWRkKFtcbiAgICAgfCAgICAge1xuICAgICB8ICAgICAgICAgdHlwZTogXCJjaXJjbGVcIixcbiAgICAgfCAgICAgICAgIGN4OiAxMCxcbiAgICAgfCAgICAgICAgIGN5OiAxMCxcbiAgICAgfCAgICAgICAgIHI6IDVcbiAgICAgfCAgICAgfSxcbiAgICAgfCAgICAge1xuICAgICB8ICAgICAgICAgdHlwZTogXCJyZWN0XCIsXG4gICAgIHwgICAgICAgICB4OiAxMCxcbiAgICAgfCAgICAgICAgIHk6IDEwLFxuICAgICB8ICAgICAgICAgd2lkdGg6IDEwLFxuICAgICB8ICAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgfCAgICAgICAgIGZpbGw6IFwiI2ZjMFwiXG4gICAgIHwgICAgIH1cbiAgICAgfCBdKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5hZGQgPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICBpZiAoUi5pcyhqc29uLCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5zZXQoKSxcbiAgICAgICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgICAgICBpaSA9IGpzb24ubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGo7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBqID0ganNvbltpXSB8fCB7fTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1toYXNdKGoudHlwZSkgJiYgcmVzLnB1c2godGhpc1tqLnR5cGVdKCkuYXR0cihqKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZm9ybWF0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTaW1wbGUgZm9ybWF0IGZ1bmN0aW9uLiBSZXBsYWNlcyBjb25zdHJ1Y3Rpb24gb2YgdHlwZSDigJxgezxudW1iZXI+fWDigJ0gdG8gdGhlIGNvcnJlc3BvbmRpbmcgYXJndW1lbnQuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHRva2VuIChzdHJpbmcpIHN0cmluZyB0byBmb3JtYXRcbiAgICAgLSDigKYgKHN0cmluZykgcmVzdCBvZiBhcmd1bWVudHMgd2lsbCBiZSB0cmVhdGVkIGFzIHBhcmFtZXRlcnMgZm9yIHJlcGxhY2VtZW50XG4gICAgID0gKHN0cmluZykgZm9ybWF0ZWQgc3RyaW5nXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgeCA9IDEwLFxuICAgICB8ICAgICB5ID0gMjAsXG4gICAgIHwgICAgIHdpZHRoID0gNDAsXG4gICAgIHwgICAgIGhlaWdodCA9IDUwO1xuICAgICB8IC8vIHRoaXMgd2lsbCBkcmF3IGEgcmVjdGFuZ3VsYXIgc2hhcGUgZXF1aXZhbGVudCB0byBcIk0xMCwyMGg0MHY1MGgtNDB6XCJcbiAgICAgfCBwYXBlci5wYXRoKFJhcGhhZWwuZm9ybWF0KFwiTXswfSx7MX1oezJ9dnszfWh7NH16XCIsIHgsIHksIHdpZHRoLCBoZWlnaHQsIC13aWR0aCkpO1xuICAgIFxcKi9cbiAgICBSLmZvcm1hdCA9IGZ1bmN0aW9uICh0b2tlbiwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBhcmdzID0gUi5pcyhwYXJhbXMsIGFycmF5KSA/IFswXVtjb25jYXRdKHBhcmFtcykgOiBhcmd1bWVudHM7XG4gICAgICAgIHRva2VuICYmIFIuaXModG9rZW4sIHN0cmluZykgJiYgYXJncy5sZW5ndGggLSAxICYmICh0b2tlbiA9IHRva2VuLnJlcGxhY2UoZm9ybWF0cmcsIGZ1bmN0aW9uIChzdHIsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzWysraV0gPT0gbnVsbCA/IEUgOiBhcmdzW2ldO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB0b2tlbiB8fCBFO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZnVsbGZpbGxcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEEgbGl0dGxlIGJpdCBtb3JlIGFkdmFuY2VkIGZvcm1hdCBmdW5jdGlvbiB0aGFuIEBSYXBoYWVsLmZvcm1hdC4gUmVwbGFjZXMgY29uc3RydWN0aW9uIG9mIHR5cGUg4oCcYHs8bmFtZT59YOKAnSB0byB0aGUgY29ycmVzcG9uZGluZyBhcmd1bWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gdG9rZW4gKHN0cmluZykgc3RyaW5nIHRvIGZvcm1hdFxuICAgICAtIGpzb24gKG9iamVjdCkgb2JqZWN0IHdoaWNoIHByb3BlcnRpZXMgd2lsbCBiZSB1c2VkIGFzIGEgcmVwbGFjZW1lbnRcbiAgICAgPSAoc3RyaW5nKSBmb3JtYXRlZCBzdHJpbmdcbiAgICAgPiBVc2FnZVxuICAgICB8IC8vIHRoaXMgd2lsbCBkcmF3IGEgcmVjdGFuZ3VsYXIgc2hhcGUgZXF1aXZhbGVudCB0byBcIk0xMCwyMGg0MHY1MGgtNDB6XCJcbiAgICAgfCBwYXBlci5wYXRoKFJhcGhhZWwuZnVsbGZpbGwoXCJNe3h9LHt5fWh7ZGltLndpZHRofXZ7ZGltLmhlaWdodH1oe2RpbVsnbmVnYXRpdmUgd2lkdGgnXX16XCIsIHtcbiAgICAgfCAgICAgeDogMTAsXG4gICAgIHwgICAgIHk6IDIwLFxuICAgICB8ICAgICBkaW06IHtcbiAgICAgfCAgICAgICAgIHdpZHRoOiA0MCxcbiAgICAgfCAgICAgICAgIGhlaWdodDogNTAsXG4gICAgIHwgICAgICAgICBcIm5lZ2F0aXZlIHdpZHRoXCI6IC00MFxuICAgICB8ICAgICB9XG4gICAgIHwgfSkpO1xuICAgIFxcKi9cbiAgICBSLmZ1bGxmaWxsID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuUmVnZXggPSAvXFx7KFteXFx9XSspXFx9L2csXG4gICAgICAgICAgICBvYmpOb3RhdGlvblJlZ2V4ID0gLyg/Oig/Ol58XFwuKSguKz8pKD89XFxbfFxcLnwkfFxcKCl8XFxbKCd8XCIpKC4rPylcXDJcXF0pKFxcKFxcKSk/L2csIC8vIG1hdGNoZXMgLnh4eHh4IG9yIFtcInh4eHh4XCJdIHRvIHJ1biBvdmVyIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICByZXBsYWNlciA9IGZ1bmN0aW9uIChhbGwsIGtleSwgb2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IG9iajtcbiAgICAgICAgICAgICAgICBrZXkucmVwbGFjZShvYmpOb3RhdGlvblJlZ2V4LCBmdW5jdGlvbiAoYWxsLCBuYW1lLCBxdW90ZSwgcXVvdGVkTmFtZSwgaXNGdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lIHx8IHF1b3RlZE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lIGluIHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiByZXMgPT0gXCJmdW5jdGlvblwiICYmIGlzRnVuYyAmJiAocmVzID0gcmVzKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzID0gKHJlcyA9PSBudWxsIHx8IHJlcyA9PSBvYmogPyBhbGwgOiByZXMpICsgXCJcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIsIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UodG9rZW5SZWdleCwgZnVuY3Rpb24gKGFsbCwga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VyKGFsbCwga2V5LCBvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSkoKTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5uaW5qYVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSWYgeW91IHdhbnQgdG8gbGVhdmUgbm8gdHJhY2Ugb2YgUmFwaGHDq2wgKFdlbGwsIFJhcGhhw6tsIGNyZWF0ZXMgb25seSBvbmUgZ2xvYmFsIHZhcmlhYmxlIGBSYXBoYWVsYCwgYnV0IGFueXdheS4pIFlvdSBjYW4gdXNlIGBuaW5qYWAgbWV0aG9kLlxuICAgICAqIEJld2FyZSwgdGhhdCBpbiB0aGlzIGNhc2UgcGx1Z2lucyBjb3VsZCBzdG9wIHdvcmtpbmcsIGJlY2F1c2UgdGhleSBhcmUgZGVwZW5kaW5nIG9uIGdsb2JhbCB2YXJpYWJsZSBleGlzdGVuY2UuXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgUmFwaGFlbCBvYmplY3RcbiAgICAgPiBVc2FnZVxuICAgICB8IChmdW5jdGlvbiAobG9jYWxfcmFwaGFlbCkge1xuICAgICB8ICAgICB2YXIgcGFwZXIgPSBsb2NhbF9yYXBoYWVsKDEwLCAxMCwgMzIwLCAyMDApO1xuICAgICB8ICAgICDigKZcbiAgICAgfCB9KShSYXBoYWVsLm5pbmphKCkpO1xuICAgIFxcKi9cbiAgICBSLm5pbmphID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob2xkUmFwaGFlbC53YXMpIHtcbiAgICAgICAgICAgIGcud2luLlJhcGhhZWwgPSBvbGRSYXBoYWVsLmlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSUU4IHJhaXNlcyBhbiBlcnJvciB3aGVuIGRlbGV0aW5nIHdpbmRvdyBwcm9wZXJ0eVxuICAgICAgICAgICAgd2luZG93LlJhcGhhZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuUmFwaGFlbDtcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUjtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnN0XG4gICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAqKlxuICAgICAqIFlvdSBjYW4gYWRkIHlvdXIgb3duIG1ldGhvZCB0byBlbGVtZW50cyBhbmQgc2V0cy4gSXQgaXMgd2lzZSB0byBhZGQgYSBzZXQgbWV0aG9kIGZvciBlYWNoIGVsZW1lbnQgbWV0aG9kXG4gICAgICogeW91IGFkZGVkLCBzbyB5b3Ugd2lsbCBiZSBhYmxlIHRvIGNhbGwgdGhlIHNhbWUgbWV0aG9kIG9uIHNldHMgdG9vLlxuICAgICAqKlxuICAgICAqIFNlZSBhbHNvIEBSYXBoYWVsLmVsLlxuICAgICA+IFVzYWdlXG4gICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIHwgICAgIHRoaXMuYXR0cih7ZmlsbDogXCIjZjAwXCJ9KTtcbiAgICAgfCB9O1xuICAgICB8IFJhcGhhZWwuc3QucmVkID0gZnVuY3Rpb24gKCkge1xuICAgICB8ICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgIHwgICAgICAgICBlbC5yZWQoKTtcbiAgICAgfCAgICAgfSk7XG4gICAgIHwgfTtcbiAgICAgfCAvLyB0aGVuIHVzZSBpdFxuICAgICB8IHBhcGVyLnNldChwYXBlci5jaXJjbGUoMTAwLCAxMDAsIDIwKSwgcGFwZXIuY2lyY2xlKDExMCwgMTAwLCAyMCkpLnJlZCgpO1xuICAgIFxcKi9cbiAgICBSLnN0ID0gc2V0cHJvdG87XG5cbiAgICBldmUub24oXCJyYXBoYWVsLkRPTWxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2FkZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLy8gRmlyZWZveCA8My42IGZpeDogaHR0cDovL3dlYnJlZmxlY3Rpb24uYmxvZ3Nwb3QuY29tLzIwMDkvMTEvMTk1LWNoYXJzLXRvLWhlbHAtbGF6eS1sb2FkaW5nLmh0bWxcbiAgICAoZnVuY3Rpb24gKGRvYywgbG9hZGVkLCBmKSB7XG4gICAgICAgIGlmIChkb2MucmVhZHlTdGF0ZSA9PSBudWxsICYmIGRvYy5hZGRFdmVudExpc3RlbmVyKXtcbiAgICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKGxvYWRlZCwgZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihsb2FkZWQsIGYsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBkb2MucmVhZHlTdGF0ZSA9IFwiY29tcGxldGVcIjtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIGRvYy5yZWFkeVN0YXRlID0gXCJsb2FkaW5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNMb2FkZWQoKSB7XG4gICAgICAgICAgICAoL2luLykudGVzdChkb2MucmVhZHlTdGF0ZSkgPyBzZXRUaW1lb3V0KGlzTG9hZGVkLCA5KSA6IFIuZXZlKFwicmFwaGFlbC5ET01sb2FkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlzTG9hZGVkKCk7XG4gICAgfSkoZG9jdW1lbnQsIFwiRE9NQ29udGVudExvYWRlZFwiKTtcblxuICAgIHJldHVybiBSO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./dev/raphael.core.js\\n\");\n\n/***/ }),\n\n/***/ \"./dev/raphael.svg.js\":\n/*!****************************!*\\\n  !*** ./dev/raphael.svg.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ \\\"./dev/raphael.core.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\\n    if (R && !R.svg) {\\n        return;\\n    }\\n\\n    var has = \\\"hasOwnProperty\\\",\\n        Str = String,\\n        toFloat = parseFloat,\\n        toInt = parseInt,\\n        math = Math,\\n        mmax = math.max,\\n        abs = math.abs,\\n        pow = math.pow,\\n        separator = /[, ]+/,\\n        eve = R.eve,\\n        E = \\\"\\\",\\n        S = \\\" \\\";\\n    var xlink = \\\"http://www.w3.org/1999/xlink\\\",\\n        markers = {\\n            block: \\\"M5,0 0,2.5 5,5z\\\",\\n            classic: \\\"M5,0 0,2.5 5,5 3.5,3 3.5,2z\\\",\\n            diamond: \\\"M2.5,0 5,2.5 2.5,5 0,2.5z\\\",\\n            open: \\\"M6,1 1,3.5 6,6\\\",\\n            oval: \\\"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z\\\"\\n        },\\n        markerCounter = {};\\n    R.toString = function () {\\n        return  \\\"Your browser supports SVG.\\\\nYou are running Rapha\\\\xebl \\\" + this.version;\\n    };\\n    var $ = function (el, attr) {\\n        if (attr) {\\n            if (typeof el == \\\"string\\\") {\\n                el = $(el);\\n            }\\n            for (var key in attr) if (attr[has](key)) {\\n                if (key.substring(0, 6) == \\\"xlink:\\\") {\\n                    el.setAttributeNS(xlink, key.substring(6), Str(attr[key]));\\n                } else {\\n                    el.setAttribute(key, Str(attr[key]));\\n                }\\n            }\\n        } else {\\n            el = R._g.doc.createElementNS(\\\"http://www.w3.org/2000/svg\\\", el);\\n            el.style && (el.style.webkitTapHighlightColor = \\\"rgba(0,0,0,0)\\\");\\n        }\\n        return el;\\n    },\\n    addGradientFill = function (element, gradient) {\\n        var type = \\\"linear\\\",\\n            id = element.id + gradient,\\n            fx = .5, fy = .5,\\n            o = element.node,\\n            SVG = element.paper,\\n            s = o.style,\\n            el = R._g.doc.getElementById(id);\\n        if (!el) {\\n            gradient = Str(gradient).replace(R._radial_gradient, function (all, _fx, _fy) {\\n                type = \\\"radial\\\";\\n                if (_fx && _fy) {\\n                    fx = toFloat(_fx);\\n                    fy = toFloat(_fy);\\n                    var dir = ((fy > .5) * 2 - 1);\\n                    pow(fx - .5, 2) + pow(fy - .5, 2) > .25 &&\\n                        (fy = math.sqrt(.25 - pow(fx - .5, 2)) * dir + .5) &&\\n                        fy != .5 &&\\n                        (fy = fy.toFixed(5) - 1e-5 * dir);\\n                }\\n                return E;\\n            });\\n            gradient = gradient.split(/\\\\s*\\\\-\\\\s*/);\\n            if (type == \\\"linear\\\") {\\n                var angle = gradient.shift();\\n                angle = -toFloat(angle);\\n                if (isNaN(angle)) {\\n                    return null;\\n                }\\n                var vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))],\\n                    max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);\\n                vector[2] *= max;\\n                vector[3] *= max;\\n                if (vector[2] < 0) {\\n                    vector[0] = -vector[2];\\n                    vector[2] = 0;\\n                }\\n                if (vector[3] < 0) {\\n                    vector[1] = -vector[3];\\n                    vector[3] = 0;\\n                }\\n            }\\n            var dots = R._parseDots(gradient);\\n            if (!dots) {\\n                return null;\\n            }\\n            id = id.replace(/[\\\\(\\\\)\\\\s,\\\\xb0#]/g, \\\"_\\\");\\n\\n            if (element.gradient && id != element.gradient.id) {\\n                SVG.defs.removeChild(element.gradient);\\n                delete element.gradient;\\n            }\\n\\n            if (!element.gradient) {\\n                el = $(type + \\\"Gradient\\\", {id: id});\\n                element.gradient = el;\\n                $(el, type == \\\"radial\\\" ? {\\n                    fx: fx,\\n                    fy: fy\\n                } : {\\n                    x1: vector[0],\\n                    y1: vector[1],\\n                    x2: vector[2],\\n                    y2: vector[3],\\n                    gradientTransform: element.matrix.invert()\\n                });\\n                SVG.defs.appendChild(el);\\n                for (var i = 0, ii = dots.length; i < ii; i++) {\\n                    el.appendChild($(\\\"stop\\\", {\\n                        offset: dots[i].offset ? dots[i].offset : i ? \\\"100%\\\" : \\\"0%\\\",\\n                        \\\"stop-color\\\": dots[i].color || \\\"#fff\\\",\\n                        \\\"stop-opacity\\\": isFinite(dots[i].opacity) ? dots[i].opacity : 1\\n                    }));\\n                }\\n            }\\n        }\\n        $(o, {\\n            fill: fillurl(id),\\n            opacity: 1,\\n            \\\"fill-opacity\\\": 1\\n        });\\n        s.fill = E;\\n        s.opacity = 1;\\n        s.fillOpacity = 1;\\n        return 1;\\n    },\\n    isIE9or10 = function () {\\n      var mode = document.documentMode;\\n      return mode && (mode === 9 || mode === 10);\\n    },\\n    fillurl = function (id) {\\n      if (isIE9or10()) {\\n          return \\\"url('#\\\" + id + \\\"')\\\";\\n      }\\n      var location = document.location;\\n      var locationString = (\\n          location.protocol + '//' +\\n          location.host +\\n          location.pathname +\\n          location.search\\n      );\\n      return \\\"url('\\\" + locationString + \\\"#\\\" + id + \\\"')\\\";\\n    },\\n    updatePosition = function (o) {\\n        var bbox = o.getBBox(1);\\n        $(o.pattern, {patternTransform: o.matrix.invert() + \\\" translate(\\\" + bbox.x + \\\",\\\" + bbox.y + \\\")\\\"});\\n    },\\n    addArrow = function (o, value, isEnd) {\\n        if (o.type == \\\"path\\\") {\\n            var values = Str(value).toLowerCase().split(\\\"-\\\"),\\n                p = o.paper,\\n                se = isEnd ? \\\"end\\\" : \\\"start\\\",\\n                node = o.node,\\n                attrs = o.attrs,\\n                stroke = attrs[\\\"stroke-width\\\"],\\n                i = values.length,\\n                type = \\\"classic\\\",\\n                from,\\n                to,\\n                dx,\\n                refX,\\n                attr,\\n                w = 3,\\n                h = 3,\\n                t = 5;\\n            while (i--) {\\n                switch (values[i]) {\\n                    case \\\"block\\\":\\n                    case \\\"classic\\\":\\n                    case \\\"oval\\\":\\n                    case \\\"diamond\\\":\\n                    case \\\"open\\\":\\n                    case \\\"none\\\":\\n                        type = values[i];\\n                        break;\\n                    case \\\"wide\\\": h = 5; break;\\n                    case \\\"narrow\\\": h = 2; break;\\n                    case \\\"long\\\": w = 5; break;\\n                    case \\\"short\\\": w = 2; break;\\n                }\\n            }\\n            if (type == \\\"open\\\") {\\n                w += 2;\\n                h += 2;\\n                t += 2;\\n                dx = 1;\\n                refX = isEnd ? 4 : 1;\\n                attr = {\\n                    fill: \\\"none\\\",\\n                    stroke: attrs.stroke\\n                };\\n            } else {\\n                refX = dx = w / 2;\\n                attr = {\\n                    fill: attrs.stroke,\\n                    stroke: \\\"none\\\"\\n                };\\n            }\\n            if (o._.arrows) {\\n                if (isEnd) {\\n                    o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;\\n                    o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;\\n                } else {\\n                    o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;\\n                    o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;\\n                }\\n            } else {\\n                o._.arrows = {};\\n            }\\n            if (type != \\\"none\\\") {\\n                var pathId = \\\"raphael-marker-\\\" + type,\\n                    markerId = \\\"raphael-marker-\\\" + se + type + w + h + \\\"-obj\\\" + o.id;\\n                if (!R._g.doc.getElementById(pathId)) {\\n                    p.defs.appendChild($($(\\\"path\\\"), {\\n                        \\\"stroke-linecap\\\": \\\"round\\\",\\n                        d: markers[type],\\n                        id: pathId\\n                    }));\\n                    markerCounter[pathId] = 1;\\n                } else {\\n                    markerCounter[pathId]++;\\n                }\\n                var marker = R._g.doc.getElementById(markerId),\\n                    use;\\n                if (!marker) {\\n                    marker = $($(\\\"marker\\\"), {\\n                        id: markerId,\\n                        markerHeight: h,\\n                        markerWidth: w,\\n                        orient: \\\"auto\\\",\\n                        refX: refX,\\n                        refY: h / 2\\n                    });\\n                    use = $($(\\\"use\\\"), {\\n                        \\\"xlink:href\\\": \\\"#\\\" + pathId,\\n                        transform: (isEnd ? \\\"rotate(180 \\\" + w / 2 + \\\" \\\" + h / 2 + \\\") \\\" : E) + \\\"scale(\\\" + w / t + \\\",\\\" + h / t + \\\")\\\",\\n                        \\\"stroke-width\\\": (1 / ((w / t + h / t) / 2)).toFixed(4)\\n                    });\\n                    marker.appendChild(use);\\n                    p.defs.appendChild(marker);\\n                    markerCounter[markerId] = 1;\\n                } else {\\n                    markerCounter[markerId]++;\\n                    use = marker.getElementsByTagName(\\\"use\\\")[0];\\n                }\\n                $(use, attr);\\n                var delta = dx * (type != \\\"diamond\\\" && type != \\\"oval\\\");\\n                if (isEnd) {\\n                    from = o._.arrows.startdx * stroke || 0;\\n                    to = R.getTotalLength(attrs.path) - delta * stroke;\\n                } else {\\n                    from = delta * stroke;\\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\\n                }\\n                attr = {};\\n                attr[\\\"marker-\\\" + se] = \\\"url(#\\\" + markerId + \\\")\\\";\\n                if (to || from) {\\n                    attr.d = R.getSubpath(attrs.path, from, to);\\n                }\\n                $(node, attr);\\n                o._.arrows[se + \\\"Path\\\"] = pathId;\\n                o._.arrows[se + \\\"Marker\\\"] = markerId;\\n                o._.arrows[se + \\\"dx\\\"] = delta;\\n                o._.arrows[se + \\\"Type\\\"] = type;\\n                o._.arrows[se + \\\"String\\\"] = value;\\n            } else {\\n                if (isEnd) {\\n                    from = o._.arrows.startdx * stroke || 0;\\n                    to = R.getTotalLength(attrs.path) - from;\\n                } else {\\n                    from = 0;\\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\\n                }\\n                o._.arrows[se + \\\"Path\\\"] && $(node, {d: R.getSubpath(attrs.path, from, to)});\\n                delete o._.arrows[se + \\\"Path\\\"];\\n                delete o._.arrows[se + \\\"Marker\\\"];\\n                delete o._.arrows[se + \\\"dx\\\"];\\n                delete o._.arrows[se + \\\"Type\\\"];\\n                delete o._.arrows[se + \\\"String\\\"];\\n            }\\n            for (attr in markerCounter) if (markerCounter[has](attr) && !markerCounter[attr]) {\\n                var item = R._g.doc.getElementById(attr);\\n                item && item.parentNode.removeChild(item);\\n            }\\n        }\\n    },\\n    dasharray = {\\n        \\\"-\\\": [3, 1],\\n        \\\".\\\": [1, 1],\\n        \\\"-.\\\": [3, 1, 1, 1],\\n        \\\"-..\\\": [3, 1, 1, 1, 1, 1],\\n        \\\". \\\": [1, 3],\\n        \\\"- \\\": [4, 3],\\n        \\\"--\\\": [8, 3],\\n        \\\"- .\\\": [4, 3, 1, 3],\\n        \\\"--.\\\": [8, 3, 1, 3],\\n        \\\"--..\\\": [8, 3, 1, 3, 1, 3]\\n    },\\n    addDashes = function (o, value, params) {\\n        value = dasharray[Str(value).toLowerCase()];\\n        if (value) {\\n            var width = o.attrs[\\\"stroke-width\\\"] || \\\"1\\\",\\n                butt = {round: width, square: width, butt: 0}[o.attrs[\\\"stroke-linecap\\\"] || params[\\\"stroke-linecap\\\"]] || 0,\\n                dashes = [],\\n                i = value.length;\\n            while (i--) {\\n                dashes[i] = value[i] * width + ((i % 2) ? 1 : -1) * butt;\\n            }\\n            $(o.node, {\\\"stroke-dasharray\\\": dashes.join(\\\",\\\")});\\n        }\\n        else {\\n          $(o.node, {\\\"stroke-dasharray\\\": \\\"none\\\"});\\n        }\\n    },\\n    setFillAndStroke = function (o, params) {\\n        var node = o.node,\\n            attrs = o.attrs,\\n            vis = node.style.visibility;\\n        node.style.visibility = \\\"hidden\\\";\\n        for (var att in params) {\\n            if (params[has](att)) {\\n                if (!R._availableAttrs[has](att)) {\\n                    continue;\\n                }\\n                var value = params[att];\\n                attrs[att] = value;\\n                switch (att) {\\n                    case \\\"blur\\\":\\n                        o.blur(value);\\n                        break;\\n                    case \\\"title\\\":\\n                        var title = node.getElementsByTagName(\\\"title\\\");\\n\\n                        // Use the existing <title>.\\n                        if (title.length && (title = title[0])) {\\n                          title.firstChild.nodeValue = value;\\n                        } else {\\n                          title = $(\\\"title\\\");\\n                          var val = R._g.doc.createTextNode(value);\\n                          title.appendChild(val);\\n                          node.appendChild(title);\\n                        }\\n                        break;\\n                    case \\\"href\\\":\\n                    case \\\"target\\\":\\n                        var pn = node.parentNode;\\n                        if (pn.tagName.toLowerCase() != \\\"a\\\") {\\n                            var hl = $(\\\"a\\\");\\n                            pn.insertBefore(hl, node);\\n                            hl.appendChild(node);\\n                            pn = hl;\\n                        }\\n                        if (att == \\\"target\\\") {\\n                            pn.setAttributeNS(xlink, \\\"show\\\", value == \\\"blank\\\" ? \\\"new\\\" : value);\\n                        } else {\\n                            pn.setAttributeNS(xlink, att, value);\\n                        }\\n                        break;\\n                    case \\\"cursor\\\":\\n                        node.style.cursor = value;\\n                        break;\\n                    case \\\"transform\\\":\\n                        o.transform(value);\\n                        break;\\n                    case \\\"arrow-start\\\":\\n                        addArrow(o, value);\\n                        break;\\n                    case \\\"arrow-end\\\":\\n                        addArrow(o, value, 1);\\n                        break;\\n                    case \\\"clip-rect\\\":\\n                        var rect = Str(value).split(separator);\\n                        if (rect.length == 4) {\\n                            o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);\\n                            var el = $(\\\"clipPath\\\"),\\n                                rc = $(\\\"rect\\\");\\n                            el.id = R.createUUID();\\n                            $(rc, {\\n                                x: rect[0],\\n                                y: rect[1],\\n                                width: rect[2],\\n                                height: rect[3]\\n                            });\\n                            el.appendChild(rc);\\n                            o.paper.defs.appendChild(el);\\n                            $(node, {\\\"clip-path\\\": \\\"url(#\\\" + el.id + \\\")\\\"});\\n                            o.clip = rc;\\n                        }\\n                        if (!value) {\\n                            var path = node.getAttribute(\\\"clip-path\\\");\\n                            if (path) {\\n                                var clip = R._g.doc.getElementById(path.replace(/(^url\\\\(#|\\\\)$)/g, E));\\n                                clip && clip.parentNode.removeChild(clip);\\n                                $(node, {\\\"clip-path\\\": E});\\n                                delete o.clip;\\n                            }\\n                        }\\n                    break;\\n                    case \\\"path\\\":\\n                        if (o.type == \\\"path\\\") {\\n                            $(node, {d: value ? attrs.path = R._pathToAbsolute(value) : \\\"M0,0\\\"});\\n                            o._.dirty = 1;\\n                            if (o._.arrows) {\\n                                \\\"startString\\\" in o._.arrows && addArrow(o, o._.arrows.startString);\\n                                \\\"endString\\\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\\n                            }\\n                        }\\n                        break;\\n                    case \\\"width\\\":\\n                        node.setAttribute(att, value);\\n                        o._.dirty = 1;\\n                        if (attrs.fx) {\\n                            att = \\\"x\\\";\\n                            value = attrs.x;\\n                        } else {\\n                            break;\\n                        }\\n                    case \\\"x\\\":\\n                        if (attrs.fx) {\\n                            value = -attrs.x - (attrs.width || 0);\\n                        }\\n                    case \\\"rx\\\":\\n                        if (att == \\\"rx\\\" && o.type == \\\"rect\\\") {\\n                            break;\\n                        }\\n                    case \\\"cx\\\":\\n                        node.setAttribute(att, value);\\n                        o.pattern && updatePosition(o);\\n                        o._.dirty = 1;\\n                        break;\\n                    case \\\"height\\\":\\n                        node.setAttribute(att, value);\\n                        o._.dirty = 1;\\n                        if (attrs.fy) {\\n                            att = \\\"y\\\";\\n                            value = attrs.y;\\n                        } else {\\n                            break;\\n                        }\\n                    case \\\"y\\\":\\n                        if (attrs.fy) {\\n                            value = -attrs.y - (attrs.height || 0);\\n                        }\\n                    case \\\"ry\\\":\\n                        if (att == \\\"ry\\\" && o.type == \\\"rect\\\") {\\n                            break;\\n                        }\\n                    case \\\"cy\\\":\\n                        node.setAttribute(att, value);\\n                        o.pattern && updatePosition(o);\\n                        o._.dirty = 1;\\n                        break;\\n                    case \\\"r\\\":\\n                        if (o.type == \\\"rect\\\") {\\n                            $(node, {rx: value, ry: value});\\n                        } else {\\n                            node.setAttribute(att, value);\\n                        }\\n                        o._.dirty = 1;\\n                        break;\\n                    case \\\"src\\\":\\n                        if (o.type == \\\"image\\\") {\\n                            node.setAttributeNS(xlink, \\\"href\\\", value);\\n                        }\\n                        break;\\n                    case \\\"stroke-width\\\":\\n                        if (o._.sx != 1 || o._.sy != 1) {\\n                            value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;\\n                        }\\n                        node.setAttribute(att, value);\\n                        if (attrs[\\\"stroke-dasharray\\\"]) {\\n                            addDashes(o, attrs[\\\"stroke-dasharray\\\"], params);\\n                        }\\n                        if (o._.arrows) {\\n                            \\\"startString\\\" in o._.arrows && addArrow(o, o._.arrows.startString);\\n                            \\\"endString\\\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\\n                        }\\n                        break;\\n                    case \\\"stroke-dasharray\\\":\\n                        addDashes(o, value, params);\\n                        break;\\n                    case \\\"fill\\\":\\n                        var isURL = Str(value).match(R._ISURL);\\n                        if (isURL) {\\n                            el = $(\\\"pattern\\\");\\n                            var ig = $(\\\"image\\\");\\n                            el.id = R.createUUID();\\n                            $(el, {x: 0, y: 0, patternUnits: \\\"userSpaceOnUse\\\", height: 1, width: 1});\\n                            $(ig, {x: 0, y: 0, \\\"xlink:href\\\": isURL[1]});\\n                            el.appendChild(ig);\\n\\n                            (function (el) {\\n                                R._preload(isURL[1], function () {\\n                                    var w = this.offsetWidth,\\n                                        h = this.offsetHeight;\\n                                    $(el, {width: w, height: h});\\n                                    $(ig, {width: w, height: h});\\n                                });\\n                            })(el);\\n                            o.paper.defs.appendChild(el);\\n                            $(node, {fill: \\\"url(#\\\" + el.id + \\\")\\\"});\\n                            o.pattern = el;\\n                            o.pattern && updatePosition(o);\\n                            break;\\n                        }\\n                        var clr = R.getRGB(value);\\n                        if (!clr.error) {\\n                            delete params.gradient;\\n                            delete attrs.gradient;\\n                            !R.is(attrs.opacity, \\\"undefined\\\") &&\\n                                R.is(params.opacity, \\\"undefined\\\") &&\\n                                $(node, {opacity: attrs.opacity});\\n                            !R.is(attrs[\\\"fill-opacity\\\"], \\\"undefined\\\") &&\\n                                R.is(params[\\\"fill-opacity\\\"], \\\"undefined\\\") &&\\n                                $(node, {\\\"fill-opacity\\\": attrs[\\\"fill-opacity\\\"]});\\n                        } else if ((o.type == \\\"circle\\\" || o.type == \\\"ellipse\\\" || Str(value).charAt() != \\\"r\\\") && addGradientFill(o, value)) {\\n                            if (\\\"opacity\\\" in attrs || \\\"fill-opacity\\\" in attrs) {\\n                                var gradient = R._g.doc.getElementById(node.getAttribute(\\\"fill\\\").replace(/^url\\\\(#|\\\\)$/g, E));\\n                                if (gradient) {\\n                                    var stops = gradient.getElementsByTagName(\\\"stop\\\");\\n                                    $(stops[stops.length - 1], {\\\"stop-opacity\\\": (\\\"opacity\\\" in attrs ? attrs.opacity : 1) * (\\\"fill-opacity\\\" in attrs ? attrs[\\\"fill-opacity\\\"] : 1)});\\n                                }\\n                            }\\n                            attrs.gradient = value;\\n                            attrs.fill = \\\"none\\\";\\n                            break;\\n                        }\\n                        clr[has](\\\"opacity\\\") && $(node, {\\\"fill-opacity\\\": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\\n                    case \\\"stroke\\\":\\n                        clr = R.getRGB(value);\\n                        node.setAttribute(att, clr.hex);\\n                        att == \\\"stroke\\\" && clr[has](\\\"opacity\\\") && $(node, {\\\"stroke-opacity\\\": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\\n                        if (att == \\\"stroke\\\" && o._.arrows) {\\n                            \\\"startString\\\" in o._.arrows && addArrow(o, o._.arrows.startString);\\n                            \\\"endString\\\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\\n                        }\\n                        break;\\n                    case \\\"gradient\\\":\\n                        (o.type == \\\"circle\\\" || o.type == \\\"ellipse\\\" || Str(value).charAt() != \\\"r\\\") && addGradientFill(o, value);\\n                        break;\\n                    case \\\"opacity\\\":\\n                        if (attrs.gradient && !attrs[has](\\\"stroke-opacity\\\")) {\\n                            $(node, {\\\"stroke-opacity\\\": value > 1 ? value / 100 : value});\\n                        }\\n                        // fall\\n                    case \\\"fill-opacity\\\":\\n                        if (attrs.gradient) {\\n                            gradient = R._g.doc.getElementById(node.getAttribute(\\\"fill\\\").replace(/^url\\\\(#|\\\\)$/g, E));\\n                            if (gradient) {\\n                                stops = gradient.getElementsByTagName(\\\"stop\\\");\\n                                $(stops[stops.length - 1], {\\\"stop-opacity\\\": value});\\n                            }\\n                            break;\\n                        }\\n                    default:\\n                        att == \\\"font-size\\\" && (value = toInt(value, 10) + \\\"px\\\");\\n                        var cssrule = att.replace(/(\\\\-.)/g, function (w) {\\n                            return w.substring(1).toUpperCase();\\n                        });\\n                        node.style[cssrule] = value;\\n                        o._.dirty = 1;\\n                        node.setAttribute(att, value);\\n                        break;\\n                }\\n            }\\n        }\\n\\n        tuneText(o, params);\\n        node.style.visibility = vis;\\n    },\\n    leading = 1.2,\\n    tuneText = function (el, params) {\\n        if (el.type != \\\"text\\\" || !(params[has](\\\"text\\\") || params[has](\\\"font\\\") || params[has](\\\"font-size\\\") || params[has](\\\"x\\\") || params[has](\\\"y\\\"))) {\\n            return;\\n        }\\n        var a = el.attrs,\\n            node = el.node,\\n            fontSize = node.firstChild ? toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild, E).getPropertyValue(\\\"font-size\\\"), 10) : 10;\\n\\n        if (params[has](\\\"text\\\")) {\\n            a.text = params.text;\\n            while (node.firstChild) {\\n                node.removeChild(node.firstChild);\\n            }\\n            var texts = Str(params.text).split(\\\"\\\\n\\\"),\\n                tspans = [],\\n                tspan;\\n            for (var i = 0, ii = texts.length; i < ii; i++) {\\n                tspan = $(\\\"tspan\\\");\\n                i && $(tspan, {dy: fontSize * leading, x: a.x});\\n                tspan.appendChild(R._g.doc.createTextNode(texts[i]));\\n                node.appendChild(tspan);\\n                tspans[i] = tspan;\\n            }\\n        } else {\\n            tspans = node.getElementsByTagName(\\\"tspan\\\");\\n            for (i = 0, ii = tspans.length; i < ii; i++) if (i) {\\n                $(tspans[i], {dy: fontSize * leading, x: a.x});\\n            } else {\\n                $(tspans[0], {dy: 0});\\n            }\\n        }\\n        $(node, {x: a.x, y: a.y});\\n        el._.dirty = 1;\\n        var bb = el._getBBox(),\\n            dif = a.y - (bb.y + bb.height / 2);\\n        dif && R.is(dif, \\\"finite\\\") && $(tspans[0], {dy: dif});\\n    },\\n    getRealNode = function (node) {\\n        if (node.parentNode && node.parentNode.tagName.toLowerCase() === \\\"a\\\") {\\n            return node.parentNode;\\n        } else {\\n            return node;\\n        }\\n    },\\n    Element = function (node, svg) {\\n        var X = 0,\\n            Y = 0;\\n        /*\\\\\\n         * Element.node\\n         [ property (object) ]\\n         **\\n         * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\\n         **\\n         * Note: Don’t mess with it.\\n         > Usage\\n         | // draw a circle at coordinate 10,10 with radius of 10\\n         | var c = paper.circle(10, 10, 10);\\n         | c.node.onclick = function () {\\n         |     c.attr(\\\"fill\\\", \\\"red\\\");\\n         | };\\n        \\\\*/\\n        this[0] = this.node = node;\\n        /*\\\\\\n         * Element.raphael\\n         [ property (object) ]\\n         **\\n         * Internal reference to @Raphael object. In case it is not available.\\n         > Usage\\n         | Raphael.el.red = function () {\\n         |     var hsb = this.paper.raphael.rgb2hsb(this.attr(\\\"fill\\\"));\\n         |     hsb.h = 1;\\n         |     this.attr({fill: this.paper.raphael.hsb2rgb(hsb).hex});\\n         | }\\n        \\\\*/\\n        node.raphael = true;\\n        /*\\\\\\n         * Element.id\\n         [ property (number) ]\\n         **\\n         * Unique id of the element. Especially useful when you want to listen to events of the element,\\n         * because all events are fired in format `<module>.<action>.<id>`. Also useful for @Paper.getById method.\\n        \\\\*/\\n        this.id = guid();\\n        node.raphaelid = this.id;\\n\\n        /**\\n        * Method that returns a 5 letter/digit id, enough for 36^5 = 60466176 elements\\n        * @returns {string} id\\n        */\\n        function guid() {\\n            return (\\\"0000\\\" + (Math.random()*Math.pow(36,5) << 0).toString(36)).slice(-5);\\n        }\\n\\n        this.matrix = R.matrix();\\n        this.realPath = null;\\n        /*\\\\\\n         * Element.paper\\n         [ property (object) ]\\n         **\\n         * Internal reference to “paper” where object drawn. Mainly for use in plugins and element extensions.\\n         > Usage\\n         | Raphael.el.cross = function () {\\n         |     this.attr({fill: \\\"red\\\"});\\n         |     this.paper.path(\\\"M10,10L50,50M50,10L10,50\\\")\\n         |         .attr({stroke: \\\"red\\\"});\\n         | }\\n        \\\\*/\\n        this.paper = svg;\\n        this.attrs = this.attrs || {};\\n        this._ = {\\n            transform: [],\\n            sx: 1,\\n            sy: 1,\\n            deg: 0,\\n            dx: 0,\\n            dy: 0,\\n            dirty: 1\\n        };\\n        !svg.bottom && (svg.bottom = this);\\n        /*\\\\\\n         * Element.prev\\n         [ property (object) ]\\n         **\\n         * Reference to the previous element in the hierarchy.\\n        \\\\*/\\n        this.prev = svg.top;\\n        svg.top && (svg.top.next = this);\\n        svg.top = this;\\n        /*\\\\\\n         * Element.next\\n         [ property (object) ]\\n         **\\n         * Reference to the next element in the hierarchy.\\n        \\\\*/\\n        this.next = null;\\n    },\\n    elproto = R.el;\\n\\n    Element.prototype = elproto;\\n    elproto.constructor = Element;\\n\\n    R._engine.path = function (pathString, SVG) {\\n        var el = $(\\\"path\\\");\\n        SVG.canvas && SVG.canvas.appendChild(el);\\n        var p = new Element(el, SVG);\\n        p.type = \\\"path\\\";\\n        setFillAndStroke(p, {\\n            fill: \\\"none\\\",\\n            stroke: \\\"#000\\\",\\n            path: pathString\\n        });\\n        return p;\\n    };\\n    /*\\\\\\n     * Element.rotate\\n     [ method ]\\n     **\\n     * Deprecated! Use @Element.transform instead.\\n     * Adds rotation by given angle around given point to the list of\\n     * transformations of the element.\\n     > Parameters\\n     - deg (number) angle in degrees\\n     - cx (number) #optional x coordinate of the centre of rotation\\n     - cy (number) #optional y coordinate of the centre of rotation\\n     * If cx & cy aren’t specified centre of the shape is used as a point of rotation.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.rotate = function (deg, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        deg = Str(deg).split(separator);\\n        if (deg.length - 1) {\\n            cx = toFloat(deg[1]);\\n            cy = toFloat(deg[2]);\\n        }\\n        deg = toFloat(deg[0]);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n            cx = bbox.x + bbox.width / 2;\\n            cy = bbox.y + bbox.height / 2;\\n        }\\n        this.transform(this._.transform.concat([[\\\"r\\\", deg, cx, cy]]));\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.scale\\n     [ method ]\\n     **\\n     * Deprecated! Use @Element.transform instead.\\n     * Adds scale by given amount relative to given point to the list of\\n     * transformations of the element.\\n     > Parameters\\n     - sx (number) horisontal scale amount\\n     - sy (number) vertical scale amount\\n     - cx (number) #optional x coordinate of the centre of scale\\n     - cy (number) #optional y coordinate of the centre of scale\\n     * If cx & cy aren’t specified centre of the shape is used instead.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.scale = function (sx, sy, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        sx = Str(sx).split(separator);\\n        if (sx.length - 1) {\\n            sy = toFloat(sx[1]);\\n            cx = toFloat(sx[2]);\\n            cy = toFloat(sx[3]);\\n        }\\n        sx = toFloat(sx[0]);\\n        (sy == null) && (sy = sx);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n        }\\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\\n        this.transform(this._.transform.concat([[\\\"s\\\", sx, sy, cx, cy]]));\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.translate\\n     [ method ]\\n     **\\n     * Deprecated! Use @Element.transform instead.\\n     * Adds translation by given amount to the list of transformations of the element.\\n     > Parameters\\n     - dx (number) horisontal shift\\n     - dy (number) vertical shift\\n     = (object) @Element\\n    \\\\*/\\n    elproto.translate = function (dx, dy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        dx = Str(dx).split(separator);\\n        if (dx.length - 1) {\\n            dy = toFloat(dx[1]);\\n        }\\n        dx = toFloat(dx[0]) || 0;\\n        dy = +dy || 0;\\n        this.transform(this._.transform.concat([[\\\"t\\\", dx, dy]]));\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.transform\\n     [ method ]\\n     **\\n     * Adds transformation to the element which is separate to other attributes,\\n     * i.e. translation doesn’t change `x` or `y` of the rectange. The format\\n     * of transformation string is similar to the path string syntax:\\n     | \\\"t100,100r30,100,100s2,2,100,100r45s1.5\\\"\\n     * Each letter is a command. There are four commands: `t` is for translate, `r` is for rotate, `s` is for\\n     * scale and `m` is for matrix.\\n     *\\n     * There are also alternative “absolute” translation, rotation and scale: `T`, `R` and `S`. They will not take previous transformation into account. For example, `...T100,0` will always move element 100 px horisontally, while `...t100,0` could move it vertically if there is `r90` before. Just compare results of `r90t100,0` and `r90T100,0`.\\n     *\\n     * So, the example line above could be read like “translate by 100, 100; rotate 30° around 100, 100; scale twice around 100, 100;\\n     * rotate 45° around centre; scale 1.5 times relative to centre”. As you can see rotate and scale commands have origin\\n     * coordinates as optional parameters, the default is the centre point of the element.\\n     * Matrix accepts six parameters.\\n     > Usage\\n     | var el = paper.rect(10, 20, 300, 200);\\n     | // translate 100, 100, rotate 45°, translate -100, 0\\n     | el.transform(\\\"t100,100r45t-100,0\\\");\\n     | // if you want you can append or prepend transformations\\n     | el.transform(\\\"...t50,50\\\");\\n     | el.transform(\\\"s2...\\\");\\n     | // or even wrap\\n     | el.transform(\\\"t50,50...t-50-50\\\");\\n     | // to reset transformation call method with empty string\\n     | el.transform(\\\"\\\");\\n     | // to get current value call it without parameters\\n     | console.log(el.transform());\\n     > Parameters\\n     - tstr (string) #optional transformation string\\n     * If tstr isn’t specified\\n     = (string) current transformation string\\n     * else\\n     = (object) @Element\\n    \\\\*/\\n    elproto.transform = function (tstr) {\\n        var _ = this._;\\n        if (tstr == null) {\\n            return _.transform;\\n        }\\n        R._extractTransform(this, tstr);\\n\\n        this.clip && $(this.clip, {transform: this.matrix.invert()});\\n        this.pattern && updatePosition(this);\\n        this.node && $(this.node, {transform: this.matrix});\\n\\n        if (_.sx != 1 || _.sy != 1) {\\n            var sw = this.attrs[has](\\\"stroke-width\\\") ? this.attrs[\\\"stroke-width\\\"] : 1;\\n            this.attr({\\\"stroke-width\\\": sw});\\n        }\\n\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.hide\\n     [ method ]\\n     **\\n     * Makes element invisible. See @Element.show.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.hide = function () {\\n        if(!this.removed) this.node.style.display = \\\"none\\\";\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.show\\n     [ method ]\\n     **\\n     * Makes element visible. See @Element.hide.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.show = function () {\\n        if(!this.removed) this.node.style.display = \\\"\\\";\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.remove\\n     [ method ]\\n     **\\n     * Removes element from the paper.\\n    \\\\*/\\n    elproto.remove = function () {\\n        var node = getRealNode(this.node);\\n        if (this.removed || !node.parentNode) {\\n            return;\\n        }\\n        var paper = this.paper;\\n        paper.__set__ && paper.__set__.exclude(this);\\n        eve.unbind(\\\"raphael.*.*.\\\" + this.id);\\n        if (this.gradient) {\\n            paper.defs.removeChild(this.gradient);\\n        }\\n        R._tear(this, paper);\\n\\n        node.parentNode.removeChild(node);\\n\\n        // Remove custom data for element\\n        this.removeData();\\n\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n        this.removed = true;\\n    };\\n    elproto._getBBox = function () {\\n        if (this.node.style.display == \\\"none\\\") {\\n            this.show();\\n            var hide = true;\\n        }\\n        var canvasHidden = false,\\n            containerStyle;\\n        if (this.paper.canvas.parentElement) {\\n          containerStyle = this.paper.canvas.parentElement.style;\\n        } //IE10+ can't find parentElement\\n        else if (this.paper.canvas.parentNode) {\\n          containerStyle = this.paper.canvas.parentNode.style;\\n        }\\n\\n        if(containerStyle && containerStyle.display == \\\"none\\\") {\\n          canvasHidden = true;\\n          containerStyle.display = \\\"\\\";\\n        }\\n        var bbox = {};\\n        try {\\n            bbox = this.node.getBBox();\\n        } catch(e) {\\n            // Firefox 3.0.x, 25.0.1 (probably more versions affected) play badly here - possible fix\\n            bbox = {\\n                x: this.node.clientLeft,\\n                y: this.node.clientTop,\\n                width: this.node.clientWidth,\\n                height: this.node.clientHeight\\n            }\\n        } finally {\\n            bbox = bbox || {};\\n            if(canvasHidden){\\n              containerStyle.display = \\\"none\\\";\\n            }\\n        }\\n        hide && this.hide();\\n        return bbox;\\n    };\\n    /*\\\\\\n     * Element.attr\\n     [ method ]\\n     **\\n     * Sets the attributes of the element.\\n     > Parameters\\n     - attrName (string) attribute’s name\\n     - value (string) value\\n     * or\\n     - params (object) object of name/value pairs\\n     * or\\n     - attrName (string) attribute’s name\\n     * or\\n     - attrNames (array) in this case method returns array of current values for given attribute names\\n     = (object) @Element if attrsName & value or params are passed in.\\n     = (...) value of the attribute if only attrsName is passed in.\\n     = (array) array of values of the attribute if attrsNames is passed in.\\n     = (object) object of attributes if nothing is passed in.\\n     > Possible parameters\\n     # <p>Please refer to the <a href=\\\"http://www.w3.org/TR/SVG/\\\" title=\\\"The W3C Recommendation for the SVG language describes these properties in detail.\\\">SVG specification</a> for an explanation of these parameters.</p>\\n     o arrow-end (string) arrowhead on the end of the path. The format for string is `<type>[-<width>[-<length>]]`. Possible types: `classic`, `block`, `open`, `oval`, `diamond`, `none`, width: `wide`, `narrow`, `medium`, length: `long`, `short`, `midium`.\\n     o clip-rect (string) comma or space separated values: x, y, width and height\\n     o cursor (string) CSS type of the cursor\\n     o cx (number) the x-axis coordinate of the center of the circle, or ellipse\\n     o cy (number) the y-axis coordinate of the center of the circle, or ellipse\\n     o fill (string) colour, gradient or image\\n     o fill-opacity (number)\\n     o font (string)\\n     o font-family (string)\\n     o font-size (number) font size in pixels\\n     o font-weight (string)\\n     o height (number)\\n     o href (string) URL, if specified element behaves as hyperlink\\n     o opacity (number)\\n     o path (string) SVG path string format\\n     o r (number) radius of the circle, ellipse or rounded corner on the rect\\n     o rx (number) horisontal radius of the ellipse\\n     o ry (number) vertical radius of the ellipse\\n     o src (string) image URL, only works for @Element.image element\\n     o stroke (string) stroke colour\\n     o stroke-dasharray (string) [“”, “none”, “`-`”, “`.`”, “`-.`”, “`-..`”, “`. `”, “`- `”, “`--`”, “`- .`”, “`--.`”, “`--..`”]\\n     o stroke-linecap (string) [“`butt`”, “`square`”, “`round`”]\\n     o stroke-linejoin (string) [“`bevel`”, “`round`”, “`miter`”]\\n     o stroke-miterlimit (number)\\n     o stroke-opacity (number)\\n     o stroke-width (number) stroke width in pixels, default is '1'\\n     o target (string) used with href\\n     o text (string) contents of the text element. Use `\\\\n` for multiline text\\n     o text-anchor (string) [“`start`”, “`middle`”, “`end`”], default is “`middle`”\\n     o title (string) will create tooltip with a given text\\n     o transform (string) see @Element.transform\\n     o width (number)\\n     o x (number)\\n     o y (number)\\n     > Gradients\\n     * Linear gradient format: “`‹angle›-‹colour›[-‹colour›[:‹offset›]]*-‹colour›`”, example: “`90-#fff-#000`” – 90°\\n     * gradient from white to black or “`0-#fff-#f00:20-#000`” – 0° gradient from white via red (at 20%) to black.\\n     *\\n     * radial gradient: “`r[(‹fx›, ‹fy›)]‹colour›[-‹colour›[:‹offset›]]*-‹colour›`”, example: “`r#fff-#000`” –\\n     * gradient from white to black or “`r(0.25, 0.75)#fff-#000`” – gradient from white to black with focus point\\n     * at 0.25, 0.75. Focus point coordinates are in 0..1 range. Radial gradients can only be applied to circles and ellipses.\\n     > Path String\\n     # <p>Please refer to <a href=\\\"http://www.w3.org/TR/SVG/paths.html#PathData\\\" title=\\\"Details of a path’s data attribute’s format are described in the SVG specification.\\\">SVG documentation regarding path string</a>. Raphaël fully supports it.</p>\\n     > Colour Parsing\\n     # <ul>\\n     #     <li>Colour name (“<code>red</code>”, “<code>green</code>”, “<code>cornflowerblue</code>”, etc)</li>\\n     #     <li>#••• — shortened HTML colour: (“<code>#000</code>”, “<code>#fc0</code>”, etc)</li>\\n     #     <li>#•••••• — full length HTML colour: (“<code>#000000</code>”, “<code>#bd2300</code>”)</li>\\n     #     <li>rgb(•••, •••, •••) — red, green and blue channels’ values: (“<code>rgb(200,&nbsp;100,&nbsp;0)</code>”)</li>\\n     #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (“<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>”)</li>\\n     #     <li>rgba(•••, •••, •••, •••) — red, green and blue channels’ values: (“<code>rgba(200,&nbsp;100,&nbsp;0, .5)</code>”)</li>\\n     #     <li>rgba(•••%, •••%, •••%, •••%) — same as above, but in %: (“<code>rgba(100%,&nbsp;175%,&nbsp;0%, 50%)</code>”)</li>\\n     #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (“<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>”)</li>\\n     #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\\n     #     <li>hsba(•••, •••, •••, •••) — same as above, but with opacity</li>\\n     #     <li>hsl(•••, •••, •••) — almost the same as hsb, see <a href=\\\"http://en.wikipedia.org/wiki/HSL_and_HSV\\\" title=\\\"HSL and HSV - Wikipedia, the free encyclopedia\\\">Wikipedia page</a></li>\\n     #     <li>hsl(•••%, •••%, •••%) — same as above, but in %</li>\\n     #     <li>hsla(•••, •••, •••, •••) — same as above, but with opacity</li>\\n     #     <li>Optionally for hsb and hsl you could specify hue as a degree: “<code>hsl(240deg,&nbsp;1,&nbsp;.5)</code>” or, if you want to go fancy, “<code>hsl(240°,&nbsp;1,&nbsp;.5)</code>”</li>\\n     # </ul>\\n    \\\\*/\\n    elproto.attr = function (name, value) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (name == null) {\\n            var res = {};\\n            for (var a in this.attrs) if (this.attrs[has](a)) {\\n                res[a] = this.attrs[a];\\n            }\\n            res.gradient && res.fill == \\\"none\\\" && (res.fill = res.gradient) && delete res.gradient;\\n            res.transform = this._.transform;\\n            return res;\\n        }\\n        if (value == null && R.is(name, \\\"string\\\")) {\\n            if (name == \\\"fill\\\" && this.attrs.fill == \\\"none\\\" && this.attrs.gradient) {\\n                return this.attrs.gradient;\\n            }\\n            if (name == \\\"transform\\\") {\\n                return this._.transform;\\n            }\\n            var names = name.split(separator),\\n                out = {};\\n            for (var i = 0, ii = names.length; i < ii; i++) {\\n                name = names[i];\\n                if (name in this.attrs) {\\n                    out[name] = this.attrs[name];\\n                } else if (R.is(this.paper.customAttributes[name], \\\"function\\\")) {\\n                    out[name] = this.paper.customAttributes[name].def;\\n                } else {\\n                    out[name] = R._availableAttrs[name];\\n                }\\n            }\\n            return ii - 1 ? out : out[names[0]];\\n        }\\n        if (value == null && R.is(name, \\\"array\\\")) {\\n            out = {};\\n            for (i = 0, ii = name.length; i < ii; i++) {\\n                out[name[i]] = this.attr(name[i]);\\n            }\\n            return out;\\n        }\\n        if (value != null) {\\n            var params = {};\\n            params[name] = value;\\n        } else if (name != null && R.is(name, \\\"object\\\")) {\\n            params = name;\\n        }\\n        for (var key in params) {\\n            eve(\\\"raphael.attr.\\\" + key + \\\".\\\" + this.id, this, params[key]);\\n        }\\n        for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], \\\"function\\\")) {\\n            var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\\n            this.attrs[key] = params[key];\\n            for (var subkey in par) if (par[has](subkey)) {\\n                params[subkey] = par[subkey];\\n            }\\n        }\\n        setFillAndStroke(this, params);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.toFront\\n     [ method ]\\n     **\\n     * Moves the element so it is the closest to the viewer’s eyes, on top of other elements.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.toFront = function () {\\n        if (this.removed) {\\n            return this;\\n        }\\n        var node = getRealNode(this.node);\\n        node.parentNode.appendChild(node);\\n        var svg = this.paper;\\n        svg.top != this && R._tofront(this, svg);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.toBack\\n     [ method ]\\n     **\\n     * Moves the element so it is the furthest from the viewer’s eyes, behind other elements.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.toBack = function () {\\n        if (this.removed) {\\n            return this;\\n        }\\n        var node = getRealNode(this.node);\\n        var parentNode = node.parentNode;\\n        parentNode.insertBefore(node, parentNode.firstChild);\\n        R._toback(this, this.paper);\\n        var svg = this.paper;\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.insertAfter\\n     [ method ]\\n     **\\n     * Inserts current object after the given one.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.insertAfter = function (element) {\\n        if (this.removed || !element) {\\n            return this;\\n        }\\n\\n        var node = getRealNode(this.node);\\n        var afterNode = getRealNode(element.node || element[element.length - 1].node);\\n        if (afterNode.nextSibling) {\\n            afterNode.parentNode.insertBefore(node, afterNode.nextSibling);\\n        } else {\\n            afterNode.parentNode.appendChild(node);\\n        }\\n        R._insertafter(this, element, this.paper);\\n        return this;\\n    };\\n    /*\\\\\\n     * Element.insertBefore\\n     [ method ]\\n     **\\n     * Inserts current object before the given one.\\n     = (object) @Element\\n    \\\\*/\\n    elproto.insertBefore = function (element) {\\n        if (this.removed || !element) {\\n            return this;\\n        }\\n\\n        var node = getRealNode(this.node);\\n        var beforeNode = getRealNode(element.node || element[0].node);\\n        beforeNode.parentNode.insertBefore(node, beforeNode);\\n        R._insertbefore(this, element, this.paper);\\n        return this;\\n    };\\n    elproto.blur = function (size) {\\n        // Experimental. No Safari support. Use it on your own risk.\\n        var t = this;\\n        if (+size !== 0) {\\n            var fltr = $(\\\"filter\\\"),\\n                blur = $(\\\"feGaussianBlur\\\");\\n            t.attrs.blur = size;\\n            fltr.id = R.createUUID();\\n            $(blur, {stdDeviation: +size || 1.5});\\n            fltr.appendChild(blur);\\n            t.paper.defs.appendChild(fltr);\\n            t._blur = fltr;\\n            $(t.node, {filter: \\\"url(#\\\" + fltr.id + \\\")\\\"});\\n        } else {\\n            if (t._blur) {\\n                t._blur.parentNode.removeChild(t._blur);\\n                delete t._blur;\\n                delete t.attrs.blur;\\n            }\\n            t.node.removeAttribute(\\\"filter\\\");\\n        }\\n        return t;\\n    };\\n    R._engine.circle = function (svg, x, y, r) {\\n        var el = $(\\\"circle\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {cx: x, cy: y, r: r, fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        res.type = \\\"circle\\\";\\n        $(el, res.attrs);\\n        return res;\\n    };\\n    R._engine.rect = function (svg, x, y, w, h, r) {\\n        var el = $(\\\"rect\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {x: x, y: y, width: w, height: h, rx: r || 0, ry: r || 0, fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        res.type = \\\"rect\\\";\\n        $(el, res.attrs);\\n        return res;\\n    };\\n    R._engine.ellipse = function (svg, x, y, rx, ry) {\\n        var el = $(\\\"ellipse\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {cx: x, cy: y, rx: rx, ry: ry, fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        res.type = \\\"ellipse\\\";\\n        $(el, res.attrs);\\n        return res;\\n    };\\n    R._engine.image = function (svg, src, x, y, w, h) {\\n        var el = $(\\\"image\\\");\\n        $(el, {x: x, y: y, width: w, height: h, preserveAspectRatio: \\\"none\\\"});\\n        el.setAttributeNS(xlink, \\\"href\\\", src);\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {x: x, y: y, width: w, height: h, src: src};\\n        res.type = \\\"image\\\";\\n        return res;\\n    };\\n    R._engine.text = function (svg, x, y, text) {\\n        var el = $(\\\"text\\\");\\n        svg.canvas && svg.canvas.appendChild(el);\\n        var res = new Element(el, svg);\\n        res.attrs = {\\n            x: x,\\n            y: y,\\n            \\\"text-anchor\\\": \\\"middle\\\",\\n            text: text,\\n            \\\"font-family\\\": R._availableAttrs[\\\"font-family\\\"],\\n            \\\"font-size\\\": R._availableAttrs[\\\"font-size\\\"],\\n            stroke: \\\"none\\\",\\n            fill: \\\"#000\\\"\\n        };\\n        res.type = \\\"text\\\";\\n        setFillAndStroke(res, res.attrs);\\n        return res;\\n    };\\n    R._engine.setSize = function (width, height) {\\n        this.width = width || this.width;\\n        this.height = height || this.height;\\n        this.canvas.setAttribute(\\\"width\\\", this.width);\\n        this.canvas.setAttribute(\\\"height\\\", this.height);\\n        if (this._viewBox) {\\n            this.setViewBox.apply(this, this._viewBox);\\n        }\\n        return this;\\n    };\\n    R._engine.create = function () {\\n        var con = R._getContainer.apply(0, arguments),\\n            container = con && con.container,\\n            x = con.x,\\n            y = con.y,\\n            width = con.width,\\n            height = con.height;\\n        if (!container) {\\n            throw new Error(\\\"SVG container not found.\\\");\\n        }\\n        var cnvs = $(\\\"svg\\\"),\\n            css = \\\"overflow:hidden;\\\",\\n            isFloating;\\n        x = x || 0;\\n        y = y || 0;\\n        width = width || 512;\\n        height = height || 342;\\n        $(cnvs, {\\n            height: height,\\n            version: 1.1,\\n            width: width,\\n            xmlns: \\\"http://www.w3.org/2000/svg\\\",\\n            \\\"xmlns:xlink\\\": \\\"http://www.w3.org/1999/xlink\\\"\\n        });\\n        if (container == 1) {\\n            cnvs.style.cssText = css + \\\"position:absolute;left:\\\" + x + \\\"px;top:\\\" + y + \\\"px\\\";\\n            R._g.doc.body.appendChild(cnvs);\\n            isFloating = 1;\\n        } else {\\n            cnvs.style.cssText = css + \\\"position:relative\\\";\\n            if (container.firstChild) {\\n                container.insertBefore(cnvs, container.firstChild);\\n            } else {\\n                container.appendChild(cnvs);\\n            }\\n        }\\n        container = new R._Paper;\\n        container.width = width;\\n        container.height = height;\\n        container.canvas = cnvs;\\n        container.clear();\\n        container._left = container._top = 0;\\n        isFloating && (container.renderfix = function () {});\\n        container.renderfix();\\n        return container;\\n    };\\n    R._engine.setViewBox = function (x, y, w, h, fit) {\\n        eve(\\\"raphael.setViewBox\\\", this, this._viewBox, [x, y, w, h, fit]);\\n        var paperSize = this.getSize(),\\n            size = mmax(w / paperSize.width, h / paperSize.height),\\n            top = this.top,\\n            aspectRatio = fit ? \\\"xMidYMid meet\\\" : \\\"xMinYMin\\\",\\n            vb,\\n            sw;\\n        if (x == null) {\\n            if (this._vbSize) {\\n                size = 1;\\n            }\\n            delete this._vbSize;\\n            vb = \\\"0 0 \\\" + this.width + S + this.height;\\n        } else {\\n            this._vbSize = size;\\n            vb = x + S + y + S + w + S + h;\\n        }\\n        $(this.canvas, {\\n            viewBox: vb,\\n            preserveAspectRatio: aspectRatio\\n        });\\n        while (size && top) {\\n            sw = \\\"stroke-width\\\" in top.attrs ? top.attrs[\\\"stroke-width\\\"] : 1;\\n            top.attr({\\\"stroke-width\\\": sw});\\n            top._.dirty = 1;\\n            top._.dirtyT = 1;\\n            top = top.prev;\\n        }\\n        this._viewBox = [x, y, w, h, !!fit];\\n        return this;\\n    };\\n    /*\\\\\\n     * Paper.renderfix\\n     [ method ]\\n     **\\n     * Fixes the issue of Firefox and IE9 regarding subpixel rendering. If paper is dependent\\n     * on other elements after reflow it could shift half pixel which cause for lines to lost their crispness.\\n     * This method fixes the issue.\\n     **\\n       Special thanks to Mariusz Nowak (http://www.medikoo.com/) for this method.\\n    \\\\*/\\n    R.prototype.renderfix = function () {\\n        var cnvs = this.canvas,\\n            s = cnvs.style,\\n            pos;\\n        try {\\n            pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();\\n        } catch (e) {\\n            pos = cnvs.createSVGMatrix();\\n        }\\n        var left = -pos.e % 1,\\n            top = -pos.f % 1;\\n        if (left || top) {\\n            if (left) {\\n                this._left = (this._left + left) % 1;\\n                s.left = this._left + \\\"px\\\";\\n            }\\n            if (top) {\\n                this._top = (this._top + top) % 1;\\n                s.top = this._top + \\\"px\\\";\\n            }\\n        }\\n    };\\n    /*\\\\\\n     * Paper.clear\\n     [ method ]\\n     **\\n     * Clears the paper, i.e. removes all the elements.\\n    \\\\*/\\n    R.prototype.clear = function () {\\n        R.eve(\\\"raphael.clear\\\", this);\\n        var c = this.canvas;\\n        while (c.firstChild) {\\n            c.removeChild(c.firstChild);\\n        }\\n        this.bottom = this.top = null;\\n        (this.desc = $(\\\"desc\\\")).appendChild(R._g.doc.createTextNode(\\\"Created with Rapha\\\\xebl \\\" + R.version));\\n        c.appendChild(this.desc);\\n        c.appendChild(this.defs = $(\\\"defs\\\"));\\n    };\\n    /*\\\\\\n     * Paper.remove\\n     [ method ]\\n     **\\n     * Removes the paper from the DOM.\\n    \\\\*/\\n    R.prototype.remove = function () {\\n        eve(\\\"raphael.remove\\\", this);\\n        this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n    };\\n    var setproto = R.st;\\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\\n        setproto[method] = (function (methodname) {\\n            return function () {\\n                var arg = arguments;\\n                return this.forEach(function (el) {\\n                    el[methodname].apply(el, arg);\\n                });\\n            };\\n        })(method);\\n    }\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5zdmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuc3ZnLmpzP2Q4YzciXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIuc3ZnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICB0b0ludCA9IHBhcnNlSW50LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgbW1heCA9IG1hdGgubWF4LFxuICAgICAgICBhYnMgPSBtYXRoLmFicyxcbiAgICAgICAgcG93ID0gbWF0aC5wb3csXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGV2ZSA9IFIuZXZlLFxuICAgICAgICBFID0gXCJcIixcbiAgICAgICAgUyA9IFwiIFwiO1xuICAgIHZhciB4bGluayA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgICBtYXJrZXJzID0ge1xuICAgICAgICAgICAgYmxvY2s6IFwiTTUsMCAwLDIuNSA1LDV6XCIsXG4gICAgICAgICAgICBjbGFzc2ljOiBcIk01LDAgMCwyLjUgNSw1IDMuNSwzIDMuNSwyelwiLFxuICAgICAgICAgICAgZGlhbW9uZDogXCJNMi41LDAgNSwyLjUgMi41LDUgMCwyLjV6XCIsXG4gICAgICAgICAgICBvcGVuOiBcIk02LDEgMSwzLjUgNiw2XCIsXG4gICAgICAgICAgICBvdmFsOiBcIk0yLjUsMEEyLjUsMi41LDAsMCwxLDIuNSw1IDIuNSwyLjUsMCwwLDEsMi41LDB6XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2VyQ291bnRlciA9IHt9O1xuICAgIFIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAgXCJZb3VyIGJyb3dzZXIgc3VwcG9ydHMgU1ZHLlxcbllvdSBhcmUgcnVubmluZyBSYXBoYVxceGVibCBcIiArIHRoaXMudmVyc2lvbjtcbiAgICB9O1xuICAgIHZhciAkID0gZnVuY3Rpb24gKGVsLCBhdHRyKSB7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBlbCA9ICQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHIpIGlmIChhdHRyW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3Vic3RyaW5nKDAsIDYpID09IFwieGxpbms6XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIGtleS5zdWJzdHJpbmcoNiksIFN0cihhdHRyW2tleV0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBTdHIoYXR0cltrZXldKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBlbCk7XG4gICAgICAgICAgICBlbC5zdHlsZSAmJiAoZWwuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IgPSBcInJnYmEoMCwwLDAsMClcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgYWRkR3JhZGllbnRGaWxsID0gZnVuY3Rpb24gKGVsZW1lbnQsIGdyYWRpZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gXCJsaW5lYXJcIixcbiAgICAgICAgICAgIGlkID0gZWxlbWVudC5pZCArIGdyYWRpZW50LFxuICAgICAgICAgICAgZnggPSAuNSwgZnkgPSAuNSxcbiAgICAgICAgICAgIG8gPSBlbGVtZW50Lm5vZGUsXG4gICAgICAgICAgICBTVkcgPSBlbGVtZW50LnBhcGVyLFxuICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICBlbCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgZ3JhZGllbnQgPSBTdHIoZ3JhZGllbnQpLnJlcGxhY2UoUi5fcmFkaWFsX2dyYWRpZW50LCBmdW5jdGlvbiAoYWxsLCBfZngsIF9meSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcInJhZGlhbFwiO1xuICAgICAgICAgICAgICAgIGlmIChfZnggJiYgX2Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZ4ID0gdG9GbG9hdChfZngpO1xuICAgICAgICAgICAgICAgICAgICBmeSA9IHRvRmxvYXQoX2Z5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9ICgoZnkgPiAuNSkgKiAyIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHBvdyhmeCAtIC41LCAyKSArIHBvdyhmeSAtIC41LCAyKSA+IC4yNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZ5ID0gbWF0aC5zcXJ0KC4yNSAtIHBvdyhmeCAtIC41LCAyKSkgKiBkaXIgKyAuNSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ5ICE9IC41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnkgPSBmeS50b0ZpeGVkKDUpIC0gMWUtNSAqIGRpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBFO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncmFkaWVudCA9IGdyYWRpZW50LnNwbGl0KC9cXHMqXFwtXFxzKi8pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtdG9GbG9hdChhbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGFuZ2xlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZlY3RvciA9IFswLCAwLCBtYXRoLmNvcyhSLnJhZChhbmdsZSkpLCBtYXRoLnNpbihSLnJhZChhbmdsZSkpXSxcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gMSAvIChtbWF4KGFicyh2ZWN0b3JbMl0pLCBhYnModmVjdG9yWzNdKSkgfHwgMSk7XG4gICAgICAgICAgICAgICAgdmVjdG9yWzJdICo9IG1heDtcbiAgICAgICAgICAgICAgICB2ZWN0b3JbM10gKj0gbWF4O1xuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbMl0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclswXSA9IC12ZWN0b3JbMl07XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsyXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbM10gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsxXSA9IC12ZWN0b3JbM107XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclszXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRvdHMgPSBSLl9wYXJzZURvdHMoZ3JhZGllbnQpO1xuICAgICAgICAgICAgaWYgKCFkb3RzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoL1tcXChcXClcXHMsXFx4YjAjXS9nLCBcIl9cIik7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmdyYWRpZW50ICYmIGlkICE9IGVsZW1lbnQuZ3JhZGllbnQuaWQpIHtcbiAgICAgICAgICAgICAgICBTVkcuZGVmcy5yZW1vdmVDaGlsZChlbGVtZW50LmdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZWwgPSAkKHR5cGUgKyBcIkdyYWRpZW50XCIsIHtpZDogaWR9KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmdyYWRpZW50ID0gZWw7XG4gICAgICAgICAgICAgICAgJChlbCwgdHlwZSA9PSBcInJhZGlhbFwiID8ge1xuICAgICAgICAgICAgICAgICAgICBmeDogZngsXG4gICAgICAgICAgICAgICAgICAgIGZ5OiBmeVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHgxOiB2ZWN0b3JbMF0sXG4gICAgICAgICAgICAgICAgICAgIHkxOiB2ZWN0b3JbMV0sXG4gICAgICAgICAgICAgICAgICAgIHgyOiB2ZWN0b3JbMl0sXG4gICAgICAgICAgICAgICAgICAgIHkyOiB2ZWN0b3JbM10sXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VHJhbnNmb3JtOiBlbGVtZW50Lm1hdHJpeC5pbnZlcnQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNWRy5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb3RzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoJChcInN0b3BcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBkb3RzW2ldLm9mZnNldCA/IGRvdHNbaV0ub2Zmc2V0IDogaSA/IFwiMTAwJVwiIDogXCIwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGRvdHNbaV0uY29sb3IgfHwgXCIjZmZmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiBpc0Zpbml0ZShkb3RzW2ldLm9wYWNpdHkpID8gZG90c1tpXS5vcGFjaXR5IDogMVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICQobywge1xuICAgICAgICAgICAgZmlsbDogZmlsbHVybChpZCksXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogMVxuICAgICAgICB9KTtcbiAgICAgICAgcy5maWxsID0gRTtcbiAgICAgICAgcy5vcGFjaXR5ID0gMTtcbiAgICAgICAgcy5maWxsT3BhY2l0eSA9IDE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG4gICAgaXNJRTlvcjEwID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gICAgICByZXR1cm4gbW9kZSAmJiAobW9kZSA9PT0gOSB8fCBtb2RlID09PSAxMCk7XG4gICAgfSxcbiAgICBmaWxsdXJsID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAoaXNJRTlvcjEwKCkpIHtcbiAgICAgICAgICByZXR1cm4gXCJ1cmwoJyNcIiArIGlkICsgXCInKVwiO1xuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb247XG4gICAgICB2YXIgbG9jYXRpb25TdHJpbmcgPSAoXG4gICAgICAgICAgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICtcbiAgICAgICAgICBsb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSArXG4gICAgICAgICAgbG9jYXRpb24uc2VhcmNoXG4gICAgICApO1xuICAgICAgcmV0dXJuIFwidXJsKCdcIiArIGxvY2F0aW9uU3RyaW5nICsgXCIjXCIgKyBpZCArIFwiJylcIjtcbiAgICB9LFxuICAgIHVwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIGJib3ggPSBvLmdldEJCb3goMSk7XG4gICAgICAgICQoby5wYXR0ZXJuLCB7cGF0dGVyblRyYW5zZm9ybTogby5tYXRyaXguaW52ZXJ0KCkgKyBcIiB0cmFuc2xhdGUoXCIgKyBiYm94LnggKyBcIixcIiArIGJib3gueSArIFwiKVwifSk7XG4gICAgfSxcbiAgICBhZGRBcnJvdyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgaXNFbmQpIHtcbiAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFN0cih2YWx1ZSkudG9Mb3dlckNhc2UoKS5zcGxpdChcIi1cIiksXG4gICAgICAgICAgICAgICAgcCA9IG8ucGFwZXIsXG4gICAgICAgICAgICAgICAgc2UgPSBpc0VuZCA/IFwiZW5kXCIgOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgICAgICBhdHRycyA9IG8uYXR0cnMsXG4gICAgICAgICAgICAgICAgc3Ryb2tlID0gYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiY2xhc3NpY1wiLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICAgICAgcmVmWCxcbiAgICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICAgIHcgPSAzLFxuICAgICAgICAgICAgICAgIGggPSAzLFxuICAgICAgICAgICAgICAgIHQgPSA1O1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NpY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3ZhbFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2lkZVwiOiBoID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYXJyb3dcIjogaCA9IDI7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9uZ1wiOiB3ID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzaG9ydFwiOiB3ID0gMjsgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICAgICB3ICs9IDI7XG4gICAgICAgICAgICAgICAgaCArPSAyO1xuICAgICAgICAgICAgICAgIHQgKz0gMjtcbiAgICAgICAgICAgICAgICBkeCA9IDE7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGlzRW5kID8gNCA6IDE7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogYXR0cnMuc3Ryb2tlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGR4ID0gdyAvIDI7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogYXR0cnMuc3Ryb2tlLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MuZW5kUGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3MuZW5kUGF0aF0tLTtcbiAgICAgICAgICAgICAgICAgICAgby5fLmFycm93cy5lbmRNYXJrZXIgJiYgbWFya2VyQ291bnRlcltvLl8uYXJyb3dzLmVuZE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0UGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3Muc3RhcnRQYXRoXS0tO1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0TWFya2VyICYmIG1hcmtlckNvdW50ZXJbby5fLmFycm93cy5zdGFydE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlICE9IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyBzZSArIHR5cGUgKyB3ICsgaCArIFwiLW9ialwiICsgby5pZDtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGhJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKCQoJChcInBhdGhcIiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZDogbWFya2Vyc1t0eXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXRoSWRcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW3BhdGhJZF0gPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbcGF0aElkXSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQobWFya2VySWQpLFxuICAgICAgICAgICAgICAgICAgICB1c2U7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyID0gJCgkKFwibWFya2VyXCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbWFya2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJIZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJXaWR0aDogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZYOiByZWZYLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmWTogaCAvIDJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHVzZSA9ICQoJChcInVzZVwiKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpocmVmXCI6IFwiI1wiICsgcGF0aElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAoaXNFbmQgPyBcInJvdGF0ZSgxODAgXCIgKyB3IC8gMiArIFwiIFwiICsgaCAvIDIgKyBcIikgXCIgOiBFKSArIFwic2NhbGUoXCIgKyB3IC8gdCArIFwiLFwiICsgaCAvIHQgKyBcIilcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6ICgxIC8gKCh3IC8gdCArIGggLyB0KSAvIDIpKS50b0ZpeGVkKDQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuYXBwZW5kQ2hpbGQodXNlKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbbWFya2VySWRdID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW21hcmtlcklkXSsrO1xuICAgICAgICAgICAgICAgICAgICB1c2UgPSBtYXJrZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1c2VcIilbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQodXNlLCBhdHRyKTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBkeCAqICh0eXBlICE9IFwiZGlhbW9uZFwiICYmIHR5cGUgIT0gXCJvdmFsXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpc0VuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gby5fLmFycm93cy5zdGFydGR4ICogc3Ryb2tlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gUi5nZXRUb3RhbExlbmd0aChhdHRycy5wYXRoKSAtIGRlbHRhICogc3Ryb2tlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBkZWx0YSAqIHN0cm9rZTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dHIgPSB7fTtcbiAgICAgICAgICAgICAgICBhdHRyW1wibWFya2VyLVwiICsgc2VdID0gXCJ1cmwoI1wiICsgbWFya2VySWQgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBpZiAodG8gfHwgZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyLmQgPSBSLmdldFN1YnBhdGgoYXR0cnMucGF0aCwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKG5vZGUsIGF0dHIpO1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gPSBwYXRoSWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiTWFya2VyXCJdID0gbWFya2VySWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiZHhcIl0gPSBkZWx0YTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdID0gdHlwZTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBvLl8uYXJyb3dzLnN0YXJ0ZHggKiBzdHJva2UgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gZnJvbTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gJiYgJChub2RlLCB7ZDogUi5nZXRTdWJwYXRoKGF0dHJzLnBhdGgsIGZyb20sIHRvKX0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJQYXRoXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJNYXJrZXJcIl07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG8uXy5hcnJvd3Nbc2UgKyBcImR4XCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGF0dHIgaW4gbWFya2VyQ291bnRlcikgaWYgKG1hcmtlckNvdW50ZXJbaGFzXShhdHRyKSAmJiAhbWFya2VyQ291bnRlclthdHRyXSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoYXR0cik7XG4gICAgICAgICAgICAgICAgaXRlbSAmJiBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRhc2hhcnJheSA9IHtcbiAgICAgICAgXCItXCI6IFszLCAxXSxcbiAgICAgICAgXCIuXCI6IFsxLCAxXSxcbiAgICAgICAgXCItLlwiOiBbMywgMSwgMSwgMV0sXG4gICAgICAgIFwiLS4uXCI6IFszLCAxLCAxLCAxLCAxLCAxXSxcbiAgICAgICAgXCIuIFwiOiBbMSwgM10sXG4gICAgICAgIFwiLSBcIjogWzQsIDNdLFxuICAgICAgICBcIi0tXCI6IFs4LCAzXSxcbiAgICAgICAgXCItIC5cIjogWzQsIDMsIDEsIDNdLFxuICAgICAgICBcIi0tLlwiOiBbOCwgMywgMSwgM10sXG4gICAgICAgIFwiLS0uLlwiOiBbOCwgMywgMSwgMywgMSwgM11cbiAgICB9LFxuICAgIGFkZERhc2hlcyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgcGFyYW1zKSB7XG4gICAgICAgIHZhbHVlID0gZGFzaGFycmF5W1N0cih2YWx1ZSkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gby5hdHRyc1tcInN0cm9rZS13aWR0aFwiXSB8fCBcIjFcIixcbiAgICAgICAgICAgICAgICBidXR0ID0ge3JvdW5kOiB3aWR0aCwgc3F1YXJlOiB3aWR0aCwgYnV0dDogMH1bby5hdHRyc1tcInN0cm9rZS1saW5lY2FwXCJdIHx8IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdXSB8fCAwLFxuICAgICAgICAgICAgICAgIGRhc2hlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGkgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgZGFzaGVzW2ldID0gdmFsdWVbaV0gKiB3aWR0aCArICgoaSAlIDIpID8gMSA6IC0xKSAqIGJ1dHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBkYXNoZXMuam9pbihcIixcIil9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBcIm5vbmVcIn0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGaWxsQW5kU3Ryb2tlID0gZnVuY3Rpb24gKG8sIHBhcmFtcykge1xuICAgICAgICB2YXIgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHZpcyA9IG5vZGUuc3R5bGUudmlzaWJpbGl0eTtcbiAgICAgICAgbm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgZm9yICh2YXIgYXR0IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1toYXNdKGF0dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2F2YWlsYWJsZUF0dHJzW2hhc10oYXR0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1zW2F0dF07XG4gICAgICAgICAgICAgICAgYXR0cnNbYXR0XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmJsdXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIDx0aXRsZT4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoICYmICh0aXRsZSA9IHRpdGxlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAkKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0YXJnZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbiA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbi50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGwgPSAkKFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5pbnNlcnRCZWZvcmUoaGwsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuID0gaGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwidGFyZ2V0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5zZXRBdHRyaWJ1dGVOUyh4bGluaywgXCJzaG93XCIsIHZhbHVlID09IFwiYmxhbmtcIiA/IFwibmV3XCIgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuLnNldEF0dHJpYnV0ZU5TKHhsaW5rLCBhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3Vyc29yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmN1cnNvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG8udHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFycm93KG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBcnJvdyhvLCB2YWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsaXAtcmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBTdHIodmFsdWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2xpcCAmJiBvLmNsaXAucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8uY2xpcC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSAkKFwiY2xpcFBhdGhcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJjID0gJChcInJlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHJjLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlY3RbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHJlY3RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiByZWN0WzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3RbM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImNsaXAtcGF0aFwiOiBcInVybCgjXCIgKyBlbC5pZCArIFwiKVwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jbGlwID0gcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBub2RlLmdldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGgucmVwbGFjZSgvKF51cmxcXCgjfFxcKSQpL2csIEUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcCAmJiBjbGlwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge1wiY2xpcC1wYXRoXCI6IEV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG8uY2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2Q6IHZhbHVlID8gYXR0cnMucGF0aCA9IFIuX3BhdGhUb0Fic29sdXRlKHZhbHVlKSA6IFwiTTAsMFwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5fLmFycm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuZngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQgPSBcInhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGF0dHJzLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAtYXR0cnMueCAtIChhdHRycy53aWR0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwicnhcIiAmJiBvLnR5cGUgPT0gXCJyZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbihvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gXCJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhdHRycy55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5meSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gLWF0dHJzLnkgLSAoYXR0cnMuaGVpZ2h0IHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJyeVwiICYmIG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3lcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXR0ZXJuICYmIHVwZGF0ZVBvc2l0aW9uKG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge3J4OiB2YWx1ZSwgcnk6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZS13aWR0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5zeCAhPSAxIHx8IG8uXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLz0gbW1heChhYnMoby5fLnN4KSwgYWJzKG8uXy5zeSkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgYXR0cnNbXCJzdHJva2UtZGFzaGFycmF5XCJdLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5hcnJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVuZFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5lbmRTdHJpbmcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJva2UtZGFzaGFycmF5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgdmFsdWUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cih2YWx1ZSkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSAkKFwicGF0dGVyblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWcgPSAkKFwiaW1hZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGVsLCB7eDogMCwgeTogMCwgcGF0dGVyblVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsIGhlaWdodDogMSwgd2lkdGg6IDF9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlnLCB7eDogMCwgeTogMCwgXCJ4bGluazpocmVmXCI6IGlzVVJMWzFdfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHRoaXMub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbCwge3dpZHRoOiB3LCBoZWlnaHQ6IGh9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWcsIHt3aWR0aDogdywgaGVpZ2h0OiBofSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2ZpbGw6IFwidXJsKCNcIiArIGVsLmlkICsgXCIpXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gJiYgdXBkYXRlUG9zaXRpb24obyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbHIuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmdyYWRpZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhUi5pcyhhdHRycy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLmlzKHBhcmFtcy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtvcGFjaXR5OiBhdHRycy5vcGFjaXR5fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIVIuaXMoYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0sIFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuaXMocGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdLCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImZpbGwtb3BhY2l0eVwiOiBhdHRyc1tcImZpbGwtb3BhY2l0eVwiXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoby50eXBlID09IFwiY2lyY2xlXCIgfHwgby50eXBlID09IFwiZWxsaXBzZVwiIHx8IFN0cih2YWx1ZSkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChvLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvcGFjaXR5XCIgaW4gYXR0cnMgfHwgXCJmaWxsLW9wYWNpdHlcIiBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmFkaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzdG9wc1tzdG9wcy5sZW5ndGggLSAxXSwge1wic3RvcC1vcGFjaXR5XCI6IChcIm9wYWNpdHlcIiBpbiBhdHRycyA/IGF0dHJzLm9wYWNpdHkgOiAxKSAqIChcImZpbGwtb3BhY2l0eVwiIGluIGF0dHJzID8gYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0gOiAxKX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLmdyYWRpZW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMuZmlsbCA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyW2hhc10oXCJvcGFjaXR5XCIpICYmICQobm9kZSwge1wiZmlsbC1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCBjbHIuaGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dCA9PSBcInN0cm9rZVwiICYmIGNscltoYXNdKFwib3BhY2l0eVwiKSAmJiAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJzdHJva2VcIiAmJiBvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGFydFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5zdGFydFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JhZGllbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIChvLnR5cGUgPT0gXCJjaXJjbGVcIiB8fCBvLnR5cGUgPT0gXCJlbGxpcHNlXCIgfHwgU3RyKHZhbHVlKS5jaGFyQXQoKSAhPSBcInJcIikgJiYgYWRkR3JhZGllbnRGaWxsKG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50ICYmICFhdHRyc1toYXNdKFwic3Ryb2tlLW9wYWNpdHlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IHZhbHVlID4gMSA/IHZhbHVlIC8gMTAwIDogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGxcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGwtb3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN0b3BzW3N0b3BzLmxlbmd0aCAtIDFdLCB7XCJzdG9wLW9wYWNpdHlcIjogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHQgPT0gXCJmb250LXNpemVcIiAmJiAodmFsdWUgPSB0b0ludCh2YWx1ZSwgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NydWxlID0gYXR0LnJlcGxhY2UoLyhcXC0uKS9nLCBmdW5jdGlvbiAodykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3LnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2Nzc3J1bGVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0dW5lVGV4dChvLCBwYXJhbXMpO1xuICAgICAgICBub2RlLnN0eWxlLnZpc2liaWxpdHkgPSB2aXM7XG4gICAgfSxcbiAgICBsZWFkaW5nID0gMS4yLFxuICAgIHR1bmVUZXh0ID0gZnVuY3Rpb24gKGVsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKGVsLnR5cGUgIT0gXCJ0ZXh0XCIgfHwgIShwYXJhbXNbaGFzXShcInRleHRcIikgfHwgcGFyYW1zW2hhc10oXCJmb250XCIpIHx8IHBhcmFtc1toYXNdKFwiZm9udC1zaXplXCIpIHx8IHBhcmFtc1toYXNdKFwieFwiKSB8fCBwYXJhbXNbaGFzXShcInlcIikpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBlbC5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSBlbC5ub2RlLFxuICAgICAgICAgICAgZm9udFNpemUgPSBub2RlLmZpcnN0Q2hpbGQgPyB0b0ludChSLl9nLmRvYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUuZmlyc3RDaGlsZCwgRSkuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSwgMTApIDogMTA7XG5cbiAgICAgICAgaWYgKHBhcmFtc1toYXNdKFwidGV4dFwiKSkge1xuICAgICAgICAgICAgYS50ZXh0ID0gcGFyYW1zLnRleHQ7XG4gICAgICAgICAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHRzID0gU3RyKHBhcmFtcy50ZXh0KS5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgICAgICB0c3BhbnMgPSBbXSxcbiAgICAgICAgICAgICAgICB0c3BhbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRleHRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0c3BhbiA9ICQoXCJ0c3BhblwiKTtcbiAgICAgICAgICAgICAgICBpICYmICQodHNwYW4sIHtkeTogZm9udFNpemUgKiBsZWFkaW5nLCB4OiBhLnh9KTtcbiAgICAgICAgICAgICAgICB0c3Bhbi5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0c1tpXSkpO1xuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgICAgICAgICAgICAgIHRzcGFuc1tpXSA9IHRzcGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHNwYW5zID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRzcGFuXCIpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSB0c3BhbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1tpXSwge2R5OiBmb250U2l6ZSAqIGxlYWRpbmcsIHg6IGEueH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1swXSwge2R5OiAwfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJChub2RlLCB7eDogYS54LCB5OiBhLnl9KTtcbiAgICAgICAgZWwuXy5kaXJ0eSA9IDE7XG4gICAgICAgIHZhciBiYiA9IGVsLl9nZXRCQm94KCksXG4gICAgICAgICAgICBkaWYgPSBhLnkgLSAoYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICBkaWYgJiYgUi5pcyhkaWYsIFwiZmluaXRlXCIpICYmICQodHNwYW5zWzBdLCB7ZHk6IGRpZn0pO1xuICAgIH0sXG4gICAgZ2V0UmVhbE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgc3ZnKSB7XG4gICAgICAgIHZhciBYID0gMCxcbiAgICAgICAgICAgIFkgPSAwO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubm9kZVxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBHaXZlcyB5b3UgYSByZWZlcmVuY2UgdG8gdGhlIERPTSBvYmplY3QsIHNvIHlvdSBjYW4gYXNzaWduIGV2ZW50IGhhbmRsZXJzIG9yIGp1c3QgbWVzcyBhcm91bmQuXG4gICAgICAgICAqKlxuICAgICAgICAgKiBOb3RlOiBEb27igJl0IG1lc3Mgd2l0aCBpdC5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgLy8gZHJhdyBhIGNpcmNsZSBhdCBjb29yZGluYXRlIDEwLDEwIHdpdGggcmFkaXVzIG9mIDEwXG4gICAgICAgICB8IHZhciBjID0gcGFwZXIuY2lyY2xlKDEwLCAxMCwgMTApO1xuICAgICAgICAgfCBjLm5vZGUub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHwgICAgIGMuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XG4gICAgICAgICB8IH07XG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpc1swXSA9IHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogRWxlbWVudC5yYXBoYWVsXG4gICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byBAUmFwaGFlbCBvYmplY3QuIEluIGNhc2UgaXQgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICB8ICAgICB2YXIgaHNiID0gdGhpcy5wYXBlci5yYXBoYWVsLnJnYjJoc2IodGhpcy5hdHRyKFwiZmlsbFwiKSk7XG4gICAgICAgICB8ICAgICBoc2IuaCA9IDE7XG4gICAgICAgICB8ICAgICB0aGlzLmF0dHIoe2ZpbGw6IHRoaXMucGFwZXIucmFwaGFlbC5oc2IycmdiKGhzYikuaGV4fSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQuaWRcbiAgICAgICAgIFsgcHJvcGVydHkgKG51bWJlcikgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVW5pcXVlIGlkIG9mIHRoZSBlbGVtZW50LiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGxpc3RlbiB0byBldmVudHMgb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAqIGJlY2F1c2UgYWxsIGV2ZW50cyBhcmUgZmlyZWQgaW4gZm9ybWF0IGA8bW9kdWxlPi48YWN0aW9uPi48aWQ+YC4gQWxzbyB1c2VmdWwgZm9yIEBQYXBlci5nZXRCeUlkIG1ldGhvZC5cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLmlkID0gZ3VpZCgpO1xuICAgICAgICBub2RlLnJhcGhhZWxpZCA9IHRoaXMuaWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogTWV0aG9kIHRoYXQgcmV0dXJucyBhIDUgbGV0dGVyL2RpZ2l0IGlkLCBlbm91Z2ggZm9yIDM2XjUgPSA2MDQ2NjE3NiBlbGVtZW50c1xuICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGlkXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGd1aWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiMDAwMFwiICsgKE1hdGgucmFuZG9tKCkqTWF0aC5wb3coMzYsNSkgPDwgMCkudG9TdHJpbmcoMzYpKS5zbGljZSgtNSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMucmVhbFBhdGggPSBudWxsO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQucGFwZXJcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIOKAnHBhcGVy4oCdIHdoZXJlIG9iamVjdCBkcmF3bi4gTWFpbmx5IGZvciB1c2UgaW4gcGx1Z2lucyBhbmQgZWxlbWVudCBleHRlbnNpb25zLlxuICAgICAgICAgPiBVc2FnZVxuICAgICAgICAgfCBSYXBoYWVsLmVsLmNyb3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgfCAgICAgdGhpcy5hdHRyKHtmaWxsOiBcInJlZFwifSk7XG4gICAgICAgICB8ICAgICB0aGlzLnBhcGVyLnBhdGgoXCJNMTAsMTBMNTAsNTBNNTAsMTBMMTAsNTBcIilcbiAgICAgICAgIHwgICAgICAgICAuYXR0cih7c3Ryb2tlOiBcInJlZFwifSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLnBhcGVyID0gc3ZnO1xuICAgICAgICB0aGlzLmF0dHJzID0gdGhpcy5hdHRycyB8fCB7fTtcbiAgICAgICAgdGhpcy5fID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBbXSxcbiAgICAgICAgICAgIHN4OiAxLFxuICAgICAgICAgICAgc3k6IDEsXG4gICAgICAgICAgICBkZWc6IDAsXG4gICAgICAgICAgICBkeDogMCxcbiAgICAgICAgICAgIGR5OiAwLFxuICAgICAgICAgICAgZGlydHk6IDFcbiAgICAgICAgfTtcbiAgICAgICAgIXN2Zy5ib3R0b20gJiYgKHN2Zy5ib3R0b20gPSB0aGlzKTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBFbGVtZW50LnByZXZcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyBlbGVtZW50IGluIHRoZSBoaWVyYXJjaHkuXG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpcy5wcmV2ID0gc3ZnLnRvcDtcbiAgICAgICAgc3ZnLnRvcCAmJiAoc3ZnLnRvcC5uZXh0ID0gdGhpcyk7XG4gICAgICAgIHN2Zy50b3AgPSB0aGlzO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubmV4dFxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG5leHQgZWxlbWVudCBpbiB0aGUgaGllcmFyY2h5LlxuICAgICAgICBcXCovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfSxcbiAgICBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcblxuICAgIFIuX2VuZ2luZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhTdHJpbmcsIFNWRykge1xuICAgICAgICB2YXIgZWwgPSAkKFwicGF0aFwiKTtcbiAgICAgICAgU1ZHLmNhbnZhcyAmJiBTVkcuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgU1ZHKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocCwge1xuICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgICAgICAgICAgcGF0aDogcGF0aFN0cmluZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5yb3RhdGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHJvdGF0aW9uIGJ5IGdpdmVuIGFuZ2xlIGFyb3VuZCBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZGVnIChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgYXMgYSBwb2ludCBvZiByb3RhdGlvbi5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIChkZWcsIGN4LCBjeSkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkZWcgPSBTdHIoZGVnKS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoZGVnLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChkZWdbMV0pO1xuICAgICAgICAgICAgY3kgPSB0b0Zsb2F0KGRlZ1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gdG9GbG9hdChkZWdbMF0pO1xuICAgICAgICAoY3kgPT0gbnVsbCkgJiYgKGN4ID0gY3kpO1xuICAgICAgICBpZiAoY3ggPT0gbnVsbCB8fCBjeSA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYmJveCA9IHRoaXMuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgIGN4ID0gYmJveC54ICsgYmJveC53aWR0aCAvIDI7XG4gICAgICAgICAgICBjeSA9IGJib3gueSArIGJib3guaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wiclwiLCBkZWcsIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuc2NhbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHNjYWxlIGJ5IGdpdmVuIGFtb3VudCByZWxhdGl2ZSB0byBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gc3ggKG51bWJlcikgaG9yaXNvbnRhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBzeSAobnVtYmVyKSB2ZXJ0aWNhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgaW5zdGVhZC5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnNjYWxlID0gZnVuY3Rpb24gKHN4LCBzeSwgY3gsIGN5KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gU3RyKHN4KS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoc3gubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgc3kgPSB0b0Zsb2F0KHN4WzFdKTtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChzeFsyXSk7XG4gICAgICAgICAgICBjeSA9IHRvRmxvYXQoc3hbM10pO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gdG9GbG9hdChzeFswXSk7XG4gICAgICAgIChzeSA9PSBudWxsKSAmJiAoc3kgPSBzeCk7XG4gICAgICAgIChjeSA9PSBudWxsKSAmJiAoY3ggPSBjeSk7XG4gICAgICAgIGlmIChjeCA9PSBudWxsIHx8IGN5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5nZXRCQm94KDEpO1xuICAgICAgICB9XG4gICAgICAgIGN4ID0gY3ggPT0gbnVsbCA/IGJib3gueCArIGJib3gud2lkdGggLyAyIDogY3g7XG4gICAgICAgIGN5ID0gY3kgPT0gbnVsbCA/IGJib3gueSArIGJib3guaGVpZ2h0IC8gMiA6IGN5O1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wic1wiLCBzeCwgc3ksIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudHJhbnNsYXRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEZXByZWNhdGVkISBVc2UgQEVsZW1lbnQudHJhbnNmb3JtIGluc3RlYWQuXG4gICAgICogQWRkcyB0cmFuc2xhdGlvbiBieSBnaXZlbiBhbW91bnQgdG8gdGhlIGxpc3Qgb2YgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBkeCAobnVtYmVyKSBob3Jpc29udGFsIHNoaWZ0XG4gICAgIC0gZHkgKG51bWJlcikgdmVydGljYWwgc2hpZnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInRcIiwgZHgsIGR5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50cmFuc2Zvcm1cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGVsZW1lbnQgd2hpY2ggaXMgc2VwYXJhdGUgdG8gb3RoZXIgYXR0cmlidXRlcyxcbiAgICAgKiBpLmUuIHRyYW5zbGF0aW9uIGRvZXNu4oCZdCBjaGFuZ2UgYHhgIG9yIGB5YCBvZiB0aGUgcmVjdGFuZ2UuIFRoZSBmb3JtYXRcbiAgICAgKiBvZiB0cmFuc2Zvcm1hdGlvbiBzdHJpbmcgaXMgc2ltaWxhciB0byB0aGUgcGF0aCBzdHJpbmcgc3ludGF4OlxuICAgICB8IFwidDEwMCwxMDByMzAsMTAwLDEwMHMyLDIsMTAwLDEwMHI0NXMxLjVcIlxuICAgICAqIEVhY2ggbGV0dGVyIGlzIGEgY29tbWFuZC4gVGhlcmUgYXJlIGZvdXIgY29tbWFuZHM6IGB0YCBpcyBmb3IgdHJhbnNsYXRlLCBgcmAgaXMgZm9yIHJvdGF0ZSwgYHNgIGlzIGZvclxuICAgICAqIHNjYWxlIGFuZCBgbWAgaXMgZm9yIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSBhbHNvIGFsdGVybmF0aXZlIOKAnGFic29sdXRl4oCdIHRyYW5zbGF0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGU6IGBUYCwgYFJgIGFuZCBgU2AuIFRoZXkgd2lsbCBub3QgdGFrZSBwcmV2aW91cyB0cmFuc2Zvcm1hdGlvbiBpbnRvIGFjY291bnQuIEZvciBleGFtcGxlLCBgLi4uVDEwMCwwYCB3aWxsIGFsd2F5cyBtb3ZlIGVsZW1lbnQgMTAwIHB4IGhvcmlzb250YWxseSwgd2hpbGUgYC4uLnQxMDAsMGAgY291bGQgbW92ZSBpdCB2ZXJ0aWNhbGx5IGlmIHRoZXJlIGlzIGByOTBgIGJlZm9yZS4gSnVzdCBjb21wYXJlIHJlc3VsdHMgb2YgYHI5MHQxMDAsMGAgYW5kIGByOTBUMTAwLDBgLlxuICAgICAqXG4gICAgICogU28sIHRoZSBleGFtcGxlIGxpbmUgYWJvdmUgY291bGQgYmUgcmVhZCBsaWtlIOKAnHRyYW5zbGF0ZSBieSAxMDAsIDEwMDsgcm90YXRlIDMwwrAgYXJvdW5kIDEwMCwgMTAwOyBzY2FsZSB0d2ljZSBhcm91bmQgMTAwLCAxMDA7XG4gICAgICogcm90YXRlIDQ1wrAgYXJvdW5kIGNlbnRyZTsgc2NhbGUgMS41IHRpbWVzIHJlbGF0aXZlIHRvIGNlbnRyZeKAnS4gQXMgeW91IGNhbiBzZWUgcm90YXRlIGFuZCBzY2FsZSBjb21tYW5kcyBoYXZlIG9yaWdpblxuICAgICAqIGNvb3JkaW5hdGVzIGFzIG9wdGlvbmFsIHBhcmFtZXRlcnMsIHRoZSBkZWZhdWx0IGlzIHRoZSBjZW50cmUgcG9pbnQgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogTWF0cml4IGFjY2VwdHMgc2l4IHBhcmFtZXRlcnMuXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgZWwgPSBwYXBlci5yZWN0KDEwLCAyMCwgMzAwLCAyMDApO1xuICAgICB8IC8vIHRyYW5zbGF0ZSAxMDAsIDEwMCwgcm90YXRlIDQ1wrAsIHRyYW5zbGF0ZSAtMTAwLCAwXG4gICAgIHwgZWwudHJhbnNmb3JtKFwidDEwMCwxMDByNDV0LTEwMCwwXCIpO1xuICAgICB8IC8vIGlmIHlvdSB3YW50IHlvdSBjYW4gYXBwZW5kIG9yIHByZXBlbmQgdHJhbnNmb3JtYXRpb25zXG4gICAgIHwgZWwudHJhbnNmb3JtKFwiLi4udDUwLDUwXCIpO1xuICAgICB8IGVsLnRyYW5zZm9ybShcInMyLi4uXCIpO1xuICAgICB8IC8vIG9yIGV2ZW4gd3JhcFxuICAgICB8IGVsLnRyYW5zZm9ybShcInQ1MCw1MC4uLnQtNTAtNTBcIik7XG4gICAgIHwgLy8gdG8gcmVzZXQgdHJhbnNmb3JtYXRpb24gY2FsbCBtZXRob2Qgd2l0aCBlbXB0eSBzdHJpbmdcbiAgICAgfCBlbC50cmFuc2Zvcm0oXCJcIik7XG4gICAgIHwgLy8gdG8gZ2V0IGN1cnJlbnQgdmFsdWUgY2FsbCBpdCB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICAgfCBjb25zb2xlLmxvZyhlbC50cmFuc2Zvcm0oKSk7XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHRzdHIgKHN0cmluZykgI29wdGlvbmFsIHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIElmIHRzdHIgaXNu4oCZdCBzcGVjaWZpZWRcbiAgICAgPSAoc3RyaW5nKSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIGVsc2VcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIHZhciBfID0gdGhpcy5fO1xuICAgICAgICBpZiAodHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXy50cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB0c3RyKTtcblxuICAgICAgICB0aGlzLmNsaXAgJiYgJCh0aGlzLmNsaXAsIHt0cmFuc2Zvcm06IHRoaXMubWF0cml4LmludmVydCgpfSk7XG4gICAgICAgIHRoaXMucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbih0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlICYmICQodGhpcy5ub2RlLCB7dHJhbnNmb3JtOiB0aGlzLm1hdHJpeH0pO1xuXG4gICAgICAgIGlmIChfLnN4ICE9IDEgfHwgXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICB2YXIgc3cgPSB0aGlzLmF0dHJzW2hhc10oXCJzdHJva2Utd2lkdGhcIikgPyB0aGlzLmF0dHJzW1wic3Ryb2tlLXdpZHRoXCJdIDogMTtcbiAgICAgICAgICAgIHRoaXMuYXR0cih7XCJzdHJva2Utd2lkdGhcIjogc3d9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaGlkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogTWFrZXMgZWxlbWVudCBpbnZpc2libGUuIFNlZSBARWxlbWVudC5zaG93LlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zaG93XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHZpc2libGUuIFNlZSBARWxlbWVudC5oaWRlLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50IGZyb20gdGhlIHBhcGVyLlxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFwZXIgPSB0aGlzLnBhcGVyO1xuICAgICAgICBwYXBlci5fX3NldF9fICYmIHBhcGVyLl9fc2V0X18uZXhjbHVkZSh0aGlzKTtcbiAgICAgICAgZXZlLnVuYmluZChcInJhcGhhZWwuKi4qLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIGlmICh0aGlzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICBwYXBlci5kZWZzLnJlbW92ZUNoaWxkKHRoaXMuZ3JhZGllbnQpO1xuICAgICAgICB9XG4gICAgICAgIFIuX3RlYXIodGhpcywgcGFwZXIpO1xuXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblxuICAgICAgICAvLyBSZW1vdmUgY3VzdG9tIGRhdGEgZm9yIGVsZW1lbnRcbiAgICAgICAgdGhpcy5yZW1vdmVEYXRhKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLl9nZXRCQm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgdmFyIGhpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXNIaWRkZW4gPSBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlO1xuICAgICAgICBpZiAodGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIGNvbnRhaW5lclN0eWxlID0gdGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudC5zdHlsZTtcbiAgICAgICAgfSAvL0lFMTArIGNhbid0IGZpbmQgcGFyZW50RWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSB0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlLnN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgIGNhbnZhc0hpZGRlbiA9IHRydWU7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJib3ggPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJib3ggPSB0aGlzLm5vZGUuZ2V0QkJveCgpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggMy4wLngsIDI1LjAuMSAocHJvYmFibHkgbW9yZSB2ZXJzaW9ucyBhZmZlY3RlZCkgcGxheSBiYWRseSBoZXJlIC0gcG9zc2libGUgZml4XG4gICAgICAgICAgICBiYm94ID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubm9kZS5jbGllbnRMZWZ0LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMubm9kZS5jbGllbnRUb3AsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubm9kZS5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubm9kZS5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGJib3ggPSBiYm94IHx8IHt9O1xuICAgICAgICAgICAgaWYoY2FudmFzSGlkZGVuKXtcbiAgICAgICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhpZGUgJiYgdGhpcy5oaWRlKCk7XG4gICAgICAgIHJldHVybiBiYm94O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYXR0clxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU2V0cyB0aGUgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgIC0gdmFsdWUgKHN0cmluZykgdmFsdWVcbiAgICAgKiBvclxuICAgICAtIHBhcmFtcyAob2JqZWN0KSBvYmplY3Qgb2YgbmFtZS92YWx1ZSBwYWlyc1xuICAgICAqIG9yXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgICogb3JcbiAgICAgLSBhdHRyTmFtZXMgKGFycmF5KSBpbiB0aGlzIGNhc2UgbWV0aG9kIHJldHVybnMgYXJyYXkgb2YgY3VycmVudCB2YWx1ZXMgZm9yIGdpdmVuIGF0dHJpYnV0ZSBuYW1lc1xuICAgICA9IChvYmplY3QpIEBFbGVtZW50IGlmIGF0dHJzTmFtZSAmIHZhbHVlIG9yIHBhcmFtcyBhcmUgcGFzc2VkIGluLlxuICAgICA9ICguLi4pIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgaWYgb25seSBhdHRyc05hbWUgaXMgcGFzc2VkIGluLlxuICAgICA9IChhcnJheSkgYXJyYXkgb2YgdmFsdWVzIG9mIHRoZSBhdHRyaWJ1dGUgaWYgYXR0cnNOYW1lcyBpcyBwYXNzZWQgaW4uXG4gICAgID0gKG9iamVjdCkgb2JqZWN0IG9mIGF0dHJpYnV0ZXMgaWYgbm90aGluZyBpcyBwYXNzZWQgaW4uXG4gICAgID4gUG9zc2libGUgcGFyYW1ldGVyc1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byB0aGUgPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9cIiB0aXRsZT1cIlRoZSBXM0MgUmVjb21tZW5kYXRpb24gZm9yIHRoZSBTVkcgbGFuZ3VhZ2UgZGVzY3JpYmVzIHRoZXNlIHByb3BlcnRpZXMgaW4gZGV0YWlsLlwiPlNWRyBzcGVjaWZpY2F0aW9uPC9hPiBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhlc2UgcGFyYW1ldGVycy48L3A+XG4gICAgIG8gYXJyb3ctZW5kIChzdHJpbmcpIGFycm93aGVhZCBvbiB0aGUgZW5kIG9mIHRoZSBwYXRoLiBUaGUgZm9ybWF0IGZvciBzdHJpbmcgaXMgYDx0eXBlPlstPHdpZHRoPlstPGxlbmd0aD5dXWAuIFBvc3NpYmxlIHR5cGVzOiBgY2xhc3NpY2AsIGBibG9ja2AsIGBvcGVuYCwgYG92YWxgLCBgZGlhbW9uZGAsIGBub25lYCwgd2lkdGg6IGB3aWRlYCwgYG5hcnJvd2AsIGBtZWRpdW1gLCBsZW5ndGg6IGBsb25nYCwgYHNob3J0YCwgYG1pZGl1bWAuXG4gICAgIG8gY2xpcC1yZWN0IChzdHJpbmcpIGNvbW1hIG9yIHNwYWNlIHNlcGFyYXRlZCB2YWx1ZXM6IHgsIHksIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgbyBjdXJzb3IgKHN0cmluZykgQ1NTIHR5cGUgb2YgdGhlIGN1cnNvclxuICAgICBvIGN4IChudW1iZXIpIHRoZSB4LWF4aXMgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUsIG9yIGVsbGlwc2VcbiAgICAgbyBjeSAobnVtYmVyKSB0aGUgeS1heGlzIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlLCBvciBlbGxpcHNlXG4gICAgIG8gZmlsbCAoc3RyaW5nKSBjb2xvdXIsIGdyYWRpZW50IG9yIGltYWdlXG4gICAgIG8gZmlsbC1vcGFjaXR5IChudW1iZXIpXG4gICAgIG8gZm9udCAoc3RyaW5nKVxuICAgICBvIGZvbnQtZmFtaWx5IChzdHJpbmcpXG4gICAgIG8gZm9udC1zaXplIChudW1iZXIpIGZvbnQgc2l6ZSBpbiBwaXhlbHNcbiAgICAgbyBmb250LXdlaWdodCAoc3RyaW5nKVxuICAgICBvIGhlaWdodCAobnVtYmVyKVxuICAgICBvIGhyZWYgKHN0cmluZykgVVJMLCBpZiBzcGVjaWZpZWQgZWxlbWVudCBiZWhhdmVzIGFzIGh5cGVybGlua1xuICAgICBvIG9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZyBmb3JtYXRcbiAgICAgbyByIChudW1iZXIpIHJhZGl1cyBvZiB0aGUgY2lyY2xlLCBlbGxpcHNlIG9yIHJvdW5kZWQgY29ybmVyIG9uIHRoZSByZWN0XG4gICAgIG8gcnggKG51bWJlcikgaG9yaXNvbnRhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyByeSAobnVtYmVyKSB2ZXJ0aWNhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyBzcmMgKHN0cmluZykgaW1hZ2UgVVJMLCBvbmx5IHdvcmtzIGZvciBARWxlbWVudC5pbWFnZSBlbGVtZW50XG4gICAgIG8gc3Ryb2tlIChzdHJpbmcpIHN0cm9rZSBjb2xvdXJcbiAgICAgbyBzdHJva2UtZGFzaGFycmF5IChzdHJpbmcpIFvigJzigJ0sIOKAnG5vbmXigJ0sIOKAnGAtYOKAnSwg4oCcYC5g4oCdLCDigJxgLS5g4oCdLCDigJxgLS4uYOKAnSwg4oCcYC4gYOKAnSwg4oCcYC0gYOKAnSwg4oCcYC0tYOKAnSwg4oCcYC0gLmDigJ0sIOKAnGAtLS5g4oCdLCDigJxgLS0uLmDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVjYXAgKHN0cmluZykgW+KAnGBidXR0YOKAnSwg4oCcYHNxdWFyZWDigJ0sIOKAnGByb3VuZGDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVqb2luIChzdHJpbmcpIFvigJxgYmV2ZWxg4oCdLCDigJxgcm91bmRg4oCdLCDigJxgbWl0ZXJg4oCdXVxuICAgICBvIHN0cm9rZS1taXRlcmxpbWl0IChudW1iZXIpXG4gICAgIG8gc3Ryb2tlLW9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBzdHJva2Utd2lkdGggKG51bWJlcikgc3Ryb2tlIHdpZHRoIGluIHBpeGVscywgZGVmYXVsdCBpcyAnMSdcbiAgICAgbyB0YXJnZXQgKHN0cmluZykgdXNlZCB3aXRoIGhyZWZcbiAgICAgbyB0ZXh0IChzdHJpbmcpIGNvbnRlbnRzIG9mIHRoZSB0ZXh0IGVsZW1lbnQuIFVzZSBgXFxuYCBmb3IgbXVsdGlsaW5lIHRleHRcbiAgICAgbyB0ZXh0LWFuY2hvciAoc3RyaW5nKSBb4oCcYHN0YXJ0YOKAnSwg4oCcYG1pZGRsZWDigJ0sIOKAnGBlbmRg4oCdXSwgZGVmYXVsdCBpcyDigJxgbWlkZGxlYOKAnVxuICAgICBvIHRpdGxlIChzdHJpbmcpIHdpbGwgY3JlYXRlIHRvb2x0aXAgd2l0aCBhIGdpdmVuIHRleHRcbiAgICAgbyB0cmFuc2Zvcm0gKHN0cmluZykgc2VlIEBFbGVtZW50LnRyYW5zZm9ybVxuICAgICBvIHdpZHRoIChudW1iZXIpXG4gICAgIG8geCAobnVtYmVyKVxuICAgICBvIHkgKG51bWJlcilcbiAgICAgPiBHcmFkaWVudHNcbiAgICAgKiBMaW5lYXIgZ3JhZGllbnQgZm9ybWF0OiDigJxg4oC5YW5nbGXigLot4oC5Y29sb3Vy4oC6Wy3igLljb2xvdXLigLpbOuKAuW9mZnNldOKAul1dKi3igLljb2xvdXLigLpg4oCdLCBleGFtcGxlOiDigJxgOTAtI2ZmZi0jMDAwYOKAnSDigJMgOTDCsFxuICAgICAqIGdyYWRpZW50IGZyb20gd2hpdGUgdG8gYmxhY2sgb3Ig4oCcYDAtI2ZmZi0jZjAwOjIwLSMwMDBg4oCdIOKAkyAwwrAgZ3JhZGllbnQgZnJvbSB3aGl0ZSB2aWEgcmVkIChhdCAyMCUpIHRvIGJsYWNrLlxuICAgICAqXG4gICAgICogcmFkaWFsIGdyYWRpZW50OiDigJxgclso4oC5ZnjigLosIOKAuWZ54oC6KV3igLljb2xvdXLigLpbLeKAuWNvbG91cuKAuls64oC5b2Zmc2V04oC6XV0qLeKAuWNvbG91cuKAumDigJ0sIGV4YW1wbGU6IOKAnGByI2ZmZi0jMDAwYOKAnSDigJNcbiAgICAgKiBncmFkaWVudCBmcm9tIHdoaXRlIHRvIGJsYWNrIG9yIOKAnGByKDAuMjUsIDAuNzUpI2ZmZi0jMDAwYOKAnSDigJMgZ3JhZGllbnQgZnJvbSB3aGl0ZSB0byBibGFjayB3aXRoIGZvY3VzIHBvaW50XG4gICAgICogYXQgMC4yNSwgMC43NS4gRm9jdXMgcG9pbnQgY29vcmRpbmF0ZXMgYXJlIGluIDAuLjEgcmFuZ2UuIFJhZGlhbCBncmFkaWVudHMgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBjaXJjbGVzIGFuZCBlbGxpcHNlcy5cbiAgICAgPiBQYXRoIFN0cmluZ1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcIiB0aXRsZT1cIkRldGFpbHMgb2YgYSBwYXRo4oCZcyBkYXRhIGF0dHJpYnV0ZeKAmXMgZm9ybWF0IGFyZSBkZXNjcmliZWQgaW4gdGhlIFNWRyBzcGVjaWZpY2F0aW9uLlwiPlNWRyBkb2N1bWVudGF0aW9uIHJlZ2FyZGluZyBwYXRoIHN0cmluZzwvYT4uIFJhcGhhw6tsIGZ1bGx5IHN1cHBvcnRzIGl0LjwvcD5cbiAgICAgPiBDb2xvdXIgUGFyc2luZ1xuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPkNvbG91ciBuYW1lICjigJw8Y29kZT5yZWQ8L2NvZGU+4oCdLCDigJw8Y29kZT5ncmVlbjwvY29kZT7igJ0sIOKAnDxjb2RlPmNvcm5mbG93ZXJibHVlPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCiIOKAlCBzaG9ydGVuZWQgSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2ZjMDwvY29kZT7igJ0sIGV0Yyk8L2xpPlxuICAgICAjICAgICA8bGk+I+KAouKAouKAouKAouKAouKAoiDigJQgZnVsbCBsZW5ndGggSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2JkMjMwMDwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2IoMjAwLCZuYnNwOzEwMCwmbmJzcDswKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2IoMTAwJSwmbmJzcDsxNzUlLCZuYnNwOzAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYmEo4oCi4oCi4oCiLCDigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2JhKDIwMCwmbmJzcDsxMDAsJm5ic3A7MCwgLjUpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiYSjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2JhKDEwMCUsJm5ic3A7MTc1JSwmbmJzcDswJSwgNTAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgaHVlLCBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzIHZhbHVlczogKOKAnDxjb2RlPmhzYigwLjUsJm5ic3A7MC4yNSwmbmJzcDsxKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNiYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgYWxtb3N0IHRoZSBzYW1lIGFzIGhzYiwgc2VlIDxhIGhyZWY9XCJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXCIgdGl0bGU9XCJIU0wgYW5kIEhTViAtIFdpa2lwZWRpYSwgdGhlIGZyZWUgZW5jeWNsb3BlZGlhXCI+V2lraXBlZGlhIHBhZ2U8L2E+PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNsYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPk9wdGlvbmFsbHkgZm9yIGhzYiBhbmQgaHNsIHlvdSBjb3VsZCBzcGVjaWZ5IGh1ZSBhcyBhIGRlZ3JlZTog4oCcPGNvZGU+aHNsKDI0MGRlZywmbmJzcDsxLCZuYnNwOy41KTwvY29kZT7igJ0gb3IsIGlmIHlvdSB3YW50IHRvIGdvIGZhbmN5LCDigJw8Y29kZT5oc2woMjQwwrAsJm5ic3A7MSwmbmJzcDsuNSk8L2NvZGU+4oCdPC9saT5cbiAgICAgIyA8L3VsPlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJmaWxsXCIgJiYgdGhpcy5hdHRycy5maWxsID09IFwibm9uZVwiICYmIHRoaXMuYXR0cnMuZ3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lID09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gdGhpcy5hdHRycykge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLmF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0sIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0gdGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW25hbWVdLmRlZjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSBSLl9hdmFpbGFibGVBdHRyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWkgLSAxID8gb3V0IDogb3V0W25hbWVzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBSLmlzKG5hbWUsIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRbbmFtZVtpXV0gPSB0aGlzLmF0dHIobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lICE9IG51bGwgJiYgUi5pcyhuYW1lLCBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgcGFyYW1zID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgdmFyIHBhciA9IHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1trZXldLmFwcGx5KHRoaXMsIFtdLmNvbmNhdChwYXJhbXNba2V5XSkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtc1tzdWJrZXldID0gcGFyW3N1YmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvRnJvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBjbG9zZXN0IHRvIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIG9uIHRvcCBvZiBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgc3ZnLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgc3ZnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b0JhY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBmdXJ0aGVzdCBmcm9tIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIGJlaGluZCBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgUi5fdG9iYWNrKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5pbnNlcnRBZnRlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSW5zZXJ0cyBjdXJyZW50IG9iamVjdCBhZnRlciB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGdldFJlYWxOb2RlKGVsZW1lbnQubm9kZSB8fCBlbGVtZW50W2VsZW1lbnQubGVuZ3RoIC0gMV0ubm9kZSk7XG4gICAgICAgIGlmIChhZnRlck5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGFmdGVyTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBhZnRlck5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZ0ZXJOb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5faW5zZXJ0YWZ0ZXIodGhpcywgZWxlbWVudCwgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaW5zZXJ0QmVmb3JlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJbnNlcnRzIGN1cnJlbnQgb2JqZWN0IGJlZm9yZSB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCB8fCAhZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9kZSA9IGdldFJlYWxOb2RlKHRoaXMubm9kZSk7XG4gICAgICAgIHZhciBiZWZvcmVOb2RlID0gZ2V0UmVhbE5vZGUoZWxlbWVudC5ub2RlIHx8IGVsZW1lbnRbMF0ubm9kZSk7XG4gICAgICAgIGJlZm9yZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyBFeHBlcmltZW50YWwuIE5vIFNhZmFyaSBzdXBwb3J0LiBVc2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICBpZiAoK3NpemUgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBmbHRyID0gJChcImZpbHRlclwiKSxcbiAgICAgICAgICAgICAgICBibHVyID0gJChcImZlR2F1c3NpYW5CbHVyXCIpO1xuICAgICAgICAgICAgdC5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIGZsdHIuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICQoYmx1ciwge3N0ZERldmlhdGlvbjogK3NpemUgfHwgMS41fSk7XG4gICAgICAgICAgICBmbHRyLmFwcGVuZENoaWxkKGJsdXIpO1xuICAgICAgICAgICAgdC5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGZsdHIpO1xuICAgICAgICAgICAgdC5fYmx1ciA9IGZsdHI7XG4gICAgICAgICAgICAkKHQubm9kZSwge2ZpbHRlcjogXCJ1cmwoI1wiICsgZmx0ci5pZCArIFwiKVwifSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodC5fYmx1cikge1xuICAgICAgICAgICAgICAgIHQuX2JsdXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Ll9ibHVyKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5fYmx1cjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5hdHRycy5ibHVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdC5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJjaXJjbGVcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge2N4OiB4LCBjeTogeSwgcjogciwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUucmVjdCA9IGZ1bmN0aW9uIChzdmcsIHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgdmFyIGVsID0gJChcInJlY3RcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge3g6IHgsIHk6IHksIHdpZHRoOiB3LCBoZWlnaHQ6IGgsIHJ4OiByIHx8IDAsIHJ5OiByIHx8IDAsIGZpbGw6IFwibm9uZVwiLCBzdHJva2U6IFwiIzAwMFwifTtcbiAgICAgICAgcmVzLnR5cGUgPSBcInJlY3RcIjtcbiAgICAgICAgJChlbCwgcmVzLmF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5lbGxpcHNlID0gZnVuY3Rpb24gKHN2ZywgeCwgeSwgcngsIHJ5KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJlbGxpcHNlXCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtjeDogeCwgY3k6IHksIHJ4OiByeCwgcnk6IHJ5LCBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcIiMwMDBcIn07XG4gICAgICAgIHJlcy50eXBlID0gXCJlbGxpcHNlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuaW1hZ2UgPSBmdW5jdGlvbiAoc3ZnLCBzcmMsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGVsID0gJChcImltYWdlXCIpO1xuICAgICAgICAkKGVsLCB7eDogeCwgeTogeSwgd2lkdGg6IHcsIGhlaWdodDogaCwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCJ9KTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCBzcmMpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHt4OiB4LCB5OiB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLCBzcmM6IHNyY307XG4gICAgICAgIHJlcy50eXBlID0gXCJpbWFnZVwiO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnRleHQgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCB0ZXh0KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJ0ZXh0XCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogUi5fYXZhaWxhYmxlQXR0cnNbXCJmb250LWZhbWlseVwiXSxcbiAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFIuX2F2YWlsYWJsZUF0dHJzW1wiZm9udC1zaXplXCJdLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZpbGw6IFwiIzAwMFwiXG4gICAgICAgIH07XG4gICAgICAgIHJlcy50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCByZXMuYXR0cnMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHRoaXMud2lkdGgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5fdmlld0JveCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbiA9IFIuX2dldENvbnRhaW5lci5hcHBseSgwLCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgY29udGFpbmVyID0gY29uICYmIGNvbi5jb250YWluZXIsXG4gICAgICAgICAgICB4ID0gY29uLngsXG4gICAgICAgICAgICB5ID0gY29uLnksXG4gICAgICAgICAgICB3aWR0aCA9IGNvbi53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA9IGNvbi5oZWlnaHQ7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTVkcgY29udGFpbmVyIG5vdCBmb3VuZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNudnMgPSAkKFwic3ZnXCIpLFxuICAgICAgICAgICAgY3NzID0gXCJvdmVyZmxvdzpoaWRkZW47XCIsXG4gICAgICAgICAgICBpc0Zsb2F0aW5nO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgJChjbnZzLCB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHZlcnNpb246IDEuMSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgICAgICBcInhtbG5zOnhsaW5rXCI6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29udGFpbmVyID09IDEpIHtcbiAgICAgICAgICAgIGNudnMuc3R5bGUuY3NzVGV4dCA9IGNzcyArIFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIiArIHggKyBcInB4O3RvcDpcIiArIHkgKyBcInB4XCI7XG4gICAgICAgICAgICBSLl9nLmRvYy5ib2R5LmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgaXNGbG9hdGluZyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbnZzLnN0eWxlLmNzc1RleHQgPSBjc3MgKyBcInBvc2l0aW9uOnJlbGF0aXZlXCI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNudnMsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lciA9IG5ldyBSLl9QYXBlcjtcbiAgICAgICAgY29udGFpbmVyLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRhaW5lci5jYW52YXMgPSBjbnZzO1xuICAgICAgICBjb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgY29udGFpbmVyLl9sZWZ0ID0gY29udGFpbmVyLl90b3AgPSAwO1xuICAgICAgICBpc0Zsb2F0aW5nICYmIChjb250YWluZXIucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge30pO1xuICAgICAgICBjb250YWluZXIucmVuZGVyZml4KCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0Vmlld0JveCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCBmaXQpIHtcbiAgICAgICAgZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgc2l6ZSA9IG1tYXgodyAvIHBhcGVyU2l6ZS53aWR0aCwgaCAvIHBhcGVyU2l6ZS5oZWlnaHQpLFxuICAgICAgICAgICAgdG9wID0gdGhpcy50b3AsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbyA9IGZpdCA/IFwieE1pZFlNaWQgbWVldFwiIDogXCJ4TWluWU1pblwiLFxuICAgICAgICAgICAgdmIsXG4gICAgICAgICAgICBzdztcbiAgICAgICAgaWYgKHggPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZiU2l6ZSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZiU2l6ZTtcbiAgICAgICAgICAgIHZiID0gXCIwIDAgXCIgKyB0aGlzLndpZHRoICsgUyArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHZiID0geCArIFMgKyB5ICsgUyArIHcgKyBTICsgaDtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMuY2FudmFzLCB7XG4gICAgICAgICAgICB2aWV3Qm94OiB2YixcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoc2l6ZSAmJiB0b3ApIHtcbiAgICAgICAgICAgIHN3ID0gXCJzdHJva2Utd2lkdGhcIiBpbiB0b3AuYXR0cnMgPyB0b3AuYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0gOiAxO1xuICAgICAgICAgICAgdG9wLmF0dHIoe1wic3Ryb2tlLXdpZHRoXCI6IHN3fSk7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgdG9wID0gdG9wLnByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbmRlcmZpeFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRml4ZXMgdGhlIGlzc3VlIG9mIEZpcmVmb3ggYW5kIElFOSByZWdhcmRpbmcgc3VicGl4ZWwgcmVuZGVyaW5nLiBJZiBwYXBlciBpcyBkZXBlbmRlbnRcbiAgICAgKiBvbiBvdGhlciBlbGVtZW50cyBhZnRlciByZWZsb3cgaXQgY291bGQgc2hpZnQgaGFsZiBwaXhlbCB3aGljaCBjYXVzZSBmb3IgbGluZXMgdG8gbG9zdCB0aGVpciBjcmlzcG5lc3MuXG4gICAgICogVGhpcyBtZXRob2QgZml4ZXMgdGhlIGlzc3VlLlxuICAgICAqKlxuICAgICAgIFNwZWNpYWwgdGhhbmtzIHRvIE1hcml1c3ogTm93YWsgKGh0dHA6Ly93d3cubWVkaWtvby5jb20vKSBmb3IgdGhpcyBtZXRob2QuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLnJlbmRlcmZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNudnMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgIHMgPSBjbnZzLnN0eWxlLFxuICAgICAgICAgICAgcG9zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcG9zID0gY252cy5nZXRTY3JlZW5DVE0oKSB8fCBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBwb3MgPSBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZWZ0ID0gLXBvcy5lICUgMSxcbiAgICAgICAgICAgIHRvcCA9IC1wb3MuZiAlIDE7XG4gICAgICAgIGlmIChsZWZ0IHx8IHRvcCkge1xuICAgICAgICAgICAgaWYgKGxlZnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWZ0ID0gKHRoaXMuX2xlZnQgKyBsZWZ0KSAlIDE7XG4gICAgICAgICAgICAgICAgcy5sZWZ0ID0gdGhpcy5fbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3AgPSAodGhpcy5fdG9wICsgdG9wKSAlIDE7XG4gICAgICAgICAgICAgICAgcy50b3AgPSB0aGlzLl90b3AgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5jbGVhclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ2xlYXJzIHRoZSBwYXBlciwgaS5lLiByZW1vdmVzIGFsbCB0aGUgZWxlbWVudHMuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSLmV2ZShcInJhcGhhZWwuY2xlYXJcIiwgdGhpcyk7XG4gICAgICAgIHZhciBjID0gdGhpcy5jYW52YXM7XG4gICAgICAgIHdoaWxlIChjLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wID0gbnVsbDtcbiAgICAgICAgKHRoaXMuZGVzYyA9ICQoXCJkZXNjXCIpKS5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZShcIkNyZWF0ZWQgd2l0aCBSYXBoYVxceGVibCBcIiArIFIudmVyc2lvbikpO1xuICAgICAgICBjLmFwcGVuZENoaWxkKHRoaXMuZGVzYyk7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQodGhpcy5kZWZzID0gJChcImRlZnNcIikpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyB0aGUgcGFwZXIgZnJvbSB0aGUgRE9NLlxuICAgIFxcKi9cbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGV2ZShcInJhcGhhZWwucmVtb3ZlXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5wYXJlbnROb2RlICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./dev/raphael.svg.js\\n\");\n\n/***/ }),\n\n/***/ \"./dev/raphael.vml.js\":\n/*!****************************!*\\\n  !*** ./dev/raphael.vml.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ \\\"./dev/raphael.core.js\\\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\\n    if (R && !R.vml) {\\n        return;\\n    }\\n\\n    var has = \\\"hasOwnProperty\\\",\\n        Str = String,\\n        toFloat = parseFloat,\\n        math = Math,\\n        round = math.round,\\n        mmax = math.max,\\n        mmin = math.min,\\n        abs = math.abs,\\n        fillString = \\\"fill\\\",\\n        separator = /[, ]+/,\\n        eve = R.eve,\\n        ms = \\\" progid:DXImageTransform.Microsoft\\\",\\n        S = \\\" \\\",\\n        E = \\\"\\\",\\n        map = {M: \\\"m\\\", L: \\\"l\\\", C: \\\"c\\\", Z: \\\"x\\\", m: \\\"t\\\", l: \\\"r\\\", c: \\\"v\\\", z: \\\"x\\\"},\\n        bites = /([clmz]),?([^clmz]*)/gi,\\n        blurregexp = / progid:\\\\S+Blur\\\\([^\\\\)]+\\\\)/g,\\n        val = /-?[^,\\\\s-]+/g,\\n        cssDot = \\\"position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)\\\",\\n        zoom = 21600,\\n        pathTypes = {path: 1, rect: 1, image: 1},\\n        ovalTypes = {circle: 1, ellipse: 1},\\n        path2vml = function (path) {\\n            var total =  /[ahqstv]/ig,\\n                command = R._pathToAbsolute;\\n            Str(path).match(total) && (command = R._path2curve);\\n            total = /[clmz]/g;\\n            if (command == R._pathToAbsolute && !Str(path).match(total)) {\\n                var res = Str(path).replace(bites, function (all, command, args) {\\n                    var vals = [],\\n                        isMove = command.toLowerCase() == \\\"m\\\",\\n                        res = map[command];\\n                    args.replace(val, function (value) {\\n                        if (isMove && vals.length == 2) {\\n                            res += vals + map[command == \\\"m\\\" ? \\\"l\\\" : \\\"L\\\"];\\n                            vals = [];\\n                        }\\n                        vals.push(round(value * zoom));\\n                    });\\n                    return res + vals;\\n                });\\n                return res;\\n            }\\n            var pa = command(path), p, r;\\n            res = [];\\n            for (var i = 0, ii = pa.length; i < ii; i++) {\\n                p = pa[i];\\n                r = pa[i][0].toLowerCase();\\n                r == \\\"z\\\" && (r = \\\"x\\\");\\n                for (var j = 1, jj = p.length; j < jj; j++) {\\n                    r += round(p[j] * zoom) + (j != jj - 1 ? \\\",\\\" : E);\\n                }\\n                res.push(r);\\n            }\\n            return res.join(S);\\n        },\\n        compensation = function (deg, dx, dy) {\\n            var m = R.matrix();\\n            m.rotate(-deg, .5, .5);\\n            return {\\n                dx: m.x(dx, dy),\\n                dy: m.y(dx, dy)\\n            };\\n        },\\n        setCoords = function (p, sx, sy, dx, dy, deg) {\\n            var _ = p._,\\n                m = p.matrix,\\n                fillpos = _.fillpos,\\n                o = p.node,\\n                s = o.style,\\n                y = 1,\\n                flip = \\\"\\\",\\n                dxdy,\\n                kx = zoom / sx,\\n                ky = zoom / sy;\\n            s.visibility = \\\"hidden\\\";\\n            if (!sx || !sy) {\\n                return;\\n            }\\n            o.coordsize = abs(kx) + S + abs(ky);\\n            s.rotation = deg * (sx * sy < 0 ? -1 : 1);\\n            if (deg) {\\n                var c = compensation(deg, dx, dy);\\n                dx = c.dx;\\n                dy = c.dy;\\n            }\\n            sx < 0 && (flip += \\\"x\\\");\\n            sy < 0 && (flip += \\\" y\\\") && (y = -1);\\n            s.flip = flip;\\n            o.coordorigin = (dx * -kx) + S + (dy * -ky);\\n            if (fillpos || _.fillsize) {\\n                var fill = o.getElementsByTagName(fillString);\\n                fill = fill && fill[0];\\n                o.removeChild(fill);\\n                if (fillpos) {\\n                    c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));\\n                    fill.position = c.dx * y + S + c.dy * y;\\n                }\\n                if (_.fillsize) {\\n                    fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);\\n                }\\n                o.appendChild(fill);\\n            }\\n            s.visibility = \\\"visible\\\";\\n        };\\n    R.toString = function () {\\n        return  \\\"Your browser doesn\\\\u2019t support SVG. Falling down to VML.\\\\nYou are running Rapha\\\\xebl \\\" + this.version;\\n    };\\n    var addArrow = function (o, value, isEnd) {\\n        var values = Str(value).toLowerCase().split(\\\"-\\\"),\\n            se = isEnd ? \\\"end\\\" : \\\"start\\\",\\n            i = values.length,\\n            type = \\\"classic\\\",\\n            w = \\\"medium\\\",\\n            h = \\\"medium\\\";\\n        while (i--) {\\n            switch (values[i]) {\\n                case \\\"block\\\":\\n                case \\\"classic\\\":\\n                case \\\"oval\\\":\\n                case \\\"diamond\\\":\\n                case \\\"open\\\":\\n                case \\\"none\\\":\\n                    type = values[i];\\n                    break;\\n                case \\\"wide\\\":\\n                case \\\"narrow\\\": h = values[i]; break;\\n                case \\\"long\\\":\\n                case \\\"short\\\": w = values[i]; break;\\n            }\\n        }\\n        var stroke = o.node.getElementsByTagName(\\\"stroke\\\")[0];\\n        stroke[se + \\\"arrow\\\"] = type;\\n        stroke[se + \\\"arrowlength\\\"] = w;\\n        stroke[se + \\\"arrowwidth\\\"] = h;\\n    },\\n    setFillAndStroke = function (o, params) {\\n        // o.paper.canvas.style.display = \\\"none\\\";\\n        o.attrs = o.attrs || {};\\n        var node = o.node,\\n            a = o.attrs,\\n            s = node.style,\\n            xy,\\n            newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),\\n            isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),\\n            res = o;\\n\\n\\n        for (var par in params) if (params[has](par)) {\\n            a[par] = params[par];\\n        }\\n        if (newpath) {\\n            a.path = R._getPath[o.type](o);\\n            o._.dirty = 1;\\n        }\\n        params.href && (node.href = params.href);\\n        params.title && (node.title = params.title);\\n        params.target && (node.target = params.target);\\n        params.cursor && (s.cursor = params.cursor);\\n        \\\"blur\\\" in params && o.blur(params.blur);\\n        if (params.path && o.type == \\\"path\\\" || newpath) {\\n            node.path = path2vml(~Str(a.path).toLowerCase().indexOf(\\\"r\\\") ? R._pathToAbsolute(a.path) : a.path);\\n            o._.dirty = 1;\\n            if (o.type == \\\"image\\\") {\\n                o._.fillpos = [a.x, a.y];\\n                o._.fillsize = [a.width, a.height];\\n                setCoords(o, 1, 1, 0, 0, 0);\\n            }\\n        }\\n        \\\"transform\\\" in params && o.transform(params.transform);\\n        if (isOval) {\\n            var cx = +a.cx,\\n                cy = +a.cy,\\n                rx = +a.rx || +a.r || 0,\\n                ry = +a.ry || +a.r || 0;\\n            node.path = R.format(\\\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\\\", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));\\n            o._.dirty = 1;\\n        }\\n        if (\\\"clip-rect\\\" in params) {\\n            var rect = Str(params[\\\"clip-rect\\\"]).split(separator);\\n            if (rect.length == 4) {\\n                rect[2] = +rect[2] + (+rect[0]);\\n                rect[3] = +rect[3] + (+rect[1]);\\n                var div = node.clipRect || R._g.doc.createElement(\\\"div\\\"),\\n                    dstyle = div.style;\\n                dstyle.clip = R.format(\\\"rect({1}px {2}px {3}px {0}px)\\\", rect);\\n                if (!node.clipRect) {\\n                    dstyle.position = \\\"absolute\\\";\\n                    dstyle.top = 0;\\n                    dstyle.left = 0;\\n                    dstyle.width = o.paper.width + \\\"px\\\";\\n                    dstyle.height = o.paper.height + \\\"px\\\";\\n                    node.parentNode.insertBefore(div, node);\\n                    div.appendChild(node);\\n                    node.clipRect = div;\\n                }\\n            }\\n            if (!params[\\\"clip-rect\\\"]) {\\n                node.clipRect && (node.clipRect.style.clip = \\\"auto\\\");\\n            }\\n        }\\n        if (o.textpath) {\\n            var textpathStyle = o.textpath.style;\\n            params.font && (textpathStyle.font = params.font);\\n            params[\\\"font-family\\\"] && (textpathStyle.fontFamily = '\\\"' + params[\\\"font-family\\\"].split(\\\",\\\")[0].replace(/^['\\\"]+|['\\\"]+$/g, E) + '\\\"');\\n            params[\\\"font-size\\\"] && (textpathStyle.fontSize = params[\\\"font-size\\\"]);\\n            params[\\\"font-weight\\\"] && (textpathStyle.fontWeight = params[\\\"font-weight\\\"]);\\n            params[\\\"font-style\\\"] && (textpathStyle.fontStyle = params[\\\"font-style\\\"]);\\n        }\\n        if (\\\"arrow-start\\\" in params) {\\n            addArrow(res, params[\\\"arrow-start\\\"]);\\n        }\\n        if (\\\"arrow-end\\\" in params) {\\n            addArrow(res, params[\\\"arrow-end\\\"], 1);\\n        }\\n        if (params.opacity != null ||\\n            params.fill != null ||\\n            params.src != null ||\\n            params.stroke != null ||\\n            params[\\\"stroke-width\\\"] != null ||\\n            params[\\\"stroke-opacity\\\"] != null ||\\n            params[\\\"fill-opacity\\\"] != null ||\\n            params[\\\"stroke-dasharray\\\"] != null ||\\n            params[\\\"stroke-miterlimit\\\"] != null ||\\n            params[\\\"stroke-linejoin\\\"] != null ||\\n            params[\\\"stroke-linecap\\\"] != null) {\\n            var fill = node.getElementsByTagName(fillString),\\n                newfill = false;\\n            fill = fill && fill[0];\\n            !fill && (newfill = fill = createNode(fillString));\\n            if (o.type == \\\"image\\\" && params.src) {\\n                fill.src = params.src;\\n            }\\n            params.fill && (fill.on = true);\\n            if (fill.on == null || params.fill == \\\"none\\\" || params.fill === null) {\\n                fill.on = false;\\n            }\\n            if (fill.on && params.fill) {\\n                var isURL = Str(params.fill).match(R._ISURL);\\n                if (isURL) {\\n                    fill.parentNode == node && node.removeChild(fill);\\n                    fill.rotate = true;\\n                    fill.src = isURL[1];\\n                    fill.type = \\\"tile\\\";\\n                    var bbox = o.getBBox(1);\\n                    fill.position = bbox.x + S + bbox.y;\\n                    o._.fillpos = [bbox.x, bbox.y];\\n\\n                    R._preload(isURL[1], function () {\\n                        o._.fillsize = [this.offsetWidth, this.offsetHeight];\\n                    });\\n                } else {\\n                    fill.color = R.getRGB(params.fill).hex;\\n                    fill.src = E;\\n                    fill.type = \\\"solid\\\";\\n                    if (R.getRGB(params.fill).error && (res.type in {circle: 1, ellipse: 1} || Str(params.fill).charAt() != \\\"r\\\") && addGradientFill(res, params.fill, fill)) {\\n                        a.fill = \\\"none\\\";\\n                        a.gradient = params.fill;\\n                        fill.rotate = false;\\n                    }\\n                }\\n            }\\n            if (\\\"fill-opacity\\\" in params || \\\"opacity\\\" in params) {\\n                var opacity = ((+a[\\\"fill-opacity\\\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+R.getRGB(params.fill).o + 1 || 2) - 1);\\n                opacity = mmin(mmax(opacity, 0), 1);\\n                fill.opacity = opacity;\\n                if (fill.src) {\\n                    fill.color = \\\"none\\\";\\n                }\\n            }\\n            node.appendChild(fill);\\n            var stroke = (node.getElementsByTagName(\\\"stroke\\\") && node.getElementsByTagName(\\\"stroke\\\")[0]),\\n            newstroke = false;\\n            !stroke && (newstroke = stroke = createNode(\\\"stroke\\\"));\\n            if ((params.stroke && params.stroke != \\\"none\\\") ||\\n                params[\\\"stroke-width\\\"] ||\\n                params[\\\"stroke-opacity\\\"] != null ||\\n                params[\\\"stroke-dasharray\\\"] ||\\n                params[\\\"stroke-miterlimit\\\"] ||\\n                params[\\\"stroke-linejoin\\\"] ||\\n                params[\\\"stroke-linecap\\\"]) {\\n                stroke.on = true;\\n            }\\n            (params.stroke == \\\"none\\\" || params.stroke === null || stroke.on == null || params.stroke == 0 || params[\\\"stroke-width\\\"] == 0) && (stroke.on = false);\\n            var strokeColor = R.getRGB(params.stroke);\\n            stroke.on && params.stroke && (stroke.color = strokeColor.hex);\\n            opacity = ((+a[\\\"stroke-opacity\\\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.o + 1 || 2) - 1);\\n            var width = (toFloat(params[\\\"stroke-width\\\"]) || 1) * .75;\\n            opacity = mmin(mmax(opacity, 0), 1);\\n            params[\\\"stroke-width\\\"] == null && (width = a[\\\"stroke-width\\\"]);\\n            params[\\\"stroke-width\\\"] && (stroke.weight = width);\\n            width && width < 1 && (opacity *= width) && (stroke.weight = 1);\\n            stroke.opacity = opacity;\\n\\n            params[\\\"stroke-linejoin\\\"] && (stroke.joinstyle = params[\\\"stroke-linejoin\\\"] || \\\"miter\\\");\\n            stroke.miterlimit = params[\\\"stroke-miterlimit\\\"] || 8;\\n            params[\\\"stroke-linecap\\\"] && (stroke.endcap = params[\\\"stroke-linecap\\\"] == \\\"butt\\\" ? \\\"flat\\\" : params[\\\"stroke-linecap\\\"] == \\\"square\\\" ? \\\"square\\\" : \\\"round\\\");\\n            if (\\\"stroke-dasharray\\\" in params) {\\n                var dasharray = {\\n                    \\\"-\\\": \\\"shortdash\\\",\\n                    \\\".\\\": \\\"shortdot\\\",\\n                    \\\"-.\\\": \\\"shortdashdot\\\",\\n                    \\\"-..\\\": \\\"shortdashdotdot\\\",\\n                    \\\". \\\": \\\"dot\\\",\\n                    \\\"- \\\": \\\"dash\\\",\\n                    \\\"--\\\": \\\"longdash\\\",\\n                    \\\"- .\\\": \\\"dashdot\\\",\\n                    \\\"--.\\\": \\\"longdashdot\\\",\\n                    \\\"--..\\\": \\\"longdashdotdot\\\"\\n                };\\n                stroke.dashstyle = dasharray[has](params[\\\"stroke-dasharray\\\"]) ? dasharray[params[\\\"stroke-dasharray\\\"]] : E;\\n            }\\n            newstroke && node.appendChild(stroke);\\n        }\\n        if (res.type == \\\"text\\\") {\\n            res.paper.canvas.style.display = E;\\n            var span = res.paper.span,\\n                m = 100,\\n                fontSize = a.font && a.font.match(/\\\\d+(?:\\\\.\\\\d*)?(?=px)/);\\n            s = span.style;\\n            a.font && (s.font = a.font);\\n            a[\\\"font-family\\\"] && (s.fontFamily = a[\\\"font-family\\\"]);\\n            a[\\\"font-weight\\\"] && (s.fontWeight = a[\\\"font-weight\\\"]);\\n            a[\\\"font-style\\\"] && (s.fontStyle = a[\\\"font-style\\\"]);\\n            fontSize = toFloat(a[\\\"font-size\\\"] || fontSize && fontSize[0]) || 10;\\n            s.fontSize = fontSize * m + \\\"px\\\";\\n            res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, \\\"&#60;\\\").replace(/&/g, \\\"&#38;\\\").replace(/\\\\n/g, \\\"<br>\\\"));\\n            var brect = span.getBoundingClientRect();\\n            res.W = a.w = (brect.right - brect.left) / m;\\n            res.H = a.h = (brect.bottom - brect.top) / m;\\n            // res.paper.canvas.style.display = \\\"none\\\";\\n            res.X = a.x;\\n            res.Y = a.y + res.H / 2;\\n\\n            (\\\"x\\\" in params || \\\"y\\\" in params) && (res.path.v = R.format(\\\"m{0},{1}l{2},{1}\\\", round(a.x * zoom), round(a.y * zoom), round(a.x * zoom) + 1));\\n            var dirtyattrs = [\\\"x\\\", \\\"y\\\", \\\"text\\\", \\\"font\\\", \\\"font-family\\\", \\\"font-weight\\\", \\\"font-style\\\", \\\"font-size\\\"];\\n            for (var d = 0, dd = dirtyattrs.length; d < dd; d++) if (dirtyattrs[d] in params) {\\n                res._.dirty = 1;\\n                break;\\n            }\\n\\n            // text-anchor emulation\\n            switch (a[\\\"text-anchor\\\"]) {\\n                case \\\"start\\\":\\n                    res.textpath.style[\\\"v-text-align\\\"] = \\\"left\\\";\\n                    res.bbx = res.W / 2;\\n                break;\\n                case \\\"end\\\":\\n                    res.textpath.style[\\\"v-text-align\\\"] = \\\"right\\\";\\n                    res.bbx = -res.W / 2;\\n                break;\\n                default:\\n                    res.textpath.style[\\\"v-text-align\\\"] = \\\"center\\\";\\n                    res.bbx = 0;\\n                break;\\n            }\\n            res.textpath.style[\\\"v-text-kern\\\"] = true;\\n        }\\n        // res.paper.canvas.style.display = E;\\n    },\\n    addGradientFill = function (o, gradient, fill) {\\n        o.attrs = o.attrs || {};\\n        var attrs = o.attrs,\\n            pow = Math.pow,\\n            opacity,\\n            oindex,\\n            type = \\\"linear\\\",\\n            fxfy = \\\".5 .5\\\";\\n        o.attrs.gradient = gradient;\\n        gradient = Str(gradient).replace(R._radial_gradient, function (all, fx, fy) {\\n            type = \\\"radial\\\";\\n            if (fx && fy) {\\n                fx = toFloat(fx);\\n                fy = toFloat(fy);\\n                pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = math.sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);\\n                fxfy = fx + S + fy;\\n            }\\n            return E;\\n        });\\n        gradient = gradient.split(/\\\\s*\\\\-\\\\s*/);\\n        if (type == \\\"linear\\\") {\\n            var angle = gradient.shift();\\n            angle = -toFloat(angle);\\n            if (isNaN(angle)) {\\n                return null;\\n            }\\n        }\\n        var dots = R._parseDots(gradient);\\n        if (!dots) {\\n            return null;\\n        }\\n        o = o.shape || o.node;\\n        if (dots.length) {\\n            o.removeChild(fill);\\n            fill.on = true;\\n            fill.method = \\\"none\\\";\\n            fill.color = dots[0].color;\\n            fill.color2 = dots[dots.length - 1].color;\\n            var clrs = [];\\n            for (var i = 0, ii = dots.length; i < ii; i++) {\\n                dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);\\n            }\\n            fill.colors = clrs.length ? clrs.join() : \\\"0% \\\" + fill.color;\\n            if (type == \\\"radial\\\") {\\n                fill.type = \\\"gradientTitle\\\";\\n                fill.focus = \\\"100%\\\";\\n                fill.focussize = \\\"0 0\\\";\\n                fill.focusposition = fxfy;\\n                fill.angle = 0;\\n            } else {\\n                // fill.rotate= true;\\n                fill.type = \\\"gradient\\\";\\n                fill.angle = (270 - angle) % 360;\\n            }\\n            o.appendChild(fill);\\n        }\\n        return 1;\\n    },\\n    Element = function (node, vml) {\\n        this[0] = this.node = node;\\n        node.raphael = true;\\n        this.id = R._oid++;\\n        node.raphaelid = this.id;\\n        this.X = 0;\\n        this.Y = 0;\\n        this.attrs = {};\\n        this.paper = vml;\\n        this.matrix = R.matrix();\\n        this._ = {\\n            transform: [],\\n            sx: 1,\\n            sy: 1,\\n            dx: 0,\\n            dy: 0,\\n            deg: 0,\\n            dirty: 1,\\n            dirtyT: 1\\n        };\\n        !vml.bottom && (vml.bottom = this);\\n        this.prev = vml.top;\\n        vml.top && (vml.top.next = this);\\n        vml.top = this;\\n        this.next = null;\\n    };\\n    var elproto = R.el;\\n\\n    Element.prototype = elproto;\\n    elproto.constructor = Element;\\n    elproto.transform = function (tstr) {\\n        if (tstr == null) {\\n            return this._.transform;\\n        }\\n        var vbs = this.paper._viewBoxShift,\\n            vbt = vbs ? \\\"s\\\" + [vbs.scale, vbs.scale] + \\\"-1-1t\\\" + [vbs.dx, vbs.dy] : E,\\n            oldt;\\n        if (vbs) {\\n            oldt = tstr = Str(tstr).replace(/\\\\.{3}|\\\\u2026/g, this._.transform || E);\\n        }\\n        R._extractTransform(this, vbt + tstr);\\n        var matrix = this.matrix.clone(),\\n            skew = this.skew,\\n            o = this.node,\\n            split,\\n            isGrad = ~Str(this.attrs.fill).indexOf(\\\"-\\\"),\\n            isPatt = !Str(this.attrs.fill).indexOf(\\\"url(\\\");\\n        matrix.translate(1, 1);\\n        if (isPatt || isGrad || this.type == \\\"image\\\") {\\n            skew.matrix = \\\"1 0 0 1\\\";\\n            skew.offset = \\\"0 0\\\";\\n            split = matrix.split();\\n            if ((isGrad && split.noRotation) || !split.isSimple) {\\n                o.style.filter = matrix.toFilter();\\n                var bb = this.getBBox(),\\n                    bbt = this.getBBox(1),\\n                    dx = bb.x - bbt.x,\\n                    dy = bb.y - bbt.y;\\n                o.coordorigin = (dx * -zoom) + S + (dy * -zoom);\\n                setCoords(this, 1, 1, dx, dy, 0);\\n            } else {\\n                o.style.filter = E;\\n                setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);\\n            }\\n        } else {\\n            o.style.filter = E;\\n            skew.matrix = Str(matrix);\\n            skew.offset = matrix.offset();\\n        }\\n        if (oldt !== null) { // empty string value is true as well\\n            this._.transform = oldt;\\n            R._extractTransform(this, oldt);\\n        }\\n        return this;\\n    };\\n    elproto.rotate = function (deg, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (deg == null) {\\n            return;\\n        }\\n        deg = Str(deg).split(separator);\\n        if (deg.length - 1) {\\n            cx = toFloat(deg[1]);\\n            cy = toFloat(deg[2]);\\n        }\\n        deg = toFloat(deg[0]);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n            cx = bbox.x + bbox.width / 2;\\n            cy = bbox.y + bbox.height / 2;\\n        }\\n        this._.dirtyT = 1;\\n        this.transform(this._.transform.concat([[\\\"r\\\", deg, cx, cy]]));\\n        return this;\\n    };\\n    elproto.translate = function (dx, dy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        dx = Str(dx).split(separator);\\n        if (dx.length - 1) {\\n            dy = toFloat(dx[1]);\\n        }\\n        dx = toFloat(dx[0]) || 0;\\n        dy = +dy || 0;\\n        if (this._.bbox) {\\n            this._.bbox.x += dx;\\n            this._.bbox.y += dy;\\n        }\\n        this.transform(this._.transform.concat([[\\\"t\\\", dx, dy]]));\\n        return this;\\n    };\\n    elproto.scale = function (sx, sy, cx, cy) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        sx = Str(sx).split(separator);\\n        if (sx.length - 1) {\\n            sy = toFloat(sx[1]);\\n            cx = toFloat(sx[2]);\\n            cy = toFloat(sx[3]);\\n            isNaN(cx) && (cx = null);\\n            isNaN(cy) && (cy = null);\\n        }\\n        sx = toFloat(sx[0]);\\n        (sy == null) && (sy = sx);\\n        (cy == null) && (cx = cy);\\n        if (cx == null || cy == null) {\\n            var bbox = this.getBBox(1);\\n        }\\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\\n\\n        this.transform(this._.transform.concat([[\\\"s\\\", sx, sy, cx, cy]]));\\n        this._.dirtyT = 1;\\n        return this;\\n    };\\n    elproto.hide = function () {\\n        !this.removed && (this.node.style.display = \\\"none\\\");\\n        return this;\\n    };\\n    elproto.show = function () {\\n        !this.removed && (this.node.style.display = E);\\n        return this;\\n    };\\n    // Needed to fix the vml setViewBox issues\\n    elproto.auxGetBBox = R.el.getBBox;\\n    elproto.getBBox = function(){\\n      var b = this.auxGetBBox();\\n      if (this.paper && this.paper._viewBoxShift)\\n      {\\n        var c = {};\\n        var z = 1/this.paper._viewBoxShift.scale;\\n        c.x = b.x - this.paper._viewBoxShift.dx;\\n        c.x *= z;\\n        c.y = b.y - this.paper._viewBoxShift.dy;\\n        c.y *= z;\\n        c.width  = b.width  * z;\\n        c.height = b.height * z;\\n        c.x2 = c.x + c.width;\\n        c.y2 = c.y + c.height;\\n        return c;\\n      }\\n      return b;\\n    };\\n    elproto._getBBox = function () {\\n        if (this.removed) {\\n            return {};\\n        }\\n        return {\\n            x: this.X + (this.bbx || 0) - this.W / 2,\\n            y: this.Y - this.H,\\n            width: this.W,\\n            height: this.H\\n        };\\n    };\\n    elproto.remove = function () {\\n        if (this.removed || !this.node.parentNode) {\\n            return;\\n        }\\n        this.paper.__set__ && this.paper.__set__.exclude(this);\\n        R.eve.unbind(\\\"raphael.*.*.\\\" + this.id);\\n        R._tear(this, this.paper);\\n        this.node.parentNode.removeChild(this.node);\\n        this.shape && this.shape.parentNode.removeChild(this.shape);\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n        this.removed = true;\\n    };\\n    elproto.attr = function (name, value) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (name == null) {\\n            var res = {};\\n            for (var a in this.attrs) if (this.attrs[has](a)) {\\n                res[a] = this.attrs[a];\\n            }\\n            res.gradient && res.fill == \\\"none\\\" && (res.fill = res.gradient) && delete res.gradient;\\n            res.transform = this._.transform;\\n            return res;\\n        }\\n        if (value == null && R.is(name, \\\"string\\\")) {\\n            if (name == fillString && this.attrs.fill == \\\"none\\\" && this.attrs.gradient) {\\n                return this.attrs.gradient;\\n            }\\n            var names = name.split(separator),\\n                out = {};\\n            for (var i = 0, ii = names.length; i < ii; i++) {\\n                name = names[i];\\n                if (name in this.attrs) {\\n                    out[name] = this.attrs[name];\\n                } else if (R.is(this.paper.customAttributes[name], \\\"function\\\")) {\\n                    out[name] = this.paper.customAttributes[name].def;\\n                } else {\\n                    out[name] = R._availableAttrs[name];\\n                }\\n            }\\n            return ii - 1 ? out : out[names[0]];\\n        }\\n        if (this.attrs && value == null && R.is(name, \\\"array\\\")) {\\n            out = {};\\n            for (i = 0, ii = name.length; i < ii; i++) {\\n                out[name[i]] = this.attr(name[i]);\\n            }\\n            return out;\\n        }\\n        var params;\\n        if (value != null) {\\n            params = {};\\n            params[name] = value;\\n        }\\n        value == null && R.is(name, \\\"object\\\") && (params = name);\\n        for (var key in params) {\\n            eve(\\\"raphael.attr.\\\" + key + \\\".\\\" + this.id, this, params[key]);\\n        }\\n        if (params) {\\n            for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], \\\"function\\\")) {\\n                var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\\n                this.attrs[key] = params[key];\\n                for (var subkey in par) if (par[has](subkey)) {\\n                    params[subkey] = par[subkey];\\n                }\\n            }\\n            // this.paper.canvas.style.display = \\\"none\\\";\\n            if (params.text && this.type == \\\"text\\\") {\\n                this.textpath.string = params.text;\\n            }\\n            setFillAndStroke(this, params);\\n            // this.paper.canvas.style.display = E;\\n        }\\n        return this;\\n    };\\n    elproto.toFront = function () {\\n        !this.removed && this.node.parentNode.appendChild(this.node);\\n        this.paper && this.paper.top != this && R._tofront(this, this.paper);\\n        return this;\\n    };\\n    elproto.toBack = function () {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (this.node.parentNode.firstChild != this.node) {\\n            this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);\\n            R._toback(this, this.paper);\\n        }\\n        return this;\\n    };\\n    elproto.insertAfter = function (element) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (element.constructor == R.st.constructor) {\\n            element = element[element.length - 1];\\n        }\\n        if (element.node.nextSibling) {\\n            element.node.parentNode.insertBefore(this.node, element.node.nextSibling);\\n        } else {\\n            element.node.parentNode.appendChild(this.node);\\n        }\\n        R._insertafter(this, element, this.paper);\\n        return this;\\n    };\\n    elproto.insertBefore = function (element) {\\n        if (this.removed) {\\n            return this;\\n        }\\n        if (element.constructor == R.st.constructor) {\\n            element = element[0];\\n        }\\n        element.node.parentNode.insertBefore(this.node, element.node);\\n        R._insertbefore(this, element, this.paper);\\n        return this;\\n    };\\n    elproto.blur = function (size) {\\n        var s = this.node.runtimeStyle,\\n            f = s.filter;\\n        f = f.replace(blurregexp, E);\\n        if (+size !== 0) {\\n            this.attrs.blur = size;\\n            s.filter = f + S + ms + \\\".Blur(pixelradius=\\\" + (+size || 1.5) + \\\")\\\";\\n            s.margin = R.format(\\\"-{0}px 0 0 -{0}px\\\", round(+size || 1.5));\\n        } else {\\n            s.filter = f;\\n            s.margin = 0;\\n            delete this.attrs.blur;\\n        }\\n        return this;\\n    };\\n\\n    R._engine.path = function (pathString, vml) {\\n        var el = createNode(\\\"shape\\\");\\n        el.style.cssText = cssDot;\\n        el.coordsize = zoom + S + zoom;\\n        el.coordorigin = vml.coordorigin;\\n        var p = new Element(el, vml),\\n            attr = {fill: \\\"none\\\", stroke: \\\"#000\\\"};\\n        pathString && (attr.path = pathString);\\n        p.type = \\\"path\\\";\\n        p.path = [];\\n        p.Path = E;\\n        setFillAndStroke(p, attr);\\n        vml.canvas && vml.canvas.appendChild(el);\\n        var skew = createNode(\\\"skew\\\");\\n        skew.on = true;\\n        el.appendChild(skew);\\n        p.skew = skew;\\n        p.transform(E);\\n        return p;\\n    };\\n    R._engine.rect = function (vml, x, y, w, h, r) {\\n        var path = R._rectPath(x, y, w, h, r),\\n            res = vml.path(path),\\n            a = res.attrs;\\n        res.X = a.x = x;\\n        res.Y = a.y = y;\\n        res.W = a.width = w;\\n        res.H = a.height = h;\\n        a.r = r;\\n        a.path = path;\\n        res.type = \\\"rect\\\";\\n        return res;\\n    };\\n    R._engine.ellipse = function (vml, x, y, rx, ry) {\\n        var res = vml.path(),\\n            a = res.attrs;\\n        res.X = x - rx;\\n        res.Y = y - ry;\\n        res.W = rx * 2;\\n        res.H = ry * 2;\\n        res.type = \\\"ellipse\\\";\\n        setFillAndStroke(res, {\\n            cx: x,\\n            cy: y,\\n            rx: rx,\\n            ry: ry\\n        });\\n        return res;\\n    };\\n    R._engine.circle = function (vml, x, y, r) {\\n        var res = vml.path(),\\n            a = res.attrs;\\n        res.X = x - r;\\n        res.Y = y - r;\\n        res.W = res.H = r * 2;\\n        res.type = \\\"circle\\\";\\n        setFillAndStroke(res, {\\n            cx: x,\\n            cy: y,\\n            r: r\\n        });\\n        return res;\\n    };\\n    R._engine.image = function (vml, src, x, y, w, h) {\\n        var path = R._rectPath(x, y, w, h),\\n            res = vml.path(path).attr({stroke: \\\"none\\\"}),\\n            a = res.attrs,\\n            node = res.node,\\n            fill = node.getElementsByTagName(fillString)[0];\\n        a.src = src;\\n        res.X = a.x = x;\\n        res.Y = a.y = y;\\n        res.W = a.width = w;\\n        res.H = a.height = h;\\n        a.path = path;\\n        res.type = \\\"image\\\";\\n        fill.parentNode == node && node.removeChild(fill);\\n        fill.rotate = true;\\n        fill.src = src;\\n        fill.type = \\\"tile\\\";\\n        res._.fillpos = [x, y];\\n        res._.fillsize = [w, h];\\n        node.appendChild(fill);\\n        setCoords(res, 1, 1, 0, 0, 0);\\n        return res;\\n    };\\n    R._engine.text = function (vml, x, y, text) {\\n        var el = createNode(\\\"shape\\\"),\\n            path = createNode(\\\"path\\\"),\\n            o = createNode(\\\"textpath\\\");\\n        x = x || 0;\\n        y = y || 0;\\n        text = text || \\\"\\\";\\n        path.v = R.format(\\\"m{0},{1}l{2},{1}\\\", round(x * zoom), round(y * zoom), round(x * zoom) + 1);\\n        path.textpathok = true;\\n        o.string = Str(text);\\n        o.on = true;\\n        el.style.cssText = cssDot;\\n        el.coordsize = zoom + S + zoom;\\n        el.coordorigin = \\\"0 0\\\";\\n        var p = new Element(el, vml),\\n            attr = {\\n                fill: \\\"#000\\\",\\n                stroke: \\\"none\\\",\\n                font: R._availableAttrs.font,\\n                text: text\\n            };\\n        p.shape = el;\\n        p.path = path;\\n        p.textpath = o;\\n        p.type = \\\"text\\\";\\n        p.attrs.text = Str(text);\\n        p.attrs.x = x;\\n        p.attrs.y = y;\\n        p.attrs.w = 1;\\n        p.attrs.h = 1;\\n        setFillAndStroke(p, attr);\\n        el.appendChild(o);\\n        el.appendChild(path);\\n        vml.canvas.appendChild(el);\\n        var skew = createNode(\\\"skew\\\");\\n        skew.on = true;\\n        el.appendChild(skew);\\n        p.skew = skew;\\n        p.transform(E);\\n        return p;\\n    };\\n    R._engine.setSize = function (width, height) {\\n        var cs = this.canvas.style;\\n        this.width = width;\\n        this.height = height;\\n        width == +width && (width += \\\"px\\\");\\n        height == +height && (height += \\\"px\\\");\\n        cs.width = width;\\n        cs.height = height;\\n        cs.clip = \\\"rect(0 \\\" + width + \\\" \\\" + height + \\\" 0)\\\";\\n        if (this._viewBox) {\\n            R._engine.setViewBox.apply(this, this._viewBox);\\n        }\\n        return this;\\n    };\\n    R._engine.setViewBox = function (x, y, w, h, fit) {\\n        R.eve(\\\"raphael.setViewBox\\\", this, this._viewBox, [x, y, w, h, fit]);\\n        var paperSize = this.getSize(),\\n            width = paperSize.width,\\n            height = paperSize.height,\\n            H, W;\\n        if (fit) {\\n            H = height / h;\\n            W = width / w;\\n            if (w * H < width) {\\n                x -= (width - w * H) / 2 / H;\\n            }\\n            if (h * W < height) {\\n                y -= (height - h * W) / 2 / W;\\n            }\\n        }\\n        this._viewBox = [x, y, w, h, !!fit];\\n        this._viewBoxShift = {\\n            dx: -x,\\n            dy: -y,\\n            scale: paperSize\\n        };\\n        this.forEach(function (el) {\\n            el.transform(\\\"...\\\");\\n        });\\n        return this;\\n    };\\n    var createNode;\\n    R._engine.initWin = function (win) {\\n            var doc = win.document;\\n            if (doc.styleSheets.length < 31) {\\n                doc.createStyleSheet().addRule(\\\".rvml\\\", \\\"behavior:url(#default#VML)\\\");\\n            } else {\\n                // no more room, add to the existing one\\n                // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\\n                doc.styleSheets[0].addRule(\\\".rvml\\\", \\\"behavior:url(#default#VML)\\\");\\n            }\\n            try {\\n                !doc.namespaces.rvml && doc.namespaces.add(\\\"rvml\\\", \\\"urn:schemas-microsoft-com:vml\\\");\\n                createNode = function (tagName) {\\n                    return doc.createElement('<rvml:' + tagName + ' class=\\\"rvml\\\">');\\n                };\\n            } catch (e) {\\n                createNode = function (tagName) {\\n                    return doc.createElement('<' + tagName + ' xmlns=\\\"urn:schemas-microsoft.com:vml\\\" class=\\\"rvml\\\">');\\n                };\\n            }\\n        };\\n    R._engine.initWin(R._g.win);\\n    R._engine.create = function () {\\n        var con = R._getContainer.apply(0, arguments),\\n            container = con.container,\\n            height = con.height,\\n            s,\\n            width = con.width,\\n            x = con.x,\\n            y = con.y;\\n        if (!container) {\\n            throw new Error(\\\"VML container not found.\\\");\\n        }\\n        var res = new R._Paper,\\n            c = res.canvas = R._g.doc.createElement(\\\"div\\\"),\\n            cs = c.style;\\n        x = x || 0;\\n        y = y || 0;\\n        width = width || 512;\\n        height = height || 342;\\n        res.width = width;\\n        res.height = height;\\n        width == +width && (width += \\\"px\\\");\\n        height == +height && (height += \\\"px\\\");\\n        res.coordsize = zoom * 1e3 + S + zoom * 1e3;\\n        res.coordorigin = \\\"0 0\\\";\\n        res.span = R._g.doc.createElement(\\\"span\\\");\\n        res.span.style.cssText = \\\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\\\";\\n        c.appendChild(res.span);\\n        cs.cssText = R.format(\\\"top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\\\", width, height);\\n        if (container == 1) {\\n            R._g.doc.body.appendChild(c);\\n            cs.left = x + \\\"px\\\";\\n            cs.top = y + \\\"px\\\";\\n            cs.position = \\\"absolute\\\";\\n        } else {\\n            if (container.firstChild) {\\n                container.insertBefore(c, container.firstChild);\\n            } else {\\n                container.appendChild(c);\\n            }\\n        }\\n        res.renderfix = function () {};\\n        return res;\\n    };\\n    R.prototype.clear = function () {\\n        R.eve(\\\"raphael.clear\\\", this);\\n        this.canvas.innerHTML = E;\\n        this.span = R._g.doc.createElement(\\\"span\\\");\\n        this.span.style.cssText = \\\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\\\";\\n        this.canvas.appendChild(this.span);\\n        this.bottom = this.top = null;\\n    };\\n    R.prototype.remove = function () {\\n        R.eve(\\\"raphael.remove\\\", this);\\n        this.canvas.parentNode.removeChild(this.canvas);\\n        for (var i in this) {\\n            this[i] = typeof this[i] == \\\"function\\\" ? R._removedFactory(i) : null;\\n        }\\n        return true;\\n    };\\n\\n    var setproto = R.st;\\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\\n        setproto[method] = (function (methodname) {\\n            return function () {\\n                var arg = arguments;\\n                return this.forEach(function (el) {\\n                    el[methodname].apply(el, arg);\\n                });\\n            };\\n        })(method);\\n    }\\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC52bWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwudm1sLmpzP2JhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIudm1sKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgcm91bmQgPSBtYXRoLnJvdW5kLFxuICAgICAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICAgICAgYWJzID0gbWF0aC5hYnMsXG4gICAgICAgIGZpbGxTdHJpbmcgPSBcImZpbGxcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1ssIF0rLyxcbiAgICAgICAgZXZlID0gUi5ldmUsXG4gICAgICAgIG1zID0gXCIgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0XCIsXG4gICAgICAgIFMgPSBcIiBcIixcbiAgICAgICAgRSA9IFwiXCIsXG4gICAgICAgIG1hcCA9IHtNOiBcIm1cIiwgTDogXCJsXCIsIEM6IFwiY1wiLCBaOiBcInhcIiwgbTogXCJ0XCIsIGw6IFwiclwiLCBjOiBcInZcIiwgejogXCJ4XCJ9LFxuICAgICAgICBiaXRlcyA9IC8oW2NsbXpdKSw/KFteY2xtel0qKS9naSxcbiAgICAgICAgYmx1cnJlZ2V4cCA9IC8gcHJvZ2lkOlxcUytCbHVyXFwoW15cXCldK1xcKS9nLFxuICAgICAgICB2YWwgPSAvLT9bXixcXHMtXSsvZyxcbiAgICAgICAgY3NzRG90ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIixcbiAgICAgICAgem9vbSA9IDIxNjAwLFxuICAgICAgICBwYXRoVHlwZXMgPSB7cGF0aDogMSwgcmVjdDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBvdmFsVHlwZXMgPSB7Y2lyY2xlOiAxLCBlbGxpcHNlOiAxfSxcbiAgICAgICAgcGF0aDJ2bWwgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gIC9bYWhxc3R2XS9pZyxcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gUi5fcGF0aFRvQWJzb2x1dGU7XG4gICAgICAgICAgICBTdHIocGF0aCkubWF0Y2godG90YWwpICYmIChjb21tYW5kID0gUi5fcGF0aDJjdXJ2ZSk7XG4gICAgICAgICAgICB0b3RhbCA9IC9bY2xtel0vZztcbiAgICAgICAgICAgIGlmIChjb21tYW5kID09IFIuX3BhdGhUb0Fic29sdXRlICYmICFTdHIocGF0aCkubWF0Y2godG90YWwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IFN0cihwYXRoKS5yZXBsYWNlKGJpdGVzLCBmdW5jdGlvbiAoYWxsLCBjb21tYW5kLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vdmUgPSBjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT0gXCJtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBtYXBbY29tbWFuZF07XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucmVwbGFjZSh2YWwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZSAmJiB2YWxzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9IHZhbHMgKyBtYXBbY29tbWFuZCA9PSBcIm1cIiA/IFwibFwiIDogXCJMXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChyb3VuZCh2YWx1ZSAqIHpvb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMgKyB2YWxzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGEgPSBjb21tYW5kKHBhdGgpLCBwLCByO1xuICAgICAgICAgICAgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcCA9IHBhW2ldO1xuICAgICAgICAgICAgICAgIHIgPSBwYVtpXVswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHIgPT0gXCJ6XCIgJiYgKHIgPSBcInhcIik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gcC5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgKz0gcm91bmQocFtqXSAqIHpvb20pICsgKGogIT0gamogLSAxID8gXCIsXCIgOiBFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpvaW4oUyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBlbnNhdGlvbiA9IGZ1bmN0aW9uIChkZWcsIGR4LCBkeSkge1xuICAgICAgICAgICAgdmFyIG0gPSBSLm1hdHJpeCgpO1xuICAgICAgICAgICAgbS5yb3RhdGUoLWRlZywgLjUsIC41KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZHg6IG0ueChkeCwgZHkpLFxuICAgICAgICAgICAgICAgIGR5OiBtLnkoZHgsIGR5KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29vcmRzID0gZnVuY3Rpb24gKHAsIHN4LCBzeSwgZHgsIGR5LCBkZWcpIHtcbiAgICAgICAgICAgIHZhciBfID0gcC5fLFxuICAgICAgICAgICAgICAgIG0gPSBwLm1hdHJpeCxcbiAgICAgICAgICAgICAgICBmaWxscG9zID0gXy5maWxscG9zLFxuICAgICAgICAgICAgICAgIG8gPSBwLm5vZGUsXG4gICAgICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICAgICAgeSA9IDEsXG4gICAgICAgICAgICAgICAgZmxpcCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZHhkeSxcbiAgICAgICAgICAgICAgICBreCA9IHpvb20gLyBzeCxcbiAgICAgICAgICAgICAgICBreSA9IHpvb20gLyBzeTtcbiAgICAgICAgICAgIHMudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBpZiAoIXN4IHx8ICFzeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG8uY29vcmRzaXplID0gYWJzKGt4KSArIFMgKyBhYnMoa3kpO1xuICAgICAgICAgICAgcy5yb3RhdGlvbiA9IGRlZyAqIChzeCAqIHN5IDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICBpZiAoZGVnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBjb21wZW5zYXRpb24oZGVnLCBkeCwgZHkpO1xuICAgICAgICAgICAgICAgIGR4ID0gYy5keDtcbiAgICAgICAgICAgICAgICBkeSA9IGMuZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzeCA8IDAgJiYgKGZsaXAgKz0gXCJ4XCIpO1xuICAgICAgICAgICAgc3kgPCAwICYmIChmbGlwICs9IFwiIHlcIikgJiYgKHkgPSAtMSk7XG4gICAgICAgICAgICBzLmZsaXAgPSBmbGlwO1xuICAgICAgICAgICAgby5jb29yZG9yaWdpbiA9IChkeCAqIC1reCkgKyBTICsgKGR5ICogLWt5KTtcbiAgICAgICAgICAgIGlmIChmaWxscG9zIHx8IF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IG8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZmlsbFN0cmluZyk7XG4gICAgICAgICAgICAgICAgZmlsbCA9IGZpbGwgJiYgZmlsbFswXTtcbiAgICAgICAgICAgICAgICBvLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxscG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBjb21wZW5zYXRpb24oZGVnLCBtLngoZmlsbHBvc1swXSwgZmlsbHBvc1sxXSksIG0ueShmaWxscG9zWzBdLCBmaWxscG9zWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwucG9zaXRpb24gPSBjLmR4ICogeSArIFMgKyBjLmR5ICogeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zaXplID0gXy5maWxsc2l6ZVswXSAqIGFicyhzeCkgKyBTICsgXy5maWxsc2l6ZVsxXSAqIGFicyhzeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uYXBwZW5kQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgfTtcbiAgICBSLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIFwiWW91ciBicm93c2VyIGRvZXNuXFx1MjAxOXQgc3VwcG9ydCBTVkcuIEZhbGxpbmcgZG93biB0byBWTUwuXFxuWW91IGFyZSBydW5uaW5nIFJhcGhhXFx4ZWJsIFwiICsgdGhpcy52ZXJzaW9uO1xuICAgIH07XG4gICAgdmFyIGFkZEFycm93ID0gZnVuY3Rpb24gKG8sIHZhbHVlLCBpc0VuZCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gU3RyKHZhbHVlKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLVwiKSxcbiAgICAgICAgICAgIHNlID0gaXNFbmQgPyBcImVuZFwiIDogXCJzdGFydFwiLFxuICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlID0gXCJjbGFzc2ljXCIsXG4gICAgICAgICAgICB3ID0gXCJtZWRpdW1cIixcbiAgICAgICAgICAgIGggPSBcIm1lZGl1bVwiO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc2ljXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm92YWxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIndpZGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFycm93XCI6IGggPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNob3J0XCI6IHcgPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJva2UgPSBvLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF07XG4gICAgICAgIHN0cm9rZVtzZSArIFwiYXJyb3dcIl0gPSB0eXBlO1xuICAgICAgICBzdHJva2Vbc2UgKyBcImFycm93bGVuZ3RoXCJdID0gdztcbiAgICAgICAgc3Ryb2tlW3NlICsgXCJhcnJvd3dpZHRoXCJdID0gaDtcbiAgICB9LFxuICAgIHNldEZpbGxBbmRTdHJva2UgPSBmdW5jdGlvbiAobywgcGFyYW1zKSB7XG4gICAgICAgIC8vIG8ucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgby5hdHRycyA9IG8uYXR0cnMgfHwge307XG4gICAgICAgIHZhciBub2RlID0gby5ub2RlLFxuICAgICAgICAgICAgYSA9IG8uYXR0cnMsXG4gICAgICAgICAgICBzID0gbm9kZS5zdHlsZSxcbiAgICAgICAgICAgIHh5LFxuICAgICAgICAgICAgbmV3cGF0aCA9IHBhdGhUeXBlc1tvLnR5cGVdICYmIChwYXJhbXMueCAhPSBhLnggfHwgcGFyYW1zLnkgIT0gYS55IHx8IHBhcmFtcy53aWR0aCAhPSBhLndpZHRoIHx8IHBhcmFtcy5oZWlnaHQgIT0gYS5oZWlnaHQgfHwgcGFyYW1zLmN4ICE9IGEuY3ggfHwgcGFyYW1zLmN5ICE9IGEuY3kgfHwgcGFyYW1zLnJ4ICE9IGEucnggfHwgcGFyYW1zLnJ5ICE9IGEucnkgfHwgcGFyYW1zLnIgIT0gYS5yKSxcbiAgICAgICAgICAgIGlzT3ZhbCA9IG92YWxUeXBlc1tvLnR5cGVdICYmIChhLmN4ICE9IHBhcmFtcy5jeCB8fCBhLmN5ICE9IHBhcmFtcy5jeSB8fCBhLnIgIT0gcGFyYW1zLnIgfHwgYS5yeCAhPSBwYXJhbXMucnggfHwgYS5yeSAhPSBwYXJhbXMucnkpLFxuICAgICAgICAgICAgcmVzID0gbztcblxuXG4gICAgICAgIGZvciAodmFyIHBhciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShwYXIpKSB7XG4gICAgICAgICAgICBhW3Bhcl0gPSBwYXJhbXNbcGFyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3cGF0aCkge1xuICAgICAgICAgICAgYS5wYXRoID0gUi5fZ2V0UGF0aFtvLnR5cGVdKG8pO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuaHJlZiAmJiAobm9kZS5ocmVmID0gcGFyYW1zLmhyZWYpO1xuICAgICAgICBwYXJhbXMudGl0bGUgJiYgKG5vZGUudGl0bGUgPSBwYXJhbXMudGl0bGUpO1xuICAgICAgICBwYXJhbXMudGFyZ2V0ICYmIChub2RlLnRhcmdldCA9IHBhcmFtcy50YXJnZXQpO1xuICAgICAgICBwYXJhbXMuY3Vyc29yICYmIChzLmN1cnNvciA9IHBhcmFtcy5jdXJzb3IpO1xuICAgICAgICBcImJsdXJcIiBpbiBwYXJhbXMgJiYgby5ibHVyKHBhcmFtcy5ibHVyKTtcbiAgICAgICAgaWYgKHBhcmFtcy5wYXRoICYmIG8udHlwZSA9PSBcInBhdGhcIiB8fCBuZXdwYXRoKSB7XG4gICAgICAgICAgICBub2RlLnBhdGggPSBwYXRoMnZtbCh+U3RyKGEucGF0aCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiclwiKSA/IFIuX3BhdGhUb0Fic29sdXRlKGEucGF0aCkgOiBhLnBhdGgpO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICAgICAgby5fLmZpbGxwb3MgPSBbYS54LCBhLnldO1xuICAgICAgICAgICAgICAgIG8uXy5maWxsc2l6ZSA9IFthLndpZHRoLCBhLmhlaWdodF07XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKG8sIDEsIDEsIDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFwidHJhbnNmb3JtXCIgaW4gcGFyYW1zICYmIG8udHJhbnNmb3JtKHBhcmFtcy50cmFuc2Zvcm0pO1xuICAgICAgICBpZiAoaXNPdmFsKSB7XG4gICAgICAgICAgICB2YXIgY3ggPSArYS5jeCxcbiAgICAgICAgICAgICAgICBjeSA9ICthLmN5LFxuICAgICAgICAgICAgICAgIHJ4ID0gK2EucnggfHwgK2EuciB8fCAwLFxuICAgICAgICAgICAgICAgIHJ5ID0gK2EucnkgfHwgK2EuciB8fCAwO1xuICAgICAgICAgICAgbm9kZS5wYXRoID0gUi5mb3JtYXQoXCJhcnswfSx7MX0sezJ9LHszfSx7NH0sezF9LHs0fSx7MX14XCIsIHJvdW5kKChjeCAtIHJ4KSAqIHpvb20pLCByb3VuZCgoY3kgLSByeSkgKiB6b29tKSwgcm91bmQoKGN4ICsgcngpICogem9vbSksIHJvdW5kKChjeSArIHJ5KSAqIHpvb20pLCByb3VuZChjeCAqIHpvb20pKTtcbiAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xpcC1yZWN0XCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IFN0cihwYXJhbXNbXCJjbGlwLXJlY3RcIl0pLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgIHJlY3RbMl0gPSArcmVjdFsyXSArICgrcmVjdFswXSk7XG4gICAgICAgICAgICAgICAgcmVjdFszXSA9ICtyZWN0WzNdICsgKCtyZWN0WzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gbm9kZS5jbGlwUmVjdCB8fCBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgICAgICAgICBkc3R5bGUgPSBkaXYuc3R5bGU7XG4gICAgICAgICAgICAgICAgZHN0eWxlLmNsaXAgPSBSLmZvcm1hdChcInJlY3QoezF9cHggezJ9cHggezN9cHggezB9cHgpXCIsIHJlY3QpO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZS5jbGlwUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS50b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUubGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS53aWR0aCA9IG8ucGFwZXIud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS5oZWlnaHQgPSBvLnBhcGVyLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2xpcFJlY3QgPSBkaXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJhbXNbXCJjbGlwLXJlY3RcIl0pIHtcbiAgICAgICAgICAgICAgICBub2RlLmNsaXBSZWN0ICYmIChub2RlLmNsaXBSZWN0LnN0eWxlLmNsaXAgPSBcImF1dG9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8udGV4dHBhdGgpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0cGF0aFN0eWxlID0gby50ZXh0cGF0aC5zdHlsZTtcbiAgICAgICAgICAgIHBhcmFtcy5mb250ICYmICh0ZXh0cGF0aFN0eWxlLmZvbnQgPSBwYXJhbXMuZm9udCk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LWZhbWlseVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250RmFtaWx5ID0gJ1wiJyArIHBhcmFtc1tcImZvbnQtZmFtaWx5XCJdLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKC9eWydcIl0rfFsnXCJdKyQvZywgRSkgKyAnXCInKTtcbiAgICAgICAgICAgIHBhcmFtc1tcImZvbnQtc2l6ZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U2l6ZSA9IHBhcmFtc1tcImZvbnQtc2l6ZVwiXSk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LXdlaWdodFwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250V2VpZ2h0ID0gcGFyYW1zW1wiZm9udC13ZWlnaHRcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wiZm9udC1zdHlsZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U3R5bGUgPSBwYXJhbXNbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJhcnJvdy1zdGFydFwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgYWRkQXJyb3cocmVzLCBwYXJhbXNbXCJhcnJvdy1zdGFydFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiYXJyb3ctZW5kXCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBhZGRBcnJvdyhyZXMsIHBhcmFtc1tcImFycm93LWVuZFwiXSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5vcGFjaXR5ICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5maWxsICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5zcmMgIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zLnN0cm9rZSAhPSBudWxsIHx8XG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW9wYWNpdHlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLWxpbmVqb2luXCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBmaWxsID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShmaWxsU3RyaW5nKSxcbiAgICAgICAgICAgICAgICBuZXdmaWxsID0gZmFsc2U7XG4gICAgICAgICAgICBmaWxsID0gZmlsbCAmJiBmaWxsWzBdO1xuICAgICAgICAgICAgIWZpbGwgJiYgKG5ld2ZpbGwgPSBmaWxsID0gY3JlYXRlTm9kZShmaWxsU3RyaW5nKSk7XG4gICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIiAmJiBwYXJhbXMuc3JjKSB7XG4gICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBwYXJhbXMuc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyYW1zLmZpbGwgJiYgKGZpbGwub24gPSB0cnVlKTtcbiAgICAgICAgICAgIGlmIChmaWxsLm9uID09IG51bGwgfHwgcGFyYW1zLmZpbGwgPT0gXCJub25lXCIgfHwgcGFyYW1zLmZpbGwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmaWxsLm9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsbC5vbiAmJiBwYXJhbXMuZmlsbCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cihwYXJhbXMuZmlsbCkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgIGlmIChpc1VSTCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnBhcmVudE5vZGUgPT0gbm9kZSAmJiBub2RlLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuc3JjID0gaXNVUkxbMV07XG4gICAgICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwidGlsZVwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmJveCA9IG8uZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5wb3NpdGlvbiA9IGJib3gueCArIFMgKyBiYm94Lnk7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5maWxscG9zID0gW2Jib3gueCwgYmJveC55XTtcblxuICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZmlsbHNpemUgPSBbdGhpcy5vZmZzZXRXaWR0aCwgdGhpcy5vZmZzZXRIZWlnaHRdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLmNvbG9yID0gUi5nZXRSR0IocGFyYW1zLmZpbGwpLmhleDtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBFO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnR5cGUgPSBcInNvbGlkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSLmdldFJHQihwYXJhbXMuZmlsbCkuZXJyb3IgJiYgKHJlcy50eXBlIGluIHtjaXJjbGU6IDEsIGVsbGlwc2U6IDF9IHx8IFN0cihwYXJhbXMuZmlsbCkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChyZXMsIHBhcmFtcy5maWxsLCBmaWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5maWxsID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmdyYWRpZW50ID0gcGFyYW1zLmZpbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwiZmlsbC1vcGFjaXR5XCIgaW4gcGFyYW1zIHx8IFwib3BhY2l0eVwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gKCgrYVtcImZpbGwtb3BhY2l0eVwiXSArIDEgfHwgMikgLSAxKSAqICgoK2Eub3BhY2l0eSArIDEgfHwgMikgLSAxKSAqICgoK1IuZ2V0UkdCKHBhcmFtcy5maWxsKS5vICsgMSB8fCAyKSAtIDEpO1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBtbWluKG1tYXgob3BhY2l0eSwgMCksIDEpO1xuICAgICAgICAgICAgICAgIGZpbGwub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuY29sb3IgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZSA9IChub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3Ryb2tlXCIpICYmIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF0pLFxuICAgICAgICAgICAgbmV3c3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAhc3Ryb2tlICYmIChuZXdzdHJva2UgPSBzdHJva2UgPSBjcmVhdGVOb2RlKFwic3Ryb2tlXCIpKTtcbiAgICAgICAgICAgIGlmICgocGFyYW1zLnN0cm9rZSAmJiBwYXJhbXMuc3Ryb2tlICE9IFwibm9uZVwiKSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtZGFzaGFycmF5XCJdIHx8XG4gICAgICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWNhcFwiXSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZS5vbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAocGFyYW1zLnN0cm9rZSA9PSBcIm5vbmVcIiB8fCBwYXJhbXMuc3Ryb2tlID09PSBudWxsIHx8IHN0cm9rZS5vbiA9PSBudWxsIHx8IHBhcmFtcy5zdHJva2UgPT0gMCB8fCBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gPT0gMCkgJiYgKHN0cm9rZS5vbiA9IGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IFIuZ2V0UkdCKHBhcmFtcy5zdHJva2UpO1xuICAgICAgICAgICAgc3Ryb2tlLm9uICYmIHBhcmFtcy5zdHJva2UgJiYgKHN0cm9rZS5jb2xvciA9IHN0cm9rZUNvbG9yLmhleCk7XG4gICAgICAgICAgICBvcGFjaXR5ID0gKCgrYVtcInN0cm9rZS1vcGFjaXR5XCJdICsgMSB8fCAyKSAtIDEpICogKCgrYS5vcGFjaXR5ICsgMSB8fCAyKSAtIDEpICogKCgrc3Ryb2tlQ29sb3IubyArIDEgfHwgMikgLSAxKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICh0b0Zsb2F0KHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSkgfHwgMSkgKiAuNzU7XG4gICAgICAgICAgICBvcGFjaXR5ID0gbW1pbihtbWF4KG9wYWNpdHksIDApLCAxKTtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSA9PSBudWxsICYmICh3aWR0aCA9IGFbXCJzdHJva2Utd2lkdGhcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLXdpZHRoXCJdICYmIChzdHJva2Uud2VpZ2h0ID0gd2lkdGgpO1xuICAgICAgICAgICAgd2lkdGggJiYgd2lkdGggPCAxICYmIChvcGFjaXR5ICo9IHdpZHRoKSAmJiAoc3Ryb2tlLndlaWdodCA9IDEpO1xuICAgICAgICAgICAgc3Ryb2tlLm9wYWNpdHkgPSBvcGFjaXR5O1xuXG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gJiYgKHN0cm9rZS5qb2luc3R5bGUgPSBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHwgXCJtaXRlclwiKTtcbiAgICAgICAgICAgIHN0cm9rZS5taXRlcmxpbWl0ID0gcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHwgODtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICYmIChzdHJva2UuZW5kY2FwID0gcGFyYW1zW1wic3Ryb2tlLWxpbmVjYXBcIl0gPT0gXCJidXR0XCIgPyBcImZsYXRcIiA6IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdID09IFwic3F1YXJlXCIgPyBcInNxdWFyZVwiIDogXCJyb3VuZFwiKTtcbiAgICAgICAgICAgIGlmIChcInN0cm9rZS1kYXNoYXJyYXlcIiBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGFzaGFycmF5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIi1cIjogXCJzaG9ydGRhc2hcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuXCI6IFwic2hvcnRkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLlwiOiBcInNob3J0ZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0uLlwiOiBcInNob3J0ZGFzaGRvdGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi4gXCI6IFwiZG90XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLSBcIjogXCJkYXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLS1cIjogXCJsb25nZGFzaFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0gLlwiOiBcImRhc2hkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLS5cIjogXCJsb25nZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0tLi5cIjogXCJsb25nZGFzaGRvdGRvdFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdHJva2UuZGFzaHN0eWxlID0gZGFzaGFycmF5W2hhc10ocGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXSkgPyBkYXNoYXJyYXlbcGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXV0gOiBFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3c3Ryb2tlICYmIG5vZGUuYXBwZW5kQ2hpbGQoc3Ryb2tlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIHJlcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgICAgICB2YXIgc3BhbiA9IHJlcy5wYXBlci5zcGFuLFxuICAgICAgICAgICAgICAgIG0gPSAxMDAsXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSBhLmZvbnQgJiYgYS5mb250Lm1hdGNoKC9cXGQrKD86XFwuXFxkKik/KD89cHgpLyk7XG4gICAgICAgICAgICBzID0gc3Bhbi5zdHlsZTtcbiAgICAgICAgICAgIGEuZm9udCAmJiAocy5mb250ID0gYS5mb250KTtcbiAgICAgICAgICAgIGFbXCJmb250LWZhbWlseVwiXSAmJiAocy5mb250RmFtaWx5ID0gYVtcImZvbnQtZmFtaWx5XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXdlaWdodFwiXSAmJiAocy5mb250V2VpZ2h0ID0gYVtcImZvbnQtd2VpZ2h0XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXN0eWxlXCJdICYmIChzLmZvbnRTdHlsZSA9IGFbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgICAgIGZvbnRTaXplID0gdG9GbG9hdChhW1wiZm9udC1zaXplXCJdIHx8IGZvbnRTaXplICYmIGZvbnRTaXplWzBdKSB8fCAxMDtcbiAgICAgICAgICAgIHMuZm9udFNpemUgPSBmb250U2l6ZSAqIG0gKyBcInB4XCI7XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3RyaW5nICYmIChzcGFuLmlubmVySFRNTCA9IFN0cihyZXMudGV4dHBhdGguc3RyaW5nKS5yZXBsYWNlKC88L2csIFwiJiM2MDtcIikucmVwbGFjZSgvJi9nLCBcIiYjMzg7XCIpLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIikpO1xuICAgICAgICAgICAgdmFyIGJyZWN0ID0gc3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJlcy5XID0gYS53ID0gKGJyZWN0LnJpZ2h0IC0gYnJlY3QubGVmdCkgLyBtO1xuICAgICAgICAgICAgcmVzLkggPSBhLmggPSAoYnJlY3QuYm90dG9tIC0gYnJlY3QudG9wKSAvIG07XG4gICAgICAgICAgICAvLyByZXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHJlcy5YID0gYS54O1xuICAgICAgICAgICAgcmVzLlkgPSBhLnkgKyByZXMuSCAvIDI7XG5cbiAgICAgICAgICAgIChcInhcIiBpbiBwYXJhbXMgfHwgXCJ5XCIgaW4gcGFyYW1zKSAmJiAocmVzLnBhdGgudiA9IFIuZm9ybWF0KFwibXswfSx7MX1sezJ9LHsxfVwiLCByb3VuZChhLnggKiB6b29tKSwgcm91bmQoYS55ICogem9vbSksIHJvdW5kKGEueCAqIHpvb20pICsgMSkpO1xuICAgICAgICAgICAgdmFyIGRpcnR5YXR0cnMgPSBbXCJ4XCIsIFwieVwiLCBcInRleHRcIiwgXCJmb250XCIsIFwiZm9udC1mYW1pbHlcIiwgXCJmb250LXdlaWdodFwiLCBcImZvbnQtc3R5bGVcIiwgXCJmb250LXNpemVcIl07XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMCwgZGQgPSBkaXJ0eWF0dHJzLmxlbmd0aDsgZCA8IGRkOyBkKyspIGlmIChkaXJ0eWF0dHJzW2RdIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJlcy5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGV4dC1hbmNob3IgZW11bGF0aW9uXG4gICAgICAgICAgICBzd2l0Y2ggKGFbXCJ0ZXh0LWFuY2hvclwiXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQtYWxpZ25cIl0gPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IHJlcy5XIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlcy50ZXh0cGF0aC5zdHlsZVtcInYtdGV4dC1hbGlnblwiXSA9IFwicmlnaHRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IC1yZXMuVyAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVzLnRleHRwYXRoLnN0eWxlW1widi10ZXh0LWFsaWduXCJdID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQta2VyblwiXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzLnBhcGVyLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gRTtcbiAgICB9LFxuICAgIGFkZEdyYWRpZW50RmlsbCA9IGZ1bmN0aW9uIChvLCBncmFkaWVudCwgZmlsbCkge1xuICAgICAgICBvLmF0dHJzID0gby5hdHRycyB8fCB7fTtcbiAgICAgICAgdmFyIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgIG9pbmRleCxcbiAgICAgICAgICAgIHR5cGUgPSBcImxpbmVhclwiLFxuICAgICAgICAgICAgZnhmeSA9IFwiLjUgLjVcIjtcbiAgICAgICAgby5hdHRycy5ncmFkaWVudCA9IGdyYWRpZW50O1xuICAgICAgICBncmFkaWVudCA9IFN0cihncmFkaWVudCkucmVwbGFjZShSLl9yYWRpYWxfZ3JhZGllbnQsIGZ1bmN0aW9uIChhbGwsIGZ4LCBmeSkge1xuICAgICAgICAgICAgdHlwZSA9IFwicmFkaWFsXCI7XG4gICAgICAgICAgICBpZiAoZnggJiYgZnkpIHtcbiAgICAgICAgICAgICAgICBmeCA9IHRvRmxvYXQoZngpO1xuICAgICAgICAgICAgICAgIGZ5ID0gdG9GbG9hdChmeSk7XG4gICAgICAgICAgICAgICAgcG93KGZ4IC0gLjUsIDIpICsgcG93KGZ5IC0gLjUsIDIpID4gLjI1ICYmIChmeSA9IG1hdGguc3FydCguMjUgLSBwb3coZnggLSAuNSwgMikpICogKChmeSA+IC41KSAqIDIgLSAxKSArIC41KTtcbiAgICAgICAgICAgICAgICBmeGZ5ID0gZnggKyBTICsgZnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdyYWRpZW50ID0gZ3JhZGllbnQuc3BsaXQoL1xccypcXC1cXHMqLyk7XG4gICAgICAgIGlmICh0eXBlID09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICBhbmdsZSA9IC10b0Zsb2F0KGFuZ2xlKTtcbiAgICAgICAgICAgIGlmIChpc05hTihhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZG90cyA9IFIuX3BhcnNlRG90cyhncmFkaWVudCk7XG4gICAgICAgIGlmICghZG90cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbyA9IG8uc2hhcGUgfHwgby5ub2RlO1xuICAgICAgICBpZiAoZG90cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG8ucmVtb3ZlQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICBmaWxsLm9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbGwubWV0aG9kID0gXCJub25lXCI7XG4gICAgICAgICAgICBmaWxsLmNvbG9yID0gZG90c1swXS5jb2xvcjtcbiAgICAgICAgICAgIGZpbGwuY29sb3IyID0gZG90c1tkb3RzLmxlbmd0aCAtIDFdLmNvbG9yO1xuICAgICAgICAgICAgdmFyIGNscnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRvdHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvdHNbaV0ub2Zmc2V0ICYmIGNscnMucHVzaChkb3RzW2ldLm9mZnNldCArIFMgKyBkb3RzW2ldLmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGwuY29sb3JzID0gY2xycy5sZW5ndGggPyBjbHJzLmpvaW4oKSA6IFwiMCUgXCIgKyBmaWxsLmNvbG9yO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJyYWRpYWxcIikge1xuICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwiZ3JhZGllbnRUaXRsZVwiO1xuICAgICAgICAgICAgICAgIGZpbGwuZm9jdXMgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBmaWxsLmZvY3Vzc2l6ZSA9IFwiMCAwXCI7XG4gICAgICAgICAgICAgICAgZmlsbC5mb2N1c3Bvc2l0aW9uID0gZnhmeTtcbiAgICAgICAgICAgICAgICBmaWxsLmFuZ2xlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsbC5yb3RhdGU9IHRydWU7XG4gICAgICAgICAgICAgICAgZmlsbC50eXBlID0gXCJncmFkaWVudFwiO1xuICAgICAgICAgICAgICAgIGZpbGwuYW5nbGUgPSAoMjcwIC0gYW5nbGUpICUgMzYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgby5hcHBlbmRDaGlsZChmaWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgdm1sKSB7XG4gICAgICAgIHRoaXNbMF0gPSB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmlkID0gUi5fb2lkKys7XG4gICAgICAgIG5vZGUucmFwaGFlbGlkID0gdGhpcy5pZDtcbiAgICAgICAgdGhpcy5YID0gMDtcbiAgICAgICAgdGhpcy5ZID0gMDtcbiAgICAgICAgdGhpcy5hdHRycyA9IHt9O1xuICAgICAgICB0aGlzLnBhcGVyID0gdm1sO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMuXyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW10sXG4gICAgICAgICAgICBzeDogMSxcbiAgICAgICAgICAgIHN5OiAxLFxuICAgICAgICAgICAgZHg6IDAsXG4gICAgICAgICAgICBkeTogMCxcbiAgICAgICAgICAgIGRlZzogMCxcbiAgICAgICAgICAgIGRpcnR5OiAxLFxuICAgICAgICAgICAgZGlydHlUOiAxXG4gICAgICAgIH07XG4gICAgICAgICF2bWwuYm90dG9tICYmICh2bWwuYm90dG9tID0gdGhpcyk7XG4gICAgICAgIHRoaXMucHJldiA9IHZtbC50b3A7XG4gICAgICAgIHZtbC50b3AgJiYgKHZtbC50b3AubmV4dCA9IHRoaXMpO1xuICAgICAgICB2bWwudG9wID0gdGhpcztcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9O1xuICAgIHZhciBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIGlmICh0c3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8udHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YnMgPSB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQsXG4gICAgICAgICAgICB2YnQgPSB2YnMgPyBcInNcIiArIFt2YnMuc2NhbGUsIHZicy5zY2FsZV0gKyBcIi0xLTF0XCIgKyBbdmJzLmR4LCB2YnMuZHldIDogRSxcbiAgICAgICAgICAgIG9sZHQ7XG4gICAgICAgIGlmICh2YnMpIHtcbiAgICAgICAgICAgIG9sZHQgPSB0c3RyID0gU3RyKHRzdHIpLnJlcGxhY2UoL1xcLnszfXxcXHUyMDI2L2csIHRoaXMuXy50cmFuc2Zvcm0gfHwgRSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB2YnQgKyB0c3RyKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMubWF0cml4LmNsb25lKCksXG4gICAgICAgICAgICBza2V3ID0gdGhpcy5za2V3LFxuICAgICAgICAgICAgbyA9IHRoaXMubm9kZSxcbiAgICAgICAgICAgIHNwbGl0LFxuICAgICAgICAgICAgaXNHcmFkID0gflN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCItXCIpLFxuICAgICAgICAgICAgaXNQYXR0ID0gIVN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCJ1cmwoXCIpO1xuICAgICAgICBtYXRyaXgudHJhbnNsYXRlKDEsIDEpO1xuICAgICAgICBpZiAoaXNQYXR0IHx8IGlzR3JhZCB8fCB0aGlzLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFwiMSAwIDAgMVwiO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBcIjAgMFwiO1xuICAgICAgICAgICAgc3BsaXQgPSBtYXRyaXguc3BsaXQoKTtcbiAgICAgICAgICAgIGlmICgoaXNHcmFkICYmIHNwbGl0Lm5vUm90YXRpb24pIHx8ICFzcGxpdC5pc1NpbXBsZSkge1xuICAgICAgICAgICAgICAgIG8uc3R5bGUuZmlsdGVyID0gbWF0cml4LnRvRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIGJiID0gdGhpcy5nZXRCQm94KCksXG4gICAgICAgICAgICAgICAgICAgIGJidCA9IHRoaXMuZ2V0QkJveCgxKSxcbiAgICAgICAgICAgICAgICAgICAgZHggPSBiYi54IC0gYmJ0LngsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gYmIueSAtIGJidC55O1xuICAgICAgICAgICAgICAgIG8uY29vcmRvcmlnaW4gPSAoZHggKiAtem9vbSkgKyBTICsgKGR5ICogLXpvb20pO1xuICAgICAgICAgICAgICAgIHNldENvb3Jkcyh0aGlzLCAxLCAxLCBkeCwgZHksIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKHRoaXMsIHNwbGl0LnNjYWxleCwgc3BsaXQuc2NhbGV5LCBzcGxpdC5keCwgc3BsaXQuZHksIHNwbGl0LnJvdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFN0cihtYXRyaXgpO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBtYXRyaXgub2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZHQgIT09IG51bGwpIHsgLy8gZW1wdHkgc3RyaW5nIHZhbHVlIGlzIHRydWUgYXMgd2VsbFxuICAgICAgICAgICAgdGhpcy5fLnRyYW5zZm9ybSA9IG9sZHQ7XG4gICAgICAgICAgICBSLl9leHRyYWN0VHJhbnNmb3JtKHRoaXMsIG9sZHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by5yb3RhdGUgPSBmdW5jdGlvbiAoZGVnLCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gU3RyKGRlZykuc3BsaXQoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGRlZy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjeCA9IHRvRmxvYXQoZGVnWzFdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChkZWdbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZyA9IHRvRmxvYXQoZGVnWzBdKTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgICAgICBjeCA9IGJib3gueCArIGJib3gud2lkdGggLyAyO1xuICAgICAgICAgICAgY3kgPSBiYm94LnkgKyBiYm94LmhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fLmRpcnR5VCA9IDE7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbXCJyXCIsIGRlZywgY3gsIGN5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgaWYgKHRoaXMuXy5iYm94KSB7XG4gICAgICAgICAgICB0aGlzLl8uYmJveC54ICs9IGR4O1xuICAgICAgICAgICAgdGhpcy5fLmJib3gueSArPSBkeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1widFwiLCBkeCwgZHldXSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2NhbGUgPSBmdW5jdGlvbiAoc3gsIHN5LCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSBTdHIoc3gpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChzeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzeSA9IHRvRmxvYXQoc3hbMV0pO1xuICAgICAgICAgICAgY3ggPSB0b0Zsb2F0KHN4WzJdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChzeFszXSk7XG4gICAgICAgICAgICBpc05hTihjeCkgJiYgKGN4ID0gbnVsbCk7XG4gICAgICAgICAgICBpc05hTihjeSkgJiYgKGN5ID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSB0b0Zsb2F0KHN4WzBdKTtcbiAgICAgICAgKHN5ID09IG51bGwpICYmIChzeSA9IHN4KTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgIH1cbiAgICAgICAgY3ggPSBjeCA9PSBudWxsID8gYmJveC54ICsgYmJveC53aWR0aCAvIDIgOiBjeDtcbiAgICAgICAgY3kgPSBjeSA9PSBudWxsID8gYmJveC55ICsgYmJveC5oZWlnaHQgLyAyIDogY3k7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInNcIiwgc3gsIHN5LCBjeCwgY3ldXSkpO1xuICAgICAgICB0aGlzLl8uZGlydHlUID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIXRoaXMucmVtb3ZlZCAmJiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBFKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBOZWVkZWQgdG8gZml4IHRoZSB2bWwgc2V0Vmlld0JveCBpc3N1ZXNcbiAgICBlbHByb3RvLmF1eEdldEJCb3ggPSBSLmVsLmdldEJCb3g7XG4gICAgZWxwcm90by5nZXRCQm94ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBiID0gdGhpcy5hdXhHZXRCQm94KCk7XG4gICAgICBpZiAodGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQpXG4gICAgICB7XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIHZhciB6ID0gMS90aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQuc2NhbGU7XG4gICAgICAgIGMueCA9IGIueCAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keDtcbiAgICAgICAgYy54ICo9IHo7XG4gICAgICAgIGMueSA9IGIueSAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keTtcbiAgICAgICAgYy55ICo9IHo7XG4gICAgICAgIGMud2lkdGggID0gYi53aWR0aCAgKiB6O1xuICAgICAgICBjLmhlaWdodCA9IGIuaGVpZ2h0ICogejtcbiAgICAgICAgYy54MiA9IGMueCArIGMud2lkdGg7XG4gICAgICAgIGMueTIgPSBjLnkgKyBjLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgICByZXR1cm4gYjtcbiAgICB9O1xuICAgIGVscHJvdG8uX2dldEJCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5YICsgKHRoaXMuYmJ4IHx8IDApIC0gdGhpcy5XIC8gMixcbiAgICAgICAgICAgIHk6IHRoaXMuWSAtIHRoaXMuSCxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLlcsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuSFxuICAgICAgICB9O1xuICAgIH07XG4gICAgZWxwcm90by5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQgfHwgIXRoaXMubm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXBlci5fX3NldF9fICYmIHRoaXMucGFwZXIuX19zZXRfXy5leGNsdWRlKHRoaXMpO1xuICAgICAgICBSLmV2ZS51bmJpbmQoXCJyYXBoYWVsLiouKi5cIiArIHRoaXMuaWQpO1xuICAgICAgICBSLl90ZWFyKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLnNoYXBlICYmIHRoaXMuc2hhcGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoYXBlKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gZmlsbFN0cmluZyAmJiB0aGlzLmF0dHJzLmZpbGwgPT0gXCJub25lXCIgJiYgdGhpcy5hdHRycy5ncmFkaWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdChzZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSBpbiB0aGlzLmF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHRoaXMuYXR0cnNbbmFtZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChSLmlzKHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0uZGVmO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IFIuX2F2YWlsYWJsZUF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpaSAtIDEgPyBvdXQgOiBvdXRbbmFtZXNbMF1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJzICYmIHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0W25hbWVbaV1dID0gdGhpcy5hdHRyKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9PSBudWxsICYmIFIuaXMobmFtZSwgXCJvYmplY3RcIikgJiYgKHBhcmFtcyA9IG5hbWUpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXIgPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XS5hcHBseSh0aGlzLCBbXS5jb25jYXQocGFyYW1zW2tleV0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbc3Via2V5XSA9IHBhcltzdWJrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGlmIChwYXJhbXMudGV4dCAmJiB0aGlzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRwYXRoLnN0cmluZyA9IHBhcmFtcy50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICAgICAgLy8gdGhpcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgdGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by50b0JhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkICE9IHRoaXMubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSwgdGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICBSLl90b2JhY2sodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQuY29uc3RydWN0b3IgPT0gUi5zdC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbZWxlbWVudC5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLCBlbGVtZW50Lm5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBSLl9pbnNlcnRhZnRlcih0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LmNvbnN0cnVjdG9yID09IFIuc3QuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGUsIGVsZW1lbnQubm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgcyA9IHRoaXMubm9kZS5ydW50aW1lU3R5bGUsXG4gICAgICAgICAgICBmID0gcy5maWx0ZXI7XG4gICAgICAgIGYgPSBmLnJlcGxhY2UoYmx1cnJlZ2V4cCwgRSk7XG4gICAgICAgIGlmICgrc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIHMuZmlsdGVyID0gZiArIFMgKyBtcyArIFwiLkJsdXIocGl4ZWxyYWRpdXM9XCIgKyAoK3NpemUgfHwgMS41KSArIFwiKVwiO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSBSLmZvcm1hdChcIi17MH1weCAwIDAgLXswfXB4XCIsIHJvdW5kKCtzaXplIHx8IDEuNSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcy5maWx0ZXIgPSBmO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXR0cnMuYmx1cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgUi5fZW5naW5lLnBhdGggPSBmdW5jdGlvbiAocGF0aFN0cmluZywgdm1sKSB7XG4gICAgICAgIHZhciBlbCA9IGNyZWF0ZU5vZGUoXCJzaGFwZVwiKTtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IGNzc0RvdDtcbiAgICAgICAgZWwuY29vcmRzaXplID0gem9vbSArIFMgKyB6b29tO1xuICAgICAgICBlbC5jb29yZG9yaWdpbiA9IHZtbC5jb29yZG9yaWdpbjtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgdm1sKSxcbiAgICAgICAgICAgIGF0dHIgPSB7ZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICBwYXRoU3RyaW5nICYmIChhdHRyLnBhdGggPSBwYXRoU3RyaW5nKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHAucGF0aCA9IFtdO1xuICAgICAgICBwLlBhdGggPSBFO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHAsIGF0dHIpO1xuICAgICAgICB2bWwuY2FudmFzICYmIHZtbC5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgc2tldyA9IGNyZWF0ZU5vZGUoXCJza2V3XCIpO1xuICAgICAgICBza2V3Lm9uID0gdHJ1ZTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoc2tldyk7XG4gICAgICAgIHAuc2tldyA9IHNrZXc7XG4gICAgICAgIHAudHJhbnNmb3JtKEUpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5yZWN0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdywgaCwgcikge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgsIHIpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCksXG4gICAgICAgICAgICBhID0gcmVzLmF0dHJzO1xuICAgICAgICByZXMuWCA9IGEueCA9IHg7XG4gICAgICAgIHJlcy5ZID0gYS55ID0geTtcbiAgICAgICAgcmVzLlcgPSBhLndpZHRoID0gdztcbiAgICAgICAgcmVzLkggPSBhLmhlaWdodCA9IGg7XG4gICAgICAgIGEuciA9IHI7XG4gICAgICAgIGEucGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcy50eXBlID0gXCJyZWN0XCI7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuZWxsaXBzZSA9IGZ1bmN0aW9uICh2bWwsIHgsIHksIHJ4LCByeSkge1xuICAgICAgICB2YXIgcmVzID0gdm1sLnBhdGgoKSxcbiAgICAgICAgICAgIGEgPSByZXMuYXR0cnM7XG4gICAgICAgIHJlcy5YID0geCAtIHJ4O1xuICAgICAgICByZXMuWSA9IHkgLSByeTtcbiAgICAgICAgcmVzLlcgPSByeCAqIDI7XG4gICAgICAgIHJlcy5IID0gcnkgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiZWxsaXBzZVwiO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHJlcywge1xuICAgICAgICAgICAgY3g6IHgsXG4gICAgICAgICAgICBjeTogeSxcbiAgICAgICAgICAgIHJ4OiByeCxcbiAgICAgICAgICAgIHJ5OiByeVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAodm1sLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciByZXMgPSB2bWwucGF0aCgpLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycztcbiAgICAgICAgcmVzLlggPSB4IC0gcjtcbiAgICAgICAgcmVzLlkgPSB5IC0gcjtcbiAgICAgICAgcmVzLlcgPSByZXMuSCA9IHIgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCB7XG4gICAgICAgICAgICBjeDogeCxcbiAgICAgICAgICAgIGN5OiB5LFxuICAgICAgICAgICAgcjogclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5pbWFnZSA9IGZ1bmN0aW9uICh2bWwsIHNyYywgeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCkuYXR0cih7c3Ryb2tlOiBcIm5vbmVcIn0pLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSByZXMubm9kZSxcbiAgICAgICAgICAgIGZpbGwgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGZpbGxTdHJpbmcpWzBdO1xuICAgICAgICBhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzLlggPSBhLnggPSB4O1xuICAgICAgICByZXMuWSA9IGEueSA9IHk7XG4gICAgICAgIHJlcy5XID0gYS53aWR0aCA9IHc7XG4gICAgICAgIHJlcy5IID0gYS5oZWlnaHQgPSBoO1xuICAgICAgICBhLnBhdGggPSBwYXRoO1xuICAgICAgICByZXMudHlwZSA9IFwiaW1hZ2VcIjtcbiAgICAgICAgZmlsbC5wYXJlbnROb2RlID09IG5vZGUgJiYgbm9kZS5yZW1vdmVDaGlsZChmaWxsKTtcbiAgICAgICAgZmlsbC5yb3RhdGUgPSB0cnVlO1xuICAgICAgICBmaWxsLnNyYyA9IHNyYztcbiAgICAgICAgZmlsbC50eXBlID0gXCJ0aWxlXCI7XG4gICAgICAgIHJlcy5fLmZpbGxwb3MgPSBbeCwgeV07XG4gICAgICAgIHJlcy5fLmZpbGxzaXplID0gW3csIGhdO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICBzZXRDb29yZHMocmVzLCAxLCAxLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS50ZXh0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdGV4dCkge1xuICAgICAgICB2YXIgZWwgPSBjcmVhdGVOb2RlKFwic2hhcGVcIiksXG4gICAgICAgICAgICBwYXRoID0gY3JlYXRlTm9kZShcInBhdGhcIiksXG4gICAgICAgICAgICBvID0gY3JlYXRlTm9kZShcInRleHRwYXRoXCIpO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB0ZXh0ID0gdGV4dCB8fCBcIlwiO1xuICAgICAgICBwYXRoLnYgPSBSLmZvcm1hdChcIm17MH0sezF9bHsyfSx7MX1cIiwgcm91bmQoeCAqIHpvb20pLCByb3VuZCh5ICogem9vbSksIHJvdW5kKHggKiB6b29tKSArIDEpO1xuICAgICAgICBwYXRoLnRleHRwYXRob2sgPSB0cnVlO1xuICAgICAgICBvLnN0cmluZyA9IFN0cih0ZXh0KTtcbiAgICAgICAgby5vbiA9IHRydWU7XG4gICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSBjc3NEb3Q7XG4gICAgICAgIGVsLmNvb3Jkc2l6ZSA9IHpvb20gKyBTICsgem9vbTtcbiAgICAgICAgZWwuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICB2YXIgcCA9IG5ldyBFbGVtZW50KGVsLCB2bWwpLFxuICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiBcIiMwMDBcIixcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGZvbnQ6IFIuX2F2YWlsYWJsZUF0dHJzLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcC5zaGFwZSA9IGVsO1xuICAgICAgICBwLnBhdGggPSBwYXRoO1xuICAgICAgICBwLnRleHRwYXRoID0gbztcbiAgICAgICAgcC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHAuYXR0cnMudGV4dCA9IFN0cih0ZXh0KTtcbiAgICAgICAgcC5hdHRycy54ID0geDtcbiAgICAgICAgcC5hdHRycy55ID0geTtcbiAgICAgICAgcC5hdHRycy53ID0gMTtcbiAgICAgICAgcC5hdHRycy5oID0gMTtcbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZShwLCBhdHRyKTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobyk7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICB2bWwuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHNrZXcgPSBjcmVhdGVOb2RlKFwic2tld1wiKTtcbiAgICAgICAgc2tldy5vbiA9IHRydWU7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHNrZXcpO1xuICAgICAgICBwLnNrZXcgPSBza2V3O1xuICAgICAgICBwLnRyYW5zZm9ybShFKTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjcyA9IHRoaXMuY2FudmFzLnN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9PSArd2lkdGggJiYgKHdpZHRoICs9IFwicHhcIik7XG4gICAgICAgIGhlaWdodCA9PSAraGVpZ2h0ICYmIChoZWlnaHQgKz0gXCJweFwiKTtcbiAgICAgICAgY3Mud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3MuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjcy5jbGlwID0gXCJyZWN0KDAgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0ICsgXCIgMClcIjtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdCb3gpIHtcbiAgICAgICAgICAgIFIuX2VuZ2luZS5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFZpZXdCb3ggPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgZml0KSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgd2lkdGggPSBwYXBlclNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXBlclNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgSCwgVztcbiAgICAgICAgaWYgKGZpdCkge1xuICAgICAgICAgICAgSCA9IGhlaWdodCAvIGg7XG4gICAgICAgICAgICBXID0gd2lkdGggLyB3O1xuICAgICAgICAgICAgaWYgKHcgKiBIIDwgd2lkdGgpIHtcbiAgICAgICAgICAgICAgICB4IC09ICh3aWR0aCAtIHcgKiBIKSAvIDIgLyBIO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGggKiBXIDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgeSAtPSAoaGVpZ2h0IC0gaCAqIFcpIC8gMiAvIFc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHRoaXMuX3ZpZXdCb3hTaGlmdCA9IHtcbiAgICAgICAgICAgIGR4OiAteCxcbiAgICAgICAgICAgIGR5OiAteSxcbiAgICAgICAgICAgIHNjYWxlOiBwYXBlclNpemVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwudHJhbnNmb3JtKFwiLi4uXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICB2YXIgY3JlYXRlTm9kZTtcbiAgICBSLl9lbmdpbmUuaW5pdFdpbiA9IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gICAgICAgICAgICBpZiAoZG9jLnN0eWxlU2hlZXRzLmxlbmd0aCA8IDMxKSB7XG4gICAgICAgICAgICAgICAgZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKFwiLnJ2bWxcIiwgXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbW9yZSByb29tLCBhZGQgdG8gdGhlIGV4aXN0aW5nIG9uZVxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMTE5NCUyOFZTLjg1JTI5LmFzcHhcbiAgICAgICAgICAgICAgICBkb2Muc3R5bGVTaGVldHNbMF0uYWRkUnVsZShcIi5ydm1sXCIsIFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICFkb2MubmFtZXNwYWNlcy5ydm1sICYmIGRvYy5uYW1lc3BhY2VzLmFkZChcInJ2bWxcIiwgXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8cnZtbDonICsgdGFnTmFtZSArICcgY2xhc3M9XCJydm1sXCI+Jyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8JyArIHRhZ05hbWUgKyAnIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWxcIiBjbGFzcz1cInJ2bWxcIj4nKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIFIuX2VuZ2luZS5pbml0V2luKFIuX2cud2luKTtcbiAgICBSLl9lbmdpbmUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29uID0gUi5fZ2V0Q29udGFpbmVyLmFwcGx5KDAsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICBjb250YWluZXIgPSBjb24uY29udGFpbmVyLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uLmhlaWdodCxcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICB3aWR0aCA9IGNvbi53aWR0aCxcbiAgICAgICAgICAgIHggPSBjb24ueCxcbiAgICAgICAgICAgIHkgPSBjb24ueTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZNTCBjb250YWluZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzID0gbmV3IFIuX1BhcGVyLFxuICAgICAgICAgICAgYyA9IHJlcy5jYW52YXMgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgY3MgPSBjLnN0eWxlO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgcmVzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHJlcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHdpZHRoID09ICt3aWR0aCAmJiAod2lkdGggKz0gXCJweFwiKTtcbiAgICAgICAgaGVpZ2h0ID09ICtoZWlnaHQgJiYgKGhlaWdodCArPSBcInB4XCIpO1xuICAgICAgICByZXMuY29vcmRzaXplID0gem9vbSAqIDFlMyArIFMgKyB6b29tICogMWUzO1xuICAgICAgICByZXMuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICByZXMuc3BhbiA9IFIuX2cuZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICByZXMuc3Bhbi5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW07cGFkZGluZzowO21hcmdpbjowO2xpbmUtaGVpZ2h0OjE7XCI7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQocmVzLnNwYW4pO1xuICAgICAgICBjcy5jc3NUZXh0ID0gUi5mb3JtYXQoXCJ0b3A6MDtsZWZ0OjA7d2lkdGg6ezB9O2hlaWdodDp7MX07ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Y2xpcDpyZWN0KDAgezB9IHsxfSAwKTtvdmVyZmxvdzpoaWRkZW5cIiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChjb250YWluZXIgPT0gMSkge1xuICAgICAgICAgICAgUi5fZy5kb2MuYm9keS5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIGNzLmxlZnQgPSB4ICsgXCJweFwiO1xuICAgICAgICAgICAgY3MudG9wID0geSArIFwicHhcIjtcbiAgICAgICAgICAgIGNzLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXMucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUi5ldmUoXCJyYXBoYWVsLmNsZWFyXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5pbm5lckhUTUwgPSBFO1xuICAgICAgICB0aGlzLnNwYW4gPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5zcGFuLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbTtwYWRkaW5nOjA7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MTtkaXNwbGF5OmlubGluZTtcIjtcbiAgICAgICAgdGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5zcGFuKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCA9IG51bGw7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5yZW1vdmVcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./dev/raphael.vml.js\\n\");\n\n/***/ }),\n\n/***/ \"./node_modules/eve-raphael/eve.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/eve-raphael/eve.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\\n// \\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n// you may not use this file except in compliance with the License.\\n// You may obtain a copy of the License at\\n// \\n// http://www.apache.org/licenses/LICENSE-2.0\\n// \\n// Unless required by applicable law or agreed to in writing, software\\n// distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n// See the License for the specific language governing permissions and\\n// limitations under the License.\\n// ┌────────────────────────────────────────────────────────────┐ \\\\\\\\\\n// │ Eve 0.5.0 - JavaScript Events Library                      │ \\\\\\\\\\n// ├────────────────────────────────────────────────────────────┤ \\\\\\\\\\n// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\\\\\\\\\n// └────────────────────────────────────────────────────────────┘ \\\\\\\\\\n\\n(function (glob) {\\n    var version = \\\"0.5.0\\\",\\n        has = \\\"hasOwnProperty\\\",\\n        separator = /[\\\\.\\\\/]/,\\n        comaseparator = /\\\\s*,\\\\s*/,\\n        wildcard = \\\"*\\\",\\n        fun = function () {},\\n        numsort = function (a, b) {\\n            return a - b;\\n        },\\n        current_event,\\n        stop,\\n        events = {n: {}},\\n        firstDefined = function () {\\n            for (var i = 0, ii = this.length; i < ii; i++) {\\n                if (typeof this[i] != \\\"undefined\\\") {\\n                    return this[i];\\n                }\\n            }\\n        },\\n        lastDefined = function () {\\n            var i = this.length;\\n            while (--i) {\\n                if (typeof this[i] != \\\"undefined\\\") {\\n                    return this[i];\\n                }\\n            }\\n        },\\n        objtos = Object.prototype.toString,\\n        Str = String,\\n        isArray = Array.isArray || function (ar) {\\n            return ar instanceof Array || objtos.call(ar) == \\\"[object Array]\\\";\\n        };\\n    /*\\\\\\n     * eve\\n     [ method ]\\n\\n     * Fires event with given `name`, given scope and other parameters.\\n\\n     > Arguments\\n\\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\\n     - scope (object) context for the event handlers\\n     - varargs (...) the rest of arguments will be sent to event handlers\\n\\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\\n    \\\\*/\\n        var eve = function (name, scope) {\\n            var e = events,\\n                oldstop = stop,\\n                args = Array.prototype.slice.call(arguments, 2),\\n                listeners = eve.listeners(name),\\n                z = 0,\\n                f = false,\\n                l,\\n                indexed = [],\\n                queue = {},\\n                out = [],\\n                ce = current_event,\\n                errors = [];\\n            out.firstDefined = firstDefined;\\n            out.lastDefined = lastDefined;\\n            current_event = name;\\n            stop = 0;\\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\\\"zIndex\\\" in listeners[i]) {\\n                indexed.push(listeners[i].zIndex);\\n                if (listeners[i].zIndex < 0) {\\n                    queue[listeners[i].zIndex] = listeners[i];\\n                }\\n            }\\n            indexed.sort(numsort);\\n            while (indexed[z] < 0) {\\n                l = queue[indexed[z++]];\\n                out.push(l.apply(scope, args));\\n                if (stop) {\\n                    stop = oldstop;\\n                    return out;\\n                }\\n            }\\n            for (i = 0; i < ii; i++) {\\n                l = listeners[i];\\n                if (\\\"zIndex\\\" in l) {\\n                    if (l.zIndex == indexed[z]) {\\n                        out.push(l.apply(scope, args));\\n                        if (stop) {\\n                            break;\\n                        }\\n                        do {\\n                            z++;\\n                            l = queue[indexed[z]];\\n                            l && out.push(l.apply(scope, args));\\n                            if (stop) {\\n                                break;\\n                            }\\n                        } while (l)\\n                    } else {\\n                        queue[l.zIndex] = l;\\n                    }\\n                } else {\\n                    out.push(l.apply(scope, args));\\n                    if (stop) {\\n                        break;\\n                    }\\n                }\\n            }\\n            stop = oldstop;\\n            current_event = ce;\\n            return out;\\n        };\\n        // Undocumented. Debug only.\\n        eve._events = events;\\n    /*\\\\\\n     * eve.listeners\\n     [ method ]\\n\\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\\n\\n     > Arguments\\n\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\\n\\n     = (array) array of event handlers\\n    \\\\*/\\n    eve.listeners = function (name) {\\n        var names = isArray(name) ? name : name.split(separator),\\n            e = events,\\n            item,\\n            items,\\n            k,\\n            i,\\n            ii,\\n            j,\\n            jj,\\n            nes,\\n            es = [e],\\n            out = [];\\n        for (i = 0, ii = names.length; i < ii; i++) {\\n            nes = [];\\n            for (j = 0, jj = es.length; j < jj; j++) {\\n                e = es[j].n;\\n                items = [e[names[i]], e[wildcard]];\\n                k = 2;\\n                while (k--) {\\n                    item = items[k];\\n                    if (item) {\\n                        nes.push(item);\\n                        out = out.concat(item.f || []);\\n                    }\\n                }\\n            }\\n            es = nes;\\n        }\\n        return out;\\n    };\\n    /*\\\\\\n     * eve.separator\\n     [ method ]\\n\\n     * If for some reasons you don’t like default separators (`.` or `/`) you can specify yours\\n     * here. Be aware that if you pass a string longer than one character it will be treated as\\n     * a list of characters.\\n\\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\\n    \\\\*/\\n    eve.separator = function (sep) {\\n        if (sep) {\\n            sep = Str(sep).replace(/(?=[\\\\.\\\\^\\\\]\\\\[\\\\-])/g, \\\"\\\\\\\\\\\");\\n            sep = \\\"[\\\" + sep + \\\"]\\\";\\n            separator = new RegExp(sep);\\n        } else {\\n            separator = /[\\\\.\\\\/]/;\\n        }\\n    };\\n    /*\\\\\\n     * eve.on\\n     [ method ]\\n     **\\n     * Binds given event handler with a given name. You can use wildcards “`*`” for the names:\\n     | eve.on(\\\"*.under.*\\\", f);\\n     | eve(\\\"mouse.under.floor\\\"); // triggers f\\n     * Use @eve to trigger the listener.\\n     **\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\\n     - f (function) event handler function\\n     **\\n     - name (array) if you don’t want to use separators, you can use array of strings\\n     - f (function) event handler function\\n     **\\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \\n     > Example:\\n     | eve.on(\\\"mouse\\\", eatIt)(2);\\n     | eve.on(\\\"mouse\\\", scream);\\n     | eve.on(\\\"mouse\\\", catchIt)(1);\\n     * This will ensure that `catchIt` function will be called before `eatIt`.\\n     *\\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\\n     * Note: I assume most of the time you don’t need to worry about z-index, but it’s nice to have this feature “just in case”.\\n    \\\\*/\\n    eve.on = function (name, f) {\\n        if (typeof f != \\\"function\\\") {\\n            return function () {};\\n        }\\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\\n        for (var i = 0, ii = names.length; i < ii; i++) {\\n            (function (name) {\\n                var names = isArray(name) ? name : Str(name).split(separator),\\n                    e = events,\\n                    exist;\\n                for (var i = 0, ii = names.length; i < ii; i++) {\\n                    e = e.n;\\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\\n                }\\n                e.f = e.f || [];\\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\\n                    exist = true;\\n                    break;\\n                }\\n                !exist && e.f.push(f);\\n            }(names[i]));\\n        }\\n        return function (zIndex) {\\n            if (+zIndex == +zIndex) {\\n                f.zIndex = +zIndex;\\n            }\\n        };\\n    };\\n    /*\\\\\\n     * eve.f\\n     [ method ]\\n     **\\n     * Returns function that will fire given event with optional arguments.\\n     * Arguments that will be passed to the result function will be also\\n     * concated to the list of final arguments.\\n     | el.onclick = eve.f(\\\"click\\\", 1, 2);\\n     | eve.on(\\\"click\\\", function (a, b, c) {\\n     |     console.log(a, b, c); // 1, 2, [event object]\\n     | });\\n     > Arguments\\n     - event (string) event name\\n     - varargs (…) and any other arguments\\n     = (function) possible event handler function\\n    \\\\*/\\n    eve.f = function (event) {\\n        var attrs = [].slice.call(arguments, 1);\\n        return function () {\\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\\n        };\\n    };\\n    /*\\\\\\n     * eve.stop\\n     [ method ]\\n     **\\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\\n    \\\\*/\\n    eve.stop = function () {\\n        stop = 1;\\n    };\\n    /*\\\\\\n     * eve.nt\\n     [ method ]\\n     **\\n     * Could be used inside event handler to figure out actual name of the event.\\n     **\\n     > Arguments\\n     **\\n     - subname (string) #optional subname of the event\\n     **\\n     = (string) name of the event, if `subname` is not specified\\n     * or\\n     = (boolean) `true`, if current event’s name contains `subname`\\n    \\\\*/\\n    eve.nt = function (subname) {\\n        var cur = isArray(current_event) ? current_event.join(\\\".\\\") : current_event;\\n        if (subname) {\\n            return new RegExp(\\\"(?:\\\\\\\\.|\\\\\\\\/|^)\\\" + subname + \\\"(?:\\\\\\\\.|\\\\\\\\/|$)\\\").test(cur);\\n        }\\n        return cur;\\n    };\\n    /*\\\\\\n     * eve.nts\\n     [ method ]\\n     **\\n     * Could be used inside event handler to figure out actual name of the event.\\n     **\\n     **\\n     = (array) names of the event\\n    \\\\*/\\n    eve.nts = function () {\\n        return isArray(current_event) ? current_event : current_event.split(separator);\\n    };\\n    /*\\\\\\n     * eve.off\\n     [ method ]\\n     **\\n     * Removes given function from the list of event listeners assigned to given name.\\n     * If no arguments specified all the events will be cleared.\\n     **\\n     > Arguments\\n     **\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\\n     - f (function) event handler function\\n    \\\\*/\\n    /*\\\\\\n     * eve.unbind\\n     [ method ]\\n     **\\n     * See @eve.off\\n    \\\\*/\\n    eve.off = eve.unbind = function (name, f) {\\n        if (!name) {\\n            eve._events = events = {n: {}};\\n            return;\\n        }\\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\\n        if (names.length > 1) {\\n            for (var i = 0, ii = names.length; i < ii; i++) {\\n                eve.off(names[i], f);\\n            }\\n            return;\\n        }\\n        names = isArray(name) ? name : Str(name).split(separator);\\n        var e,\\n            key,\\n            splice,\\n            i, ii, j, jj,\\n            cur = [events];\\n        for (i = 0, ii = names.length; i < ii; i++) {\\n            for (j = 0; j < cur.length; j += splice.length - 2) {\\n                splice = [j, 1];\\n                e = cur[j].n;\\n                if (names[i] != wildcard) {\\n                    if (e[names[i]]) {\\n                        splice.push(e[names[i]]);\\n                    }\\n                } else {\\n                    for (key in e) if (e[has](key)) {\\n                        splice.push(e[key]);\\n                    }\\n                }\\n                cur.splice.apply(cur, splice);\\n            }\\n        }\\n        for (i = 0, ii = cur.length; i < ii; i++) {\\n            e = cur[i];\\n            while (e.n) {\\n                if (f) {\\n                    if (e.f) {\\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\\n                            e.f.splice(j, 1);\\n                            break;\\n                        }\\n                        !e.f.length && delete e.f;\\n                    }\\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\\n                        var funcs = e.n[key].f;\\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\\n                            funcs.splice(j, 1);\\n                            break;\\n                        }\\n                        !funcs.length && delete e.n[key].f;\\n                    }\\n                } else {\\n                    delete e.f;\\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\\n                        delete e.n[key].f;\\n                    }\\n                }\\n                e = e.n;\\n            }\\n        }\\n    };\\n    /*\\\\\\n     * eve.once\\n     [ method ]\\n     **\\n     * Binds given event handler with a given name to only run once then unbind itself.\\n     | eve.once(\\\"login\\\", f);\\n     | eve(\\\"login\\\"); // triggers f\\n     | eve(\\\"login\\\"); // no listeners\\n     * Use @eve to trigger the listener.\\n     **\\n     > Arguments\\n     **\\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\\n     - f (function) event handler function\\n     **\\n     = (function) same return function as @eve.on\\n    \\\\*/\\n    eve.once = function (name, f) {\\n        var f2 = function () {\\n            eve.off(name, f2);\\n            return f.apply(this, arguments);\\n        };\\n        return eve.on(name, f2);\\n    };\\n    /*\\\\\\n     * eve.version\\n     [ property (string) ]\\n     **\\n     * Current version of the library.\\n    \\\\*/\\n    eve.version = version;\\n    eve.toString = function () {\\n        return \\\"You are running Eve \\\" + version;\\n    };\\n    (typeof module != \\\"undefined\\\" && module.exports) ? (module.exports = eve) : ( true ? (!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() { return eve; }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))) : (undefined));\\n})(this);\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlLXJhcGhhZWwvZXZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL25vZGVfbW9kdWxlcy9ldmUtcmFwaGFlbC9ldmUuanM/ZDJiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTMgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vIFxuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLyBcbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgXFxcXFxuLy8g4pSCIEV2ZSAwLjUuMCAtIEphdmFTY3JpcHQgRXZlbnRzIExpYnJhcnkgICAgICAgICAgICAgICAgICAgICAg4pSCIFxcXFxcbi8vIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpCBcXFxcXG4vLyDilIIgQXV0aG9yIERtaXRyeSBCYXJhbm92c2tpeSAoaHR0cDovL2RtaXRyeS5iYXJhbm92c2tpeS5jb20vKSDilIIgXFxcXFxuLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYIFxcXFxcblxuKGZ1bmN0aW9uIChnbG9iKSB7XG4gICAgdmFyIHZlcnNpb24gPSBcIjAuNS4wXCIsXG4gICAgICAgIGhhcyA9IFwiaGFzT3duUHJvcGVydHlcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1tcXC5cXC9dLyxcbiAgICAgICAgY29tYXNlcGFyYXRvciA9IC9cXHMqLFxccyovLFxuICAgICAgICB3aWxkY2FyZCA9IFwiKlwiLFxuICAgICAgICBmdW4gPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgbnVtc29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRfZXZlbnQsXG4gICAgICAgIHN0b3AsXG4gICAgICAgIGV2ZW50cyA9IHtuOiB7fX0sXG4gICAgICAgIGZpcnN0RGVmaW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdERlZmluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKC0taSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2JqdG9zID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgU3RyID0gU3RyaW5nLFxuICAgICAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhciBpbnN0YW5jZW9mIEFycmF5IHx8IG9ianRvcy5jYWxsKGFyKSA9PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZVxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBGaXJlcyBldmVudCB3aXRoIGdpdmVuIGBuYW1lYCwgZ2l2ZW4gc2NvcGUgYW5kIG90aGVyIHBhcmFtZXRlcnMuXG5cbiAgICAgPiBBcmd1bWVudHNcblxuICAgICAtIG5hbWUgKHN0cmluZykgbmFtZSBvZiB0aGUgKmV2ZW50KiwgZG90IChgLmApIG9yIHNsYXNoIChgL2ApIHNlcGFyYXRlZFxuICAgICAtIHNjb3BlIChvYmplY3QpIGNvbnRleHQgZm9yIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAtIHZhcmFyZ3MgKC4uLikgdGhlIHJlc3Qgb2YgYXJndW1lbnRzIHdpbGwgYmUgc2VudCB0byBldmVudCBoYW5kbGVyc1xuXG4gICAgID0gKG9iamVjdCkgYXJyYXkgb2YgcmV0dXJuZWQgdmFsdWVzIGZyb20gdGhlIGxpc3RlbmVycy4gQXJyYXkgaGFzIHR3byBtZXRob2RzIGAuZmlyc3REZWZpbmVkKClgIGFuZCBgLmxhc3REZWZpbmVkKClgIHRvIGdldCBmaXJzdCBvciBsYXN0IG5vdCBgdW5kZWZpbmVkYCB2YWx1ZS5cbiAgICBcXCovXG4gICAgICAgIHZhciBldmUgPSBmdW5jdGlvbiAobmFtZSwgc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBlID0gZXZlbnRzLFxuICAgICAgICAgICAgICAgIG9sZHN0b3AgPSBzdG9wLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGV2ZS5saXN0ZW5lcnMobmFtZSksXG4gICAgICAgICAgICAgICAgeiA9IDAsXG4gICAgICAgICAgICAgICAgZiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAgICAgaW5kZXhlZCA9IFtdLFxuICAgICAgICAgICAgICAgIHF1ZXVlID0ge30sXG4gICAgICAgICAgICAgICAgb3V0ID0gW10sXG4gICAgICAgICAgICAgICAgY2UgPSBjdXJyZW50X2V2ZW50LFxuICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgb3V0LmZpcnN0RGVmaW5lZCA9IGZpcnN0RGVmaW5lZDtcbiAgICAgICAgICAgIG91dC5sYXN0RGVmaW5lZCA9IGxhc3REZWZpbmVkO1xuICAgICAgICAgICAgY3VycmVudF9ldmVudCA9IG5hbWU7XG4gICAgICAgICAgICBzdG9wID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoXCJ6SW5kZXhcIiBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkLnB1c2gobGlzdGVuZXJzW2ldLnpJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS56SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2xpc3RlbmVyc1tpXS56SW5kZXhdID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ZWQuc29ydChudW1zb3J0KTtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleGVkW3pdIDwgMCkge1xuICAgICAgICAgICAgICAgIGwgPSBxdWV1ZVtpbmRleGVkW3orK11dO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGwuYXBwbHkoc2NvcGUsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGwgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKFwiekluZGV4XCIgaW4gbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobC56SW5kZXggPT0gaW5kZXhlZFt6XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHF1ZXVlW2luZGV4ZWRbel1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGwpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVtsLnpJbmRleF0gPSBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgIGN1cnJlbnRfZXZlbnQgPSBjZTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFVuZG9jdW1lbnRlZC4gRGVidWcgb25seS5cbiAgICAgICAgZXZlLl9ldmVudHMgPSBldmVudHM7XG4gICAgLypcXFxuICAgICAqIGV2ZS5saXN0ZW5lcnNcbiAgICAgWyBtZXRob2QgXVxuXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHdoaWNoIGdpdmVzIHlvdSBhcnJheSBvZiBhbGwgZXZlbnQgaGFuZGxlcnMgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCBieSB0aGUgZ2l2ZW4gYG5hbWVgLlxuXG4gICAgID4gQXJndW1lbnRzXG5cbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkXG5cbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIGV2ZW50IGhhbmRsZXJzXG4gICAgXFwqL1xuICAgIGV2ZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgIGUgPSBldmVudHMsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGpqLFxuICAgICAgICAgICAgbmVzLFxuICAgICAgICAgICAgZXMgPSBbZV0sXG4gICAgICAgICAgICBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBuZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgIGUgPSBlc1tqXS5uO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gW2VbbmFtZXNbaV1dLCBlW3dpbGRjYXJkXV07XG4gICAgICAgICAgICAgICAgayA9IDI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGstLSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNba107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCA9IG91dC5jb25jYXQoaXRlbS5mIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVzID0gbmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLnNlcGFyYXRvclxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBJZiBmb3Igc29tZSByZWFzb25zIHlvdSBkb27igJl0IGxpa2UgZGVmYXVsdCBzZXBhcmF0b3JzIChgLmAgb3IgYC9gKSB5b3UgY2FuIHNwZWNpZnkgeW91cnNcbiAgICAgKiBoZXJlLiBCZSBhd2FyZSB0aGF0IGlmIHlvdSBwYXNzIGEgc3RyaW5nIGxvbmdlciB0aGFuIG9uZSBjaGFyYWN0ZXIgaXQgd2lsbCBiZSB0cmVhdGVkIGFzXG4gICAgICogYSBsaXN0IG9mIGNoYXJhY3RlcnMuXG5cbiAgICAgLSBzZXBhcmF0b3IgKHN0cmluZykgbmV3IHNlcGFyYXRvci4gRW1wdHkgc3RyaW5nIHJlc2V0cyB0byBkZWZhdWx0OiBgLmAgb3IgYC9gLlxuICAgIFxcKi9cbiAgICBldmUuc2VwYXJhdG9yID0gZnVuY3Rpb24gKHNlcCkge1xuICAgICAgICBpZiAoc2VwKSB7XG4gICAgICAgICAgICBzZXAgPSBTdHIoc2VwKS5yZXBsYWNlKC8oPz1bXFwuXFxeXFxdXFxbXFwtXSkvZywgXCJcXFxcXCIpO1xuICAgICAgICAgICAgc2VwID0gXCJbXCIgKyBzZXAgKyBcIl1cIjtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IG5ldyBSZWdFeHAoc2VwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IC9bXFwuXFwvXS87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUub25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUuIFlvdSBjYW4gdXNlIHdpbGRjYXJkcyDigJxgKmDigJ0gZm9yIHRoZSBuYW1lczpcbiAgICAgfCBldmUub24oXCIqLnVuZGVyLipcIiwgZik7XG4gICAgIHwgZXZlKFwibW91c2UudW5kZXIuZmxvb3JcIik7IC8vIHRyaWdnZXJzIGZcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgIC0gbmFtZSAoYXJyYXkpIGlmIHlvdSBkb27igJl0IHdhbnQgdG8gdXNlIHNlcGFyYXRvcnMsIHlvdSBjYW4gdXNlIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgLSBmIChmdW5jdGlvbikgZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgICAqKlxuICAgICA9IChmdW5jdGlvbikgcmV0dXJuZWQgZnVuY3Rpb24gYWNjZXB0cyBhIHNpbmdsZSBudW1lcmljIHBhcmFtZXRlciB0aGF0IHJlcHJlc2VudHMgei1pbmRleCBvZiB0aGUgaGFuZGxlci4gSXQgaXMgYW4gb3B0aW9uYWwgZmVhdHVyZSBhbmQgb25seSB1c2VkIHdoZW4geW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgc29tZSBzdWJzZXQgb2YgaGFuZGxlcnMgd2lsbCBiZSBpbnZva2VkIGluIGEgZ2l2ZW4gb3JkZXIsIGRlc3BpdGUgb2YgdGhlIG9yZGVyIG9mIGFzc2lnbm1lbnQuIFxuICAgICA+IEV4YW1wbGU6XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgZWF0SXQpKDIpO1xuICAgICB8IGV2ZS5vbihcIm1vdXNlXCIsIHNjcmVhbSk7XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgY2F0Y2hJdCkoMSk7XG4gICAgICogVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGBjYXRjaEl0YCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgYGVhdEl0YC5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHB1dCB5b3VyIGhhbmRsZXIgYmVmb3JlIG5vbi1pbmRleGVkIGhhbmRsZXJzLCBzcGVjaWZ5IGEgbmVnYXRpdmUgdmFsdWUuXG4gICAgICogTm90ZTogSSBhc3N1bWUgbW9zdCBvZiB0aGUgdGltZSB5b3UgZG9u4oCZdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHotaW5kZXgsIGJ1dCBpdOKAmXMgbmljZSB0byBoYXZlIHRoaXMgZmVhdHVyZSDigJxqdXN0IGluIGNhc2XigJ0uXG4gICAgXFwqL1xuICAgIGV2ZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZiAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBTdHIobmFtZSkuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgZSA9IGV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZXhpc3Q7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5oYXNPd25Qcm9wZXJ0eShuYW1lc1tpXSkgJiYgZVtuYW1lc1tpXV0gfHwgKGVbbmFtZXNbaV1dID0ge246IHt9fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuZiA9IGUuZiB8fCBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGUuZi5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoZS5mW2ldID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIWV4aXN0ICYmIGUuZi5wdXNoKGYpO1xuICAgICAgICAgICAgfShuYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgICAgICBpZiAoK3pJbmRleCA9PSArekluZGV4KSB7XG4gICAgICAgICAgICAgICAgZi56SW5kZXggPSArekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5mXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGZ1bmN0aW9uIHRoYXQgd2lsbCBmaXJlIGdpdmVuIGV2ZW50IHdpdGggb3B0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEFyZ3VtZW50cyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSByZXN1bHQgZnVuY3Rpb24gd2lsbCBiZSBhbHNvXG4gICAgICogY29uY2F0ZWQgdG8gdGhlIGxpc3Qgb2YgZmluYWwgYXJndW1lbnRzLlxuICAgICB8IGVsLm9uY2xpY2sgPSBldmUuZihcImNsaWNrXCIsIDEsIDIpO1xuICAgICB8IGV2ZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgIHwgICAgIGNvbnNvbGUubG9nKGEsIGIsIGMpOyAvLyAxLCAyLCBbZXZlbnQgb2JqZWN0XVxuICAgICB8IH0pO1xuICAgICA+IEFyZ3VtZW50c1xuICAgICAtIGV2ZW50IChzdHJpbmcpIGV2ZW50IG5hbWVcbiAgICAgLSB2YXJhcmdzICjigKYpIGFuZCBhbnkgb3RoZXIgYXJndW1lbnRzXG4gICAgID0gKGZ1bmN0aW9uKSBwb3NzaWJsZSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIGV2ZS5mID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBhdHRycyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGV2ZS5hcHBseShudWxsLCBbZXZlbnQsIG51bGxdLmNvbmNhdChhdHRycykuY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5zdG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJcyB1c2VkIGluc2lkZSBhbiBldmVudCBoYW5kbGVyIHRvIHN0b3AgdGhlIGV2ZW50LCBwcmV2ZW50aW5nIGFueSBzdWJzZXF1ZW50IGxpc3RlbmVycyBmcm9tIGZpcmluZy5cbiAgICBcXCovXG4gICAgZXZlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3AgPSAxO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ291bGQgYmUgdXNlZCBpbnNpZGUgZXZlbnQgaGFuZGxlciB0byBmaWd1cmUgb3V0IGFjdHVhbCBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBzdWJuYW1lIChzdHJpbmcpICNvcHRpb25hbCBzdWJuYW1lIG9mIHRoZSBldmVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBpZiBgc3VibmFtZWAgaXMgbm90IHNwZWNpZmllZFxuICAgICAqIG9yXG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCwgaWYgY3VycmVudCBldmVudOKAmXMgbmFtZSBjb250YWlucyBgc3VibmFtZWBcbiAgICBcXCovXG4gICAgZXZlLm50ID0gZnVuY3Rpb24gKHN1Ym5hbWUpIHtcbiAgICAgICAgdmFyIGN1ciA9IGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50LmpvaW4oXCIuXCIpIDogY3VycmVudF9ldmVudDtcbiAgICAgICAgaWYgKHN1Ym5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKD86XFxcXC58XFxcXC98XilcIiArIHN1Ym5hbWUgKyBcIig/OlxcXFwufFxcXFwvfCQpXCIpLnRlc3QoY3VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udHNcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvdWxkIGJlIHVzZWQgaW5zaWRlIGV2ZW50IGhhbmRsZXIgdG8gZmlndXJlIG91dCBhY3R1YWwgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICoqXG4gICAgICoqXG4gICAgID0gKGFycmF5KSBuYW1lcyBvZiB0aGUgZXZlbnRcbiAgICBcXCovXG4gICAgZXZlLm50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50IDogY3VycmVudF9ldmVudC5zcGxpdChzZXBhcmF0b3IpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5vZmZcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gZnVuY3Rpb24gZnJvbSB0aGUgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzaWduZWQgdG8gZ2l2ZW4gbmFtZS5cbiAgICAgKiBJZiBubyBhcmd1bWVudHMgc3BlY2lmaWVkIGFsbCB0aGUgZXZlbnRzIHdpbGwgYmUgY2xlYXJlZC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBldmUudW5iaW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZWUgQGV2ZS5vZmZcbiAgICBcXCovXG4gICAgZXZlLm9mZiA9IGV2ZS51bmJpbmQgPSBmdW5jdGlvbiAobmFtZSwgZikge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIGV2ZS5fZXZlbnRzID0gZXZlbnRzID0ge246IHt9fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBldmUub2ZmKG5hbWVzW2ldLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogU3RyKG5hbWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc3BsaWNlLFxuICAgICAgICAgICAgaSwgaWksIGosIGpqLFxuICAgICAgICAgICAgY3VyID0gW2V2ZW50c107XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1ci5sZW5ndGg7IGogKz0gc3BsaWNlLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpY2UgPSBbaiwgMV07XG4gICAgICAgICAgICAgICAgZSA9IGN1cltqXS5uO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lc1tpXSAhPSB3aWxkY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZVtuYW1lc1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGljZS5wdXNoKGVbbmFtZXNbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUpIGlmIChlW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlLnB1c2goZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXIuc3BsaWNlLmFwcGx5KGN1ciwgc3BsaWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGN1ci5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBlID0gY3VyW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGUubikge1xuICAgICAgICAgICAgICAgIGlmIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZS5mLmxlbmd0aDsgaiA8IGpqOyBqKyspIGlmIChlLmZbal0gPT0gZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZi5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZS5mLmxlbmd0aCAmJiBkZWxldGUgZS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUubikgaWYgKGUubltoYXNdKGtleSkgJiYgZS5uW2tleV0uZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmNzID0gZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZnVuY3MubGVuZ3RoOyBqIDwgamo7IGorKykgaWYgKGZ1bmNzW2pdID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZnVuY3MubGVuZ3RoICYmIGRlbGV0ZSBlLm5ba2V5XS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gZS5uKSBpZiAoZS5uW2hhc10oa2V5KSAmJiBlLm5ba2V5XS5mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLm9uY2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUgdG8gb25seSBydW4gb25jZSB0aGVuIHVuYmluZCBpdHNlbGYuXG4gICAgIHwgZXZlLm9uY2UoXCJsb2dpblwiLCBmKTtcbiAgICAgfCBldmUoXCJsb2dpblwiKTsgLy8gdHJpZ2dlcnMgZlxuICAgICB8IGV2ZShcImxvZ2luXCIpOyAvLyBubyBsaXN0ZW5lcnNcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgID0gKGZ1bmN0aW9uKSBzYW1lIHJldHVybiBmdW5jdGlvbiBhcyBAZXZlLm9uXG4gICAgXFwqL1xuICAgIGV2ZS5vbmNlID0gZnVuY3Rpb24gKG5hbWUsIGYpIHtcbiAgICAgICAgdmFyIGYyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZXZlLm9mZihuYW1lLCBmMik7XG4gICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXZlLm9uKG5hbWUsIGYyKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUudmVyc2lvblxuICAgICBbIHByb3BlcnR5IChzdHJpbmcpIF1cbiAgICAgKipcbiAgICAgKiBDdXJyZW50IHZlcnNpb24gb2YgdGhlIGxpYnJhcnkuXG4gICAgXFwqL1xuICAgIGV2ZS52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBldmUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIllvdSBhcmUgcnVubmluZyBFdmUgXCIgKyB2ZXJzaW9uO1xuICAgIH07XG4gICAgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykgPyAobW9kdWxlLmV4cG9ydHMgPSBldmUpIDogKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kID8gKGRlZmluZShcImV2ZVwiLCBbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBldmU7IH0pKSA6IChnbG9iLmV2ZSA9IGV2ZSkpO1xufSkodGhpcyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./node_modules/eve-raphael/eve.js\\n\");\n\n/***/ })\n\n/******/ });\n});","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAb9JREFUWAntVc1KAzEQnkl3qRW8CK0IPoFnT76BL+KpiviDiLZsq3grCO2pr9CDR99k74LoVVDaumwbJ4srIbVsshvFagqhM935pl++TL4FcB+ngFNgsRXAPPT3T8+3JzFcIcJaHvwczD1y/7jbCUL5uScnOjHnHOsnjVsAXuNcB6FdswkQ16h6S0YwOdGJW61WmWRf1ak1rkFYVzHGBIMgGFOTNi2r+iFiTD2bKsFcMyia7J1dVyGKqmrDvHlpBR5vguA5L97hFlaBzBmsH140gEGT7MXYkkxUIU8dAWcHvc5lX8Zl3+IfICcIkadWAKddmZyIswmqiG/MiWRJbZ9NcArtD49SsbZzDshmFMycwZSFeMUNBgMWhqHAiI19ruGwQnvgTKwXWkvlCPEVKAc2ouX7nhgxhmNgb4jM97ykR0TPKGDeJEZY9p6cD6Zq/6tv7Rmcp0r9qLlD9tCnGd2YV6PzOw3xA/ngbq/TvpPrs2+xXP1VbIGcaJtskHqpf1GcoNrRcl6cIB1LcjwFiaVHXLCNgzsFrCsw44O2fM2UaXpJsn3Qkq+ZEvxDPmjJ10wVTI/YFOfqnQJOgd+uwDs2Z4QLPmiOtwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAVVJREFUWAljYBgFoyEwGgJDOwQYkZ2fU9Zg8v/v39UMDH9lGRgYmZHlaM/+/5eBgfkxIzNz6JSuhjMw++AOBDmO4e+fk/8Z/jPBJAeCZmRg/MfAzGIOcyTcMaCQG2jHgQIE5AZILEKCB+5ASLQORJhhsxOUxCAAyYH0TnMwJ2CjEW5BciA2hQMvNupASuOABZcBU3tb4UUQLjXI4tnF1f+R+ZTqh5k1GsWwkCCXHg1BckMOpm/QhyA8p6LnQpgPBoqGlQKDPgRHHUhpEhmtSSgNwdE0OBqClIYApfrhNUlSZsEfTi5uOveFsTv/+7evf+dNnwAuYeCZ5N3bt4+xK6e/KLJb4A58/epF6K+fP//R3zmoNoLcAHILTBQepY8f3HsGjOJtf//+dWNlZeFlZWWDOx6mmJY0KFpfvXjx6OH9u25HD+yGD33Q0s5Rs0dDYDQE6BECAMwrajtsNqmuAAAAAElFTkSuQmCC\""],"sourceRoot":""}